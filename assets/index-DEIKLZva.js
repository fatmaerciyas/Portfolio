function oEe(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function aEe(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function jS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jle={exports:{}},$L={},Wle={exports:{}},Fn={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var JT=Symbol.for("react.element"),lEe=Symbol.for("react.portal"),cEe=Symbol.for("react.fragment"),uEe=Symbol.for("react.strict_mode"),fEe=Symbol.for("react.profiler"),dEe=Symbol.for("react.provider"),hEe=Symbol.for("react.context"),pEe=Symbol.for("react.forward_ref"),mEe=Symbol.for("react.suspense"),gEe=Symbol.for("react.memo"),vEe=Symbol.for("react.lazy"),jJ=Symbol.iterator;function yEe(n){return n===null||typeof n!="object"?null:(n=jJ&&n[jJ]||n["@@iterator"],typeof n=="function"?n:null)}var $le={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xle=Object.assign,Jle={};function WS(n,e,t){this.props=n,this.context=e,this.refs=Jle,this.updater=t||$le}WS.prototype.isReactComponent={};WS.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};WS.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Yle(){}Yle.prototype=WS.prototype;function IV(n,e,t){this.props=n,this.context=e,this.refs=Jle,this.updater=t||$le}var LV=IV.prototype=new Yle;LV.constructor=IV;Xle(LV,WS.prototype);LV.isPureReactComponent=!0;var WJ=Array.isArray,Kle=Object.prototype.hasOwnProperty,OV={current:null},qle={key:!0,ref:!0,__self:!0,__source:!0};function Qle(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Kle.call(e,r)&&!qle.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:JT,type:n,key:s,ref:o,props:i,_owner:OV.current}}function xEe(n,e){return{$$typeof:JT,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function FV(n){return typeof n=="object"&&n!==null&&n.$$typeof===JT}function _Ee(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var $J=/\/+/g;function x4(n,e){return typeof n=="object"&&n!==null&&n.key!=null?_Ee(""+n.key):e.toString(36)}function ED(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case JT:case lEe:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+x4(o,0):r,WJ(i)?(t="",n!=null&&(t=n.replace($J,"$&/")+"/"),ED(i,e,t,"",function(c){return c})):i!=null&&(FV(i)&&(i=xEe(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($J,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",WJ(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+x4(s,a);o+=ED(s,e,t,l,i)}else if(l=yEe(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+x4(s,a++),o+=ED(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function AR(n,e,t){if(n==null)return n;var r=[],i=0;return ED(n,r,"","",function(s){return e.call(t,s,i++)}),r}function bEe(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Xa={current:null},CD={transition:null},wEe={ReactCurrentDispatcher:Xa,ReactCurrentBatchConfig:CD,ReactCurrentOwner:OV};function Zle(){throw Error("act(...) is not supported in production builds of React.")}Fn.Children={map:AR,forEach:function(n,e,t){AR(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return AR(n,function(){e++}),e},toArray:function(n){return AR(n,function(e){return e})||[]},only:function(n){if(!FV(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Fn.Component=WS;Fn.Fragment=cEe;Fn.Profiler=fEe;Fn.PureComponent=IV;Fn.StrictMode=uEe;Fn.Suspense=mEe;Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wEe;Fn.act=Zle;Fn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Xle({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=OV.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)Kle.call(e,l)&&!qle.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:JT,type:n.type,key:i,ref:s,props:r,_owner:o}};Fn.createContext=function(n){return n={$$typeof:hEe,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:dEe,_context:n},n.Consumer=n};Fn.createElement=Qle;Fn.createFactory=function(n){var e=Qle.bind(null,n);return e.type=n,e};Fn.createRef=function(){return{current:null}};Fn.forwardRef=function(n){return{$$typeof:pEe,render:n}};Fn.isValidElement=FV;Fn.lazy=function(n){return{$$typeof:vEe,_payload:{_status:-1,_result:n},_init:bEe}};Fn.memo=function(n,e){return{$$typeof:gEe,type:n,compare:e===void 0?null:e}};Fn.startTransition=function(n){var e=CD.transition;CD.transition={};try{n()}finally{CD.transition=e}};Fn.unstable_act=Zle;Fn.useCallback=function(n,e){return Xa.current.useCallback(n,e)};Fn.useContext=function(n){return Xa.current.useContext(n)};Fn.useDebugValue=function(){};Fn.useDeferredValue=function(n){return Xa.current.useDeferredValue(n)};Fn.useEffect=function(n,e){return Xa.current.useEffect(n,e)};Fn.useId=function(){return Xa.current.useId()};Fn.useImperativeHandle=function(n,e,t){return Xa.current.useImperativeHandle(n,e,t)};Fn.useInsertionEffect=function(n,e){return Xa.current.useInsertionEffect(n,e)};Fn.useLayoutEffect=function(n,e){return Xa.current.useLayoutEffect(n,e)};Fn.useMemo=function(n,e){return Xa.current.useMemo(n,e)};Fn.useReducer=function(n,e,t){return Xa.current.useReducer(n,e,t)};Fn.useRef=function(n){return Xa.current.useRef(n)};Fn.useState=function(n){return Xa.current.useState(n)};Fn.useSyncExternalStore=function(n,e,t){return Xa.current.useSyncExternalStore(n,e,t)};Fn.useTransition=function(){return Xa.current.useTransition()};Fn.version="18.3.1";Wle.exports=Fn;var J=Wle.exports;const Be=jS(J),SEe=aEe({__proto__:null,default:Be},[J]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var AEe=J,MEe=Symbol.for("react.element"),EEe=Symbol.for("react.fragment"),CEe=Object.prototype.hasOwnProperty,TEe=AEe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,REe={key:!0,ref:!0,__self:!0,__source:!0};function ece(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CEe.call(e,r)&&!REe.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MEe,type:n,key:s,ref:o,props:i,_owner:TEe.current}}$L.Fragment=EEe;$L.jsx=ece;$L.jsxs=ece;jle.exports=$L;var Fe=jle.exports,Zz={},tce={exports:{}},Cc={},nce={exports:{}},rce={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(n){function e(L,I){var O=L.length;L.push(I);e:for(;0<O;){var F=O-1>>>1,j=L[F];if(0<i(j,I))L[F]=I,L[O]=j,O=F;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var I=L[0],O=L.pop();if(O!==I){L[0]=O;e:for(var F=0,j=L.length,te=j>>>1;F<te;){var re=2*(F+1)-1,se=L[re],K=re+1,le=L[K];if(0>i(se,O))K<j&&0>i(le,se)?(L[F]=le,L[K]=O,F=K):(L[F]=se,L[re]=O,F=re);else if(K<j&&0>i(le,O))L[F]=le,L[K]=O,F=K;else break e}}return I}function i(L,I){var O=L.sortIndex-I.sortIndex;return O!==0?O:L.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var I=t(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=L)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=t(c)}}function w(L){if(g=!1,b(L),!m)if(t(l)!==null)m=!0,X(M);else{var I=t(c);I!==null&&q(w,I.startTime-L)}}function M(L,I){m=!1,g&&(g=!1,x(E),E=-1),p=!0;var O=d;try{for(b(I),f=t(l);f!==null&&(!(f.expirationTime>I)||L&&!N());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var j=F(f.expirationTime<=I);I=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&r(l),b(I)}else r(l);f=t(l)}if(f!==null)var te=!0;else{var re=t(c);re!==null&&q(w,re.startTime-I),te=!1}return te}finally{f=null,d=O,p=!1}}var C=!1,R=null,E=-1,B=5,D=-1;function N(){return!(n.unstable_now()-D<B)}function z(){if(R!==null){var L=n.unstable_now();D=L;var I=!0;try{I=R(!0,L)}finally{I?H():(C=!1,R=null)}}else C=!1}var H;if(typeof _=="function")H=function(){_(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=z,H=function(){W.postMessage(null)}}else H=function(){y(z,0)};function X(L){R=L,C||(C=!0,H())}function q(L,I){E=y(function(){L(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,X(M))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var O=d;d=I;try{return L()}finally{d=O}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,I){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var O=d;d=L;try{return I()}finally{d=O}},n.unstable_scheduleCallback=function(L,I,O){var F=n.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?F+O:F):O=F,L){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=O+j,L={id:u++,callback:I,priorityLevel:L,startTime:O,expirationTime:j,sortIndex:-1},O>F?(L.sortIndex=O,e(c,L),t(l)===null&&L===t(c)&&(g?(x(E),E=-1):g=!0,q(w,O-F))):(L.sortIndex=j,e(l,L),m||p||(m=!0,X(M))),L},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(L){var I=d;return function(){var O=d;d=I;try{return L.apply(this,arguments)}finally{d=O}}}})(rce);nce.exports=rce;var PEe=nce.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var BEe=J,bc=PEe;function ct(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ice=new Set,lC={};function dx(n,e){Xw(n,e),Xw(n+"Capture",e)}function Xw(n,e){for(lC[n]=e,n=0;n<e.length;n++)ice.add(e[n])}var Fp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e6=Object.prototype.hasOwnProperty,DEe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XJ={},JJ={};function kEe(n){return e6.call(JJ,n)?!0:e6.call(XJ,n)?!1:DEe.test(n)?JJ[n]=!0:(XJ[n]=!0,!1)}function IEe(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function LEe(n,e,t,r){if(e===null||typeof e>"u"||IEe(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ja(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Go={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Go[n]=new Ja(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Go[e]=new Ja(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Go[n]=new Ja(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Go[n]=new Ja(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Go[n]=new Ja(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Go[n]=new Ja(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Go[n]=new Ja(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Go[n]=new Ja(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Go[n]=new Ja(n,5,!1,n.toLowerCase(),null,!1,!1)});var NV=/[\-:]([a-z])/g;function UV(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(NV,UV);Go[e]=new Ja(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(NV,UV);Go[e]=new Ja(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(NV,UV);Go[e]=new Ja(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Go[n]=new Ja(n,1,!1,n.toLowerCase(),null,!1,!1)});Go.xlinkHref=new Ja("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Go[n]=new Ja(n,1,!1,n.toLowerCase(),null,!0,!0)});function zV(n,e,t,r){var i=Go.hasOwnProperty(e)?Go[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LEe(e,t,i,r)&&(t=null),r||i===null?kEe(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var am=BEe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,MR=Symbol.for("react.element"),Mb=Symbol.for("react.portal"),Eb=Symbol.for("react.fragment"),GV=Symbol.for("react.strict_mode"),t6=Symbol.for("react.profiler"),sce=Symbol.for("react.provider"),oce=Symbol.for("react.context"),HV=Symbol.for("react.forward_ref"),n6=Symbol.for("react.suspense"),r6=Symbol.for("react.suspense_list"),VV=Symbol.for("react.memo"),dg=Symbol.for("react.lazy"),ace=Symbol.for("react.offscreen"),YJ=Symbol.iterator;function wM(n){return n===null||typeof n!="object"?null:(n=YJ&&n[YJ]||n["@@iterator"],typeof n=="function"?n:null)}var Ri=Object.assign,_4;function I2(n){if(_4===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);_4=e&&e[1]||""}return`
`+_4+n}var b4=!1;function w4(n,e){if(!n||b4)return"";b4=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{b4=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?I2(n):""}function OEe(n){switch(n.tag){case 5:return I2(n.type);case 16:return I2("Lazy");case 13:return I2("Suspense");case 19:return I2("SuspenseList");case 0:case 2:case 15:return n=w4(n.type,!1),n;case 11:return n=w4(n.type.render,!1),n;case 1:return n=w4(n.type,!0),n;default:return""}}function i6(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Eb:return"Fragment";case Mb:return"Portal";case t6:return"Profiler";case GV:return"StrictMode";case n6:return"Suspense";case r6:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case oce:return(n.displayName||"Context")+".Consumer";case sce:return(n._context.displayName||"Context")+".Provider";case HV:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case VV:return e=n.displayName||null,e!==null?e:i6(n.type)||"Memo";case dg:e=n._payload,n=n._init;try{return i6(n(e))}catch{}}return null}function FEe(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return i6(e);case 8:return e===GV?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function f0(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function lce(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NEe(n){var e=lce(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ER(n){n._valueTracker||(n._valueTracker=NEe(n))}function cce(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=lce(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Pk(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function s6(n,e){var t=e.checked;return Ri({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function KJ(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=f0(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uce(n,e){e=e.checked,e!=null&&zV(n,"checked",e,!1)}function o6(n,e){uce(n,e);var t=f0(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?a6(n,e.type,t):e.hasOwnProperty("defaultValue")&&a6(n,e.type,f0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function qJ(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function a6(n,e,t){(e!=="number"||Pk(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var L2=Array.isArray;function xw(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+f0(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function l6(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ct(91));return Ri({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function QJ(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ct(92));if(L2(t)){if(1<t.length)throw Error(ct(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:f0(t)}}function fce(n,e){var t=f0(e.value),r=f0(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function ZJ(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function dce(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c6(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?dce(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var CR,hce=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(CR=CR||document.createElement("div"),CR.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=CR.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function cC(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Q2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UEe=["Webkit","ms","Moz","O"];Object.keys(Q2).forEach(function(n){UEe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Q2[e]=Q2[n]})});function pce(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Q2.hasOwnProperty(n)&&Q2[n]?(""+e).trim():e+"px"}function mce(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=pce(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var zEe=Ri({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function u6(n,e){if(e){if(zEe[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ct(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ct(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ct(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ct(62))}}function f6(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d6=null;function jV(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var h6=null,_w=null,bw=null;function eY(n){if(n=qT(n)){if(typeof h6!="function")throw Error(ct(280));var e=n.stateNode;e&&(e=qL(e),h6(n.stateNode,n.type,e))}}function gce(n){_w?bw?bw.push(n):bw=[n]:_w=n}function vce(){if(_w){var n=_w,e=bw;if(bw=_w=null,eY(n),e)for(n=0;n<e.length;n++)eY(e[n])}}function yce(n,e){return n(e)}function xce(){}var S4=!1;function _ce(n,e,t){if(S4)return n(e,t);S4=!0;try{return yce(n,e,t)}finally{S4=!1,(_w!==null||bw!==null)&&(xce(),vce())}}function uC(n,e){var t=n.stateNode;if(t===null)return null;var r=qL(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ct(231,e,typeof t));return t}var p6=!1;if(Fp)try{var SM={};Object.defineProperty(SM,"passive",{get:function(){p6=!0}}),window.addEventListener("test",SM,SM),window.removeEventListener("test",SM,SM)}catch{p6=!1}function GEe(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Z2=!1,Bk=null,Dk=!1,m6=null,HEe={onError:function(n){Z2=!0,Bk=n}};function VEe(n,e,t,r,i,s,o,a,l){Z2=!1,Bk=null,GEe.apply(HEe,arguments)}function jEe(n,e,t,r,i,s,o,a,l){if(VEe.apply(this,arguments),Z2){if(Z2){var c=Bk;Z2=!1,Bk=null}else throw Error(ct(198));Dk||(Dk=!0,m6=c)}}function hx(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function bce(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function tY(n){if(hx(n)!==n)throw Error(ct(188))}function WEe(n){var e=n.alternate;if(!e){if(e=hx(n),e===null)throw Error(ct(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return tY(i),n;if(s===r)return tY(i),e;s=s.sibling}throw Error(ct(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(ct(189))}}if(t.alternate!==r)throw Error(ct(190))}if(t.tag!==3)throw Error(ct(188));return t.stateNode.current===t?n:e}function wce(n){return n=WEe(n),n!==null?Sce(n):null}function Sce(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Sce(n);if(e!==null)return e;n=n.sibling}return null}var Ace=bc.unstable_scheduleCallback,nY=bc.unstable_cancelCallback,$Ee=bc.unstable_shouldYield,XEe=bc.unstable_requestPaint,ts=bc.unstable_now,JEe=bc.unstable_getCurrentPriorityLevel,WV=bc.unstable_ImmediatePriority,Mce=bc.unstable_UserBlockingPriority,kk=bc.unstable_NormalPriority,YEe=bc.unstable_LowPriority,Ece=bc.unstable_IdlePriority,XL=null,Hd=null;function KEe(n){if(Hd&&typeof Hd.onCommitFiberRoot=="function")try{Hd.onCommitFiberRoot(XL,n,void 0,(n.current.flags&128)===128)}catch{}}var Df=Math.clz32?Math.clz32:ZEe,qEe=Math.log,QEe=Math.LN2;function ZEe(n){return n>>>=0,n===0?32:31-(qEe(n)/QEe|0)|0}var TR=64,RR=4194304;function O2(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ik(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=O2(a):(s&=o,s!==0&&(r=O2(s)))}else o=t&~i,o!==0?r=O2(o):s!==0&&(r=O2(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Df(e),i=1<<t,r|=n[t],e&=~i;return r}function eCe(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tCe(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Df(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=eCe(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function g6(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Cce(){var n=TR;return TR<<=1,!(TR&4194240)&&(TR=64),n}function A4(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function YT(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Df(e),n[e]=t}function nCe(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Df(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function $V(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Df(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var or=0;function Tce(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Rce,XV,Pce,Bce,Dce,v6=!1,PR=[],Gg=null,Hg=null,Vg=null,fC=new Map,dC=new Map,_g=[],rCe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rY(n,e){switch(n){case"focusin":case"focusout":Gg=null;break;case"dragenter":case"dragleave":Hg=null;break;case"mouseover":case"mouseout":Vg=null;break;case"pointerover":case"pointerout":fC.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dC.delete(e.pointerId)}}function AM(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=qT(e),e!==null&&XV(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function iCe(n,e,t,r,i){switch(e){case"focusin":return Gg=AM(Gg,n,e,t,r,i),!0;case"dragenter":return Hg=AM(Hg,n,e,t,r,i),!0;case"mouseover":return Vg=AM(Vg,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return fC.set(s,AM(fC.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,dC.set(s,AM(dC.get(s)||null,n,e,t,r,i)),!0}return!1}function kce(n){var e=By(n.target);if(e!==null){var t=hx(e);if(t!==null){if(e=t.tag,e===13){if(e=bce(t),e!==null){n.blockedOn=e,Dce(n.priority,function(){Pce(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function TD(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=y6(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);d6=r,t.target.dispatchEvent(r),d6=null}else return e=qT(t),e!==null&&XV(e),n.blockedOn=t,!1;e.shift()}return!0}function iY(n,e,t){TD(n)&&t.delete(e)}function sCe(){v6=!1,Gg!==null&&TD(Gg)&&(Gg=null),Hg!==null&&TD(Hg)&&(Hg=null),Vg!==null&&TD(Vg)&&(Vg=null),fC.forEach(iY),dC.forEach(iY)}function MM(n,e){n.blockedOn===e&&(n.blockedOn=null,v6||(v6=!0,bc.unstable_scheduleCallback(bc.unstable_NormalPriority,sCe)))}function hC(n){function e(i){return MM(i,n)}if(0<PR.length){MM(PR[0],n);for(var t=1;t<PR.length;t++){var r=PR[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Gg!==null&&MM(Gg,n),Hg!==null&&MM(Hg,n),Vg!==null&&MM(Vg,n),fC.forEach(e),dC.forEach(e),t=0;t<_g.length;t++)r=_g[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<_g.length&&(t=_g[0],t.blockedOn===null);)kce(t),t.blockedOn===null&&_g.shift()}var ww=am.ReactCurrentBatchConfig,Lk=!0;function oCe(n,e,t,r){var i=or,s=ww.transition;ww.transition=null;try{or=1,JV(n,e,t,r)}finally{or=i,ww.transition=s}}function aCe(n,e,t,r){var i=or,s=ww.transition;ww.transition=null;try{or=4,JV(n,e,t,r)}finally{or=i,ww.transition=s}}function JV(n,e,t,r){if(Lk){var i=y6(n,e,t,r);if(i===null)I4(n,e,r,Ok,t),rY(n,r);else if(iCe(i,n,e,t,r))r.stopPropagation();else if(rY(n,r),e&4&&-1<rCe.indexOf(n)){for(;i!==null;){var s=qT(i);if(s!==null&&Rce(s),s=y6(n,e,t,r),s===null&&I4(n,e,r,Ok,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else I4(n,e,r,null,t)}}var Ok=null;function y6(n,e,t,r){if(Ok=null,n=jV(r),n=By(n),n!==null)if(e=hx(n),e===null)n=null;else if(t=e.tag,t===13){if(n=bce(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Ok=n,null}function Ice(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JEe()){case WV:return 1;case Mce:return 4;case kk:case YEe:return 16;case Ece:return 536870912;default:return 16}default:return 16}}var Eg=null,YV=null,RD=null;function Lce(){if(RD)return RD;var n,e=YV,t=e.length,r,i="value"in Eg?Eg.value:Eg.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return RD=i.slice(n,1<r?1-r:void 0)}function PD(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function BR(){return!0}function sY(){return!1}function Tc(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?BR:sY,this.isPropagationStopped=sY,this}return Ri(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=BR)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=BR)},persist:function(){},isPersistent:BR}),e}var $S={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KV=Tc($S),KT=Ri({},$S,{view:0,detail:0}),lCe=Tc(KT),M4,E4,EM,JL=Ri({},KT,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qV,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==EM&&(EM&&n.type==="mousemove"?(M4=n.screenX-EM.screenX,E4=n.screenY-EM.screenY):E4=M4=0,EM=n),M4)},movementY:function(n){return"movementY"in n?n.movementY:E4}}),oY=Tc(JL),cCe=Ri({},JL,{dataTransfer:0}),uCe=Tc(cCe),fCe=Ri({},KT,{relatedTarget:0}),C4=Tc(fCe),dCe=Ri({},$S,{animationName:0,elapsedTime:0,pseudoElement:0}),hCe=Tc(dCe),pCe=Ri({},$S,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),mCe=Tc(pCe),gCe=Ri({},$S,{data:0}),aY=Tc(gCe),vCe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yCe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xCe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _Ce(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=xCe[n])?!!e[n]:!1}function qV(){return _Ce}var bCe=Ri({},KT,{key:function(n){if(n.key){var e=vCe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=PD(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yCe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qV,charCode:function(n){return n.type==="keypress"?PD(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?PD(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wCe=Tc(bCe),SCe=Ri({},JL,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lY=Tc(SCe),ACe=Ri({},KT,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qV}),MCe=Tc(ACe),ECe=Ri({},$S,{propertyName:0,elapsedTime:0,pseudoElement:0}),CCe=Tc(ECe),TCe=Ri({},JL,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),RCe=Tc(TCe),PCe=[9,13,27,32],QV=Fp&&"CompositionEvent"in window,eE=null;Fp&&"documentMode"in document&&(eE=document.documentMode);var BCe=Fp&&"TextEvent"in window&&!eE,Oce=Fp&&(!QV||eE&&8<eE&&11>=eE),cY=" ",uY=!1;function Fce(n,e){switch(n){case"keyup":return PCe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nce(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Cb=!1;function DCe(n,e){switch(n){case"compositionend":return Nce(e);case"keypress":return e.which!==32?null:(uY=!0,cY);case"textInput":return n=e.data,n===cY&&uY?null:n;default:return null}}function kCe(n,e){if(Cb)return n==="compositionend"||!QV&&Fce(n,e)?(n=Lce(),RD=YV=Eg=null,Cb=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Oce&&e.locale!=="ko"?null:e.data;default:return null}}var ICe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fY(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!ICe[n.type]:e==="textarea"}function Uce(n,e,t,r){gce(r),e=Fk(e,"onChange"),0<e.length&&(t=new KV("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var tE=null,pC=null;function LCe(n){Kce(n,0)}function YL(n){var e=Pb(n);if(cce(e))return n}function OCe(n,e){if(n==="change")return e}var zce=!1;if(Fp){var T4;if(Fp){var R4="oninput"in document;if(!R4){var dY=document.createElement("div");dY.setAttribute("oninput","return;"),R4=typeof dY.oninput=="function"}T4=R4}else T4=!1;zce=T4&&(!document.documentMode||9<document.documentMode)}function hY(){tE&&(tE.detachEvent("onpropertychange",Gce),pC=tE=null)}function Gce(n){if(n.propertyName==="value"&&YL(pC)){var e=[];Uce(e,pC,n,jV(n)),_ce(LCe,e)}}function FCe(n,e,t){n==="focusin"?(hY(),tE=e,pC=t,tE.attachEvent("onpropertychange",Gce)):n==="focusout"&&hY()}function NCe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return YL(pC)}function UCe(n,e){if(n==="click")return YL(e)}function zCe(n,e){if(n==="input"||n==="change")return YL(e)}function GCe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Hf=typeof Object.is=="function"?Object.is:GCe;function mC(n,e){if(Hf(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!e6.call(e,i)||!Hf(n[i],e[i]))return!1}return!0}function pY(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function mY(n,e){var t=pY(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=pY(t)}}function Hce(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Hce(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Vce(){for(var n=window,e=Pk();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Pk(n.document)}return e}function ZV(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function HCe(n){var e=Vce(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Hce(t.ownerDocument.documentElement,t)){if(r!==null&&ZV(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=mY(t,s);var o=mY(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var VCe=Fp&&"documentMode"in document&&11>=document.documentMode,Tb=null,x6=null,nE=null,_6=!1;function gY(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;_6||Tb==null||Tb!==Pk(r)||(r=Tb,"selectionStart"in r&&ZV(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nE&&mC(nE,r)||(nE=r,r=Fk(x6,"onSelect"),0<r.length&&(e=new KV("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Tb)))}function DR(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Rb={animationend:DR("Animation","AnimationEnd"),animationiteration:DR("Animation","AnimationIteration"),animationstart:DR("Animation","AnimationStart"),transitionend:DR("Transition","TransitionEnd")},P4={},jce={};Fp&&(jce=document.createElement("div").style,"AnimationEvent"in window||(delete Rb.animationend.animation,delete Rb.animationiteration.animation,delete Rb.animationstart.animation),"TransitionEvent"in window||delete Rb.transitionend.transition);function KL(n){if(P4[n])return P4[n];if(!Rb[n])return n;var e=Rb[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in jce)return P4[n]=e[t];return n}var Wce=KL("animationend"),$ce=KL("animationiteration"),Xce=KL("animationstart"),Jce=KL("transitionend"),Yce=new Map,vY="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $0(n,e){Yce.set(n,e),dx(e,[n])}for(var B4=0;B4<vY.length;B4++){var D4=vY[B4],jCe=D4.toLowerCase(),WCe=D4[0].toUpperCase()+D4.slice(1);$0(jCe,"on"+WCe)}$0(Wce,"onAnimationEnd");$0($ce,"onAnimationIteration");$0(Xce,"onAnimationStart");$0("dblclick","onDoubleClick");$0("focusin","onFocus");$0("focusout","onBlur");$0(Jce,"onTransitionEnd");Xw("onMouseEnter",["mouseout","mouseover"]);Xw("onMouseLeave",["mouseout","mouseover"]);Xw("onPointerEnter",["pointerout","pointerover"]);Xw("onPointerLeave",["pointerout","pointerover"]);dx("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dx("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dx("onBeforeInput",["compositionend","keypress","textInput","paste"]);dx("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dx("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dx("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var F2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$Ce=new Set("cancel close invalid load scroll toggle".split(" ").concat(F2));function yY(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,jEe(r,e,void 0,n),n.currentTarget=null}function Kce(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;yY(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;yY(i,a,c),s=l}}}if(Dk)throw n=m6,Dk=!1,m6=null,n}function zr(n,e){var t=e[M6];t===void 0&&(t=e[M6]=new Set);var r=n+"__bubble";t.has(r)||(qce(e,n,2,!1),t.add(r))}function k4(n,e,t){var r=0;e&&(r|=4),qce(t,n,r,e)}var kR="_reactListening"+Math.random().toString(36).slice(2);function gC(n){if(!n[kR]){n[kR]=!0,ice.forEach(function(t){t!=="selectionchange"&&($Ce.has(t)||k4(t,!1,n),k4(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[kR]||(e[kR]=!0,k4("selectionchange",!1,e))}}function qce(n,e,t,r){switch(Ice(e)){case 1:var i=oCe;break;case 4:i=aCe;break;default:i=JV}t=i.bind(null,e,t,n),i=void 0,!p6||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function I4(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=By(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_ce(function(){var c=s,u=jV(t),f=[];e:{var d=Yce.get(n);if(d!==void 0){var p=KV,m=n;switch(n){case"keypress":if(PD(t)===0)break e;case"keydown":case"keyup":p=wCe;break;case"focusin":m="focus",p=C4;break;case"focusout":m="blur",p=C4;break;case"beforeblur":case"afterblur":p=C4;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oY;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uCe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=MCe;break;case Wce:case $ce:case Xce:p=hCe;break;case Jce:p=CCe;break;case"scroll":p=lCe;break;case"wheel":p=RCe;break;case"copy":case"cut":case"paste":p=mCe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lY}var g=(e&4)!==0,y=!g&&n==="scroll",x=g?d!==null?d+"Capture":null:d;g=[];for(var _=c,b;_!==null;){b=_;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,x!==null&&(w=uC(_,x),w!=null&&g.push(vC(_,w,b)))),y)break;_=_.return}0<g.length&&(d=new p(d,m,null,t,u),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",d&&t!==d6&&(m=t.relatedTarget||t.fromElement)&&(By(m)||m[Np]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=c,m=m?By(m):null,m!==null&&(y=hx(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=oY,w="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(g=lY,w="onPointerLeave",x="onPointerEnter",_="pointer"),y=p==null?d:Pb(p),b=m==null?d:Pb(m),d=new g(w,_+"leave",p,t,u),d.target=y,d.relatedTarget=b,w=null,By(u)===c&&(g=new g(x,_+"enter",m,t,u),g.target=b,g.relatedTarget=y,w=g),y=w,p&&m)t:{for(g=p,x=m,_=0,b=g;b;b=m_(b))_++;for(b=0,w=x;w;w=m_(w))b++;for(;0<_-b;)g=m_(g),_--;for(;0<b-_;)x=m_(x),b--;for(;_--;){if(g===x||x!==null&&g===x.alternate)break t;g=m_(g),x=m_(x)}g=null}else g=null;p!==null&&xY(f,d,p,g,!1),m!==null&&y!==null&&xY(f,y,m,g,!0)}}e:{if(d=c?Pb(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var M=OCe;else if(fY(d))if(zce)M=zCe;else{M=NCe;var C=FCe}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=UCe);if(M&&(M=M(n,c))){Uce(f,M,t,u);break e}C&&C(n,d,c),n==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&a6(d,"number",d.value)}switch(C=c?Pb(c):window,n){case"focusin":(fY(C)||C.contentEditable==="true")&&(Tb=C,x6=c,nE=null);break;case"focusout":nE=x6=Tb=null;break;case"mousedown":_6=!0;break;case"contextmenu":case"mouseup":case"dragend":_6=!1,gY(f,t,u);break;case"selectionchange":if(VCe)break;case"keydown":case"keyup":gY(f,t,u)}var R;if(QV)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Cb?Fce(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(Oce&&t.locale!=="ko"&&(Cb||E!=="onCompositionStart"?E==="onCompositionEnd"&&Cb&&(R=Lce()):(Eg=u,YV="value"in Eg?Eg.value:Eg.textContent,Cb=!0)),C=Fk(c,E),0<C.length&&(E=new aY(E,n,null,t,u),f.push({event:E,listeners:C}),R?E.data=R:(R=Nce(t),R!==null&&(E.data=R)))),(R=BCe?DCe(n,t):kCe(n,t))&&(c=Fk(c,"onBeforeInput"),0<c.length&&(u=new aY("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=R))}Kce(f,e)})}function vC(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Fk(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=uC(n,t),s!=null&&r.unshift(vC(n,s,i)),s=uC(n,e),s!=null&&r.push(vC(n,s,i))),n=n.return}return r}function m_(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function xY(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=uC(t,s),l!=null&&o.unshift(vC(t,l,a))):i||(l=uC(t,s),l!=null&&o.push(vC(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var XCe=/\r\n?/g,JCe=/\u0000|\uFFFD/g;function _Y(n){return(typeof n=="string"?n:""+n).replace(XCe,`
`).replace(JCe,"")}function IR(n,e,t){if(e=_Y(e),_Y(n)!==e&&t)throw Error(ct(425))}function Nk(){}var b6=null,w6=null;function S6(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var A6=typeof setTimeout=="function"?setTimeout:void 0,YCe=typeof clearTimeout=="function"?clearTimeout:void 0,bY=typeof Promise=="function"?Promise:void 0,KCe=typeof queueMicrotask=="function"?queueMicrotask:typeof bY<"u"?function(n){return bY.resolve(null).then(n).catch(qCe)}:A6;function qCe(n){setTimeout(function(){throw n})}function L4(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),hC(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);hC(e)}function jg(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function wY(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var XS=Math.random().toString(36).slice(2),Id="__reactFiber$"+XS,yC="__reactProps$"+XS,Np="__reactContainer$"+XS,M6="__reactEvents$"+XS,QCe="__reactListeners$"+XS,ZCe="__reactHandles$"+XS;function By(n){var e=n[Id];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Np]||t[Id]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=wY(n);n!==null;){if(t=n[Id])return t;n=wY(n)}return e}n=t,t=n.parentNode}return null}function qT(n){return n=n[Id]||n[Np],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Pb(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ct(33))}function qL(n){return n[yC]||null}var E6=[],Bb=-1;function X0(n){return{current:n}}function Jr(n){0>Bb||(n.current=E6[Bb],E6[Bb]=null,Bb--)}function Rr(n,e){Bb++,E6[Bb]=n.current,n.current=e}var d0={},ha=X0(d0),vl=X0(!1),I1=d0;function Jw(n,e){var t=n.type.contextTypes;if(!t)return d0;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function yl(n){return n=n.childContextTypes,n!=null}function Uk(){Jr(vl),Jr(ha)}function SY(n,e,t){if(ha.current!==d0)throw Error(ct(168));Rr(ha,e),Rr(vl,t)}function Qce(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ct(108,FEe(n)||"Unknown",i));return Ri({},t,r)}function zk(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||d0,I1=ha.current,Rr(ha,n),Rr(vl,vl.current),!0}function AY(n,e,t){var r=n.stateNode;if(!r)throw Error(ct(169));t?(n=Qce(n,e,I1),r.__reactInternalMemoizedMergedChildContext=n,Jr(vl),Jr(ha),Rr(ha,n)):Jr(vl),Rr(vl,t)}var sp=null,QL=!1,O4=!1;function Zce(n){sp===null?sp=[n]:sp.push(n)}function eTe(n){QL=!0,Zce(n)}function J0(){if(!O4&&sp!==null){O4=!0;var n=0,e=or;try{var t=sp;for(or=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}sp=null,QL=!1}catch(i){throw sp!==null&&(sp=sp.slice(n+1)),Ace(WV,J0),i}finally{or=e,O4=!1}}return null}var Db=[],kb=0,Gk=null,Hk=0,gu=[],vu=0,L1=null,mp=1,gp="";function my(n,e){Db[kb++]=Hk,Db[kb++]=Gk,Gk=n,Hk=e}function eue(n,e,t){gu[vu++]=mp,gu[vu++]=gp,gu[vu++]=L1,L1=n;var r=mp;n=gp;var i=32-Df(r)-1;r&=~(1<<i),t+=1;var s=32-Df(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mp=1<<32-Df(e)+i|t<<i|r,gp=s+n}else mp=1<<s|t<<i|r,gp=n}function ej(n){n.return!==null&&(my(n,1),eue(n,1,0))}function tj(n){for(;n===Gk;)Gk=Db[--kb],Db[kb]=null,Hk=Db[--kb],Db[kb]=null;for(;n===L1;)L1=gu[--vu],gu[vu]=null,gp=gu[--vu],gu[vu]=null,mp=gu[--vu],gu[vu]=null}var hc=null,ac=null,ii=!1,Af=null;function tue(n,e){var t=Eu(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function MY(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,hc=n,ac=jg(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,hc=n,ac=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=L1!==null?{id:mp,overflow:gp}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Eu(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,hc=n,ac=null,!0):!1;default:return!1}}function C6(n){return(n.mode&1)!==0&&(n.flags&128)===0}function T6(n){if(ii){var e=ac;if(e){var t=e;if(!MY(n,e)){if(C6(n))throw Error(ct(418));e=jg(t.nextSibling);var r=hc;e&&MY(n,e)?tue(r,t):(n.flags=n.flags&-4097|2,ii=!1,hc=n)}}else{if(C6(n))throw Error(ct(418));n.flags=n.flags&-4097|2,ii=!1,hc=n}}}function EY(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;hc=n}function LR(n){if(n!==hc)return!1;if(!ii)return EY(n),ii=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!S6(n.type,n.memoizedProps)),e&&(e=ac)){if(C6(n))throw nue(),Error(ct(418));for(;e;)tue(n,e),e=jg(e.nextSibling)}if(EY(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ct(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ac=jg(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ac=null}}else ac=hc?jg(n.stateNode.nextSibling):null;return!0}function nue(){for(var n=ac;n;)n=jg(n.nextSibling)}function Yw(){ac=hc=null,ii=!1}function nj(n){Af===null?Af=[n]:Af.push(n)}var tTe=am.ReactCurrentBatchConfig;function CM(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ct(309));var r=t.stateNode}if(!r)throw Error(ct(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(ct(284));if(!t._owner)throw Error(ct(290,n))}return n}function OR(n,e){throw n=Object.prototype.toString.call(e),Error(ct(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function CY(n){var e=n._init;return e(n._payload)}function rue(n){function e(x,_){if(n){var b=x.deletions;b===null?(x.deletions=[_],x.flags|=16):b.push(_)}}function t(x,_){if(!n)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Jg(x,_),x.index=0,x.sibling=null,x}function s(x,_,b){return x.index=b,n?(b=x.alternate,b!==null?(b=b.index,b<_?(x.flags|=2,_):b):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,_,b,w){return _===null||_.tag!==6?(_=V4(b,x.mode,w),_.return=x,_):(_=i(_,b),_.return=x,_)}function l(x,_,b,w){var M=b.type;return M===Eb?u(x,_,b.props.children,w,b.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===dg&&CY(M)===_.type)?(w=i(_,b.props),w.ref=CM(x,_,b),w.return=x,w):(w=FD(b.type,b.key,b.props,null,x.mode,w),w.ref=CM(x,_,b),w.return=x,w)}function c(x,_,b,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=j4(b,x.mode,w),_.return=x,_):(_=i(_,b.children||[]),_.return=x,_)}function u(x,_,b,w,M){return _===null||_.tag!==7?(_=i1(b,x.mode,w,M),_.return=x,_):(_=i(_,b),_.return=x,_)}function f(x,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=V4(""+_,x.mode,b),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case MR:return b=FD(_.type,_.key,_.props,null,x.mode,b),b.ref=CM(x,null,_),b.return=x,b;case Mb:return _=j4(_,x.mode,b),_.return=x,_;case dg:var w=_._init;return f(x,w(_._payload),b)}if(L2(_)||wM(_))return _=i1(_,x.mode,b,null),_.return=x,_;OR(x,_)}return null}function d(x,_,b,w){var M=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:a(x,_,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case MR:return b.key===M?l(x,_,b,w):null;case Mb:return b.key===M?c(x,_,b,w):null;case dg:return M=b._init,d(x,_,M(b._payload),w)}if(L2(b)||wM(b))return M!==null?null:u(x,_,b,w,null);OR(x,b)}return null}function p(x,_,b,w,M){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(b)||null,a(_,x,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case MR:return x=x.get(w.key===null?b:w.key)||null,l(_,x,w,M);case Mb:return x=x.get(w.key===null?b:w.key)||null,c(_,x,w,M);case dg:var C=w._init;return p(x,_,b,C(w._payload),M)}if(L2(w)||wM(w))return x=x.get(b)||null,u(_,x,w,M,null);OR(_,w)}return null}function m(x,_,b,w){for(var M=null,C=null,R=_,E=_=0,B=null;R!==null&&E<b.length;E++){R.index>E?(B=R,R=null):B=R.sibling;var D=d(x,R,b[E],w);if(D===null){R===null&&(R=B);break}n&&R&&D.alternate===null&&e(x,R),_=s(D,_,E),C===null?M=D:C.sibling=D,C=D,R=B}if(E===b.length)return t(x,R),ii&&my(x,E),M;if(R===null){for(;E<b.length;E++)R=f(x,b[E],w),R!==null&&(_=s(R,_,E),C===null?M=R:C.sibling=R,C=R);return ii&&my(x,E),M}for(R=r(x,R);E<b.length;E++)B=p(R,x,E,b[E],w),B!==null&&(n&&B.alternate!==null&&R.delete(B.key===null?E:B.key),_=s(B,_,E),C===null?M=B:C.sibling=B,C=B);return n&&R.forEach(function(N){return e(x,N)}),ii&&my(x,E),M}function g(x,_,b,w){var M=wM(b);if(typeof M!="function")throw Error(ct(150));if(b=M.call(b),b==null)throw Error(ct(151));for(var C=M=null,R=_,E=_=0,B=null,D=b.next();R!==null&&!D.done;E++,D=b.next()){R.index>E?(B=R,R=null):B=R.sibling;var N=d(x,R,D.value,w);if(N===null){R===null&&(R=B);break}n&&R&&N.alternate===null&&e(x,R),_=s(N,_,E),C===null?M=N:C.sibling=N,C=N,R=B}if(D.done)return t(x,R),ii&&my(x,E),M;if(R===null){for(;!D.done;E++,D=b.next())D=f(x,D.value,w),D!==null&&(_=s(D,_,E),C===null?M=D:C.sibling=D,C=D);return ii&&my(x,E),M}for(R=r(x,R);!D.done;E++,D=b.next())D=p(R,x,E,D.value,w),D!==null&&(n&&D.alternate!==null&&R.delete(D.key===null?E:D.key),_=s(D,_,E),C===null?M=D:C.sibling=D,C=D);return n&&R.forEach(function(z){return e(x,z)}),ii&&my(x,E),M}function y(x,_,b,w){if(typeof b=="object"&&b!==null&&b.type===Eb&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case MR:e:{for(var M=b.key,C=_;C!==null;){if(C.key===M){if(M=b.type,M===Eb){if(C.tag===7){t(x,C.sibling),_=i(C,b.props.children),_.return=x,x=_;break e}}else if(C.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===dg&&CY(M)===C.type){t(x,C.sibling),_=i(C,b.props),_.ref=CM(x,C,b),_.return=x,x=_;break e}t(x,C);break}else e(x,C);C=C.sibling}b.type===Eb?(_=i1(b.props.children,x.mode,w,b.key),_.return=x,x=_):(w=FD(b.type,b.key,b.props,null,x.mode,w),w.ref=CM(x,_,b),w.return=x,x=w)}return o(x);case Mb:e:{for(C=b.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){t(x,_.sibling),_=i(_,b.children||[]),_.return=x,x=_;break e}else{t(x,_);break}else e(x,_);_=_.sibling}_=j4(b,x.mode,w),_.return=x,x=_}return o(x);case dg:return C=b._init,y(x,_,C(b._payload),w)}if(L2(b))return m(x,_,b,w);if(wM(b))return g(x,_,b,w);OR(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(t(x,_.sibling),_=i(_,b),_.return=x,x=_):(t(x,_),_=V4(b,x.mode,w),_.return=x,x=_),o(x)):t(x,_)}return y}var Kw=rue(!0),iue=rue(!1),Vk=X0(null),jk=null,Ib=null,rj=null;function ij(){rj=Ib=jk=null}function sj(n){var e=Vk.current;Jr(Vk),n._currentValue=e}function R6(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Sw(n,e){jk=n,rj=Ib=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(fl=!0),n.firstContext=null)}function Nu(n){var e=n._currentValue;if(rj!==n)if(n={context:n,memoizedValue:e,next:null},Ib===null){if(jk===null)throw Error(ct(308));Ib=n,jk.dependencies={lanes:0,firstContext:n}}else Ib=Ib.next=n;return e}var Dy=null;function oj(n){Dy===null?Dy=[n]:Dy.push(n)}function sue(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,oj(e)):(t.next=i.next,i.next=t),e.interleaved=t,Up(n,r)}function Up(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var hg=!1;function aj(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oue(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Mp(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Wg(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Jn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Up(n,t)}return i=r.interleaved,i===null?(e.next=e,oj(r)):(e.next=i.next,i.next=e),r.interleaved=e,Up(n,t)}function BD(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,$V(n,t)}}function TY(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Wk(n,e,t,r){var i=n.updateQueue;hg=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,g=a;switch(d=e,p=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=Ri({},f,d);break e;case 2:hg=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);F1|=o,n.lanes=o,n.memoizedState=f}}function RY(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(ct(191,i));i.call(r)}}}var QT={},Vd=X0(QT),xC=X0(QT),_C=X0(QT);function ky(n){if(n===QT)throw Error(ct(174));return n}function lj(n,e){switch(Rr(_C,e),Rr(xC,n),Rr(Vd,QT),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:c6(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=c6(e,n)}Jr(Vd),Rr(Vd,e)}function qw(){Jr(Vd),Jr(xC),Jr(_C)}function aue(n){ky(_C.current);var e=ky(Vd.current),t=c6(e,n.type);e!==t&&(Rr(xC,n),Rr(Vd,t))}function cj(n){xC.current===n&&(Jr(Vd),Jr(xC))}var mi=X0(0);function $k(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F4=[];function uj(){for(var n=0;n<F4.length;n++)F4[n]._workInProgressVersionPrimary=null;F4.length=0}var DD=am.ReactCurrentDispatcher,N4=am.ReactCurrentBatchConfig,O1=0,Ci=null,Ns=null,fo=null,Xk=!1,rE=!1,bC=0,nTe=0;function Xo(){throw Error(ct(321))}function fj(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Hf(n[t],e[t]))return!1;return!0}function dj(n,e,t,r,i,s){if(O1=s,Ci=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,DD.current=n===null||n.memoizedState===null?oTe:aTe,n=t(r,i),rE){s=0;do{if(rE=!1,bC=0,25<=s)throw Error(ct(301));s+=1,fo=Ns=null,e.updateQueue=null,DD.current=lTe,n=t(r,i)}while(rE)}if(DD.current=Jk,e=Ns!==null&&Ns.next!==null,O1=0,fo=Ns=Ci=null,Xk=!1,e)throw Error(ct(300));return n}function hj(){var n=bC!==0;return bC=0,n}function Td(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fo===null?Ci.memoizedState=fo=n:fo=fo.next=n,fo}function Uu(){if(Ns===null){var n=Ci.alternate;n=n!==null?n.memoizedState:null}else n=Ns.next;var e=fo===null?Ci.memoizedState:fo.next;if(e!==null)fo=e,Ns=n;else{if(n===null)throw Error(ct(310));Ns=n,n={memoizedState:Ns.memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},fo===null?Ci.memoizedState=fo=n:fo=fo.next=n}return fo}function wC(n,e){return typeof e=="function"?e(n):e}function U4(n){var e=Uu(),t=e.queue;if(t===null)throw Error(ct(311));t.lastRenderedReducer=n;var r=Ns,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((O1&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ci.lanes|=u,F1|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Hf(r,e.memoizedState)||(fl=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Ci.lanes|=s,F1|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function z4(n){var e=Uu(),t=e.queue;if(t===null)throw Error(ct(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Hf(s,e.memoizedState)||(fl=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function lue(){}function cue(n,e){var t=Ci,r=Uu(),i=e(),s=!Hf(r.memoizedState,i);if(s&&(r.memoizedState=i,fl=!0),r=r.queue,pj(due.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||fo!==null&&fo.memoizedState.tag&1){if(t.flags|=2048,SC(9,fue.bind(null,t,r,i,e),void 0,null),yo===null)throw Error(ct(349));O1&30||uue(t,e,i)}return i}function uue(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ci.updateQueue,e===null?(e={lastEffect:null,stores:null},Ci.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function fue(n,e,t,r){e.value=t,e.getSnapshot=r,hue(e)&&pue(n)}function due(n,e,t){return t(function(){hue(e)&&pue(n)})}function hue(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Hf(n,t)}catch{return!0}}function pue(n){var e=Up(n,1);e!==null&&kf(e,n,1,-1)}function PY(n){var e=Td();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wC,lastRenderedState:n},e.queue=n,n=n.dispatch=sTe.bind(null,Ci,n),[e.memoizedState,n]}function SC(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ci.updateQueue,e===null?(e={lastEffect:null,stores:null},Ci.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function mue(){return Uu().memoizedState}function kD(n,e,t,r){var i=Td();Ci.flags|=n,i.memoizedState=SC(1|e,t,void 0,r===void 0?null:r)}function ZL(n,e,t,r){var i=Uu();r=r===void 0?null:r;var s=void 0;if(Ns!==null){var o=Ns.memoizedState;if(s=o.destroy,r!==null&&fj(r,o.deps)){i.memoizedState=SC(e,t,s,r);return}}Ci.flags|=n,i.memoizedState=SC(1|e,t,s,r)}function BY(n,e){return kD(8390656,8,n,e)}function pj(n,e){return ZL(2048,8,n,e)}function gue(n,e){return ZL(4,2,n,e)}function vue(n,e){return ZL(4,4,n,e)}function yue(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function xue(n,e,t){return t=t!=null?t.concat([n]):null,ZL(4,4,yue.bind(null,e,n),t)}function mj(){}function _ue(n,e){var t=Uu();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fj(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function bue(n,e){var t=Uu();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fj(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function wue(n,e,t){return O1&21?(Hf(t,e)||(t=Cce(),Ci.lanes|=t,F1|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,fl=!0),n.memoizedState=t)}function rTe(n,e){var t=or;or=t!==0&&4>t?t:4,n(!0);var r=N4.transition;N4.transition={};try{n(!1),e()}finally{or=t,N4.transition=r}}function Sue(){return Uu().memoizedState}function iTe(n,e,t){var r=Xg(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Aue(n))Mue(e,t);else if(t=sue(n,e,t,r),t!==null){var i=Ga();kf(t,n,r,i),Eue(t,e,r)}}function sTe(n,e,t){var r=Xg(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Aue(n))Mue(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Hf(a,o)){var l=e.interleaved;l===null?(i.next=i,oj(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=sue(n,e,i,r),t!==null&&(i=Ga(),kf(t,n,r,i),Eue(t,e,r))}}function Aue(n){var e=n.alternate;return n===Ci||e!==null&&e===Ci}function Mue(n,e){rE=Xk=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Eue(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,$V(n,t)}}var Jk={readContext:Nu,useCallback:Xo,useContext:Xo,useEffect:Xo,useImperativeHandle:Xo,useInsertionEffect:Xo,useLayoutEffect:Xo,useMemo:Xo,useReducer:Xo,useRef:Xo,useState:Xo,useDebugValue:Xo,useDeferredValue:Xo,useTransition:Xo,useMutableSource:Xo,useSyncExternalStore:Xo,useId:Xo,unstable_isNewReconciler:!1},oTe={readContext:Nu,useCallback:function(n,e){return Td().memoizedState=[n,e===void 0?null:e],n},useContext:Nu,useEffect:BY,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,kD(4194308,4,yue.bind(null,e,n),t)},useLayoutEffect:function(n,e){return kD(4194308,4,n,e)},useInsertionEffect:function(n,e){return kD(4,2,n,e)},useMemo:function(n,e){var t=Td();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Td();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=iTe.bind(null,Ci,n),[r.memoizedState,n]},useRef:function(n){var e=Td();return n={current:n},e.memoizedState=n},useState:PY,useDebugValue:mj,useDeferredValue:function(n){return Td().memoizedState=n},useTransition:function(){var n=PY(!1),e=n[0];return n=rTe.bind(null,n[1]),Td().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ci,i=Td();if(ii){if(t===void 0)throw Error(ct(407));t=t()}else{if(t=e(),yo===null)throw Error(ct(349));O1&30||uue(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,BY(due.bind(null,r,s,n),[n]),r.flags|=2048,SC(9,fue.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Td(),e=yo.identifierPrefix;if(ii){var t=gp,r=mp;t=(r&~(1<<32-Df(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=bC++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=nTe++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},aTe={readContext:Nu,useCallback:_ue,useContext:Nu,useEffect:pj,useImperativeHandle:xue,useInsertionEffect:gue,useLayoutEffect:vue,useMemo:bue,useReducer:U4,useRef:mue,useState:function(){return U4(wC)},useDebugValue:mj,useDeferredValue:function(n){var e=Uu();return wue(e,Ns.memoizedState,n)},useTransition:function(){var n=U4(wC)[0],e=Uu().memoizedState;return[n,e]},useMutableSource:lue,useSyncExternalStore:cue,useId:Sue,unstable_isNewReconciler:!1},lTe={readContext:Nu,useCallback:_ue,useContext:Nu,useEffect:pj,useImperativeHandle:xue,useInsertionEffect:gue,useLayoutEffect:vue,useMemo:bue,useReducer:z4,useRef:mue,useState:function(){return z4(wC)},useDebugValue:mj,useDeferredValue:function(n){var e=Uu();return Ns===null?e.memoizedState=n:wue(e,Ns.memoizedState,n)},useTransition:function(){var n=z4(wC)[0],e=Uu().memoizedState;return[n,e]},useMutableSource:lue,useSyncExternalStore:cue,useId:Sue,unstable_isNewReconciler:!1};function _f(n,e){if(n&&n.defaultProps){e=Ri({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function P6(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Ri({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var eO={isMounted:function(n){return(n=n._reactInternals)?hx(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Ga(),i=Xg(n),s=Mp(r,i);s.payload=e,t!=null&&(s.callback=t),e=Wg(n,s,i),e!==null&&(kf(e,n,i,r),BD(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Ga(),i=Xg(n),s=Mp(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Wg(n,s,i),e!==null&&(kf(e,n,i,r),BD(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ga(),r=Xg(n),i=Mp(t,r);i.tag=2,e!=null&&(i.callback=e),e=Wg(n,i,r),e!==null&&(kf(e,n,r,t),BD(e,n,r))}};function DY(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!mC(t,r)||!mC(i,s):!0}function Cue(n,e,t){var r=!1,i=d0,s=e.contextType;return typeof s=="object"&&s!==null?s=Nu(s):(i=yl(e)?I1:ha.current,r=e.contextTypes,s=(r=r!=null)?Jw(n,i):d0),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eO,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function kY(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&eO.enqueueReplaceState(e,e.state,null)}function B6(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},aj(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nu(s):(s=yl(e)?I1:ha.current,i.context=Jw(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(P6(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&eO.enqueueReplaceState(i,i.state,null),Wk(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Qw(n,e){try{var t="",r=e;do t+=OEe(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function G4(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function D6(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var cTe=typeof WeakMap=="function"?WeakMap:Map;function Tue(n,e,t){t=Mp(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Kk||(Kk=!0,G6=r),D6(n,e)},t}function Rue(n,e,t){t=Mp(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){D6(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){D6(n,e),typeof r!="function"&&($g===null?$g=new Set([this]):$g.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function IY(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new cTe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=STe.bind(null,n,e,t),e.then(n,n))}function LY(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function OY(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Mp(-1,1),e.tag=2,Wg(t,e,1))),t.lanes|=1),n)}var uTe=am.ReactCurrentOwner,fl=!1;function ka(n,e,t,r){e.child=n===null?iue(e,null,t,r):Kw(e,n.child,t,r)}function FY(n,e,t,r,i){t=t.render;var s=e.ref;return Sw(e,i),r=dj(n,e,t,r,s,i),t=hj(),n!==null&&!fl?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,zp(n,e,i)):(ii&&t&&ej(e),e.flags|=1,ka(n,e,r,i),e.child)}function NY(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Sj(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Pue(n,e,s,r,i)):(n=FD(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:mC,t(o,r)&&n.ref===e.ref)return zp(n,e,i)}return e.flags|=1,n=Jg(s,r),n.ref=e.ref,n.return=e,e.child=n}function Pue(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(mC(s,r)&&n.ref===e.ref)if(fl=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(fl=!0);else return e.lanes=n.lanes,zp(n,e,i)}return k6(n,e,t,r,i)}function Bue(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr(Ob,Zl),Zl|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Rr(Ob,Zl),Zl|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Rr(Ob,Zl),Zl|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Rr(Ob,Zl),Zl|=r;return ka(n,e,i,t),e.child}function Due(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function k6(n,e,t,r,i){var s=yl(t)?I1:ha.current;return s=Jw(e,s),Sw(e,i),t=dj(n,e,t,r,s,i),r=hj(),n!==null&&!fl?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,zp(n,e,i)):(ii&&r&&ej(e),e.flags|=1,ka(n,e,t,i),e.child)}function UY(n,e,t,r,i){if(yl(t)){var s=!0;zk(e)}else s=!1;if(Sw(e,i),e.stateNode===null)ID(n,e),Cue(e,t,r),B6(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Nu(c):(c=yl(t)?I1:ha.current,c=Jw(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&kY(e,o,r,c),hg=!1;var d=e.memoizedState;o.state=d,Wk(e,r,o,i),l=e.memoizedState,a!==r||d!==l||vl.current||hg?(typeof u=="function"&&(P6(e,t,u,r),l=e.memoizedState),(a=hg||DY(e,t,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oue(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:_f(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Nu(l):(l=yl(t)?I1:ha.current,l=Jw(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&kY(e,o,r,l),hg=!1,d=e.memoizedState,o.state=d,Wk(e,r,o,i);var m=e.memoizedState;a!==f||d!==m||vl.current||hg?(typeof p=="function"&&(P6(e,t,p,r),m=e.memoizedState),(c=hg||DY(e,t,c,r,d,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return I6(n,e,t,r,s,i)}function I6(n,e,t,r,i,s){Due(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&AY(e,t,!1),zp(n,e,s);r=e.stateNode,uTe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Kw(e,n.child,null,s),e.child=Kw(e,null,a,s)):ka(n,e,a,s),e.memoizedState=r.state,i&&AY(e,t,!0),e.child}function kue(n){var e=n.stateNode;e.pendingContext?SY(n,e.pendingContext,e.pendingContext!==e.context):e.context&&SY(n,e.context,!1),lj(n,e.containerInfo)}function zY(n,e,t,r,i){return Yw(),nj(i),e.flags|=256,ka(n,e,t,r),e.child}var L6={dehydrated:null,treeContext:null,retryLane:0};function O6(n){return{baseLanes:n,cachePool:null,transitions:null}}function Iue(n,e,t){var r=e.pendingProps,i=mi.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Rr(mi,i&1),n===null)return T6(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rO(o,r,0,null),n=i1(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=O6(t),e.memoizedState=L6,n):gj(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fTe(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Jg(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Jg(a,s):(s=i1(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?O6(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=L6,r}return s=n.child,n=s.sibling,r=Jg(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function gj(n,e){return e=rO({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function FR(n,e,t,r){return r!==null&&nj(r),Kw(e,n.child,null,t),n=gj(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function fTe(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=G4(Error(ct(422))),FR(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=rO({mode:"visible",children:r.children},i,0,null),s=i1(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kw(e,n.child,null,o),e.child.memoizedState=O6(o),e.memoizedState=L6,s);if(!(e.mode&1))return FR(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ct(419)),r=G4(s,r,void 0),FR(n,e,o,r)}if(a=(o&n.childLanes)!==0,fl||a){if(r=yo,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Up(n,i),kf(r,n,i,-1))}return wj(),r=G4(Error(ct(421))),FR(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=ATe.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ac=jg(i.nextSibling),hc=e,ii=!0,Af=null,n!==null&&(gu[vu++]=mp,gu[vu++]=gp,gu[vu++]=L1,mp=n.id,gp=n.overflow,L1=e),e=gj(e,r.children),e.flags|=4096,e)}function GY(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),R6(n.return,e,t)}function H4(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function Lue(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ka(n,e,r.children,t),r=mi.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&GY(n,t,e);else if(n.tag===19)GY(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Rr(mi,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&$k(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),H4(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&$k(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}H4(e,!0,t,null,s);break;case"together":H4(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ID(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function zp(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),F1|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(ct(153));if(e.child!==null){for(n=e.child,t=Jg(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Jg(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function dTe(n,e,t){switch(e.tag){case 3:kue(e),Yw();break;case 5:aue(e);break;case 1:yl(e.type)&&zk(e);break;case 4:lj(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rr(Vk,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rr(mi,mi.current&1),e.flags|=128,null):t&e.child.childLanes?Iue(n,e,t):(Rr(mi,mi.current&1),n=zp(n,e,t),n!==null?n.sibling:null);Rr(mi,mi.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return Lue(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rr(mi,mi.current),r)break;return null;case 22:case 23:return e.lanes=0,Bue(n,e,t)}return zp(n,e,t)}var Oue,F6,Fue,Nue;Oue=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};F6=function(){};Fue=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,ky(Vd.current);var s=null;switch(t){case"input":i=s6(n,i),r=s6(n,r),s=[];break;case"select":i=Ri({},i,{value:void 0}),r=Ri({},r,{value:void 0}),s=[];break;case"textarea":i=l6(n,i),r=l6(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Nk)}u6(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lC.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lC.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&zr("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Nue=function(n,e,t,r){t!==r&&(e.flags|=4)};function TM(n,e){if(!ii)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Jo(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function hTe(n,e,t){var r=e.pendingProps;switch(tj(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jo(e),null;case 1:return yl(e.type)&&Uk(),Jo(e),null;case 3:return r=e.stateNode,qw(),Jr(vl),Jr(ha),uj(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(LR(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Af!==null&&(j6(Af),Af=null))),F6(n,e),Jo(e),null;case 5:cj(e);var i=ky(_C.current);if(t=e.type,n!==null&&e.stateNode!=null)Fue(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ct(166));return Jo(e),null}if(n=ky(Vd.current),LR(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Id]=e,r[yC]=s,n=(e.mode&1)!==0,t){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<F2.length;i++)zr(F2[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":KJ(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":QJ(r,s),zr("invalid",r)}u6(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&IR(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&IR(r.textContent,a,n),i=["children",""+a]):lC.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&zr("scroll",r)}switch(t){case"input":ER(r),qJ(r,s,!0);break;case"textarea":ER(r),ZJ(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Nk)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=dce(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Id]=e,n[yC]=r,Oue(n,e,!1,!1),e.stateNode=n;e:{switch(o=f6(t,r),t){case"dialog":zr("cancel",n),zr("close",n),i=r;break;case"iframe":case"object":case"embed":zr("load",n),i=r;break;case"video":case"audio":for(i=0;i<F2.length;i++)zr(F2[i],n);i=r;break;case"source":zr("error",n),i=r;break;case"img":case"image":case"link":zr("error",n),zr("load",n),i=r;break;case"details":zr("toggle",n),i=r;break;case"input":KJ(n,r),i=s6(n,r),zr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Ri({},r,{value:void 0}),zr("invalid",n);break;case"textarea":QJ(n,r),i=l6(n,r),zr("invalid",n);break;default:i=r}u6(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?mce(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hce(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&cC(n,l):typeof l=="number"&&cC(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lC.hasOwnProperty(s)?l!=null&&s==="onScroll"&&zr("scroll",n):l!=null&&zV(n,s,l,o))}switch(t){case"input":ER(n),qJ(n,r,!1);break;case"textarea":ER(n),ZJ(n);break;case"option":r.value!=null&&n.setAttribute("value",""+f0(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?xw(n,!!r.multiple,s,!1):r.defaultValue!=null&&xw(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Nk)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jo(e),null;case 6:if(n&&e.stateNode!=null)Nue(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ct(166));if(t=ky(_C.current),ky(Vd.current),LR(e)){if(r=e.stateNode,t=e.memoizedProps,r[Id]=e,(s=r.nodeValue!==t)&&(n=hc,n!==null))switch(n.tag){case 3:IR(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&IR(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Id]=e,e.stateNode=r}return Jo(e),null;case 13:if(Jr(mi),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ii&&ac!==null&&e.mode&1&&!(e.flags&128))nue(),Yw(),e.flags|=98560,s=!1;else if(s=LR(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(ct(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ct(317));s[Id]=e}else Yw(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jo(e),s=!1}else Af!==null&&(j6(Af),Af=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||mi.current&1?Hs===0&&(Hs=3):wj())),e.updateQueue!==null&&(e.flags|=4),Jo(e),null);case 4:return qw(),F6(n,e),n===null&&gC(e.stateNode.containerInfo),Jo(e),null;case 10:return sj(e.type._context),Jo(e),null;case 17:return yl(e.type)&&Uk(),Jo(e),null;case 19:if(Jr(mi),s=e.memoizedState,s===null)return Jo(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)TM(s,!1);else{if(Hs!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=$k(n),o!==null){for(e.flags|=128,TM(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Rr(mi,mi.current&1|2),e.child}n=n.sibling}s.tail!==null&&ts()>Zw&&(e.flags|=128,r=!0,TM(s,!1),e.lanes=4194304)}else{if(!r)if(n=$k(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),TM(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ii)return Jo(e),null}else 2*ts()-s.renderingStartTime>Zw&&t!==1073741824&&(e.flags|=128,r=!0,TM(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ts(),e.sibling=null,t=mi.current,Rr(mi,r?t&1|2:t&1),e):(Jo(e),null);case 22:case 23:return bj(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zl&1073741824&&(Jo(e),e.subtreeFlags&6&&(e.flags|=8192)):Jo(e),null;case 24:return null;case 25:return null}throw Error(ct(156,e.tag))}function pTe(n,e){switch(tj(e),e.tag){case 1:return yl(e.type)&&Uk(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return qw(),Jr(vl),Jr(ha),uj(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return cj(e),null;case 13:if(Jr(mi),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ct(340));Yw()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Jr(mi),null;case 4:return qw(),null;case 10:return sj(e.type._context),null;case 22:case 23:return bj(),null;case 24:return null;default:return null}}var NR=!1,ta=!1,mTe=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Lb(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Ii(n,e,r)}else t.current=null}function Uue(n,e,t){try{t()}catch(r){Ii(n,e,r)}}var HY=!1;function gTe(n,e){if(b6=Lk,n=Vce(),ZV(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,d=null;t:for(;;){for(var p;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(w6={focusedElem:n,selectionRange:t},Lk=!1,zt=e;zt!==null;)if(e=zt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,zt=n;else for(;zt!==null;){e=zt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:_f(e.type,g),y);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(w){Ii(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,zt=n;break}zt=e.return}return m=HY,HY=!1,m}function iE(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&Uue(e,t,s)}i=i.next}while(i!==r)}}function tO(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function N6(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function zue(n){var e=n.alternate;e!==null&&(n.alternate=null,zue(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Id],delete e[yC],delete e[M6],delete e[QCe],delete e[ZCe])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Gue(n){return n.tag===5||n.tag===3||n.tag===4}function VY(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Gue(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function U6(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Nk));else if(r!==4&&(n=n.child,n!==null))for(U6(n,e,t),n=n.sibling;n!==null;)U6(n,e,t),n=n.sibling}function z6(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(z6(n,e,t),n=n.sibling;n!==null;)z6(n,e,t),n=n.sibling}var Fo=null,wf=!1;function zm(n,e,t){for(t=t.child;t!==null;)Hue(n,e,t),t=t.sibling}function Hue(n,e,t){if(Hd&&typeof Hd.onCommitFiberUnmount=="function")try{Hd.onCommitFiberUnmount(XL,t)}catch{}switch(t.tag){case 5:ta||Lb(t,e);case 6:var r=Fo,i=wf;Fo=null,zm(n,e,t),Fo=r,wf=i,Fo!==null&&(wf?(n=Fo,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Fo.removeChild(t.stateNode));break;case 18:Fo!==null&&(wf?(n=Fo,t=t.stateNode,n.nodeType===8?L4(n.parentNode,t):n.nodeType===1&&L4(n,t),hC(n)):L4(Fo,t.stateNode));break;case 4:r=Fo,i=wf,Fo=t.stateNode.containerInfo,wf=!0,zm(n,e,t),Fo=r,wf=i;break;case 0:case 11:case 14:case 15:if(!ta&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Uue(t,e,o),i=i.next}while(i!==r)}zm(n,e,t);break;case 1:if(!ta&&(Lb(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Ii(t,e,a)}zm(n,e,t);break;case 21:zm(n,e,t);break;case 22:t.mode&1?(ta=(r=ta)||t.memoizedState!==null,zm(n,e,t),ta=r):zm(n,e,t);break;default:zm(n,e,t)}}function jY(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new mTe),e.forEach(function(r){var i=MTe.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function lf(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fo=a.stateNode,wf=!1;break e;case 3:Fo=a.stateNode.containerInfo,wf=!0;break e;case 4:Fo=a.stateNode.containerInfo,wf=!0;break e}a=a.return}if(Fo===null)throw Error(ct(160));Hue(s,o,i),Fo=null,wf=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ii(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vue(e,n),e=e.sibling}function Vue(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(lf(e,n),Ad(n),r&4){try{iE(3,n,n.return),tO(3,n)}catch(g){Ii(n,n.return,g)}try{iE(5,n,n.return)}catch(g){Ii(n,n.return,g)}}break;case 1:lf(e,n),Ad(n),r&512&&t!==null&&Lb(t,t.return);break;case 5:if(lf(e,n),Ad(n),r&512&&t!==null&&Lb(t,t.return),n.flags&32){var i=n.stateNode;try{cC(i,"")}catch(g){Ii(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&uce(i,s),f6(a,o);var c=f6(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?mce(i,f):u==="dangerouslySetInnerHTML"?hce(i,f):u==="children"?cC(i,f):zV(i,u,f,c)}switch(a){case"input":o6(i,s);break;case"textarea":fce(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?xw(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?xw(i,!!s.multiple,s.defaultValue,!0):xw(i,!!s.multiple,s.multiple?[]:"",!1))}i[yC]=s}catch(g){Ii(n,n.return,g)}}break;case 6:if(lf(e,n),Ad(n),r&4){if(n.stateNode===null)throw Error(ct(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){Ii(n,n.return,g)}}break;case 3:if(lf(e,n),Ad(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{hC(e.containerInfo)}catch(g){Ii(n,n.return,g)}break;case 4:lf(e,n),Ad(n);break;case 13:lf(e,n),Ad(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xj=ts())),r&4&&jY(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(ta=(c=ta)||u,lf(e,n),ta=c):lf(e,n),Ad(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(zt=n,u=n.child;u!==null;){for(f=zt=u;zt!==null;){switch(d=zt,p=d.child,d.tag){case 0:case 11:case 14:case 15:iE(4,d,d.return);break;case 1:Lb(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Ii(r,t,g)}}break;case 5:Lb(d,d.return);break;case 22:if(d.memoizedState!==null){$Y(f);continue}}p!==null?(p.return=d,zt=p):$Y(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pce("display",o))}catch(g){Ii(n,n.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Ii(n,n.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lf(e,n),Ad(n),r&4&&jY(n);break;case 21:break;default:lf(e,n),Ad(n)}}function Ad(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Gue(t)){var r=t;break e}t=t.return}throw Error(ct(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cC(i,""),r.flags&=-33);var s=VY(n);z6(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=VY(n);U6(n,a,o);break;default:throw Error(ct(161))}}catch(l){Ii(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function vTe(n,e,t){zt=n,jue(n)}function jue(n,e,t){for(var r=(n.mode&1)!==0;zt!==null;){var i=zt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||NR;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ta;a=NR;var c=ta;if(NR=o,(ta=l)&&!c)for(zt=i;zt!==null;)o=zt,l=o.child,o.tag===22&&o.memoizedState!==null?XY(i):l!==null?(l.return=o,zt=l):XY(i);for(;s!==null;)zt=s,jue(s),s=s.sibling;zt=i,NR=a,ta=c}WY(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,zt=s):WY(n)}}function WY(n){for(;zt!==null;){var e=zt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ta||tO(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ta)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:_f(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&RY(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}RY(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&hC(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}ta||e.flags&512&&N6(e)}catch(d){Ii(e,e.return,d)}}if(e===n){zt=null;break}if(t=e.sibling,t!==null){t.return=e.return,zt=t;break}zt=e.return}}function $Y(n){for(;zt!==null;){var e=zt;if(e===n){zt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,zt=t;break}zt=e.return}}function XY(n){for(;zt!==null;){var e=zt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{tO(4,e)}catch(l){Ii(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ii(e,i,l)}}var s=e.return;try{N6(e)}catch(l){Ii(e,s,l)}break;case 5:var o=e.return;try{N6(e)}catch(l){Ii(e,o,l)}}}catch(l){Ii(e,e.return,l)}if(e===n){zt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,zt=a;break}zt=e.return}}var yTe=Math.ceil,Yk=am.ReactCurrentDispatcher,vj=am.ReactCurrentOwner,Ou=am.ReactCurrentBatchConfig,Jn=0,yo=null,Es=null,Uo=0,Zl=0,Ob=X0(0),Hs=0,AC=null,F1=0,nO=0,yj=0,sE=null,sl=null,xj=0,Zw=1/0,Zh=null,Kk=!1,G6=null,$g=null,UR=!1,Cg=null,qk=0,oE=0,H6=null,LD=-1,OD=0;function Ga(){return Jn&6?ts():LD!==-1?LD:LD=ts()}function Xg(n){return n.mode&1?Jn&2&&Uo!==0?Uo&-Uo:tTe.transition!==null?(OD===0&&(OD=Cce()),OD):(n=or,n!==0||(n=window.event,n=n===void 0?16:Ice(n.type)),n):1}function kf(n,e,t,r){if(50<oE)throw oE=0,H6=null,Error(ct(185));YT(n,t,r),(!(Jn&2)||n!==yo)&&(n===yo&&(!(Jn&2)&&(nO|=t),Hs===4&&bg(n,Uo)),xl(n,r),t===1&&Jn===0&&!(e.mode&1)&&(Zw=ts()+500,QL&&J0()))}function xl(n,e){var t=n.callbackNode;tCe(n,e);var r=Ik(n,n===yo?Uo:0);if(r===0)t!==null&&nY(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&nY(t),e===1)n.tag===0?eTe(JY.bind(null,n)):Zce(JY.bind(null,n)),KCe(function(){!(Jn&6)&&J0()}),t=null;else{switch(Tce(r)){case 1:t=WV;break;case 4:t=Mce;break;case 16:t=kk;break;case 536870912:t=Ece;break;default:t=kk}t=Que(t,Wue.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Wue(n,e){if(LD=-1,OD=0,Jn&6)throw Error(ct(327));var t=n.callbackNode;if(Aw()&&n.callbackNode!==t)return null;var r=Ik(n,n===yo?Uo:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Qk(n,r);else{e=r;var i=Jn;Jn|=2;var s=Xue();(yo!==n||Uo!==e)&&(Zh=null,Zw=ts()+500,r1(n,e));do try{bTe();break}catch(a){$ue(n,a)}while(!0);ij(),Yk.current=s,Jn=i,Es!==null?e=0:(yo=null,Uo=0,e=Hs)}if(e!==0){if(e===2&&(i=g6(n),i!==0&&(r=i,e=V6(n,i))),e===1)throw t=AC,r1(n,0),bg(n,r),xl(n,ts()),t;if(e===6)bg(n,r);else{if(i=n.current.alternate,!(r&30)&&!xTe(i)&&(e=Qk(n,r),e===2&&(s=g6(n),s!==0&&(r=s,e=V6(n,s))),e===1))throw t=AC,r1(n,0),bg(n,r),xl(n,ts()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(ct(345));case 2:gy(n,sl,Zh);break;case 3:if(bg(n,r),(r&130023424)===r&&(e=xj+500-ts(),10<e)){if(Ik(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Ga(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=A6(gy.bind(null,n,sl,Zh),e);break}gy(n,sl,Zh);break;case 4:if(bg(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Df(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ts()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yTe(r/1960))-r,10<r){n.timeoutHandle=A6(gy.bind(null,n,sl,Zh),r);break}gy(n,sl,Zh);break;case 5:gy(n,sl,Zh);break;default:throw Error(ct(329))}}}return xl(n,ts()),n.callbackNode===t?Wue.bind(null,n):null}function V6(n,e){var t=sE;return n.current.memoizedState.isDehydrated&&(r1(n,e).flags|=256),n=Qk(n,e),n!==2&&(e=sl,sl=t,e!==null&&j6(e)),n}function j6(n){sl===null?sl=n:sl.push.apply(sl,n)}function xTe(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Hf(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bg(n,e){for(e&=~yj,e&=~nO,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Df(e),r=1<<t;n[t]=-1,e&=~r}}function JY(n){if(Jn&6)throw Error(ct(327));Aw();var e=Ik(n,0);if(!(e&1))return xl(n,ts()),null;var t=Qk(n,e);if(n.tag!==0&&t===2){var r=g6(n);r!==0&&(e=r,t=V6(n,r))}if(t===1)throw t=AC,r1(n,0),bg(n,e),xl(n,ts()),t;if(t===6)throw Error(ct(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,gy(n,sl,Zh),xl(n,ts()),null}function _j(n,e){var t=Jn;Jn|=1;try{return n(e)}finally{Jn=t,Jn===0&&(Zw=ts()+500,QL&&J0())}}function N1(n){Cg!==null&&Cg.tag===0&&!(Jn&6)&&Aw();var e=Jn;Jn|=1;var t=Ou.transition,r=or;try{if(Ou.transition=null,or=1,n)return n()}finally{or=r,Ou.transition=t,Jn=e,!(Jn&6)&&J0()}}function bj(){Zl=Ob.current,Jr(Ob)}function r1(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,YCe(t)),Es!==null)for(t=Es.return;t!==null;){var r=t;switch(tj(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uk();break;case 3:qw(),Jr(vl),Jr(ha),uj();break;case 5:cj(r);break;case 4:qw();break;case 13:Jr(mi);break;case 19:Jr(mi);break;case 10:sj(r.type._context);break;case 22:case 23:bj()}t=t.return}if(yo=n,Es=n=Jg(n.current,null),Uo=Zl=e,Hs=0,AC=null,yj=nO=F1=0,sl=sE=null,Dy!==null){for(e=0;e<Dy.length;e++)if(t=Dy[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Dy=null}return n}function $ue(n,e){do{var t=Es;try{if(ij(),DD.current=Jk,Xk){for(var r=Ci.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xk=!1}if(O1=0,fo=Ns=Ci=null,rE=!1,bC=0,vj.current=null,t===null||t.return===null){Hs=1,AC=e,Es=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Uo,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=LY(o);if(p!==null){p.flags&=-257,OY(p,o,a,s,e),p.mode&1&&IY(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){IY(s,c,e),wj();break e}l=Error(ct(426))}}else if(ii&&a.mode&1){var y=LY(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),OY(y,o,a,s,e),nj(Qw(l,a));break e}}s=l=Qw(l,a),Hs!==4&&(Hs=2),sE===null?sE=[s]:sE.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=Tue(s,l,e);TY(s,x);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&($g===null||!$g.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Rue(s,a,e);TY(s,w);break e}}s=s.return}while(s!==null)}Yue(t)}catch(M){e=M,Es===t&&t!==null&&(Es=t=t.return);continue}break}while(!0)}function Xue(){var n=Yk.current;return Yk.current=Jk,n===null?Jk:n}function wj(){(Hs===0||Hs===3||Hs===2)&&(Hs=4),yo===null||!(F1&268435455)&&!(nO&268435455)||bg(yo,Uo)}function Qk(n,e){var t=Jn;Jn|=2;var r=Xue();(yo!==n||Uo!==e)&&(Zh=null,r1(n,e));do try{_Te();break}catch(i){$ue(n,i)}while(!0);if(ij(),Jn=t,Yk.current=r,Es!==null)throw Error(ct(261));return yo=null,Uo=0,Hs}function _Te(){for(;Es!==null;)Jue(Es)}function bTe(){for(;Es!==null&&!$Ee();)Jue(Es)}function Jue(n){var e=que(n.alternate,n,Zl);n.memoizedProps=n.pendingProps,e===null?Yue(n):Es=e,vj.current=null}function Yue(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=pTe(t,e),t!==null){t.flags&=32767,Es=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Hs=6,Es=null;return}}else if(t=hTe(t,e,Zl),t!==null){Es=t;return}if(e=e.sibling,e!==null){Es=e;return}Es=e=n}while(e!==null);Hs===0&&(Hs=5)}function gy(n,e,t){var r=or,i=Ou.transition;try{Ou.transition=null,or=1,wTe(n,e,t,r)}finally{Ou.transition=i,or=r}return null}function wTe(n,e,t,r){do Aw();while(Cg!==null);if(Jn&6)throw Error(ct(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ct(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(nCe(n,s),n===yo&&(Es=yo=null,Uo=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||UR||(UR=!0,Que(kk,function(){return Aw(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ou.transition,Ou.transition=null;var o=or;or=1;var a=Jn;Jn|=4,vj.current=null,gTe(n,t),Vue(t,n),HCe(w6),Lk=!!b6,w6=b6=null,n.current=t,vTe(t),XEe(),Jn=a,or=o,Ou.transition=s}else n.current=t;if(UR&&(UR=!1,Cg=n,qk=i),s=n.pendingLanes,s===0&&($g=null),KEe(t.stateNode),xl(n,ts()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kk)throw Kk=!1,n=G6,G6=null,n;return qk&1&&n.tag!==0&&Aw(),s=n.pendingLanes,s&1?n===H6?oE++:(oE=0,H6=n):oE=0,J0(),null}function Aw(){if(Cg!==null){var n=Tce(qk),e=Ou.transition,t=or;try{if(Ou.transition=null,or=16>n?16:n,Cg===null)var r=!1;else{if(n=Cg,Cg=null,qk=0,Jn&6)throw Error(ct(331));var i=Jn;for(Jn|=4,zt=n.current;zt!==null;){var s=zt,o=s.child;if(zt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(zt=c;zt!==null;){var u=zt;switch(u.tag){case 0:case 11:case 15:iE(8,u,s)}var f=u.child;if(f!==null)f.return=u,zt=f;else for(;zt!==null;){u=zt;var d=u.sibling,p=u.return;if(zue(u),u===c){zt=null;break}if(d!==null){d.return=p,zt=d;break}zt=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}zt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,zt=o;else e:for(;zt!==null;){if(s=zt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:iE(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,zt=x;break e}zt=s.return}}var _=n.current;for(zt=_;zt!==null;){o=zt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,zt=b;else e:for(o=_;zt!==null;){if(a=zt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tO(9,a)}}catch(M){Ii(a,a.return,M)}if(a===o){zt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,zt=w;break e}zt=a.return}}if(Jn=i,J0(),Hd&&typeof Hd.onPostCommitFiberRoot=="function")try{Hd.onPostCommitFiberRoot(XL,n)}catch{}r=!0}return r}finally{or=t,Ou.transition=e}}return!1}function YY(n,e,t){e=Qw(t,e),e=Tue(n,e,1),n=Wg(n,e,1),e=Ga(),n!==null&&(YT(n,1,e),xl(n,e))}function Ii(n,e,t){if(n.tag===3)YY(n,n,t);else for(;e!==null;){if(e.tag===3){YY(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($g===null||!$g.has(r))){n=Qw(t,n),n=Rue(e,n,1),e=Wg(e,n,1),n=Ga(),e!==null&&(YT(e,1,n),xl(e,n));break}}e=e.return}}function STe(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Ga(),n.pingedLanes|=n.suspendedLanes&t,yo===n&&(Uo&t)===t&&(Hs===4||Hs===3&&(Uo&130023424)===Uo&&500>ts()-xj?r1(n,0):yj|=t),xl(n,e)}function Kue(n,e){e===0&&(n.mode&1?(e=RR,RR<<=1,!(RR&130023424)&&(RR=4194304)):e=1);var t=Ga();n=Up(n,e),n!==null&&(YT(n,e,t),xl(n,t))}function ATe(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Kue(n,t)}function MTe(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(ct(314))}r!==null&&r.delete(e),Kue(n,t)}var que;que=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||vl.current)fl=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return fl=!1,dTe(n,e,t);fl=!!(n.flags&131072)}else fl=!1,ii&&e.flags&1048576&&eue(e,Hk,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ID(n,e),n=e.pendingProps;var i=Jw(e,ha.current);Sw(e,t),i=dj(null,e,r,n,i,t);var s=hj();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yl(r)?(s=!0,zk(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,aj(e),i.updater=eO,e.stateNode=i,i._reactInternals=e,B6(e,r,n,t),e=I6(null,e,r,!0,s,t)):(e.tag=0,ii&&s&&ej(e),ka(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(ID(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CTe(r),n=_f(r,n),i){case 0:e=k6(null,e,r,n,t);break e;case 1:e=UY(null,e,r,n,t);break e;case 11:e=FY(null,e,r,n,t);break e;case 14:e=NY(null,e,r,_f(r.type,n),t);break e}throw Error(ct(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_f(r,i),k6(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_f(r,i),UY(n,e,r,i,t);case 3:e:{if(kue(e),n===null)throw Error(ct(387));r=e.pendingProps,s=e.memoizedState,i=s.element,oue(n,e),Wk(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qw(Error(ct(423)),e),e=zY(n,e,r,t,i);break e}else if(r!==i){i=Qw(Error(ct(424)),e),e=zY(n,e,r,t,i);break e}else for(ac=jg(e.stateNode.containerInfo.firstChild),hc=e,ii=!0,Af=null,t=iue(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Yw(),r===i){e=zp(n,e,t);break e}ka(n,e,r,t)}e=e.child}return e;case 5:return aue(e),n===null&&T6(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,S6(r,i)?o=null:s!==null&&S6(r,s)&&(e.flags|=32),Due(n,e),ka(n,e,o,t),e.child;case 6:return n===null&&T6(e),null;case 13:return Iue(n,e,t);case 4:return lj(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Kw(e,null,r,t):ka(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_f(r,i),FY(n,e,r,i,t);case 7:return ka(n,e,e.pendingProps,t),e.child;case 8:return ka(n,e,e.pendingProps.children,t),e.child;case 12:return ka(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rr(Vk,r._currentValue),r._currentValue=o,s!==null)if(Hf(s.value,o)){if(s.children===i.children&&!vl.current){e=zp(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Mp(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),R6(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ct(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),R6(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ka(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sw(e,t),i=Nu(i),r=r(i),e.flags|=1,ka(n,e,r,t),e.child;case 14:return r=e.type,i=_f(r,e.pendingProps),i=_f(r.type,i),NY(n,e,r,i,t);case 15:return Pue(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_f(r,i),ID(n,e),e.tag=1,yl(r)?(n=!0,zk(e)):n=!1,Sw(e,t),Cue(e,r,i),B6(e,r,i,t),I6(null,e,r,!0,n,t);case 19:return Lue(n,e,t);case 22:return Bue(n,e,t)}throw Error(ct(156,e.tag))};function Que(n,e){return Ace(n,e)}function ETe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eu(n,e,t,r){return new ETe(n,e,t,r)}function Sj(n){return n=n.prototype,!(!n||!n.isReactComponent)}function CTe(n){if(typeof n=="function")return Sj(n)?1:0;if(n!=null){if(n=n.$$typeof,n===HV)return 11;if(n===VV)return 14}return 2}function Jg(n,e){var t=n.alternate;return t===null?(t=Eu(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function FD(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")Sj(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Eb:return i1(t.children,i,s,e);case GV:o=8,i|=8;break;case t6:return n=Eu(12,t,e,i|2),n.elementType=t6,n.lanes=s,n;case n6:return n=Eu(13,t,e,i),n.elementType=n6,n.lanes=s,n;case r6:return n=Eu(19,t,e,i),n.elementType=r6,n.lanes=s,n;case ace:return rO(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case sce:o=10;break e;case oce:o=9;break e;case HV:o=11;break e;case VV:o=14;break e;case dg:o=16,r=null;break e}throw Error(ct(130,n==null?n:typeof n,""))}return e=Eu(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function i1(n,e,t,r){return n=Eu(7,n,r,e),n.lanes=t,n}function rO(n,e,t,r){return n=Eu(22,n,r,e),n.elementType=ace,n.lanes=t,n.stateNode={isHidden:!1},n}function V4(n,e,t){return n=Eu(6,n,null,e),n.lanes=t,n}function j4(n,e,t){return e=Eu(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function TTe(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=A4(0),this.expirationTimes=A4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=A4(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Aj(n,e,t,r,i,s,o,a,l){return n=new TTe(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Eu(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},aj(s),n}function RTe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mb,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Zue(n){if(!n)return d0;n=n._reactInternals;e:{if(hx(n)!==n||n.tag!==1)throw Error(ct(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yl(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ct(171))}if(n.tag===1){var t=n.type;if(yl(t))return Qce(n,t,e)}return e}function efe(n,e,t,r,i,s,o,a,l){return n=Aj(t,r,!0,n,i,s,o,a,l),n.context=Zue(null),t=n.current,r=Ga(),i=Xg(t),s=Mp(r,i),s.callback=e??null,Wg(t,s,i),n.current.lanes=i,YT(n,i,r),xl(n,r),n}function iO(n,e,t,r){var i=e.current,s=Ga(),o=Xg(i);return t=Zue(t),e.context===null?e.context=t:e.pendingContext=t,e=Mp(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Wg(i,e,o),n!==null&&(kf(n,i,o,s),BD(n,i,o)),o}function Zk(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function KY(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Mj(n,e){KY(n,e),(n=n.alternate)&&KY(n,e)}function PTe(){return null}var tfe=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ej(n){this._internalRoot=n}sO.prototype.render=Ej.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ct(409));iO(n,e,null,null)};sO.prototype.unmount=Ej.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;N1(function(){iO(null,n,null,null)}),e[Np]=null}};function sO(n){this._internalRoot=n}sO.prototype.unstable_scheduleHydration=function(n){if(n){var e=Bce();n={blockedOn:null,target:n,priority:e};for(var t=0;t<_g.length&&e!==0&&e<_g[t].priority;t++);_g.splice(t,0,n),t===0&&kce(n)}};function Cj(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function oO(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function qY(){}function BTe(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Zk(o);s.call(c)}}var o=efe(e,r,n,0,null,!1,!1,"",qY);return n._reactRootContainer=o,n[Np]=o.current,gC(n.nodeType===8?n.parentNode:n),N1(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Zk(l);a.call(c)}}var l=Aj(n,0,!1,null,null,!1,!1,"",qY);return n._reactRootContainer=l,n[Np]=l.current,gC(n.nodeType===8?n.parentNode:n),N1(function(){iO(e,l,t,r)}),l}function aO(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Zk(o);a.call(l)}}iO(e,o,n,i)}else o=BTe(t,e,n,i,r);return Zk(o)}Rce=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=O2(e.pendingLanes);t!==0&&($V(e,t|1),xl(e,ts()),!(Jn&6)&&(Zw=ts()+500,J0()))}break;case 13:N1(function(){var r=Up(n,1);if(r!==null){var i=Ga();kf(r,n,1,i)}}),Mj(n,1)}};XV=function(n){if(n.tag===13){var e=Up(n,134217728);if(e!==null){var t=Ga();kf(e,n,134217728,t)}Mj(n,134217728)}};Pce=function(n){if(n.tag===13){var e=Xg(n),t=Up(n,e);if(t!==null){var r=Ga();kf(t,n,e,r)}Mj(n,e)}};Bce=function(){return or};Dce=function(n,e){var t=or;try{return or=n,e()}finally{or=t}};h6=function(n,e,t){switch(e){case"input":if(o6(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=qL(r);if(!i)throw Error(ct(90));cce(r),o6(r,i)}}}break;case"textarea":fce(n,t);break;case"select":e=t.value,e!=null&&xw(n,!!t.multiple,e,!1)}};yce=_j;xce=N1;var DTe={usingClientEntryPoint:!1,Events:[qT,Pb,qL,gce,vce,_j]},RM={findFiberByHostInstance:By,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kTe={bundleType:RM.bundleType,version:RM.version,rendererPackageName:RM.rendererPackageName,rendererConfig:RM.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:am.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=wce(n),n===null?null:n.stateNode},findFiberByHostInstance:RM.findFiberByHostInstance||PTe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zR=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zR.isDisabled&&zR.supportsFiber)try{XL=zR.inject(kTe),Hd=zR}catch{}}Cc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DTe;Cc.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cj(e))throw Error(ct(200));return RTe(n,e,null,t)};Cc.createRoot=function(n,e){if(!Cj(n))throw Error(ct(299));var t=!1,r="",i=tfe;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Aj(n,1,!1,null,null,t,!1,r,i),n[Np]=e.current,gC(n.nodeType===8?n.parentNode:n),new Ej(e)};Cc.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ct(188)):(n=Object.keys(n).join(","),Error(ct(268,n)));return n=wce(e),n=n===null?null:n.stateNode,n};Cc.flushSync=function(n){return N1(n)};Cc.hydrate=function(n,e,t){if(!oO(e))throw Error(ct(200));return aO(null,n,e,!0,t)};Cc.hydrateRoot=function(n,e,t){if(!Cj(n))throw Error(ct(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=tfe;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=efe(e,null,n,1,t??null,i,!1,s,o),n[Np]=e.current,gC(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new sO(e)};Cc.render=function(n,e,t){if(!oO(e))throw Error(ct(200));return aO(null,n,e,!1,t)};Cc.unmountComponentAtNode=function(n){if(!oO(n))throw Error(ct(40));return n._reactRootContainer?(N1(function(){aO(null,null,n,!1,function(){n._reactRootContainer=null,n[Np]=null})}),!0):!1};Cc.unstable_batchedUpdates=_j;Cc.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!oO(t))throw Error(ct(200));if(n==null||n._reactInternals===void 0)throw Error(ct(38));return aO(n,e,t,!1,r)};Cc.version="18.3.1-next-f1338f8080-20240426";function nfe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nfe)}catch(n){console.error(n)}}nfe(),tce.exports=Cc;var ZT=tce.exports;const rfe=jS(ZT);var ife,QY=ZT;ife=Zz.createRoot=QY.createRoot,Zz.hydrateRoot=QY.hydrateRoot;function Wa(){return Wa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wa.apply(null,arguments)}/**
* @license
* Copyright 2010-2022 Three.js Authors
* SPDX-License-Identifier: MIT
*/const e3="146",ITe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},LTe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},sfe=0,W6=1,ofe=2,OTe=3,afe=0,lO=1,aE=2,Iy=3,Gp=0,Ha=1,Cu=2,Ep=0,s1=1,$6=2,X6=3,J6=4,lfe=5,Cy=100,cfe=101,ufe=102,Y6=103,K6=104,ffe=200,dfe=201,hfe=202,pfe=203,Tj=204,Rj=205,mfe=206,gfe=207,vfe=208,yfe=209,xfe=210,_fe=0,bfe=1,wfe=2,eI=3,Sfe=4,Afe=5,Mfe=6,Efe=7,t3=0,Cfe=1,Tfe=2,If=0,Rfe=1,Pfe=2,Bfe=3,Pj=4,Dfe=5,cO=300,h0=301,p0=302,eS=303,MC=304,JS=306,eh=1e3,zs=1001,tS=1002,ns=1003,EC=1004,FTe=1004,CC=1005,NTe=1005,jr=1006,uO=1007,UTe=1007,lm=1008,zTe=1008,Hp=1009,kfe=1010,Ife=1011,Bj=1012,Lfe=1013,Tg=1014,vp=1015,nS=1016,Ofe=1017,Ffe=1018,o1=1020,Nfe=1021,Ufe=1022,al=1023,zfe=1024,Gfe=1025,Yg=1026,U1=1027,Hfe=1028,Vfe=1029,jfe=1030,Wfe=1031,$fe=1033,ND=33776,UD=33777,zD=33778,GD=33779,q6=35840,Q6=35841,Z6=35842,eG=35843,Xfe=36196,tG=37492,nG=37496,rG=37808,iG=37809,sG=37810,oG=37811,aG=37812,lG=37813,cG=37814,uG=37815,fG=37816,dG=37817,hG=37818,pG=37819,mG=37820,gG=37821,vG=36492,Jfe=2200,Yfe=2201,Kfe=2202,rS=2300,z1=2301,HD=2302,Ly=2400,Oy=2401,TC=2402,fO=2500,Dj=2501,qfe=0,kj=1,tI=2,m0=3e3,ni=3001,Qfe=3200,Ij=3201,Y0=0,Zfe=1,GTe="",Pd="srgb",Rg="srgb-linear",HTe=0,VD=7680,VTe=7681,jTe=7682,WTe=7683,$Te=34055,XTe=34056,JTe=5386,YTe=512,KTe=513,qTe=514,QTe=515,ZTe=516,e3e=517,t3e=518,ede=519,RC=35044,n3e=35048,r3e=35040,i3e=35045,s3e=35049,o3e=35041,a3e=35046,l3e=35050,c3e=35042,u3e="100",yG="300 es",nI=1035;let cm=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const t=this._listeners[e.type];if(t!==void 0){e.target=this;const r=t.slice(0);for(let i=0,s=r.length;i<s;i++)r[i].call(this,e);e.target=null}}};const Yo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ZY=1234567;const a1=Math.PI/180,PC=180/Math.PI;function pc(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Yo[n&255]+Yo[n>>8&255]+Yo[n>>16&255]+Yo[n>>24&255]+"-"+Yo[e&255]+Yo[e>>8&255]+"-"+Yo[e>>16&15|64]+Yo[e>>24&255]+"-"+Yo[t&63|128]+Yo[t>>8&255]+"-"+Yo[t>>16&255]+Yo[t>>24&255]+Yo[r&255]+Yo[r>>8&255]+Yo[r>>16&255]+Yo[r>>24&255]).toLowerCase()}function rs(n,e,t){return Math.max(e,Math.min(t,n))}function Lj(n,e){return(n%e+e)%e}function f3e(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function d3e(n,e,t){return n!==e?(t-n)/(e-n):0}function lE(n,e,t){return(1-t)*n+t*e}function h3e(n,e,t,r){return lE(n,e,1-Math.exp(-t*r))}function p3e(n,e=1){return e-Math.abs(Lj(n,e*2)-e)}function m3e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function g3e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function v3e(n,e){return n+Math.floor(Math.random()*(e-n+1))}function y3e(n,e){return n+Math.random()*(e-n)}function x3e(n){return n*(.5-Math.random())}function _3e(n){n!==void 0&&(ZY=n);let e=ZY+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function b3e(n){return n*a1}function w3e(n){return n*PC}function xG(n){return(n&n-1)===0&&n!==0}function tde(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function rI(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function S3e(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),d=o((e-r)/2),p=s((r-e)/2),m=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*d,a*c);break;case"YZY":n.set(l*d,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*d,a*u,a*c);break;case"XZX":n.set(a*u,l*m,l*p,a*c);break;case"YXY":n.set(l*p,a*u,l*m,a*c);break;case"ZYZ":n.set(l*m,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function yp(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function xr(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var ll=Object.freeze({__proto__:null,DEG2RAD:a1,RAD2DEG:PC,generateUUID:pc,clamp:rs,euclideanModulo:Lj,mapLinear:f3e,inverseLerp:d3e,lerp:lE,damp:h3e,pingpong:p3e,smoothstep:m3e,smootherstep:g3e,randInt:v3e,randFloat:y3e,randFloatSpread:x3e,seededRandom:_3e,degToRad:b3e,radToDeg:w3e,isPowerOfTwo:xG,ceilPowerOfTwo:tde,floorPowerOfTwo:rI,setQuaternionFromProperEuler:S3e,normalize:xr,denormalize:yp});let rt=class nde{constructor(e=0,t=0){nde.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}};class sa{constructor(){sa.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],p=r[5],m=r[8],g=i[0],y=i[3],x=i[6],_=i[1],b=i[4],w=i[7],M=i[2],C=i[5],R=i[8];return s[0]=o*g+a*_+l*M,s[3]=o*y+a*b+l*C,s[6]=o*x+a*w+l*R,s[1]=c*g+u*_+f*M,s[4]=c*y+u*b+f*C,s[7]=c*x+u*w+f*R,s[2]=d*g+p*_+m*M,s[5]=d*y+p*b+m*C,s[8]=d*x+p*w+m*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,d=a*l-u*s,p=c*s-o*l,m=t*f+r*d+i*p;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return e[0]=f*g,e[1]=(i*c-u*r)*g,e[2]=(a*r-i*o)*g,e[3]=d*g,e[4]=(u*t-i*l)*g,e[5]=(i*s-a*t)*g,e[6]=p*g,e[7]=(r*l-c*t)*g,e[8]=(o*t-r*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*c,i[6]=t*a+r*u,i[1]=-r*s+t*l,i[4]=-r*o+t*c,i[7]=-r*a+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function rde(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const A3e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Fb(n,e){return new A3e[n](e)}function BC(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function l1(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function jD(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const W4={[Pd]:{[Rg]:l1},[Rg]:{[Pd]:jD}},iu={legacyMode:!0,get workingColorSpace(){return Rg},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(W4[e]&&W4[e][t]!==void 0){const r=W4[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},ide={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Os={r:0,g:0,b:0},cf={h:0,s:0,l:0},GR={h:0,s:0,l:0};function $4(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function HR(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let ft=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Pd){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,iu.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Rg){return this.r=e,this.g=t,this.b=r,iu.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Rg){if(e=Lj(e,1),t=rs(t,0,1),r=rs(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=$4(o,s,e+1/3),this.g=$4(o,s,e),this.b=$4(o,s,e-1/3)}return iu.toWorkingColorSpace(this,i),this}setStyle(e,t=Pd){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,iu.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,iu.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,iu.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,iu.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Pd){const r=ide[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=l1(e.r),this.g=l1(e.g),this.b=l1(e.b),this}copyLinearToSRGB(e){return this.r=jD(e.r),this.g=jD(e.g),this.b=jD(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Pd){return iu.fromWorkingColorSpace(HR(this,Os),e),rs(Os.r*255,0,255)<<16^rs(Os.g*255,0,255)<<8^rs(Os.b*255,0,255)<<0}getHexString(e=Pd){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Rg){iu.fromWorkingColorSpace(HR(this,Os),t);const r=Os.r,i=Os.g,s=Os.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Rg){return iu.fromWorkingColorSpace(HR(this,Os),t),e.r=Os.r,e.g=Os.g,e.b=Os.b,e}getStyle(e=Pd){return iu.fromWorkingColorSpace(HR(this,Os),e),e!==Pd?`color(${e} ${Os.r} ${Os.g} ${Os.b})`:`rgb(${Os.r*255|0},${Os.g*255|0},${Os.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(cf),cf.h+=e,cf.s+=t,cf.l+=r,this.setHSL(cf.h,cf.s,cf.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(cf),e.getHSL(GR);const r=lE(cf.h,GR.h,t),i=lE(cf.s,GR.s,t),s=lE(cf.l,GR.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};ft.NAMES=ide;let g_;class Oj{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{g_===void 0&&(g_=BC("canvas")),g_.width=e.width,g_.height=e.height;const r=g_.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=g_}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=BC("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=l1(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(l1(t[r]/255)*255):t[r]=l1(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Fy{constructor(e=null){this.isSource=!0,this.uuid=pc(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(X4(i[o].image)):s.push(X4(i[o]))}else s=X4(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function X4(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Oj.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let M3e=0;class Kr extends cm{constructor(e=Kr.DEFAULT_IMAGE,t=Kr.DEFAULT_MAPPING,r=zs,i=zs,s=jr,o=lm,a=al,l=Hp,c=1,u=m0){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:M3e++}),this.uuid=pc(),this.name="",this.source=new Fy(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new rt(0,0),this.repeat=new rt(1,1),this.center=new rt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new sa,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==cO)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case eh:e.x=e.x-Math.floor(e.x);break;case zs:e.x=e.x<0?0:1;break;case tS:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case eh:e.y=e.y-Math.floor(e.y);break;case zs:e.y=e.y<0?0:1;break;case tS:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Kr.DEFAULT_IMAGE=null;Kr.DEFAULT_MAPPING=cO;class wn{constructor(e=0,t=0,r=0,i=1){wn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const o=e.elements,a=o[0],l=o[4],c=o[8],u=o[1],f=o[5],d=o[9],p=o[2],m=o[6],g=o[10];if(Math.abs(l-u)<.01&&Math.abs(c-p)<.01&&Math.abs(d-m)<.01){if(Math.abs(l+u)<.1&&Math.abs(c+p)<.1&&Math.abs(d+m)<.1&&Math.abs(a+f+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const x=(a+1)/2,_=(f+1)/2,b=(g+1)/2,w=(l+u)/4,M=(c+p)/4,C=(d+m)/4;return x>_&&x>b?x<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(x),i=w/r,s=M/r):_>b?_<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(_),r=w/i,s=C/i):b<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(b),r=M/s,i=C/s),this.set(r,i,s,t),this}let y=Math.sqrt((m-d)*(m-d)+(c-p)*(c-p)+(u-l)*(u-l));return Math.abs(y)<.001&&(y=1),this.x=(m-d)/y,this.y=(c-p)/y,this.z=(u-l)/y,this.w=Math.acos((a+f+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class zu extends cm{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new wn(0,0,e,t),this.scissorTest=!1,this.viewport=new wn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Kr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:jr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Fy(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}let n3=class extends Kr{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ns,this.minFilter=ns,this.wrapR=zs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class E3e extends zu{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new n3(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class dO extends Kr{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ns,this.minFilter=ns,this.wrapR=zs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class C3e extends zu{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new dO(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class T3e extends zu{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Si{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=s[o+0],p=s[o+1],m=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=m,e[t+3]=g;return}if(f!==g||l!==d||c!==p||u!==m){let y=1-a;const x=l*d+c*p+u*m+f*g,_=x>=0?1:-1,b=1-x*x;if(b>Number.EPSILON){const M=Math.sqrt(b),C=Math.atan2(M,x*_);y=Math.sin(y*C)/M,a=Math.sin(a*C)/M}const w=a*_;if(l=l*y+d*w,c=c*y+p*w,u=u*y+m*w,f=f*y+g*w,y===1-a){const M=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=M,c*=M,u*=M,f*=M}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],d=s[o+1],p=s[o+2],m=s[o+3];return e[t]=a*m+u*f+l*p-c*d,e[t+1]=l*m+u*d+c*f-a*p,e[t+2]=c*m+u*p+a*d-l*f,e[t+3]=u*m-a*f-l*d-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),d=l(r/2),p=l(i/2),m=l(s/2);switch(o){case"XYZ":this._x=d*u*f+c*p*m,this._y=c*p*f-d*u*m,this._z=c*u*m+d*p*f,this._w=c*u*f-d*p*m;break;case"YXZ":this._x=d*u*f+c*p*m,this._y=c*p*f-d*u*m,this._z=c*u*m-d*p*f,this._w=c*u*f+d*p*m;break;case"ZXY":this._x=d*u*f-c*p*m,this._y=c*p*f+d*u*m,this._z=c*u*m+d*p*f,this._w=c*u*f-d*p*m;break;case"ZYX":this._x=d*u*f-c*p*m,this._y=c*p*f+d*u*m,this._z=c*u*m-d*p*f,this._w=c*u*f+d*p*m;break;case"YZX":this._x=d*u*f+c*p*m,this._y=c*p*f+d*u*m,this._z=c*u*m-d*p*f,this._w=c*u*f-d*p*m;break;case"XZY":this._x=d*u*f-c*p*m,this._y=c*p*f-d*u*m,this._z=c*u*m+d*p*f,this._w=c*u*f+d*p*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],d=r+a+f;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-i)*p}else if(r>a&&r>f){const p=2*Math.sqrt(1+r-a-f);this._w=(u-l)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+c)/p}else if(a>f){const p=2*Math.sqrt(1+a-r-f);this._w=(s-c)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+f-r-a);this._w=(o-i)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(rs(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*r+t*this._x,this._y=p*i+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}let ge=class sde{constructor(e=0,t=0,r=0){sde.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(eK.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(eK.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,f=l*i+s*r-o*t,d=-s*t-o*r-a*i;return this.x=c*l+d*-s+u*-a-f*-o,this.y=u*l+d*-o+f*-s-c*-a,this.z=f*l+d*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return J4.copy(this).projectOnVector(e),this.sub(J4)}reflect(e){return this.sub(J4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(rs(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const J4=new ge,eK=new Si;let um=class{constructor(e=new ge(1/0,1/0,1/0),t=new ge(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],f=e[l+1],d=e[l+2];u<t&&(t=u),f<r&&(r=f),d<i&&(i=d),u>s&&(s=u),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),f=e.getY(l),d=e.getZ(l);u<t&&(t=u),f<r&&(r=f),d<i&&(i=d),u>s&&(s=u),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Uv.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Uv.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Uv)}else r.boundingBox===null&&r.computeBoundingBox(),Y4.copy(r.boundingBox),Y4.applyMatrix4(e.matrixWorld),this.union(Y4);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Uv),Uv.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(PM),VR.subVectors(this.max,PM),v_.subVectors(e.a,PM),y_.subVectors(e.b,PM),x_.subVectors(e.c,PM),Gm.subVectors(y_,v_),Hm.subVectors(x_,y_),zv.subVectors(v_,x_);let t=[0,-Gm.z,Gm.y,0,-Hm.z,Hm.y,0,-zv.z,zv.y,Gm.z,0,-Gm.x,Hm.z,0,-Hm.x,zv.z,0,-zv.x,-Gm.y,Gm.x,0,-Hm.y,Hm.x,0,-zv.y,zv.x,0];return!K4(t,v_,y_,x_,VR)||(t=[1,0,0,0,1,0,0,0,1],!K4(t,v_,y_,x_,VR))?!1:(jR.crossVectors(Gm,Hm),t=[jR.x,jR.y,jR.z],K4(t,v_,y_,x_,VR))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Uv.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Uv).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Fh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Fh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Fh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Fh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Fh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Fh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Fh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Fh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Fh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};const Fh=[new ge,new ge,new ge,new ge,new ge,new ge,new ge,new ge],Uv=new ge,Y4=new um,v_=new ge,y_=new ge,x_=new ge,Gm=new ge,Hm=new ge,zv=new ge,PM=new ge,VR=new ge,jR=new ge,Gv=new ge;function K4(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Gv.fromArray(n,s);const a=i.x*Math.abs(Gv.x)+i.y*Math.abs(Gv.y)+i.z*Math.abs(Gv.z),l=e.dot(Gv),c=t.dot(Gv),u=r.dot(Gv);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const R3e=new um,BM=new ge,q4=new ge;let fm=class{constructor(e=new ge,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):R3e.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;BM.subVectors(e,this.center);const t=BM.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(BM,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(q4.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(BM.copy(e.center).add(q4)),this.expandByPoint(BM.copy(e.center).sub(q4))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Nh=new ge,Q4=new ge,WR=new ge,Vm=new ge,Z4=new ge,$R=new ge,eN=new ge;let r3=class{constructor(e=new ge,t=new ge(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Nh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Nh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Nh.copy(this.direction).multiplyScalar(t).add(this.origin),Nh.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Q4.copy(e).add(t).multiplyScalar(.5),WR.copy(t).sub(e).normalize(),Vm.copy(this.origin).sub(Q4);const s=e.distanceTo(t)*.5,o=-this.direction.dot(WR),a=Vm.dot(this.direction),l=-Vm.dot(WR),c=Vm.lengthSq(),u=Math.abs(1-o*o);let f,d,p,m;if(u>0)if(f=o*l-a,d=o*a-l,m=s*u,f>=0)if(d>=-m)if(d<=m){const g=1/u;f*=g,d*=g,p=f*(f+o*d+2*a)+d*(o*f+d+2*l)+c}else d=s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;else d=-s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;else d<=-m?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c):d<=m?(f=0,d=Math.min(Math.max(-s,-l),s),p=d*(d+2*l)+c):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(f).add(this.origin),i&&i.copy(WR).multiplyScalar(d).add(Q4),p}intersectSphere(e,t){Nh.subVectors(e.center,this.origin);const r=Nh.dot(this.direction),i=Nh.dot(Nh)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Nh)!==null}intersectTriangle(e,t,r,i,s){Z4.subVectors(t,e),$R.subVectors(r,e),eN.crossVectors(Z4,$R);let o=this.direction.dot(eN),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Vm.subVectors(this.origin,e);const l=a*this.direction.dot($R.crossVectors(Vm,$R));if(l<0)return null;const c=a*this.direction.dot(Z4.cross(Vm));if(c<0||l+c>o)return null;const u=-a*Vm.dot(eN);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Ht=class _G{constructor(){_G.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,f,d,p,m,g,y){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=f,x[14]=d,x[3]=p,x[7]=m,x[11]=g,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _G().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/__.setFromMatrixColumn(e,0).length(),s=1/__.setFromMatrixColumn(e,1).length(),o=1/__.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*u,p=o*f,m=a*u,g=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=p+m*c,t[5]=d-g*c,t[9]=-a*l,t[2]=g-d*c,t[6]=m+p*c,t[10]=o*l}else if(e.order==="YXZ"){const d=l*u,p=l*f,m=c*u,g=c*f;t[0]=d+g*a,t[4]=m*a-p,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=p*a-m,t[6]=g+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*u,p=l*f,m=c*u,g=c*f;t[0]=d-g*a,t[4]=-o*f,t[8]=m+p*a,t[1]=p+m*a,t[5]=o*u,t[9]=g-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*u,p=o*f,m=a*u,g=a*f;t[0]=l*u,t[4]=m*c-p,t[8]=d*c+g,t[1]=l*f,t[5]=g*c+d,t[9]=p*c-m,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,p=o*c,m=a*l,g=a*c;t[0]=l*u,t[4]=g-d*f,t[8]=m*f+p,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=p*f+m,t[10]=d-g*f}else if(e.order==="XZY"){const d=o*l,p=o*c,m=a*l,g=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=d*f+g,t[5]=o*u,t[9]=p*f-m,t[2]=m*f-p,t[6]=a*u,t[10]=g*f+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(P3e,e,B3e)}lookAt(e,t,r){const i=this.elements;return Yl.subVectors(e,t),Yl.lengthSq()===0&&(Yl.z=1),Yl.normalize(),jm.crossVectors(r,Yl),jm.lengthSq()===0&&(Math.abs(r.z)===1?Yl.x+=1e-4:Yl.z+=1e-4,Yl.normalize(),jm.crossVectors(r,Yl)),jm.normalize(),XR.crossVectors(Yl,jm),i[0]=jm.x,i[4]=XR.x,i[8]=Yl.x,i[1]=jm.y,i[5]=XR.y,i[9]=Yl.y,i[2]=jm.z,i[6]=XR.z,i[10]=Yl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],p=r[13],m=r[2],g=r[6],y=r[10],x=r[14],_=r[3],b=r[7],w=r[11],M=r[15],C=i[0],R=i[4],E=i[8],B=i[12],D=i[1],N=i[5],z=i[9],H=i[13],U=i[2],W=i[6],X=i[10],q=i[14],L=i[3],I=i[7],O=i[11],F=i[15];return s[0]=o*C+a*D+l*U+c*L,s[4]=o*R+a*N+l*W+c*I,s[8]=o*E+a*z+l*X+c*O,s[12]=o*B+a*H+l*q+c*F,s[1]=u*C+f*D+d*U+p*L,s[5]=u*R+f*N+d*W+p*I,s[9]=u*E+f*z+d*X+p*O,s[13]=u*B+f*H+d*q+p*F,s[2]=m*C+g*D+y*U+x*L,s[6]=m*R+g*N+y*W+x*I,s[10]=m*E+g*z+y*X+x*O,s[14]=m*B+g*H+y*q+x*F,s[3]=_*C+b*D+w*U+M*L,s[7]=_*R+b*N+w*W+M*I,s[11]=_*E+b*z+w*X+M*O,s[15]=_*B+b*H+w*q+M*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],p=e[14],m=e[3],g=e[7],y=e[11],x=e[15];return m*(+s*l*f-i*c*f-s*a*d+r*c*d+i*a*p-r*l*p)+g*(+t*l*p-t*c*d+s*o*d-i*o*p+i*c*u-s*l*u)+y*(+t*c*f-t*a*p-s*o*f+r*o*p+s*a*u-r*c*u)+x*(-i*a*u-t*l*f+t*a*d+i*o*f-r*o*d+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],p=e[11],m=e[12],g=e[13],y=e[14],x=e[15],_=f*y*c-g*d*c+g*l*p-a*y*p-f*l*x+a*d*x,b=m*d*c-u*y*c-m*l*p+o*y*p+u*l*x-o*d*x,w=u*g*c-m*f*c+m*a*p-o*g*p-u*a*x+o*f*x,M=m*f*l-u*g*l-m*a*d+o*g*d+u*a*y-o*f*y,C=t*_+r*b+i*w+s*M;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/C;return e[0]=_*R,e[1]=(g*d*s-f*y*s-g*i*p+r*y*p+f*i*x-r*d*x)*R,e[2]=(a*y*s-g*l*s+g*i*c-r*y*c-a*i*x+r*l*x)*R,e[3]=(f*l*s-a*d*s-f*i*c+r*d*c+a*i*p-r*l*p)*R,e[4]=b*R,e[5]=(u*y*s-m*d*s+m*i*p-t*y*p-u*i*x+t*d*x)*R,e[6]=(m*l*s-o*y*s-m*i*c+t*y*c+o*i*x-t*l*x)*R,e[7]=(o*d*s-u*l*s+u*i*c-t*d*c-o*i*p+t*l*p)*R,e[8]=w*R,e[9]=(m*f*s-u*g*s-m*r*p+t*g*p+u*r*x-t*f*x)*R,e[10]=(o*g*s-m*a*s+m*r*c-t*g*c-o*r*x+t*a*x)*R,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*p-t*a*p)*R,e[12]=M*R,e[13]=(u*g*i-m*f*i+m*r*d-t*g*d-u*r*y+t*f*y)*R,e[14]=(m*a*i-o*g*i-m*r*l+t*g*l+o*r*y-t*a*y)*R,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*d+t*a*d)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,d=s*c,p=s*u,m=s*f,g=o*u,y=o*f,x=a*f,_=l*c,b=l*u,w=l*f,M=r.x,C=r.y,R=r.z;return i[0]=(1-(g+x))*M,i[1]=(p+w)*M,i[2]=(m-b)*M,i[3]=0,i[4]=(p-w)*C,i[5]=(1-(d+x))*C,i[6]=(y+_)*C,i[7]=0,i[8]=(m+b)*R,i[9]=(y-_)*R,i[10]=(1-(d+g))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=__.set(i[0],i[1],i[2]).length();const o=__.set(i[4],i[5],i[6]).length(),a=__.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],uf.copy(this);const l=1/s,c=1/o,u=1/a;return uf.elements[0]*=l,uf.elements[1]*=l,uf.elements[2]*=l,uf.elements[4]*=c,uf.elements[5]*=c,uf.elements[6]*=c,uf.elements[8]*=u,uf.elements[9]*=u,uf.elements[10]*=u,t.setFromRotationMatrix(uf),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),f=(r+i)/(r-i),d=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),f=(t+e)*l,d=(r+i)*c,p=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}};const __=new ge,uf=new Ht,P3e=new ge(0,0,0),B3e=new ge(1,1,1),jm=new ge,XR=new ge,Yl=new ge,tK=new Ht,nK=new Si;class lc{constructor(e=0,t=0,r=0,i=lc.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],p=i[10];switch(t){case"XYZ":this._y=Math.asin(rs(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-rs(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(rs(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-rs(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(rs(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-rs(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return tK.makeRotationFromQuaternion(e),this.setFromRotationMatrix(tK,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return nK.setFromEuler(this),this.setFromQuaternion(nK,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}lc.DefaultOrder="XYZ";lc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class c1{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let D3e=0;const rK=new ge,b_=new Si,Uh=new Ht,JR=new ge,DM=new ge,k3e=new ge,I3e=new Si,iK=new ge(1,0,0),sK=new ge(0,1,0),oK=new ge(0,0,1),L3e={type:"added"},aK={type:"removed"};class Rn extends cm{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:D3e++}),this.uuid=pc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Rn.DefaultUp.clone();const e=new ge,t=new lc,r=new Si,i=new ge(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ht},normalMatrix:{value:new sa}}),this.matrix=new Ht,this.matrixWorld=new Ht,this.matrixAutoUpdate=Rn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Rn.DefaultMatrixWorldAutoUpdate,this.layers=new c1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return b_.setFromAxisAngle(e,t),this.quaternion.multiply(b_),this}rotateOnWorldAxis(e,t){return b_.setFromAxisAngle(e,t),this.quaternion.premultiply(b_),this}rotateX(e){return this.rotateOnAxis(iK,e)}rotateY(e){return this.rotateOnAxis(sK,e)}rotateZ(e){return this.rotateOnAxis(oK,e)}translateOnAxis(e,t){return rK.copy(e).applyQuaternion(this.quaternion),this.position.add(rK.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(iK,e)}translateY(e){return this.translateOnAxis(sK,e)}translateZ(e){return this.translateOnAxis(oK,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Uh.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?JR.copy(e):JR.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),DM.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Uh.lookAt(DM,JR,this.up):Uh.lookAt(JR,DM,this.up),this.quaternion.setFromRotationMatrix(Uh),i&&(Uh.extractRotation(i.matrixWorld),b_.setFromRotationMatrix(Uh),this.quaternion.premultiply(b_.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(L3e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(aK)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(aK)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Uh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Uh.multiply(e.parent.matrixWorld)),e.applyMatrix4(Uh),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(DM,e,k3e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(DM,I3e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),d=o(e.skeletons),p=o(e.animations),m=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Rn.DefaultUp=new ge(0,1,0);Rn.DefaultMatrixAutoUpdate=!0;Rn.DefaultMatrixWorldAutoUpdate=!0;const ff=new ge,zh=new ge,tN=new ge,Gh=new ge,w_=new ge,S_=new ge,lK=new ge,nN=new ge,rN=new ge,iN=new ge;class wu{constructor(e=new ge,t=new ge,r=new ge){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ff.subVectors(e,t),i.cross(ff);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){ff.subVectors(i,t),zh.subVectors(r,t),tN.subVectors(e,t);const o=ff.dot(ff),a=ff.dot(zh),l=ff.dot(tN),c=zh.dot(zh),u=zh.dot(tN),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,p=(c*l-a*u)*d,m=(o*u-a*l)*d;return s.set(1-p-m,m,p)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Gh),Gh.x>=0&&Gh.y>=0&&Gh.x+Gh.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Gh),l.set(0,0),l.addScaledVector(s,Gh.x),l.addScaledVector(o,Gh.y),l.addScaledVector(a,Gh.z),l}static isFrontFacing(e,t,r,i){return ff.subVectors(r,t),zh.subVectors(e,t),ff.cross(zh).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ff.subVectors(this.c,this.b),zh.subVectors(this.a,this.b),ff.cross(zh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return wu.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return wu.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return wu.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return wu.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return wu.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;w_.subVectors(i,r),S_.subVectors(s,r),nN.subVectors(e,r);const l=w_.dot(nN),c=S_.dot(nN);if(l<=0&&c<=0)return t.copy(r);rN.subVectors(e,i);const u=w_.dot(rN),f=S_.dot(rN);if(u>=0&&f<=u)return t.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(w_,o);iN.subVectors(e,s);const p=w_.dot(iN),m=S_.dot(iN);if(m>=0&&p<=m)return t.copy(s);const g=p*c-l*m;if(g<=0&&c>=0&&m<=0)return a=c/(c-m),t.copy(r).addScaledVector(S_,a);const y=u*m-p*f;if(y<=0&&f-u>=0&&p-m>=0)return lK.subVectors(s,i),a=(f-u)/(f-u+(p-m)),t.copy(i).addScaledVector(lK,a);const x=1/(y+g+d);return o=g*x,a=d*x,t.copy(r).addScaledVector(w_,o).addScaledVector(S_,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let O3e=0;class Ts extends cm{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:O3e++}),this.uuid=pc(),this.name="",this.type="Material",this.blending=s1,this.side=Gp,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Tj,this.blendDst=Rj,this.blendEquation=Cy,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=eI,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ede,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=VD,this.stencilZFail=VD,this.stencilZPass=VD,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==s1&&(r.blending=this.blending),this.side!==Gp&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}let dl=class extends Ts{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=t3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}};const _s=new ge,YR=new rt;class qn{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=RC,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)YR.fromBufferAttribute(this,t),YR.applyMatrix3(e),this.setXY(t,YR.x,YR.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)_s.fromBufferAttribute(this,t),_s.applyMatrix3(e),this.setXYZ(t,_s.x,_s.y,_s.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)_s.fromBufferAttribute(this,t),_s.applyMatrix4(e),this.setXYZ(t,_s.x,_s.y,_s.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)_s.fromBufferAttribute(this,t),_s.applyNormalMatrix(e),this.setXYZ(t,_s.x,_s.y,_s.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)_s.fromBufferAttribute(this,t),_s.transformDirection(e),this.setXYZ(t,_s.x,_s.y,_s.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=yp(t,this.array)),t}setX(e,t){return this.normalized&&(t=xr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=yp(t,this.array)),t}setY(e,t){return this.normalized&&(t=xr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=yp(t,this.array)),t}setZ(e,t){return this.normalized&&(t=xr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=yp(t,this.array)),t}setW(e,t){return this.normalized&&(t=xr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=xr(t,this.array),r=xr(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=xr(t,this.array),r=xr(r,this.array),i=xr(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=xr(t,this.array),r=xr(r,this.array),i=xr(i,this.array),s=xr(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==RC&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class F3e extends qn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class N3e extends qn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class U3e extends qn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class z3e extends qn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class hO extends qn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class G3e extends qn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Fj extends qn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}let H3e=class extends qn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}},It=class extends qn{constructor(e,t,r){super(new Float32Array(e),t,r)}},V3e=class extends qn{constructor(e,t,r){super(new Float64Array(e),t,r)}},j3e=0;const Qc=new Ht,sN=new Rn,A_=new ge,Kl=new um,kM=new um,co=new ge;class cn extends cm{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:j3e++}),this.uuid=pc(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(rde(e)?Fj:hO)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new sa().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Qc.makeRotationFromQuaternion(e),this.applyMatrix4(Qc),this}rotateX(e){return Qc.makeRotationX(e),this.applyMatrix4(Qc),this}rotateY(e){return Qc.makeRotationY(e),this.applyMatrix4(Qc),this}rotateZ(e){return Qc.makeRotationZ(e),this.applyMatrix4(Qc),this}translate(e,t,r){return Qc.makeTranslation(e,t,r),this.applyMatrix4(Qc),this}scale(e,t,r){return Qc.makeScale(e,t,r),this.applyMatrix4(Qc),this}lookAt(e){return sN.lookAt(e),sN.updateMatrix(),this.applyMatrix4(sN.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(A_).negate(),this.translate(A_.x,A_.y,A_.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new It(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new um);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ge(-1/0,-1/0,-1/0),new ge(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Kl.setFromBufferAttribute(s),this.morphTargetsRelative?(co.addVectors(this.boundingBox.min,Kl.min),this.boundingBox.expandByPoint(co),co.addVectors(this.boundingBox.max,Kl.max),this.boundingBox.expandByPoint(co)):(this.boundingBox.expandByPoint(Kl.min),this.boundingBox.expandByPoint(Kl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new fm);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ge,1/0);return}if(e){const r=this.boundingSphere.center;if(Kl.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];kM.setFromBufferAttribute(a),this.morphTargetsRelative?(co.addVectors(Kl.min,kM.min),Kl.expandByPoint(co),co.addVectors(Kl.max,kM.max),Kl.expandByPoint(co)):(Kl.expandByPoint(kM.min),Kl.expandByPoint(kM.max))}Kl.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)co.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(co));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)co.fromBufferAttribute(a,c),l&&(A_.fromBufferAttribute(e,c),co.add(A_)),i=Math.max(i,r.distanceToSquared(co))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new qn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let D=0;D<a;D++)c[D]=new ge,u[D]=new ge;const f=new ge,d=new ge,p=new ge,m=new rt,g=new rt,y=new rt,x=new ge,_=new ge;function b(D,N,z){f.fromArray(i,D*3),d.fromArray(i,N*3),p.fromArray(i,z*3),m.fromArray(o,D*2),g.fromArray(o,N*2),y.fromArray(o,z*2),d.sub(f),p.sub(f),g.sub(m),y.sub(m);const H=1/(g.x*y.y-y.x*g.y);isFinite(H)&&(x.copy(d).multiplyScalar(y.y).addScaledVector(p,-g.y).multiplyScalar(H),_.copy(p).multiplyScalar(g.x).addScaledVector(d,-y.x).multiplyScalar(H),c[D].add(x),c[N].add(x),c[z].add(x),u[D].add(_),u[N].add(_),u[z].add(_))}let w=this.groups;w.length===0&&(w=[{start:0,count:r.length}]);for(let D=0,N=w.length;D<N;++D){const z=w[D],H=z.start,U=z.count;for(let W=H,X=H+U;W<X;W+=3)b(r[W+0],r[W+1],r[W+2])}const M=new ge,C=new ge,R=new ge,E=new ge;function B(D){R.fromArray(s,D*3),E.copy(R);const N=c[D];M.copy(N),M.sub(R.multiplyScalar(R.dot(N))).normalize(),C.crossVectors(E,N);const z=C.dot(u[D])<0?-1:1;l[D*4]=M.x,l[D*4+1]=M.y,l[D*4+2]=M.z,l[D*4+3]=z}for(let D=0,N=w.length;D<N;++D){const z=w[D],H=z.start,U=z.count;for(let W=H,X=H+U;W<X;W+=3)B(r[W+0]),B(r[W+1]),B(r[W+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new qn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,p=r.count;d<p;d++)r.setXYZ(d,0,0,0);const i=new ge,s=new ge,o=new ge,a=new ge,l=new ge,c=new ge,u=new ge,f=new ge;if(e)for(let d=0,p=e.count;d<p;d+=3){const m=e.getX(d+0),g=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,y),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,m),l.fromBufferAttribute(r,g),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(m,a.x,a.y,a.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let d=0,p=t.count;d<p;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)co.fromBufferAttribute(e,t),co.normalize(),e.setXYZ(t,co.x,co.y,co.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,d=new c.constructor(l.length*u);let p=0,m=0;for(let g=0,y=l.length;g<y;g++){a.isInterleavedBufferAttribute?p=l[g]*a.data.stride+a.offset:p=l[g]*u;for(let x=0;x<u;x++)d[m++]=c[p++]}return new qn(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new cn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const d=c[u],p=e(d,r);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f];u.push(p.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let d=0,p=f.length;d<p;d++)u.push(f[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const cK=new Ht,M_=new r3,oN=new fm,Wm=new ge,$m=new ge,Xm=new ge,aN=new ge,lN=new ge,cN=new ge,KR=new ge,qR=new ge,QR=new ge,ZR=new rt,eP=new rt,tP=new rt,uN=new ge,nP=new ge;class Oi extends Rn{constructor(e=new cn,t=new dl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=r.length;i<s;i++){const o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),oN.copy(r.boundingSphere),oN.applyMatrix4(s),e.ray.intersectsSphere(oN)===!1)||(cK.copy(s).invert(),M_.copy(e.ray).applyMatrix4(cK),r.boundingBox!==null&&M_.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,f=r.attributes.uv,d=r.attributes.uv2,p=r.groups,m=r.drawRange;if(a!==null)if(Array.isArray(i))for(let g=0,y=p.length;g<y;g++){const x=p[g],_=i[x.materialIndex],b=Math.max(x.start,m.start),w=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let M=b,C=w;M<C;M+=3){const R=a.getX(M),E=a.getX(M+1),B=a.getX(M+2);o=rP(this,_,e,M_,l,c,u,f,d,R,E,B),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const g=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let x=g,_=y;x<_;x+=3){const b=a.getX(x),w=a.getX(x+1),M=a.getX(x+2);o=rP(this,i,e,M_,l,c,u,f,d,b,w,M),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let g=0,y=p.length;g<y;g++){const x=p[g],_=i[x.materialIndex],b=Math.max(x.start,m.start),w=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let M=b,C=w;M<C;M+=3){const R=M,E=M+1,B=M+2;o=rP(this,_,e,M_,l,c,u,f,d,R,E,B),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let x=g,_=y;x<_;x+=3){const b=x,w=x+1,M=x+2;o=rP(this,i,e,M_,l,c,u,f,d,b,w,M),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}}}function W3e(n,e,t,r,i,s,o,a){let l;if(e.side===Ha?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==Cu,a),l===null)return null;nP.copy(a),nP.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(nP);return c<t.near||c>t.far?null:{distance:c,point:nP.clone(),object:n}}function rP(n,e,t,r,i,s,o,a,l,c,u,f){Wm.fromBufferAttribute(i,c),$m.fromBufferAttribute(i,u),Xm.fromBufferAttribute(i,f);const d=n.morphTargetInfluences;if(s&&d){KR.set(0,0,0),qR.set(0,0,0),QR.set(0,0,0);for(let m=0,g=s.length;m<g;m++){const y=d[m],x=s[m];y!==0&&(aN.fromBufferAttribute(x,c),lN.fromBufferAttribute(x,u),cN.fromBufferAttribute(x,f),o?(KR.addScaledVector(aN,y),qR.addScaledVector(lN,y),QR.addScaledVector(cN,y)):(KR.addScaledVector(aN.sub(Wm),y),qR.addScaledVector(lN.sub($m),y),QR.addScaledVector(cN.sub(Xm),y)))}Wm.add(KR),$m.add(qR),Xm.add(QR)}n.isSkinnedMesh&&(n.boneTransform(c,Wm),n.boneTransform(u,$m),n.boneTransform(f,Xm));const p=W3e(n,e,t,r,Wm,$m,Xm,uN);if(p){a&&(ZR.fromBufferAttribute(a,c),eP.fromBufferAttribute(a,u),tP.fromBufferAttribute(a,f),p.uv=wu.getUV(uN,Wm,$m,Xm,ZR,eP,tP,new rt)),l&&(ZR.fromBufferAttribute(l,c),eP.fromBufferAttribute(l,u),tP.fromBufferAttribute(l,f),p.uv2=wu.getUV(uN,Wm,$m,Xm,ZR,eP,tP,new rt));const m={a:c,b:u,c:f,normal:new ge,materialIndex:0};wu.getNormal(Wm,$m,Xm,m.normal),p.face=m}return p}let YS=class ode extends cn{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let d=0,p=0;m("z","y","x",-1,-1,r,t,e,o,s,0),m("z","y","x",1,-1,r,t,-e,o,s,1),m("x","z","y",1,1,e,r,t,i,o,2),m("x","z","y",1,-1,e,r,-t,i,o,3),m("x","y","z",1,-1,e,t,r,i,s,4),m("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new It(c,3)),this.setAttribute("normal",new It(u,3)),this.setAttribute("uv",new It(f,2));function m(g,y,x,_,b,w,M,C,R,E,B){const D=w/R,N=M/E,z=w/2,H=M/2,U=C/2,W=R+1,X=E+1;let q=0,L=0;const I=new ge;for(let O=0;O<X;O++){const F=O*N-H;for(let j=0;j<W;j++){const te=j*D-z;I[g]=te*_,I[y]=F*b,I[x]=U,c.push(I.x,I.y,I.z),I[g]=0,I[y]=0,I[x]=C>0?1:-1,u.push(I.x,I.y,I.z),f.push(j/R),f.push(1-O/E),q+=1}}for(let O=0;O<E;O++)for(let F=0;F<R;F++){const j=d+F+W*O,te=d+F+W*(O+1),re=d+(F+1)+W*(O+1),se=d+(F+1)+W*O;l.push(j,te,se),l.push(te,re,se),L+=6}a.addGroup(p,L,B),p+=L,d+=q}}static fromJSON(e){return new ode(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function iS(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Ra(n){const e={};for(let t=0;t<n.length;t++){const r=iS(n[t]);for(const i in r)e[i]=r[i]}return e}function $3e(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const pO={clone:iS,merge:Ra};var X3e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,J3e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Vf extends Ts{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=X3e,this.fragmentShader=J3e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=iS(e.uniforms),this.uniformsGroups=$3e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}let i3=class extends Rn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ht,this.projectionMatrix=new Ht,this.projectionMatrixInverse=new Ht}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};class As extends i3{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=PC*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(a1*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return PC*2*Math.atan(Math.tan(a1*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(a1*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const E_=90,C_=1;class ade extends Rn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new As(E_,C_,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new ge(1,0,0)),this.add(i);const s=new As(E_,C_,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new ge(-1,0,0)),this.add(s);const o=new As(E_,C_,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new ge(0,1,0)),this.add(o);const a=new As(E_,C_,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new ge(0,-1,0)),this.add(a);const l=new As(E_,C_,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new ge(0,0,1)),this.add(l);const c=new As(E_,C_,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new ge(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=If,e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}let s3=class extends Kr{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:h0,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}};class lde extends zu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new s3(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:jr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new YS(5,5,5),s=new Vf({name:"CubemapFromEquirect",uniforms:iS(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ha,blending:Ep});s.uniforms.tEquirect.value=t;const o=new Oi(i,s),a=t.minFilter;return t.minFilter===lm&&(t.minFilter=jr),new ade(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const fN=new ge,Y3e=new ge,K3e=new sa;class pg{constructor(e=new ge(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=fN.subVectors(r,t).cross(Y3e.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(fN),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||K3e.getNormalMatrix(e),i=this.coplanarPoint(fN).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const T_=new fm,iP=new ge;class mO{constructor(e=new pg,t=new pg,r=new pg,i=new pg,s=new pg,o=new pg){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],f=r[7],d=r[8],p=r[9],m=r[10],g=r[11],y=r[12],x=r[13],_=r[14],b=r[15];return t[0].setComponents(a-i,f-l,g-d,b-y).normalize(),t[1].setComponents(a+i,f+l,g+d,b+y).normalize(),t[2].setComponents(a+s,f+c,g+p,b+x).normalize(),t[3].setComponents(a-s,f-c,g-p,b-x).normalize(),t[4].setComponents(a-o,f-u,g-m,b-_).normalize(),t[5].setComponents(a+o,f+u,g+m,b+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),T_.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(T_)}intersectsSprite(e){return T_.center.set(0,0,0),T_.radius=.7071067811865476,T_.applyMatrix4(e.matrixWorld),this.intersectsSphere(T_)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(iP.x=i.normal.x>0?e.max.x:e.min.x,iP.y=i.normal.y>0?e.max.y:e.min.y,iP.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(iP)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function cde(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function q3e(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,d=c.usage,p=n.createBuffer();n.bindBuffer(u,p),n.bufferData(u,f,d),c.onUploadCallback();let m;if(f instanceof Float32Array)m=5126;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(f instanceof Int16Array)m=5122;else if(f instanceof Uint32Array)m=5125;else if(f instanceof Int32Array)m=5124;else if(f instanceof Int8Array)m=5120;else if(f instanceof Uint8Array)m=5121;else if(f instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:m,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const d=u.array,p=u.updateRange;n.bindBuffer(f,c),p.count===-1?n.bufferSubData(f,0,d):(t?n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}let px=class ude extends cn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,d=t/l,p=[],m=[],g=[],y=[];for(let x=0;x<u;x++){const _=x*d-o;for(let b=0;b<c;b++){const w=b*f-s;m.push(w,-_,0),g.push(0,0,1),y.push(b/a),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<a;_++){const b=_+c*x,w=_+c*(x+1),M=_+1+c*(x+1),C=_+1+c*x;p.push(b,w,C),p.push(w,M,C)}this.setIndex(p),this.setAttribute("position",new It(m,3)),this.setAttribute("normal",new It(g,3)),this.setAttribute("uv",new It(y,2))}static fromJSON(e){return new ude(e.width,e.height,e.widthSegments,e.heightSegments)}};var Q3e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Z3e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eRe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,tRe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,nRe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,rRe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,iRe="vec3 transformed = vec3( position );",sRe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,oRe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,aRe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,lRe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,cRe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,uRe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,fRe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,dRe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hRe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,pRe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,mRe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,gRe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,vRe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,yRe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,xRe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,_Re=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,bRe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,wRe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,SRe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ARe="gl_FragColor = linearToOutputTexel( gl_FragColor );",MRe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,ERe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,CRe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,TRe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,RRe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,PRe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,BRe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,DRe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,kRe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,IRe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,LRe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ORe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,FRe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,NRe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,URe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,zRe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,GRe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,HRe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,VRe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,jRe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,WRe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,$Re=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,XRe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,JRe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,YRe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,KRe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,qRe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,QRe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ZRe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,ePe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,tPe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,nPe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,rPe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,iPe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,sPe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,oPe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,aPe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,lPe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,cPe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,uPe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,fPe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,dPe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,hPe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,pPe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,mPe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,gPe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,vPe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,yPe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,xPe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,_Pe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,bPe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,wPe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,SPe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,APe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,MPe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,EPe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,CPe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,TPe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,RPe=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,PPe=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,BPe=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,DPe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,kPe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,IPe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,LPe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,OPe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,FPe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,NPe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,UPe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,zPe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,GPe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,HPe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,VPe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,jPe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,WPe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,$Pe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,XPe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,JPe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,YPe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const KPe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,qPe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,QPe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ZPe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,eBe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tBe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nBe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rBe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,iBe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,sBe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,oBe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,aBe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,lBe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cBe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uBe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fBe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dBe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hBe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pBe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,mBe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gBe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,vBe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,yBe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xBe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_Be=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,bBe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wBe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SBe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ABe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,MBe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,EBe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,CBe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,TBe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,RBe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yn={alphamap_fragment:Q3e,alphamap_pars_fragment:Z3e,alphatest_fragment:eRe,alphatest_pars_fragment:tRe,aomap_fragment:nRe,aomap_pars_fragment:rRe,begin_vertex:iRe,beginnormal_vertex:sRe,bsdfs:oRe,iridescence_fragment:aRe,bumpmap_pars_fragment:lRe,clipping_planes_fragment:cRe,clipping_planes_pars_fragment:uRe,clipping_planes_pars_vertex:fRe,clipping_planes_vertex:dRe,color_fragment:hRe,color_pars_fragment:pRe,color_pars_vertex:mRe,color_vertex:gRe,common:vRe,cube_uv_reflection_fragment:yRe,defaultnormal_vertex:xRe,displacementmap_pars_vertex:_Re,displacementmap_vertex:bRe,emissivemap_fragment:wRe,emissivemap_pars_fragment:SRe,encodings_fragment:ARe,encodings_pars_fragment:MRe,envmap_fragment:ERe,envmap_common_pars_fragment:CRe,envmap_pars_fragment:TRe,envmap_pars_vertex:RRe,envmap_physical_pars_fragment:GRe,envmap_vertex:PRe,fog_vertex:BRe,fog_pars_vertex:DRe,fog_fragment:kRe,fog_pars_fragment:IRe,gradientmap_pars_fragment:LRe,lightmap_fragment:ORe,lightmap_pars_fragment:FRe,lights_lambert_fragment:NRe,lights_lambert_pars_fragment:URe,lights_pars_begin:zRe,lights_toon_fragment:HRe,lights_toon_pars_fragment:VRe,lights_phong_fragment:jRe,lights_phong_pars_fragment:WRe,lights_physical_fragment:$Re,lights_physical_pars_fragment:XRe,lights_fragment_begin:JRe,lights_fragment_maps:YRe,lights_fragment_end:KRe,logdepthbuf_fragment:qRe,logdepthbuf_pars_fragment:QRe,logdepthbuf_pars_vertex:ZRe,logdepthbuf_vertex:ePe,map_fragment:tPe,map_pars_fragment:nPe,map_particle_fragment:rPe,map_particle_pars_fragment:iPe,metalnessmap_fragment:sPe,metalnessmap_pars_fragment:oPe,morphcolor_vertex:aPe,morphnormal_vertex:lPe,morphtarget_pars_vertex:cPe,morphtarget_vertex:uPe,normal_fragment_begin:fPe,normal_fragment_maps:dPe,normal_pars_fragment:hPe,normal_pars_vertex:pPe,normal_vertex:mPe,normalmap_pars_fragment:gPe,clearcoat_normal_fragment_begin:vPe,clearcoat_normal_fragment_maps:yPe,clearcoat_pars_fragment:xPe,iridescence_pars_fragment:_Pe,output_fragment:bPe,packing:wPe,premultiplied_alpha_fragment:SPe,project_vertex:APe,dithering_fragment:MPe,dithering_pars_fragment:EPe,roughnessmap_fragment:CPe,roughnessmap_pars_fragment:TPe,shadowmap_pars_fragment:RPe,shadowmap_pars_vertex:PPe,shadowmap_vertex:BPe,shadowmask_pars_fragment:DPe,skinbase_vertex:kPe,skinning_pars_vertex:IPe,skinning_vertex:LPe,skinnormal_vertex:OPe,specularmap_fragment:FPe,specularmap_pars_fragment:NPe,tonemapping_fragment:UPe,tonemapping_pars_fragment:zPe,transmission_fragment:GPe,transmission_pars_fragment:HPe,uv_pars_fragment:VPe,uv_pars_vertex:jPe,uv_vertex:WPe,uv2_pars_fragment:$Pe,uv2_pars_vertex:XPe,uv2_vertex:JPe,worldpos_vertex:YPe,background_vert:KPe,background_frag:qPe,backgroundCube_vert:QPe,backgroundCube_frag:ZPe,cube_vert:eBe,cube_frag:tBe,depth_vert:nBe,depth_frag:rBe,distanceRGBA_vert:iBe,distanceRGBA_frag:sBe,equirect_vert:oBe,equirect_frag:aBe,linedashed_vert:lBe,linedashed_frag:cBe,meshbasic_vert:uBe,meshbasic_frag:fBe,meshlambert_vert:dBe,meshlambert_frag:hBe,meshmatcap_vert:pBe,meshmatcap_frag:mBe,meshnormal_vert:gBe,meshnormal_frag:vBe,meshphong_vert:yBe,meshphong_frag:xBe,meshphysical_vert:_Be,meshphysical_frag:bBe,meshtoon_vert:wBe,meshtoon_frag:SBe,points_vert:ABe,points_frag:MBe,shadow_vert:EBe,shadow_frag:CBe,sprite_vert:TBe,sprite_frag:RBe},Ct={common:{diffuse:{value:new ft(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new sa},uv2Transform:{value:new sa},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new rt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ft(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ft(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new sa}},sprite:{diffuse:{value:new ft(16777215)},opacity:{value:1},center:{value:new rt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new sa}}},Mf={basic:{uniforms:Ra([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.fog]),vertexShader:yn.meshbasic_vert,fragmentShader:yn.meshbasic_frag},lambert:{uniforms:Ra([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.fog,Ct.lights,{emissive:{value:new ft(0)}}]),vertexShader:yn.meshlambert_vert,fragmentShader:yn.meshlambert_frag},phong:{uniforms:Ra([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.fog,Ct.lights,{emissive:{value:new ft(0)},specular:{value:new ft(1118481)},shininess:{value:30}}]),vertexShader:yn.meshphong_vert,fragmentShader:yn.meshphong_frag},standard:{uniforms:Ra([Ct.common,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.roughnessmap,Ct.metalnessmap,Ct.fog,Ct.lights,{emissive:{value:new ft(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yn.meshphysical_vert,fragmentShader:yn.meshphysical_frag},toon:{uniforms:Ra([Ct.common,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.gradientmap,Ct.fog,Ct.lights,{emissive:{value:new ft(0)}}]),vertexShader:yn.meshtoon_vert,fragmentShader:yn.meshtoon_frag},matcap:{uniforms:Ra([Ct.common,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.fog,{matcap:{value:null}}]),vertexShader:yn.meshmatcap_vert,fragmentShader:yn.meshmatcap_frag},points:{uniforms:Ra([Ct.points,Ct.fog]),vertexShader:yn.points_vert,fragmentShader:yn.points_frag},dashed:{uniforms:Ra([Ct.common,Ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yn.linedashed_vert,fragmentShader:yn.linedashed_frag},depth:{uniforms:Ra([Ct.common,Ct.displacementmap]),vertexShader:yn.depth_vert,fragmentShader:yn.depth_frag},normal:{uniforms:Ra([Ct.common,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,{opacity:{value:1}}]),vertexShader:yn.meshnormal_vert,fragmentShader:yn.meshnormal_frag},sprite:{uniforms:Ra([Ct.sprite,Ct.fog]),vertexShader:yn.sprite_vert,fragmentShader:yn.sprite_frag},background:{uniforms:{uvTransform:{value:new sa},t2D:{value:null}},vertexShader:yn.background_vert,fragmentShader:yn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:yn.backgroundCube_vert,fragmentShader:yn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yn.cube_vert,fragmentShader:yn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yn.equirect_vert,fragmentShader:yn.equirect_frag},distanceRGBA:{uniforms:Ra([Ct.common,Ct.displacementmap,{referencePosition:{value:new ge},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yn.distanceRGBA_vert,fragmentShader:yn.distanceRGBA_frag},shadow:{uniforms:Ra([Ct.lights,Ct.fog,{color:{value:new ft(0)},opacity:{value:1}}]),vertexShader:yn.shadow_vert,fragmentShader:yn.shadow_frag}};Mf.physical={uniforms:Ra([Mf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new rt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new ft(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new rt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ft(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ft(1,1,1)},specularColorMap:{value:null}}]),vertexShader:yn.meshphysical_vert,fragmentShader:yn.meshphysical_frag};function PBe(n,e,t,r,i,s,o){const a=new ft(0);let l=s===!0?0:1,c,u,f=null,d=0,p=null;function m(y,x){let _=!1,b=x.isScene===!0?x.background:null;b&&b.isTexture&&(b=(x.backgroundBlurriness>0?t:e).get(b));const w=n.xr,M=w.getSession&&w.getSession();M&&M.environmentBlendMode==="additive"&&(b=null),b===null?g(a,l):b&&b.isColor&&(g(b,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===JS)?(u===void 0&&(u=new Oi(new YS(1,1,1),new Vf({name:"BackgroundCubeMaterial",uniforms:iS(Mf.backgroundCube.uniforms),vertexShader:Mf.backgroundCube.vertexShader,fragmentShader:Mf.backgroundCube.fragmentShader,side:Ha,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,R,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,(f!==b||d!==b.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,f=b,d=b.version,p=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new Oi(new px(2,2),new Vf({name:"BackgroundMaterial",uniforms:iS(Mf.background.uniforms),vertexShader:Mf.background.vertexShader,fragmentShader:Mf.background.fragmentShader,side:Gp,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||d!==b.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=b,d=b.version,p=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function g(y,x){r.buffers.color.setClear(y.r,y.g,y.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(y,x=1){a.set(y),l=x,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,g(a,l)},render:m}}function BBe(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function f(U,W,X,q,L){let I=!1;if(o){const O=g(q,X,W);c!==O&&(c=O,p(c.object)),I=x(U,q,X,L),I&&_(U,q,X,L)}else{const O=W.wireframe===!0;(c.geometry!==q.id||c.program!==X.id||c.wireframe!==O)&&(c.geometry=q.id,c.program=X.id,c.wireframe=O,I=!0)}L!==null&&t.update(L,34963),(I||u)&&(u=!1,E(U,W,X,q),L!==null&&n.bindBuffer(34963,t.get(L).buffer))}function d(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(U){return r.isWebGL2?n.bindVertexArray(U):s.bindVertexArrayOES(U)}function m(U){return r.isWebGL2?n.deleteVertexArray(U):s.deleteVertexArrayOES(U)}function g(U,W,X){const q=X.wireframe===!0;let L=a[U.id];L===void 0&&(L={},a[U.id]=L);let I=L[W.id];I===void 0&&(I={},L[W.id]=I);let O=I[q];return O===void 0&&(O=y(d()),I[q]=O),O}function y(U){const W=[],X=[],q=[];for(let L=0;L<i;L++)W[L]=0,X[L]=0,q[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:X,attributeDivisors:q,object:U,attributes:{},index:null}}function x(U,W,X,q){const L=c.attributes,I=W.attributes;let O=0;const F=X.getAttributes();for(const j in F)if(F[j].location>=0){const te=L[j];let re=I[j];if(re===void 0&&(j==="instanceMatrix"&&U.instanceMatrix&&(re=U.instanceMatrix),j==="instanceColor"&&U.instanceColor&&(re=U.instanceColor)),te===void 0||te.attribute!==re||re&&te.data!==re.data)return!0;O++}return c.attributesNum!==O||c.index!==q}function _(U,W,X,q){const L={},I=W.attributes;let O=0;const F=X.getAttributes();for(const j in F)if(F[j].location>=0){let te=I[j];te===void 0&&(j==="instanceMatrix"&&U.instanceMatrix&&(te=U.instanceMatrix),j==="instanceColor"&&U.instanceColor&&(te=U.instanceColor));const re={};re.attribute=te,te&&te.data&&(re.data=te.data),L[j]=re,O++}c.attributes=L,c.attributesNum=O,c.index=q}function b(){const U=c.newAttributes;for(let W=0,X=U.length;W<X;W++)U[W]=0}function w(U){M(U,0)}function M(U,W){const X=c.newAttributes,q=c.enabledAttributes,L=c.attributeDivisors;X[U]=1,q[U]===0&&(n.enableVertexAttribArray(U),q[U]=1),L[U]!==W&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](U,W),L[U]=W)}function C(){const U=c.newAttributes,W=c.enabledAttributes;for(let X=0,q=W.length;X<q;X++)W[X]!==U[X]&&(n.disableVertexAttribArray(X),W[X]=0)}function R(U,W,X,q,L,I){r.isWebGL2===!0&&(X===5124||X===5125)?n.vertexAttribIPointer(U,W,X,L,I):n.vertexAttribPointer(U,W,X,q,L,I)}function E(U,W,X,q){if(r.isWebGL2===!1&&(U.isInstancedMesh||q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const L=q.attributes,I=X.getAttributes(),O=W.defaultAttributeValues;for(const F in I){const j=I[F];if(j.location>=0){let te=L[F];if(te===void 0&&(F==="instanceMatrix"&&U.instanceMatrix&&(te=U.instanceMatrix),F==="instanceColor"&&U.instanceColor&&(te=U.instanceColor)),te!==void 0){const re=te.normalized,se=te.itemSize,K=t.get(te);if(K===void 0)continue;const le=K.buffer,he=K.type,we=K.bytesPerElement;if(te.isInterleavedBufferAttribute){const ve=te.data,fe=ve.stride,ne=te.offset;if(ve.isInstancedInterleavedBuffer){for(let oe=0;oe<j.locationSize;oe++)M(j.location+oe,ve.meshPerAttribute);U.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let oe=0;oe<j.locationSize;oe++)w(j.location+oe);n.bindBuffer(34962,le);for(let oe=0;oe<j.locationSize;oe++)R(j.location+oe,se/j.locationSize,he,re,fe*we,(ne+se/j.locationSize*oe)*we)}else{if(te.isInstancedBufferAttribute){for(let ve=0;ve<j.locationSize;ve++)M(j.location+ve,te.meshPerAttribute);U.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let ve=0;ve<j.locationSize;ve++)w(j.location+ve);n.bindBuffer(34962,le);for(let ve=0;ve<j.locationSize;ve++)R(j.location+ve,se/j.locationSize,he,re,se*we,se/j.locationSize*ve*we)}}else if(O!==void 0){const re=O[F];if(re!==void 0)switch(re.length){case 2:n.vertexAttrib2fv(j.location,re);break;case 3:n.vertexAttrib3fv(j.location,re);break;case 4:n.vertexAttrib4fv(j.location,re);break;default:n.vertexAttrib1fv(j.location,re)}}}}C()}function B(){z();for(const U in a){const W=a[U];for(const X in W){const q=W[X];for(const L in q)m(q[L].object),delete q[L];delete W[X]}delete a[U]}}function D(U){if(a[U.id]===void 0)return;const W=a[U.id];for(const X in W){const q=W[X];for(const L in q)m(q[L].object),delete q[L];delete W[X]}delete a[U.id]}function N(U){for(const W in a){const X=a[W];if(X[U.id]===void 0)continue;const q=X[U.id];for(const L in q)m(q[L].object),delete q[L];delete X[U.id]}}function z(){H(),u=!0,c!==l&&(c=l,p(c.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:z,resetDefaultState:H,dispose:B,releaseStatesOfGeometry:D,releaseStatesOfProgram:N,initAttributes:b,enableAttribute:w,disableUnusedAttributes:C}}function DBe(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let d,p;if(i)d=n,p="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function kBe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),d=n.getParameter(35660),p=n.getParameter(3379),m=n.getParameter(34076),g=n.getParameter(34921),y=n.getParameter(36347),x=n.getParameter(36348),_=n.getParameter(36349),b=d>0,w=o||e.has("OES_texture_float"),M=b&&w,C=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:w,floatVertexTextures:M,maxSamples:C}}function IBe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new pg,a=new sa,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d,p){const m=f.length!==0||d||r!==0||i;return i=d,t=u(f,p,0),r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(f,d,p){const m=f.clippingPlanes,g=f.clipIntersection,y=f.clipShadows,x=n.get(f);if(!i||m===null||m.length===0||s&&!y)s?u(null):c();else{const _=s?0:r,b=_*4;let w=x.clippingState||null;l.value=w,w=u(m,d,b,p);for(let M=0;M!==b;++M)w[M]=t[M];x.clippingState=w,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,p,m){const g=f!==null?f.length:0;let y=null;if(g!==0){if(y=l.value,m!==!0||y===null){const x=p+g*4,_=d.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<x)&&(y=new Float32Array(x));for(let b=0,w=p;b!==g;++b,w+=4)o.copy(f[b]).applyMatrix4(_,a),o.normal.toArray(y,w),y[w+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,y}}function LBe(n){let e=new WeakMap;function t(o,a){return a===eS?o.mapping=h0:a===MC&&(o.mapping=p0),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===eS||a===MC)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new lde(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}let mx=class extends i3{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};const Nb=4,uK=[.125,.215,.35,.446,.526,.582],Ty=20,dN=new mx,fK=new ft;let hN=null;const vy=(1+Math.sqrt(5))/2,R_=1/vy,dK=[new ge(1,1,1),new ge(-1,1,1),new ge(1,1,-1),new ge(-1,1,-1),new ge(0,vy,R_),new ge(0,vy,-R_),new ge(R_,0,vy),new ge(-R_,0,vy),new ge(vy,R_,0),new ge(-vy,R_,0)];class bG{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){hN=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=mK(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=pK(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(hN),e.scissorTest=!1,sP(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===h0||e.mapping===p0?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),hN=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:jr,minFilter:jr,generateMipmaps:!1,type:nS,format:al,encoding:m0,depthBuffer:!1},i=hK(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=hK(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=OBe(s)),this._blurMaterial=FBe(s,e,t)}return i}_compileMaterial(e){const t=new Oi(this._lodPlanes[0],e);this._renderer.compile(t,dN)}_sceneToCubeUV(e,t,r,i){const s=new As(90,1,t,r),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(fK),l.toneMapping=If,l.autoClear=!1;const f=new dl({name:"PMREM.Background",side:Ha,depthWrite:!1,depthTest:!1}),d=new Oi(new YS,f);let p=!1;const m=e.background;m?m.isColor&&(f.color.copy(m),e.background=null,p=!0):(f.color.copy(fK),p=!0);for(let g=0;g<6;g++){const y=g%3;y===0?(s.up.set(0,o[g],0),s.lookAt(a[g],0,0)):y===1?(s.up.set(0,0,o[g]),s.lookAt(0,a[g],0)):(s.up.set(0,o[g],0),s.lookAt(0,0,a[g]));const x=this._cubeSize;sP(i,y*x,g>2?x:0,x,x),l.setRenderTarget(i),p&&l.render(d,s),l.render(e,s)}d.geometry.dispose(),d.material.dispose(),l.toneMapping=u,l.autoClear=c,e.background=m}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===h0||e.mapping===p0;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=mK()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=pK());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Oi(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;sP(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,dN)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=dK[(i-1)%dK.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Oi(this._lodPlanes[i],c),d=c.uniforms,p=this._sizeLods[r]-1,m=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*Ty-1),g=s/m,y=isFinite(s)?1+Math.floor(u*g):Ty;y>Ty&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Ty}`);const x=[];let _=0;for(let R=0;R<Ty;++R){const E=R/g,B=Math.exp(-E*E/2);x.push(B),R===0?_+=B:R<y&&(_+=2*B)}for(let R=0;R<x.length;R++)x[R]=x[R]/_;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=x,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:b}=this;d.dTheta.value=m,d.mipInt.value=b-r;const w=this._sizeLods[i],M=3*w*(i>b-Nb?i-b+Nb:0),C=4*(this._cubeSize-w);sP(t,M,C,3*w,2*w),l.setRenderTarget(t),l.render(f,dN)}}function OBe(n){const e=[],t=[],r=[];let i=n;const s=n-Nb+1+uK.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Nb?l=uK[o-n+Nb-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],p=6,m=6,g=3,y=2,x=1,_=new Float32Array(g*m*p),b=new Float32Array(y*m*p),w=new Float32Array(x*m*p);for(let C=0;C<p;C++){const R=C%3*2/3-1,E=C>2?0:-1,B=[R,E,0,R+2/3,E,0,R+2/3,E+1,0,R,E,0,R+2/3,E+1,0,R,E+1,0];_.set(B,g*m*C),b.set(d,y*m*C);const D=[C,C,C,C,C,C];w.set(D,x*m*C)}const M=new cn;M.setAttribute("position",new qn(_,g)),M.setAttribute("uv",new qn(b,y)),M.setAttribute("faceIndex",new qn(w,x)),e.push(M),i>Nb&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function hK(n,e,t){const r=new zu(n,e,t);return r.texture.mapping=JS,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function sP(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function FBe(n,e,t){const r=new Float32Array(Ty),i=new ge(0,1,0);return new Vf({name:"SphericalGaussianBlur",defines:{n:Ty,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Nj(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ep,depthTest:!1,depthWrite:!1})}function pK(){return new Vf({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Nj(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ep,depthTest:!1,depthWrite:!1})}function mK(){return new Vf({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Nj(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ep,depthTest:!1,depthWrite:!1})}function Nj(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function NBe(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===eS||l===MC,u=l===h0||l===p0;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new bG(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new bG(n));const d=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function UBe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function zBe(n,e,t,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const m in d.attributes)e.remove(d.attributes[m]);d.removeEventListener("dispose",o),delete i[d.id];const p=s.get(d);p&&(e.remove(p),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,t.memory.geometries++),d}function l(f){const d=f.attributes;for(const m in d)e.update(d[m],34962);const p=f.morphAttributes;for(const m in p){const g=p[m];for(let y=0,x=g.length;y<x;y++)e.update(g[y],34962)}}function c(f){const d=[],p=f.index,m=f.attributes.position;let g=0;if(p!==null){const _=p.array;g=p.version;for(let b=0,w=_.length;b<w;b+=3){const M=_[b+0],C=_[b+1],R=_[b+2];d.push(M,C,C,R,R,M)}}else{const _=m.array;g=m.version;for(let b=0,w=_.length/3-1;b<w;b+=3){const M=b+0,C=b+1,R=b+2;d.push(M,C,C,R,R,M)}}const y=new(rde(d)?Fj:hO)(d,1);y.version=g;const x=s.get(f);x&&e.remove(x),s.set(f,y)}function u(f){const d=s.get(f);if(d){const p=f.index;p!==null&&d.version<p.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function GBe(n,e,t,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function u(d,p){n.drawElements(s,p,a,d*l),t.update(p,s,1)}function f(d,p,m){if(m===0)return;let g,y;if(i)g=n,y="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](s,p,a,d*l,m),t.update(p,s,m)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function HBe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function VBe(n,e){return n[0]-e[0]}function jBe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function WBe(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new wn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f,d){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=m!==void 0?m.length:0;let y=s.get(u);if(y===void 0||y.count!==g){let b=function(){U.dispose(),s.delete(u),u.removeEventListener("dispose",b)};y!==void 0&&y.texture.dispose();const w=u.morphAttributes.position!==void 0,M=u.morphAttributes.normal!==void 0,C=u.morphAttributes.color!==void 0,R=u.morphAttributes.position||[],E=u.morphAttributes.normal||[],B=u.morphAttributes.color||[];let D=0;w===!0&&(D=1),M===!0&&(D=2),C===!0&&(D=3);let N=u.attributes.position.count*D,z=1;N>e.maxTextureSize&&(z=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const H=new Float32Array(N*z*4*g),U=new n3(H,N,z,g);U.type=vp,U.needsUpdate=!0;const W=D*4;for(let X=0;X<g;X++){const q=R[X],L=E[X],I=B[X],O=N*z*4*X;for(let F=0;F<q.count;F++){const j=F*W;w===!0&&(o.fromBufferAttribute(q,F),H[O+j+0]=o.x,H[O+j+1]=o.y,H[O+j+2]=o.z,H[O+j+3]=0),M===!0&&(o.fromBufferAttribute(L,F),H[O+j+4]=o.x,H[O+j+5]=o.y,H[O+j+6]=o.z,H[O+j+7]=0),C===!0&&(o.fromBufferAttribute(I,F),H[O+j+8]=o.x,H[O+j+9]=o.y,H[O+j+10]=o.z,H[O+j+11]=I.itemSize===4?o.w:1)}}y={count:g,texture:U,size:new rt(N,z)},s.set(u,y),u.addEventListener("dispose",b)}let x=0;for(let b=0;b<p.length;b++)x+=p[b];const _=u.morphTargetsRelative?1:1-x;d.getUniforms().setValue(n,"morphTargetBaseInfluence",_),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const m=p===void 0?0:p.length;let g=r[u.id];if(g===void 0||g.length!==m){g=[];for(let w=0;w<m;w++)g[w]=[w,0];r[u.id]=g}for(let w=0;w<m;w++){const M=g[w];M[0]=w,M[1]=p[w]}g.sort(jBe);for(let w=0;w<8;w++)w<m&&g[w][1]?(a[w][0]=g[w][0],a[w][1]=g[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(VBe);const y=u.morphAttributes.position,x=u.morphAttributes.normal;let _=0;for(let w=0;w<8;w++){const M=a[w],C=M[0],R=M[1];C!==Number.MAX_SAFE_INTEGER&&R?(y&&u.getAttribute("morphTarget"+w)!==y[C]&&u.setAttribute("morphTarget"+w,y[C]),x&&u.getAttribute("morphNormal"+w)!==x[C]&&u.setAttribute("morphNormal"+w,x[C]),i[w]=R,_+=R):(y&&u.hasAttribute("morphTarget"+w)===!0&&u.deleteAttribute("morphTarget"+w),x&&u.hasAttribute("morphNormal"+w)===!0&&u.deleteAttribute("morphNormal"+w),i[w]=0)}const b=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",b),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function $Be(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);return i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const fde=new Kr,dde=new n3,hde=new dO,pde=new s3,gK=[],vK=[],yK=new Float32Array(16),xK=new Float32Array(9),_K=new Float32Array(4);function KS(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=gK[i];if(s===void 0&&(s=new Float32Array(i),gK[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function $s(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Xs(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function gO(n,e){let t=vK[e];t===void 0&&(t=new Int32Array(e),vK[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function XBe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function JBe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if($s(t,e))return;n.uniform2fv(this.addr,e),Xs(t,e)}}function YBe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if($s(t,e))return;n.uniform3fv(this.addr,e),Xs(t,e)}}function KBe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if($s(t,e))return;n.uniform4fv(this.addr,e),Xs(t,e)}}function qBe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if($s(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Xs(t,e)}else{if($s(t,r))return;_K.set(r),n.uniformMatrix2fv(this.addr,!1,_K),Xs(t,r)}}function QBe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if($s(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Xs(t,e)}else{if($s(t,r))return;xK.set(r),n.uniformMatrix3fv(this.addr,!1,xK),Xs(t,r)}}function ZBe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if($s(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Xs(t,e)}else{if($s(t,r))return;yK.set(r),n.uniformMatrix4fv(this.addr,!1,yK),Xs(t,r)}}function eDe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function tDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if($s(t,e))return;n.uniform2iv(this.addr,e),Xs(t,e)}}function nDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if($s(t,e))return;n.uniform3iv(this.addr,e),Xs(t,e)}}function rDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if($s(t,e))return;n.uniform4iv(this.addr,e),Xs(t,e)}}function iDe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function sDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if($s(t,e))return;n.uniform2uiv(this.addr,e),Xs(t,e)}}function oDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if($s(t,e))return;n.uniform3uiv(this.addr,e),Xs(t,e)}}function aDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if($s(t,e))return;n.uniform4uiv(this.addr,e),Xs(t,e)}}function lDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||fde,i)}function cDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||hde,i)}function uDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||pde,i)}function fDe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||dde,i)}function dDe(n){switch(n){case 5126:return XBe;case 35664:return JBe;case 35665:return YBe;case 35666:return KBe;case 35674:return qBe;case 35675:return QBe;case 35676:return ZBe;case 5124:case 35670:return eDe;case 35667:case 35671:return tDe;case 35668:case 35672:return nDe;case 35669:case 35673:return rDe;case 5125:return iDe;case 36294:return sDe;case 36295:return oDe;case 36296:return aDe;case 35678:case 36198:case 36298:case 36306:case 35682:return lDe;case 35679:case 36299:case 36307:return cDe;case 35680:case 36300:case 36308:case 36293:return uDe;case 36289:case 36303:case 36311:case 36292:return fDe}}function hDe(n,e){n.uniform1fv(this.addr,e)}function pDe(n,e){const t=KS(e,this.size,2);n.uniform2fv(this.addr,t)}function mDe(n,e){const t=KS(e,this.size,3);n.uniform3fv(this.addr,t)}function gDe(n,e){const t=KS(e,this.size,4);n.uniform4fv(this.addr,t)}function vDe(n,e){const t=KS(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function yDe(n,e){const t=KS(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function xDe(n,e){const t=KS(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function _De(n,e){n.uniform1iv(this.addr,e)}function bDe(n,e){n.uniform2iv(this.addr,e)}function wDe(n,e){n.uniform3iv(this.addr,e)}function SDe(n,e){n.uniform4iv(this.addr,e)}function ADe(n,e){n.uniform1uiv(this.addr,e)}function MDe(n,e){n.uniform2uiv(this.addr,e)}function EDe(n,e){n.uniform3uiv(this.addr,e)}function CDe(n,e){n.uniform4uiv(this.addr,e)}function TDe(n,e,t){const r=this.cache,i=e.length,s=gO(t,i);$s(r,s)||(n.uniform1iv(this.addr,s),Xs(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||fde,s[o])}function RDe(n,e,t){const r=this.cache,i=e.length,s=gO(t,i);$s(r,s)||(n.uniform1iv(this.addr,s),Xs(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||hde,s[o])}function PDe(n,e,t){const r=this.cache,i=e.length,s=gO(t,i);$s(r,s)||(n.uniform1iv(this.addr,s),Xs(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||pde,s[o])}function BDe(n,e,t){const r=this.cache,i=e.length,s=gO(t,i);$s(r,s)||(n.uniform1iv(this.addr,s),Xs(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||dde,s[o])}function DDe(n){switch(n){case 5126:return hDe;case 35664:return pDe;case 35665:return mDe;case 35666:return gDe;case 35674:return vDe;case 35675:return yDe;case 35676:return xDe;case 5124:case 35670:return _De;case 35667:case 35671:return bDe;case 35668:case 35672:return wDe;case 35669:case 35673:return SDe;case 5125:return ADe;case 36294:return MDe;case 36295:return EDe;case 36296:return CDe;case 35678:case 36198:case 36298:case 36306:case 35682:return TDe;case 35679:case 36299:case 36307:return RDe;case 35680:case 36300:case 36308:case 36293:return PDe;case 36289:case 36303:case 36311:case 36292:return BDe}}class kDe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=dDe(t.type)}}class IDe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=DDe(t.type)}}class LDe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const pN=/(\w+)(\])?(\[|\.)?/g;function bK(n,e){n.seq.push(e),n.map[e.id]=e}function ODe(n,e,t){const r=n.name,i=r.length;for(pN.lastIndex=0;;){const s=pN.exec(r),o=pN.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){bK(t,c===void 0?new kDe(a,n,e):new IDe(a,n,e));break}else{let u=t.map[a];u===void 0&&(u=new LDe(a),bK(t,u)),t=u}}}class WD{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);ODe(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function wK(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let FDe=0;function NDe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function UDe(n){switch(n){case m0:return["Linear","( value )"];case ni:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function SK(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+NDe(n.getShaderSource(e),o)}else return i}function zDe(n,e){const t=UDe(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function GDe(n,e){let t;switch(e){case Rfe:t="Linear";break;case Pfe:t="Reinhard";break;case Bfe:t="OptimizedCineon";break;case Pj:t="ACESFilmic";break;case Dfe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function HDe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(N2).join(`
`)}function VDe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function jDe(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function N2(n){return n!==""}function AK(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function MK(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const WDe=/^[ \t]*#include +<([\w\d./]+)>/gm;function wG(n){return n.replace(WDe,$De)}function $De(n,e){const t=yn[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return wG(t)}const XDe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function EK(n){return n.replace(XDe,JDe)}function JDe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function CK(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function YDe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===lO?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===aE?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Iy&&(e="SHADOWMAP_TYPE_VSM"),e}function KDe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case h0:case p0:e="ENVMAP_TYPE_CUBE";break;case JS:e="ENVMAP_TYPE_CUBE_UV";break}return e}function qDe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case p0:e="ENVMAP_MODE_REFRACTION";break}return e}function QDe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case t3:e="ENVMAP_BLENDING_MULTIPLY";break;case Cfe:e="ENVMAP_BLENDING_MIX";break;case Tfe:e="ENVMAP_BLENDING_ADD";break}return e}function ZDe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function eke(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=YDe(t),c=KDe(t),u=qDe(t),f=QDe(t),d=ZDe(t),p=t.isWebGL2?"":HDe(t),m=VDe(s),g=i.createProgram();let y,x,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[m].filter(N2).join(`
`),y.length>0&&(y+=`
`),x=[p,m].filter(N2).join(`
`),x.length>0&&(x+=`
`)):(y=[CK(t),"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(N2).join(`
`),x=[p,CK(t),"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==If?"#define TONE_MAPPING":"",t.toneMapping!==If?yn.tonemapping_pars_fragment:"",t.toneMapping!==If?GDe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",yn.encodings_pars_fragment,zDe("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(N2).join(`
`)),o=wG(o),o=AK(o,t),o=MK(o,t),a=wG(a),a=AK(a,t),a=MK(a,t),o=EK(o),a=EK(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",t.glslVersion===yG?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===yG?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const b=_+y+o,w=_+x+a,M=wK(i,35633,b),C=wK(i,35632,w);if(i.attachShader(g,M),i.attachShader(g,C),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),n.debug.checkShaderErrors){const B=i.getProgramInfoLog(g).trim(),D=i.getShaderInfoLog(M).trim(),N=i.getShaderInfoLog(C).trim();let z=!0,H=!0;if(i.getProgramParameter(g,35714)===!1){z=!1;const U=SK(i,M,"vertex"),W=SK(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+B+`
`+U+`
`+W)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(D===""||N==="")&&(H=!1);H&&(this.diagnostics={runnable:z,programLog:B,vertexShader:{log:D,prefix:y},fragmentShader:{log:N,prefix:x}})}i.deleteShader(M),i.deleteShader(C);let R;this.getUniforms=function(){return R===void 0&&(R=new WD(i,g)),R};let E;return this.getAttributes=function(){return E===void 0&&(E=jDe(i,g)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=FDe++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=M,this.fragmentShader=C,this}let tke=0;class nke{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new rke(e),t.set(e,r)),r}}class rke{constructor(e){this.id=tke++,this.code=e,this.usedTimes=0}}function ike(n,e,t,r,i,s,o){const a=new c1,l=new nke,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let p=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(E,B,D,N,z){const H=N.fog,U=z.geometry,W=E.isMeshStandardMaterial?N.environment:null,X=(E.isMeshStandardMaterial?t:e).get(E.envMap||W),q=X&&X.mapping===JS?X.image.height:null,L=m[E.type];E.precision!==null&&(p=i.getMaxPrecision(E.precision),p!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",p,"instead."));const I=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,O=I!==void 0?I.length:0;let F=0;U.morphAttributes.position!==void 0&&(F=1),U.morphAttributes.normal!==void 0&&(F=2),U.morphAttributes.color!==void 0&&(F=3);let j,te,re,se;if(L){const ve=Mf[L];j=ve.vertexShader,te=ve.fragmentShader}else j=E.vertexShader,te=E.fragmentShader,l.update(E),re=l.getVertexShaderID(E),se=l.getFragmentShaderID(E);const K=n.getRenderTarget(),le=E.alphaTest>0,he=E.clearcoat>0,we=E.iridescence>0;return{isWebGL2:u,shaderID:L,shaderName:E.type,vertexShader:j,fragmentShader:te,defines:E.defines,customVertexShaderID:re,customFragmentShaderID:se,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:p,instancing:z.isInstancedMesh===!0,instancingColor:z.isInstancedMesh===!0&&z.instanceColor!==null,supportsVertexTextures:d,outputEncoding:K===null?n.outputEncoding:K.isXRRenderTarget===!0?K.texture.encoding:m0,map:!!E.map,matcap:!!E.matcap,envMap:!!X,envMapMode:X&&X.mapping,envMapCubeUVHeight:q,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===Zfe,tangentSpaceNormalMap:E.normalMapType===Y0,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===ni,clearcoat:he,clearcoatMap:he&&!!E.clearcoatMap,clearcoatRoughnessMap:he&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:he&&!!E.clearcoatNormalMap,iridescence:we,iridescenceMap:we&&!!E.iridescenceMap,iridescenceThicknessMap:we&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===s1,alphaMap:!!E.alphaMap,alphaTest:le,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!U.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!U.attributes.color&&U.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!H,useFog:E.fog===!0,fogExp2:H&&H.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:f,skinning:z.isSkinnedMesh===!0,morphTargets:U.morphAttributes.position!==void 0,morphNormals:U.morphAttributes.normal!==void 0,morphColors:U.morphAttributes.color!==void 0,morphTargetsCount:O,morphTextureStride:F,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:E.toneMapped?n.toneMapping:If,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Cu,flipSided:E.side===Ha,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function y(E){const B=[];if(E.shaderID?B.push(E.shaderID):(B.push(E.customVertexShaderID),B.push(E.customFragmentShaderID)),E.defines!==void 0)for(const D in E.defines)B.push(D),B.push(E.defines[D]);return E.isRawShaderMaterial===!1&&(x(B,E),_(B,E),B.push(n.outputEncoding)),B.push(E.customProgramCacheKey),B.join()}function x(E,B){E.push(B.precision),E.push(B.outputEncoding),E.push(B.envMapMode),E.push(B.envMapCubeUVHeight),E.push(B.combine),E.push(B.vertexUvs),E.push(B.fogExp2),E.push(B.sizeAttenuation),E.push(B.morphTargetsCount),E.push(B.morphAttributeCount),E.push(B.numDirLights),E.push(B.numPointLights),E.push(B.numSpotLights),E.push(B.numSpotLightMaps),E.push(B.numHemiLights),E.push(B.numRectAreaLights),E.push(B.numDirLightShadows),E.push(B.numPointLightShadows),E.push(B.numSpotLightShadows),E.push(B.numSpotLightShadowsWithMaps),E.push(B.shadowMapType),E.push(B.toneMapping),E.push(B.numClippingPlanes),E.push(B.numClipIntersection),E.push(B.depthPacking)}function _(E,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.iridescence&&a.enable(18),B.iridescenceMap&&a.enable(19),B.iridescenceThicknessMap&&a.enable(20),B.displacementMap&&a.enable(21),B.specularMap&&a.enable(22),B.roughnessMap&&a.enable(23),B.metalnessMap&&a.enable(24),B.gradientMap&&a.enable(25),B.alphaMap&&a.enable(26),B.alphaTest&&a.enable(27),B.vertexColors&&a.enable(28),B.vertexAlphas&&a.enable(29),B.vertexUvs&&a.enable(30),B.vertexTangents&&a.enable(31),B.uvsVertexOnly&&a.enable(32),E.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.physicallyCorrectLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.specularIntensityMap&&a.enable(15),B.specularColorMap&&a.enable(16),B.transmission&&a.enable(17),B.transmissionMap&&a.enable(18),B.thicknessMap&&a.enable(19),B.sheen&&a.enable(20),B.sheenColorMap&&a.enable(21),B.sheenRoughnessMap&&a.enable(22),B.decodeVideoTexture&&a.enable(23),B.opaque&&a.enable(24),E.push(a.mask)}function b(E){const B=m[E.type];let D;if(B){const N=Mf[B];D=pO.clone(N.uniforms)}else D=E.uniforms;return D}function w(E,B){let D;for(let N=0,z=c.length;N<z;N++){const H=c[N];if(H.cacheKey===B){D=H,++D.usedTimes;break}}return D===void 0&&(D=new eke(n,B,E,s),c.push(D)),D}function M(E){if(--E.usedTimes===0){const B=c.indexOf(E);c[B]=c[c.length-1],c.pop(),E.destroy()}}function C(E){l.remove(E)}function R(){l.dispose()}return{getParameters:g,getProgramCacheKey:y,getUniforms:b,acquireProgram:w,releaseProgram:M,releaseShaderCache:C,programs:c,dispose:R}}function ske(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function oke(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function TK(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function RK(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,d,p,m,g,y){let x=n[e];return x===void 0?(x={id:f.id,object:f,geometry:d,material:p,groupOrder:m,renderOrder:f.renderOrder,z:g,group:y},n[e]=x):(x.id=f.id,x.object=f,x.geometry=d,x.material=p,x.groupOrder=m,x.renderOrder=f.renderOrder,x.z=g,x.group=y),e++,x}function a(f,d,p,m,g,y){const x=o(f,d,p,m,g,y);p.transmission>0?r.push(x):p.transparent===!0?i.push(x):t.push(x)}function l(f,d,p,m,g,y){const x=o(f,d,p,m,g,y);p.transmission>0?r.unshift(x):p.transparent===!0?i.unshift(x):t.unshift(x)}function c(f,d){t.length>1&&t.sort(f||oke),r.length>1&&r.sort(d||TK),i.length>1&&i.sort(d||TK)}function u(){for(let f=e,d=n.length;f<d;f++){const p=n[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function ake(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new RK,n.set(r,[o])):i>=s.length?(o=new RK,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function lke(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ge,color:new ft};break;case"SpotLight":t={position:new ge,direction:new ge,color:new ft,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ge,color:new ft,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ge,skyColor:new ft,groundColor:new ft};break;case"RectAreaLight":t={color:new ft,position:new ge,halfWidth:new ge,halfHeight:new ge};break}return n[e.id]=t,t}}}function cke(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let uke=0;function fke(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function dke(n,e){const t=new lke,r=cke(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new ge);const s=new ge,o=new Ht,a=new Ht;function l(u,f){let d=0,p=0,m=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let g=0,y=0,x=0,_=0,b=0,w=0,M=0,C=0,R=0,E=0;u.sort(fke);const B=f!==!0?Math.PI:1;for(let N=0,z=u.length;N<z;N++){const H=u[N],U=H.color,W=H.intensity,X=H.distance,q=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)d+=U.r*W*B,p+=U.g*W*B,m+=U.b*W*B;else if(H.isLightProbe)for(let L=0;L<9;L++)i.probe[L].addScaledVector(H.sh.coefficients[L],W);else if(H.isDirectionalLight){const L=t.get(H);if(L.color.copy(H.color).multiplyScalar(H.intensity*B),H.castShadow){const I=H.shadow,O=r.get(H);O.shadowBias=I.bias,O.shadowNormalBias=I.normalBias,O.shadowRadius=I.radius,O.shadowMapSize=I.mapSize,i.directionalShadow[g]=O,i.directionalShadowMap[g]=q,i.directionalShadowMatrix[g]=H.shadow.matrix,w++}i.directional[g]=L,g++}else if(H.isSpotLight){const L=t.get(H);L.position.setFromMatrixPosition(H.matrixWorld),L.color.copy(U).multiplyScalar(W*B),L.distance=X,L.coneCos=Math.cos(H.angle),L.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),L.decay=H.decay,i.spot[x]=L;const I=H.shadow;if(H.map&&(i.spotLightMap[R]=H.map,R++,I.updateMatrices(H),H.castShadow&&E++),i.spotLightMatrix[x]=I.matrix,H.castShadow){const O=r.get(H);O.shadowBias=I.bias,O.shadowNormalBias=I.normalBias,O.shadowRadius=I.radius,O.shadowMapSize=I.mapSize,i.spotShadow[x]=O,i.spotShadowMap[x]=q,C++}x++}else if(H.isRectAreaLight){const L=t.get(H);L.color.copy(U).multiplyScalar(W),L.halfWidth.set(H.width*.5,0,0),L.halfHeight.set(0,H.height*.5,0),i.rectArea[_]=L,_++}else if(H.isPointLight){const L=t.get(H);if(L.color.copy(H.color).multiplyScalar(H.intensity*B),L.distance=H.distance,L.decay=H.decay,H.castShadow){const I=H.shadow,O=r.get(H);O.shadowBias=I.bias,O.shadowNormalBias=I.normalBias,O.shadowRadius=I.radius,O.shadowMapSize=I.mapSize,O.shadowCameraNear=I.camera.near,O.shadowCameraFar=I.camera.far,i.pointShadow[y]=O,i.pointShadowMap[y]=q,i.pointShadowMatrix[y]=H.shadow.matrix,M++}i.point[y]=L,y++}else if(H.isHemisphereLight){const L=t.get(H);L.skyColor.copy(H.color).multiplyScalar(W*B),L.groundColor.copy(H.groundColor).multiplyScalar(W*B),i.hemi[b]=L,b++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ct.LTC_FLOAT_1,i.rectAreaLTC2=Ct.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ct.LTC_HALF_1,i.rectAreaLTC2=Ct.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=p,i.ambient[2]=m;const D=i.hash;(D.directionalLength!==g||D.pointLength!==y||D.spotLength!==x||D.rectAreaLength!==_||D.hemiLength!==b||D.numDirectionalShadows!==w||D.numPointShadows!==M||D.numSpotShadows!==C||D.numSpotMaps!==R)&&(i.directional.length=g,i.spot.length=x,i.rectArea.length=_,i.point.length=y,i.hemi.length=b,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=C+R-E,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=E,D.directionalLength=g,D.pointLength=y,D.spotLength=x,D.rectAreaLength=_,D.hemiLength=b,D.numDirectionalShadows=w,D.numPointShadows=M,D.numSpotShadows=C,D.numSpotMaps=R,i.version=uke++)}function c(u,f){let d=0,p=0,m=0,g=0,y=0;const x=f.matrixWorldInverse;for(let _=0,b=u.length;_<b;_++){const w=u[_];if(w.isDirectionalLight){const M=i.directional[d];M.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(x),d++}else if(w.isSpotLight){const M=i.spot[m];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(x),M.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(x),m++}else if(w.isRectAreaLight){const M=i.rectArea[g];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(x),a.identity(),o.copy(w.matrixWorld),o.premultiply(x),a.extractRotation(o),M.halfWidth.set(w.width*.5,0,0),M.halfHeight.set(0,w.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),g++}else if(w.isPointLight){const M=i.point[p];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(x),p++}else if(w.isHemisphereLight){const M=i.hemi[y];M.direction.setFromMatrixPosition(w.matrixWorld),M.direction.transformDirection(x),y++}}}return{setup:l,setupView:c,state:i}}function PK(n,e){const t=new dke(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(u){r.push(u)}function a(u){i.push(u)}function l(u){t.setup(r,u)}function c(u){t.setupView(r,u)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function hke(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new PK(n,e),t.set(s,[l])):o>=a.length?(l=new PK(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class vO extends Ts{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Qfe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class yO extends Ts{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ge,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const pke=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,mke=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function gke(n,e,t){let r=new mO;const i=new rt,s=new rt,o=new wn,a=new vO({depthPacking:Ij}),l=new yO,c={},u=t.maxTextureSize,f={0:Ha,1:Gp,2:Cu},d=new Vf({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new rt},radius:{value:4}},vertexShader:pke,fragmentShader:mke}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const m=new cn;m.setAttribute("position",new qn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Oi(m,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=lO,this.render=function(w,M,C){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||w.length===0)return;const R=n.getRenderTarget(),E=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Ep),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let N=0,z=w.length;N<z;N++){const H=w[N],U=H.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;i.copy(U.mapSize);const W=U.getFrameExtents();if(i.multiply(W),s.copy(U.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/W.x),i.x=s.x*W.x,U.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/W.y),i.y=s.y*W.y,U.mapSize.y=s.y)),U.map===null){const q=this.type!==Iy?{minFilter:ns,magFilter:ns}:{};U.map=new zu(i.x,i.y,q),U.map.texture.name=H.name+".shadowMap",U.camera.updateProjectionMatrix()}n.setRenderTarget(U.map),n.clear();const X=U.getViewportCount();for(let q=0;q<X;q++){const L=U.getViewport(q);o.set(s.x*L.x,s.y*L.y,s.x*L.z,s.y*L.w),D.viewport(o),U.updateMatrices(H,q),r=U.getFrustum(),b(M,C,U.camera,H,this.type)}U.isPointLightShadow!==!0&&this.type===Iy&&x(U,C),U.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(R,E,B)};function x(w,M){const C=e.update(g);d.defines.VSM_SAMPLES!==w.blurSamples&&(d.defines.VSM_SAMPLES=w.blurSamples,p.defines.VSM_SAMPLES=w.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new zu(i.x,i.y)),d.uniforms.shadow_pass.value=w.map.texture,d.uniforms.resolution.value=w.mapSize,d.uniforms.radius.value=w.radius,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(M,null,C,d,g,null),p.uniforms.shadow_pass.value=w.mapPass.texture,p.uniforms.resolution.value=w.mapSize,p.uniforms.radius.value=w.radius,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(M,null,C,p,g,null)}function _(w,M,C,R,E,B){let D=null;const N=C.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(N!==void 0?D=N:D=C.isPointLight===!0?l:a,n.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0){const z=D.uuid,H=M.uuid;let U=c[z];U===void 0&&(U={},c[z]=U);let W=U[H];W===void 0&&(W=D.clone(),U[H]=W),D=W}return D.visible=M.visible,D.wireframe=M.wireframe,B===Iy?D.side=M.shadowSide!==null?M.shadowSide:M.side:D.side=M.shadowSide!==null?M.shadowSide:f[M.side],D.alphaMap=M.alphaMap,D.alphaTest=M.alphaTest,D.clipShadows=M.clipShadows,D.clippingPlanes=M.clippingPlanes,D.clipIntersection=M.clipIntersection,D.displacementMap=M.displacementMap,D.displacementScale=M.displacementScale,D.displacementBias=M.displacementBias,D.wireframeLinewidth=M.wireframeLinewidth,D.linewidth=M.linewidth,C.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(C.matrixWorld),D.nearDistance=R,D.farDistance=E),D}function b(w,M,C,R,E){if(w.visible===!1)return;if(w.layers.test(M.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&E===Iy)&&(!w.frustumCulled||r.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,w.matrixWorld);const D=e.update(w),N=w.material;if(Array.isArray(N)){const z=D.groups;for(let H=0,U=z.length;H<U;H++){const W=z[H],X=N[W.materialIndex];if(X&&X.visible){const q=_(w,X,R,C.near,C.far,E);n.renderBufferDirect(C,null,D,q,w,W)}}}else if(N.visible){const z=_(w,N,R,C.near,C.far,E);n.renderBufferDirect(C,null,D,z,w,null)}}const B=w.children;for(let D=0,N=B.length;D<N;D++)b(B[D],M,C,R,E)}}function vke(n,e,t){const r=t.isWebGL2;function i(){let ee=!1;const ye=new wn;let Ie=null;const Je=new wn(0,0,0,0);return{setMask:function(et){Ie!==et&&!ee&&(n.colorMask(et,et,et,et),Ie=et)},setLocked:function(et){ee=et},setClear:function(et,mt,Dt,Nt,Ot){Ot===!0&&(et*=Nt,mt*=Nt,Dt*=Nt),ye.set(et,mt,Dt,Nt),Je.equals(ye)===!1&&(n.clearColor(et,mt,Dt,Nt),Je.copy(ye))},reset:function(){ee=!1,Ie=null,Je.set(-1,0,0,0)}}}function s(){let ee=!1,ye=null,Ie=null,Je=null;return{setTest:function(et){et?le(2929):he(2929)},setMask:function(et){ye!==et&&!ee&&(n.depthMask(et),ye=et)},setFunc:function(et){if(Ie!==et){switch(et){case _fe:n.depthFunc(512);break;case bfe:n.depthFunc(519);break;case wfe:n.depthFunc(513);break;case eI:n.depthFunc(515);break;case Sfe:n.depthFunc(514);break;case Afe:n.depthFunc(518);break;case Mfe:n.depthFunc(516);break;case Efe:n.depthFunc(517);break;default:n.depthFunc(515)}Ie=et}},setLocked:function(et){ee=et},setClear:function(et){Je!==et&&(n.clearDepth(et),Je=et)},reset:function(){ee=!1,ye=null,Ie=null,Je=null}}}function o(){let ee=!1,ye=null,Ie=null,Je=null,et=null,mt=null,Dt=null,Nt=null,Ot=null;return{setTest:function(Ft){ee||(Ft?le(2960):he(2960))},setMask:function(Ft){ye!==Ft&&!ee&&(n.stencilMask(Ft),ye=Ft)},setFunc:function(Ft,kt,Tt){(Ie!==Ft||Je!==kt||et!==Tt)&&(n.stencilFunc(Ft,kt,Tt),Ie=Ft,Je=kt,et=Tt)},setOp:function(Ft,kt,Tt){(mt!==Ft||Dt!==kt||Nt!==Tt)&&(n.stencilOp(Ft,kt,Tt),mt=Ft,Dt=kt,Nt=Tt)},setLocked:function(Ft){ee=Ft},setClear:function(Ft){Ot!==Ft&&(n.clearStencil(Ft),Ot=Ft)},reset:function(){ee=!1,ye=null,Ie=null,Je=null,et=null,mt=null,Dt=null,Nt=null,Ot=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let d={},p={},m=new WeakMap,g=[],y=null,x=!1,_=null,b=null,w=null,M=null,C=null,R=null,E=null,B=!1,D=null,N=null,z=null,H=null,U=null;const W=n.getParameter(35661);let X=!1,q=0;const L=n.getParameter(7938);L.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(L)[1]),X=q>=1):L.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),X=q>=2);let I=null,O={};const F=n.getParameter(3088),j=n.getParameter(2978),te=new wn().fromArray(F),re=new wn().fromArray(j);function se(ee,ye,Ie){const Je=new Uint8Array(4),et=n.createTexture();n.bindTexture(ee,et),n.texParameteri(ee,10241,9728),n.texParameteri(ee,10240,9728);for(let mt=0;mt<Ie;mt++)n.texImage2D(ye+mt,0,6408,1,1,0,6408,5121,Je);return et}const K={};K[3553]=se(3553,3553,1),K[34067]=se(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),le(2929),l.setFunc(eI),Ce(!1),We(W6),le(2884),Te(Ep);function le(ee){d[ee]!==!0&&(n.enable(ee),d[ee]=!0)}function he(ee){d[ee]!==!1&&(n.disable(ee),d[ee]=!1)}function we(ee,ye){return p[ee]!==ye?(n.bindFramebuffer(ee,ye),p[ee]=ye,r&&(ee===36009&&(p[36160]=ye),ee===36160&&(p[36009]=ye)),!0):!1}function ve(ee,ye){let Ie=g,Je=!1;if(ee)if(Ie=m.get(ye),Ie===void 0&&(Ie=[],m.set(ye,Ie)),ee.isWebGLMultipleRenderTargets){const et=ee.texture;if(Ie.length!==et.length||Ie[0]!==36064){for(let mt=0,Dt=et.length;mt<Dt;mt++)Ie[mt]=36064+mt;Ie.length=et.length,Je=!0}}else Ie[0]!==36064&&(Ie[0]=36064,Je=!0);else Ie[0]!==1029&&(Ie[0]=1029,Je=!0);Je&&(t.isWebGL2?n.drawBuffers(Ie):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ie))}function fe(ee){return y!==ee?(n.useProgram(ee),y=ee,!0):!1}const ne={[Cy]:32774,[cfe]:32778,[ufe]:32779};if(r)ne[Y6]=32775,ne[K6]=32776;else{const ee=e.get("EXT_blend_minmax");ee!==null&&(ne[Y6]=ee.MIN_EXT,ne[K6]=ee.MAX_EXT)}const oe={[ffe]:0,[dfe]:1,[hfe]:768,[Tj]:770,[xfe]:776,[vfe]:774,[mfe]:772,[pfe]:769,[Rj]:771,[yfe]:775,[gfe]:773};function Te(ee,ye,Ie,Je,et,mt,Dt,Nt){if(ee===Ep){x===!0&&(he(3042),x=!1);return}if(x===!1&&(le(3042),x=!0),ee!==lfe){if(ee!==_||Nt!==B){if((b!==Cy||C!==Cy)&&(n.blendEquation(32774),b=Cy,C=Cy),Nt)switch(ee){case s1:n.blendFuncSeparate(1,771,1,771);break;case $6:n.blendFunc(1,1);break;case X6:n.blendFuncSeparate(0,769,0,1);break;case J6:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case s1:n.blendFuncSeparate(770,771,1,771);break;case $6:n.blendFunc(770,1);break;case X6:n.blendFuncSeparate(0,769,0,1);break;case J6:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}w=null,M=null,R=null,E=null,_=ee,B=Nt}return}et=et||ye,mt=mt||Ie,Dt=Dt||Je,(ye!==b||et!==C)&&(n.blendEquationSeparate(ne[ye],ne[et]),b=ye,C=et),(Ie!==w||Je!==M||mt!==R||Dt!==E)&&(n.blendFuncSeparate(oe[Ie],oe[Je],oe[mt],oe[Dt]),w=Ie,M=Je,R=mt,E=Dt),_=ee,B=null}function be(ee,ye){ee.side===Cu?he(2884):le(2884);let Ie=ee.side===Ha;ye&&(Ie=!Ie),Ce(Ie),ee.blending===s1&&ee.transparent===!1?Te(Ep):Te(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.premultipliedAlpha),l.setFunc(ee.depthFunc),l.setTest(ee.depthTest),l.setMask(ee.depthWrite),a.setMask(ee.colorWrite);const Je=ee.stencilWrite;c.setTest(Je),Je&&(c.setMask(ee.stencilWriteMask),c.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),c.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),ke(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?le(32926):he(32926)}function Ce(ee){D!==ee&&(ee?n.frontFace(2304):n.frontFace(2305),D=ee)}function We(ee){ee!==sfe?(le(2884),ee!==N&&(ee===W6?n.cullFace(1029):ee===ofe?n.cullFace(1028):n.cullFace(1032))):he(2884),N=ee}function Se(ee){ee!==z&&(X&&n.lineWidth(ee),z=ee)}function ke(ee,ye,Ie){ee?(le(32823),(H!==ye||U!==Ie)&&(n.polygonOffset(ye,Ie),H=ye,U=Ie)):he(32823)}function Ve(ee){ee?le(3089):he(3089)}function Ee(ee){ee===void 0&&(ee=33984+W-1),I!==ee&&(n.activeTexture(ee),I=ee)}function V(ee,ye,Ie){Ie===void 0&&(I===null?Ie=33984+W-1:Ie=I);let Je=O[Ie];Je===void 0&&(Je={type:void 0,texture:void 0},O[Ie]=Je),(Je.type!==ee||Je.texture!==ye)&&(I!==Ie&&(n.activeTexture(Ie),I=Ie),n.bindTexture(ee,ye||K[ee]),Je.type=ee,Je.texture=ye)}function k(){const ee=O[I];ee!==void 0&&ee.type!==void 0&&(n.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function Q(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Me(){try{n.texSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Re(){try{n.texSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ue(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Pe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function xe(){try{n.texStorage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Xe(){try{n.texStorage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ge(){try{n.texImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function je(){try{n.texImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function He(ee){te.equals(ee)===!1&&(n.scissor(ee.x,ee.y,ee.z,ee.w),te.copy(ee))}function Oe(ee){re.equals(ee)===!1&&(n.viewport(ee.x,ee.y,ee.z,ee.w),re.copy(ee))}function qe(ee,ye){let Ie=f.get(ye);Ie===void 0&&(Ie=new WeakMap,f.set(ye,Ie));let Je=Ie.get(ee);Je===void 0&&(Je=n.getUniformBlockIndex(ye,ee.name),Ie.set(ee,Je))}function tt(ee,ye){const Ie=f.get(ye).get(ee);u.get(ee)!==Ie&&(n.uniformBlockBinding(ye,Ie,ee.__bindingPointIndex),u.set(ee,Ie))}function pt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},I=null,O={},p={},m=new WeakMap,g=[],y=null,x=!1,_=null,b=null,w=null,M=null,C=null,R=null,E=null,B=!1,D=null,N=null,z=null,H=null,U=null,te.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:le,disable:he,bindFramebuffer:we,drawBuffers:ve,useProgram:fe,setBlending:Te,setMaterial:be,setFlipSided:Ce,setCullFace:We,setLineWidth:Se,setPolygonOffset:ke,setScissorTest:Ve,activeTexture:Ee,bindTexture:V,unbindTexture:k,compressedTexImage2D:Q,compressedTexImage3D:ce,texImage2D:Ge,texImage3D:je,updateUBOMapping:qe,uniformBlockBinding:tt,texStorage2D:xe,texStorage3D:Xe,texSubImage2D:Me,texSubImage3D:Re,compressedTexSubImage2D:Ue,compressedTexSubImage3D:Pe,scissor:He,viewport:Oe,reset:pt}}function yke(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),m=new WeakMap;let g;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(V,k){return x?new OffscreenCanvas(V,k):BC("canvas")}function b(V,k,Q,ce){let Me=1;if((V.width>ce||V.height>ce)&&(Me=ce/Math.max(V.width,V.height)),Me<1||k===!0)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap){const Re=k?rI:Math.floor,Ue=Re(Me*V.width),Pe=Re(Me*V.height);g===void 0&&(g=_(Ue,Pe));const xe=Q?_(Ue,Pe):g;return xe.width=Ue,xe.height=Pe,xe.getContext("2d").drawImage(V,0,0,Ue,Pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+V.width+"x"+V.height+") to ("+Ue+"x"+Pe+")."),xe}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+V.width+"x"+V.height+")."),V;return V}function w(V){return xG(V.width)&&xG(V.height)}function M(V){return a?!1:V.wrapS!==zs||V.wrapT!==zs||V.minFilter!==ns&&V.minFilter!==jr}function C(V,k){return V.generateMipmaps&&k&&V.minFilter!==ns&&V.minFilter!==jr}function R(V){n.generateMipmap(V)}function E(V,k,Q,ce,Me=!1){if(a===!1)return k;if(V!==null){if(n[V]!==void 0)return n[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let Re=k;return k===6403&&(Q===5126&&(Re=33326),Q===5131&&(Re=33325),Q===5121&&(Re=33321)),k===33319&&(Q===5126&&(Re=33328),Q===5131&&(Re=33327),Q===5121&&(Re=33323)),k===6408&&(Q===5126&&(Re=34836),Q===5131&&(Re=34842),Q===5121&&(Re=ce===ni&&Me===!1?35907:32856),Q===32819&&(Re=32854),Q===32820&&(Re=32855)),(Re===33325||Re===33326||Re===33327||Re===33328||Re===34842||Re===34836)&&e.get("EXT_color_buffer_float"),Re}function B(V,k,Q){return C(V,Q)===!0||V.isFramebufferTexture&&V.minFilter!==ns&&V.minFilter!==jr?Math.log2(Math.max(k.width,k.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?k.mipmaps.length:1}function D(V){return V===ns||V===EC||V===CC?9728:9729}function N(V){const k=V.target;k.removeEventListener("dispose",N),H(k),k.isVideoTexture&&m.delete(k)}function z(V){const k=V.target;k.removeEventListener("dispose",z),W(k)}function H(V){const k=r.get(V);if(k.__webglInit===void 0)return;const Q=V.source,ce=y.get(Q);if(ce){const Me=ce[k.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&U(V),Object.keys(ce).length===0&&y.delete(Q)}r.remove(V)}function U(V){const k=r.get(V);n.deleteTexture(k.__webglTexture);const Q=V.source,ce=y.get(Q);delete ce[k.__cacheKey],o.memory.textures--}function W(V){const k=V.texture,Q=r.get(V),ce=r.get(k);if(ce.__webglTexture!==void 0&&(n.deleteTexture(ce.__webglTexture),o.memory.textures--),V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++)n.deleteFramebuffer(Q.__webglFramebuffer[Me]),Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer[Me]);else{if(n.deleteFramebuffer(Q.__webglFramebuffer),Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer),Q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Q.__webglMultisampledFramebuffer),Q.__webglColorRenderbuffer)for(let Me=0;Me<Q.__webglColorRenderbuffer.length;Me++)Q.__webglColorRenderbuffer[Me]&&n.deleteRenderbuffer(Q.__webglColorRenderbuffer[Me]);Q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Q.__webglDepthRenderbuffer)}if(V.isWebGLMultipleRenderTargets)for(let Me=0,Re=k.length;Me<Re;Me++){const Ue=r.get(k[Me]);Ue.__webglTexture&&(n.deleteTexture(Ue.__webglTexture),o.memory.textures--),r.remove(k[Me])}r.remove(k),r.remove(V)}let X=0;function q(){X=0}function L(){const V=X;return V>=l&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+l),X+=1,V}function I(V){const k=[];return k.push(V.wrapS),k.push(V.wrapT),k.push(V.wrapR||0),k.push(V.magFilter),k.push(V.minFilter),k.push(V.anisotropy),k.push(V.internalFormat),k.push(V.format),k.push(V.type),k.push(V.generateMipmaps),k.push(V.premultiplyAlpha),k.push(V.flipY),k.push(V.unpackAlignment),k.push(V.encoding),k.join()}function O(V,k){const Q=r.get(V);if(V.isVideoTexture&&Ve(V),V.isRenderTargetTexture===!1&&V.version>0&&Q.__version!==V.version){const ce=V.image;if(ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{he(Q,V,k);return}}t.bindTexture(3553,Q.__webglTexture,33984+k)}function F(V,k){const Q=r.get(V);if(V.version>0&&Q.__version!==V.version){he(Q,V,k);return}t.bindTexture(35866,Q.__webglTexture,33984+k)}function j(V,k){const Q=r.get(V);if(V.version>0&&Q.__version!==V.version){he(Q,V,k);return}t.bindTexture(32879,Q.__webglTexture,33984+k)}function te(V,k){const Q=r.get(V);if(V.version>0&&Q.__version!==V.version){we(Q,V,k);return}t.bindTexture(34067,Q.__webglTexture,33984+k)}const re={[eh]:10497,[zs]:33071,[tS]:33648},se={[ns]:9728,[EC]:9984,[CC]:9986,[jr]:9729,[uO]:9985,[lm]:9987};function K(V,k,Q){if(Q?(n.texParameteri(V,10242,re[k.wrapS]),n.texParameteri(V,10243,re[k.wrapT]),(V===32879||V===35866)&&n.texParameteri(V,32882,re[k.wrapR]),n.texParameteri(V,10240,se[k.magFilter]),n.texParameteri(V,10241,se[k.minFilter])):(n.texParameteri(V,10242,33071),n.texParameteri(V,10243,33071),(V===32879||V===35866)&&n.texParameteri(V,32882,33071),(k.wrapS!==zs||k.wrapT!==zs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(V,10240,D(k.magFilter)),n.texParameteri(V,10241,D(k.minFilter)),k.minFilter!==ns&&k.minFilter!==jr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ce=e.get("EXT_texture_filter_anisotropic");if(k.type===vp&&e.has("OES_texture_float_linear")===!1||a===!1&&k.type===nS&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||r.get(k).__currentAnisotropy)&&(n.texParameterf(V,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy)}}function le(V,k){let Q=!1;V.__webglInit===void 0&&(V.__webglInit=!0,k.addEventListener("dispose",N));const ce=k.source;let Me=y.get(ce);Me===void 0&&(Me={},y.set(ce,Me));const Re=I(k);if(Re!==V.__cacheKey){Me[Re]===void 0&&(Me[Re]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Q=!0),Me[Re].usedTimes++;const Ue=Me[V.__cacheKey];Ue!==void 0&&(Me[V.__cacheKey].usedTimes--,Ue.usedTimes===0&&U(k)),V.__cacheKey=Re,V.__webglTexture=Me[Re].texture}return Q}function he(V,k,Q){let ce=3553;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(ce=35866),k.isData3DTexture&&(ce=32879);const Me=le(V,k),Re=k.source;t.bindTexture(ce,V.__webglTexture,33984+Q);const Ue=r.get(Re);if(Re.version!==Ue.__version||Me===!0){t.activeTexture(33984+Q),n.pixelStorei(37440,k.flipY),n.pixelStorei(37441,k.premultiplyAlpha),n.pixelStorei(3317,k.unpackAlignment),n.pixelStorei(37443,0);const Pe=M(k)&&w(k.image)===!1;let xe=b(k.image,Pe,!1,u);xe=Ee(k,xe);const Xe=w(xe)||a,Ge=s.convert(k.format,k.encoding);let je=s.convert(k.type),He=E(k.internalFormat,Ge,je,k.encoding,k.isVideoTexture);K(ce,k,Xe);let Oe;const qe=k.mipmaps,tt=a&&k.isVideoTexture!==!0,pt=Ue.__version===void 0||Me===!0,ee=B(k,xe,Xe);if(k.isDepthTexture)He=6402,a?k.type===vp?He=36012:k.type===Tg?He=33190:k.type===o1?He=35056:He=33189:k.type===vp&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===Yg&&He===6402&&k.type!==Bj&&k.type!==Tg&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=Tg,je=s.convert(k.type)),k.format===U1&&He===6402&&(He=34041,k.type!==o1&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=o1,je=s.convert(k.type))),pt&&(tt?t.texStorage2D(3553,1,He,xe.width,xe.height):t.texImage2D(3553,0,He,xe.width,xe.height,0,Ge,je,null));else if(k.isDataTexture)if(qe.length>0&&Xe){tt&&pt&&t.texStorage2D(3553,ee,He,qe[0].width,qe[0].height);for(let ye=0,Ie=qe.length;ye<Ie;ye++)Oe=qe[ye],tt?t.texSubImage2D(3553,ye,0,0,Oe.width,Oe.height,Ge,je,Oe.data):t.texImage2D(3553,ye,He,Oe.width,Oe.height,0,Ge,je,Oe.data);k.generateMipmaps=!1}else tt?(pt&&t.texStorage2D(3553,ee,He,xe.width,xe.height),t.texSubImage2D(3553,0,0,0,xe.width,xe.height,Ge,je,xe.data)):t.texImage2D(3553,0,He,xe.width,xe.height,0,Ge,je,xe.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){tt&&pt&&t.texStorage3D(35866,ee,He,qe[0].width,qe[0].height,xe.depth);for(let ye=0,Ie=qe.length;ye<Ie;ye++)Oe=qe[ye],k.format!==al?Ge!==null?tt?t.compressedTexSubImage3D(35866,ye,0,0,0,Oe.width,Oe.height,xe.depth,Ge,Oe.data,0,0):t.compressedTexImage3D(35866,ye,He,Oe.width,Oe.height,xe.depth,0,Oe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tt?t.texSubImage3D(35866,ye,0,0,0,Oe.width,Oe.height,xe.depth,Ge,je,Oe.data):t.texImage3D(35866,ye,He,Oe.width,Oe.height,xe.depth,0,Ge,je,Oe.data)}else{tt&&pt&&t.texStorage2D(3553,ee,He,qe[0].width,qe[0].height);for(let ye=0,Ie=qe.length;ye<Ie;ye++)Oe=qe[ye],k.format!==al?Ge!==null?tt?t.compressedTexSubImage2D(3553,ye,0,0,Oe.width,Oe.height,Ge,Oe.data):t.compressedTexImage2D(3553,ye,He,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tt?t.texSubImage2D(3553,ye,0,0,Oe.width,Oe.height,Ge,je,Oe.data):t.texImage2D(3553,ye,He,Oe.width,Oe.height,0,Ge,je,Oe.data)}else if(k.isDataArrayTexture)tt?(pt&&t.texStorage3D(35866,ee,He,xe.width,xe.height,xe.depth),t.texSubImage3D(35866,0,0,0,0,xe.width,xe.height,xe.depth,Ge,je,xe.data)):t.texImage3D(35866,0,He,xe.width,xe.height,xe.depth,0,Ge,je,xe.data);else if(k.isData3DTexture)tt?(pt&&t.texStorage3D(32879,ee,He,xe.width,xe.height,xe.depth),t.texSubImage3D(32879,0,0,0,0,xe.width,xe.height,xe.depth,Ge,je,xe.data)):t.texImage3D(32879,0,He,xe.width,xe.height,xe.depth,0,Ge,je,xe.data);else if(k.isFramebufferTexture){if(pt)if(tt)t.texStorage2D(3553,ee,He,xe.width,xe.height);else{let ye=xe.width,Ie=xe.height;for(let Je=0;Je<ee;Je++)t.texImage2D(3553,Je,He,ye,Ie,0,Ge,je,null),ye>>=1,Ie>>=1}}else if(qe.length>0&&Xe){tt&&pt&&t.texStorage2D(3553,ee,He,qe[0].width,qe[0].height);for(let ye=0,Ie=qe.length;ye<Ie;ye++)Oe=qe[ye],tt?t.texSubImage2D(3553,ye,0,0,Ge,je,Oe):t.texImage2D(3553,ye,He,Ge,je,Oe);k.generateMipmaps=!1}else tt?(pt&&t.texStorage2D(3553,ee,He,xe.width,xe.height),t.texSubImage2D(3553,0,0,0,Ge,je,xe)):t.texImage2D(3553,0,He,Ge,je,xe);C(k,Xe)&&R(ce),Ue.__version=Re.version,k.onUpdate&&k.onUpdate(k)}V.__version=k.version}function we(V,k,Q){if(k.image.length!==6)return;const ce=le(V,k),Me=k.source;t.bindTexture(34067,V.__webglTexture,33984+Q);const Re=r.get(Me);if(Me.version!==Re.__version||ce===!0){t.activeTexture(33984+Q),n.pixelStorei(37440,k.flipY),n.pixelStorei(37441,k.premultiplyAlpha),n.pixelStorei(3317,k.unpackAlignment),n.pixelStorei(37443,0);const Ue=k.isCompressedTexture||k.image[0].isCompressedTexture,Pe=k.image[0]&&k.image[0].isDataTexture,xe=[];for(let ye=0;ye<6;ye++)!Ue&&!Pe?xe[ye]=b(k.image[ye],!1,!0,c):xe[ye]=Pe?k.image[ye].image:k.image[ye],xe[ye]=Ee(k,xe[ye]);const Xe=xe[0],Ge=w(Xe)||a,je=s.convert(k.format,k.encoding),He=s.convert(k.type),Oe=E(k.internalFormat,je,He,k.encoding),qe=a&&k.isVideoTexture!==!0,tt=Re.__version===void 0||ce===!0;let pt=B(k,Xe,Ge);K(34067,k,Ge);let ee;if(Ue){qe&&tt&&t.texStorage2D(34067,pt,Oe,Xe.width,Xe.height);for(let ye=0;ye<6;ye++){ee=xe[ye].mipmaps;for(let Ie=0;Ie<ee.length;Ie++){const Je=ee[Ie];k.format!==al?je!==null?qe?t.compressedTexSubImage2D(34069+ye,Ie,0,0,Je.width,Je.height,je,Je.data):t.compressedTexImage2D(34069+ye,Ie,Oe,Je.width,Je.height,0,Je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):qe?t.texSubImage2D(34069+ye,Ie,0,0,Je.width,Je.height,je,He,Je.data):t.texImage2D(34069+ye,Ie,Oe,Je.width,Je.height,0,je,He,Je.data)}}}else{ee=k.mipmaps,qe&&tt&&(ee.length>0&&pt++,t.texStorage2D(34067,pt,Oe,xe[0].width,xe[0].height));for(let ye=0;ye<6;ye++)if(Pe){qe?t.texSubImage2D(34069+ye,0,0,0,xe[ye].width,xe[ye].height,je,He,xe[ye].data):t.texImage2D(34069+ye,0,Oe,xe[ye].width,xe[ye].height,0,je,He,xe[ye].data);for(let Ie=0;Ie<ee.length;Ie++){const Je=ee[Ie].image[ye].image;qe?t.texSubImage2D(34069+ye,Ie+1,0,0,Je.width,Je.height,je,He,Je.data):t.texImage2D(34069+ye,Ie+1,Oe,Je.width,Je.height,0,je,He,Je.data)}}else{qe?t.texSubImage2D(34069+ye,0,0,0,je,He,xe[ye]):t.texImage2D(34069+ye,0,Oe,je,He,xe[ye]);for(let Ie=0;Ie<ee.length;Ie++){const Je=ee[Ie];qe?t.texSubImage2D(34069+ye,Ie+1,0,0,je,He,Je.image[ye]):t.texImage2D(34069+ye,Ie+1,Oe,je,He,Je.image[ye])}}}C(k,Ge)&&R(34067),Re.__version=Me.version,k.onUpdate&&k.onUpdate(k)}V.__version=k.version}function ve(V,k,Q,ce,Me){const Re=s.convert(Q.format,Q.encoding),Ue=s.convert(Q.type),Pe=E(Q.internalFormat,Re,Ue,Q.encoding);r.get(k).__hasExternalTextures||(Me===32879||Me===35866?t.texImage3D(Me,0,Pe,k.width,k.height,k.depth,0,Re,Ue,null):t.texImage2D(Me,0,Pe,k.width,k.height,0,Re,Ue,null)),t.bindFramebuffer(36160,V),ke(k)?d.framebufferTexture2DMultisampleEXT(36160,ce,Me,r.get(Q).__webglTexture,0,Se(k)):(Me===3553||Me>=34069&&Me<=34074)&&n.framebufferTexture2D(36160,ce,Me,r.get(Q).__webglTexture,0),t.bindFramebuffer(36160,null)}function fe(V,k,Q){if(n.bindRenderbuffer(36161,V),k.depthBuffer&&!k.stencilBuffer){let ce=33189;if(Q||ke(k)){const Me=k.depthTexture;Me&&Me.isDepthTexture&&(Me.type===vp?ce=36012:Me.type===Tg&&(ce=33190));const Re=Se(k);ke(k)?d.renderbufferStorageMultisampleEXT(36161,Re,ce,k.width,k.height):n.renderbufferStorageMultisample(36161,Re,ce,k.width,k.height)}else n.renderbufferStorage(36161,ce,k.width,k.height);n.framebufferRenderbuffer(36160,36096,36161,V)}else if(k.depthBuffer&&k.stencilBuffer){const ce=Se(k);Q&&ke(k)===!1?n.renderbufferStorageMultisample(36161,ce,35056,k.width,k.height):ke(k)?d.renderbufferStorageMultisampleEXT(36161,ce,35056,k.width,k.height):n.renderbufferStorage(36161,34041,k.width,k.height),n.framebufferRenderbuffer(36160,33306,36161,V)}else{const ce=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let Me=0;Me<ce.length;Me++){const Re=ce[Me],Ue=s.convert(Re.format,Re.encoding),Pe=s.convert(Re.type),xe=E(Re.internalFormat,Ue,Pe,Re.encoding),Xe=Se(k);Q&&ke(k)===!1?n.renderbufferStorageMultisample(36161,Xe,xe,k.width,k.height):ke(k)?d.renderbufferStorageMultisampleEXT(36161,Xe,xe,k.width,k.height):n.renderbufferStorage(36161,xe,k.width,k.height)}}n.bindRenderbuffer(36161,null)}function ne(V,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,V),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),O(k.depthTexture,0);const Q=r.get(k.depthTexture).__webglTexture,ce=Se(k);if(k.depthTexture.format===Yg)ke(k)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,Q,0,ce):n.framebufferTexture2D(36160,36096,3553,Q,0);else if(k.depthTexture.format===U1)ke(k)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,Q,0,ce):n.framebufferTexture2D(36160,33306,3553,Q,0);else throw new Error("Unknown depthTexture format")}function oe(V){const k=r.get(V),Q=V.isWebGLCubeRenderTarget===!0;if(V.depthTexture&&!k.__autoAllocateDepthBuffer){if(Q)throw new Error("target.depthTexture not supported in Cube render targets");ne(k.__webglFramebuffer,V)}else if(Q){k.__webglDepthbuffer=[];for(let ce=0;ce<6;ce++)t.bindFramebuffer(36160,k.__webglFramebuffer[ce]),k.__webglDepthbuffer[ce]=n.createRenderbuffer(),fe(k.__webglDepthbuffer[ce],V,!1)}else t.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=n.createRenderbuffer(),fe(k.__webglDepthbuffer,V,!1);t.bindFramebuffer(36160,null)}function Te(V,k,Q){const ce=r.get(V);k!==void 0&&ve(ce.__webglFramebuffer,V,V.texture,36064,3553),Q!==void 0&&oe(V)}function be(V){const k=V.texture,Q=r.get(V),ce=r.get(k);V.addEventListener("dispose",z),V.isWebGLMultipleRenderTargets!==!0&&(ce.__webglTexture===void 0&&(ce.__webglTexture=n.createTexture()),ce.__version=k.version,o.memory.textures++);const Me=V.isWebGLCubeRenderTarget===!0,Re=V.isWebGLMultipleRenderTargets===!0,Ue=w(V)||a;if(Me){Q.__webglFramebuffer=[];for(let Pe=0;Pe<6;Pe++)Q.__webglFramebuffer[Pe]=n.createFramebuffer()}else{if(Q.__webglFramebuffer=n.createFramebuffer(),Re)if(i.drawBuffers){const Pe=V.texture;for(let xe=0,Xe=Pe.length;xe<Xe;xe++){const Ge=r.get(Pe[xe]);Ge.__webglTexture===void 0&&(Ge.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&V.samples>0&&ke(V)===!1){const Pe=Re?k:[k];Q.__webglMultisampledFramebuffer=n.createFramebuffer(),Q.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Q.__webglMultisampledFramebuffer);for(let xe=0;xe<Pe.length;xe++){const Xe=Pe[xe];Q.__webglColorRenderbuffer[xe]=n.createRenderbuffer(),n.bindRenderbuffer(36161,Q.__webglColorRenderbuffer[xe]);const Ge=s.convert(Xe.format,Xe.encoding),je=s.convert(Xe.type),He=E(Xe.internalFormat,Ge,je,Xe.encoding,V.isXRRenderTarget===!0),Oe=Se(V);n.renderbufferStorageMultisample(36161,Oe,He,V.width,V.height),n.framebufferRenderbuffer(36160,36064+xe,36161,Q.__webglColorRenderbuffer[xe])}n.bindRenderbuffer(36161,null),V.depthBuffer&&(Q.__webglDepthRenderbuffer=n.createRenderbuffer(),fe(Q.__webglDepthRenderbuffer,V,!0)),t.bindFramebuffer(36160,null)}}if(Me){t.bindTexture(34067,ce.__webglTexture),K(34067,k,Ue);for(let Pe=0;Pe<6;Pe++)ve(Q.__webglFramebuffer[Pe],V,k,36064,34069+Pe);C(k,Ue)&&R(34067),t.unbindTexture()}else if(Re){const Pe=V.texture;for(let xe=0,Xe=Pe.length;xe<Xe;xe++){const Ge=Pe[xe],je=r.get(Ge);t.bindTexture(3553,je.__webglTexture),K(3553,Ge,Ue),ve(Q.__webglFramebuffer,V,Ge,36064+xe,3553),C(Ge,Ue)&&R(3553)}t.unbindTexture()}else{let Pe=3553;(V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(a?Pe=V.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Pe,ce.__webglTexture),K(Pe,k,Ue),ve(Q.__webglFramebuffer,V,k,36064,Pe),C(k,Ue)&&R(Pe),t.unbindTexture()}V.depthBuffer&&oe(V)}function Ce(V){const k=w(V)||a,Q=V.isWebGLMultipleRenderTargets===!0?V.texture:[V.texture];for(let ce=0,Me=Q.length;ce<Me;ce++){const Re=Q[ce];if(C(Re,k)){const Ue=V.isWebGLCubeRenderTarget?34067:3553,Pe=r.get(Re).__webglTexture;t.bindTexture(Ue,Pe),R(Ue),t.unbindTexture()}}}function We(V){if(a&&V.samples>0&&ke(V)===!1){const k=V.isWebGLMultipleRenderTargets?V.texture:[V.texture],Q=V.width,ce=V.height;let Me=16384;const Re=[],Ue=V.stencilBuffer?33306:36096,Pe=r.get(V),xe=V.isWebGLMultipleRenderTargets===!0;if(xe)for(let Xe=0;Xe<k.length;Xe++)t.bindFramebuffer(36160,Pe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Xe,36161,null),t.bindFramebuffer(36160,Pe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Xe,3553,null,0);t.bindFramebuffer(36008,Pe.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Pe.__webglFramebuffer);for(let Xe=0;Xe<k.length;Xe++){Re.push(36064+Xe),V.depthBuffer&&Re.push(Ue);const Ge=Pe.__ignoreDepthValues!==void 0?Pe.__ignoreDepthValues:!1;if(Ge===!1&&(V.depthBuffer&&(Me|=256),V.stencilBuffer&&(Me|=1024)),xe&&n.framebufferRenderbuffer(36008,36064,36161,Pe.__webglColorRenderbuffer[Xe]),Ge===!0&&(n.invalidateFramebuffer(36008,[Ue]),n.invalidateFramebuffer(36009,[Ue])),xe){const je=r.get(k[Xe]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,je,0)}n.blitFramebuffer(0,0,Q,ce,0,0,Q,ce,Me,9728),p&&n.invalidateFramebuffer(36008,Re)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),xe)for(let Xe=0;Xe<k.length;Xe++){t.bindFramebuffer(36160,Pe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Xe,36161,Pe.__webglColorRenderbuffer[Xe]);const Ge=r.get(k[Xe]).__webglTexture;t.bindFramebuffer(36160,Pe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Xe,3553,Ge,0)}t.bindFramebuffer(36009,Pe.__webglMultisampledFramebuffer)}}function Se(V){return Math.min(f,V.samples)}function ke(V){const k=r.get(V);return a&&V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function Ve(V){const k=o.render.frame;m.get(V)!==k&&(m.set(V,k),V.update())}function Ee(V,k){const Q=V.encoding,ce=V.format,Me=V.type;return V.isCompressedTexture===!0||V.isVideoTexture===!0||V.format===nI||Q!==m0&&(Q===ni?a===!1?e.has("EXT_sRGB")===!0&&ce===al?(V.format=nI,V.minFilter=jr,V.generateMipmaps=!1):k=Oj.sRGBToLinear(k):(ce!==al||Me!==Hp)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Q)),k}this.allocateTextureUnit=L,this.resetTextureUnits=q,this.setTexture2D=O,this.setTexture2DArray=F,this.setTexture3D=j,this.setTextureCube=te,this.rebindTextures=Te,this.setupRenderTarget=be,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=oe,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=ke}function mde(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===Hp)return 5121;if(s===Ofe)return 32819;if(s===Ffe)return 32820;if(s===kfe)return 5120;if(s===Ife)return 5122;if(s===Bj)return 5123;if(s===Lfe)return 5124;if(s===Tg)return 5125;if(s===vp)return 5126;if(s===nS)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Nfe)return 6406;if(s===al)return 6408;if(s===zfe)return 6409;if(s===Gfe)return 6410;if(s===Yg)return 6402;if(s===U1)return 34041;if(s===Hfe)return 6403;if(s===Ufe)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===nI)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Vfe)return 36244;if(s===jfe)return 33319;if(s===Wfe)return 33320;if(s===$fe)return 36249;if(s===ND||s===UD||s===zD||s===GD)if(o===ni)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===ND)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===UD)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===zD)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===GD)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===ND)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===UD)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===zD)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===GD)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===q6||s===Q6||s===Z6||s===eG)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===q6)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Q6)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Z6)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===eG)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Xfe)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===tG||s===nG)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===tG)return o===ni?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===nG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===rG||s===iG||s===sG||s===oG||s===aG||s===lG||s===cG||s===uG||s===fG||s===dG||s===hG||s===pG||s===mG||s===gG)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===rG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===iG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===sG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===oG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===aG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===lG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===cG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===uG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===fG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===dG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===hG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===pG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===mG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===gG)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===vG)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===vG)return o===ni?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===o1?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class gde extends As{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Pf extends Rn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const xke={type:"move"};class mN{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Pf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Pf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ge,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ge),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Pf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ge,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ge),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const y=t.getJointPose(g,r);if(c.joints[g.jointName]===void 0){const _=new Pf;_.matrixAutoUpdate=!1,_.visible=!1,c.joints[g.jointName]=_,c.add(_)}const x=c.joints[g.jointName];y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=y.radius),x.visible=y!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),p=.02,m=.005;c.inputState.pinching&&d>p+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=p-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(xke)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class vde extends Kr{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Yg,u!==Yg&&u!==U1)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Yg&&(r=Tg),r===void 0&&u===U1&&(r=o1),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:ns,this.minFilter=l!==void 0?l:ns,this.flipY=!1,this.generateMipmaps=!1}}class _ke extends cm{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,f=null,d=null,p=null;const m=t.getContextAttributes();let g=null,y=null;const x=[],_=[],b=new As;b.layers.enable(1),b.viewport=new wn;const w=new As;w.layers.enable(2),w.viewport=new wn;const M=[b,w],C=new gde;C.layers.enable(1),C.layers.enable(2);let R=null,E=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(I){let O=x[I];return O===void 0&&(O=new mN,x[I]=O),O.getTargetRaySpace()},this.getControllerGrip=function(I){let O=x[I];return O===void 0&&(O=new mN,x[I]=O),O.getGripSpace()},this.getHand=function(I){let O=x[I];return O===void 0&&(O=new mN,x[I]=O),O.getHandSpace()};function B(I){const O=_.indexOf(I.inputSource);if(O===-1)return;const F=x[O];F!==void 0&&F.dispatchEvent({type:I.type,data:I.inputSource})}function D(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",D),i.removeEventListener("inputsourceschange",N);for(let I=0;I<x.length;I++){const O=_[I];O!==null&&(_[I]=null,x[I].disconnect(O))}R=null,E=null,e.setRenderTarget(g),d=null,f=null,u=null,i=null,y=null,L.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(I){s=I,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(I){a=I,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(I){l=I},this.getBaseLayer=function(){return f!==null?f:d},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(I){if(i=I,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",D),i.addEventListener("inputsourceschange",N),m.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const O={antialias:i.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,t,O),i.updateRenderState({baseLayer:d}),y=new zu(d.framebufferWidth,d.framebufferHeight,{format:al,type:Hp,encoding:e.outputEncoding,stencilBuffer:m.stencil})}else{let O=null,F=null,j=null;m.depth&&(j=m.stencil?35056:33190,O=m.stencil?U1:Yg,F=m.stencil?o1:Tg);const te={colorFormat:32856,depthFormat:j,scaleFactor:s};u=new XRWebGLBinding(i,t),f=u.createProjectionLayer(te),i.updateRenderState({layers:[f]}),y=new zu(f.textureWidth,f.textureHeight,{format:al,type:Hp,depthTexture:new vde(f.textureWidth,f.textureHeight,F,void 0,void 0,void 0,void 0,void 0,void 0,O),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});const re=e.properties.get(y);re.__ignoreDepthValues=f.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),L.setContext(i),L.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function N(I){for(let O=0;O<I.removed.length;O++){const F=I.removed[O],j=_.indexOf(F);j>=0&&(_[j]=null,x[j].dispatchEvent({type:"disconnected",data:F}))}for(let O=0;O<I.added.length;O++){const F=I.added[O];let j=_.indexOf(F);if(j===-1){for(let re=0;re<x.length;re++)if(re>=_.length){_.push(F),j=re;break}else if(_[re]===null){_[re]=F,j=re;break}if(j===-1)break}const te=x[j];te&&te.dispatchEvent({type:"connected",data:F})}}const z=new ge,H=new ge;function U(I,O,F){z.setFromMatrixPosition(O.matrixWorld),H.setFromMatrixPosition(F.matrixWorld);const j=z.distanceTo(H),te=O.projectionMatrix.elements,re=F.projectionMatrix.elements,se=te[14]/(te[10]-1),K=te[14]/(te[10]+1),le=(te[9]+1)/te[5],he=(te[9]-1)/te[5],we=(te[8]-1)/te[0],ve=(re[8]+1)/re[0],fe=se*we,ne=se*ve,oe=j/(-we+ve),Te=oe*-we;O.matrixWorld.decompose(I.position,I.quaternion,I.scale),I.translateX(Te),I.translateZ(oe),I.matrixWorld.compose(I.position,I.quaternion,I.scale),I.matrixWorldInverse.copy(I.matrixWorld).invert();const be=se+oe,Ce=K+oe,We=fe-Te,Se=ne+(j-Te),ke=le*K/Ce*be,Ve=he*K/Ce*be;I.projectionMatrix.makePerspective(We,Se,ke,Ve,be,Ce)}function W(I,O){O===null?I.matrixWorld.copy(I.matrix):I.matrixWorld.multiplyMatrices(O.matrixWorld,I.matrix),I.matrixWorldInverse.copy(I.matrixWorld).invert()}this.updateCamera=function(I){if(i===null)return;C.near=w.near=b.near=I.near,C.far=w.far=b.far=I.far,(R!==C.near||E!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),R=C.near,E=C.far);const O=I.parent,F=C.cameras;W(C,O);for(let te=0;te<F.length;te++)W(F[te],O);C.matrixWorld.decompose(C.position,C.quaternion,C.scale),I.matrix.copy(C.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale);const j=I.children;for(let te=0,re=j.length;te<re;te++)j[te].updateMatrixWorld(!0);F.length===2?U(C,b,w):C.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return C},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(I){f!==null&&(f.fixedFoveation=I),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=I)};let X=null;function q(I,O){if(c=O.getViewerPose(l||o),p=O,c!==null){const F=c.views;d!==null&&(e.setRenderTargetFramebuffer(y,d.framebuffer),e.setRenderTarget(y));let j=!1;F.length!==C.cameras.length&&(C.cameras.length=0,j=!0);for(let te=0;te<F.length;te++){const re=F[te];let se=null;if(d!==null)se=d.getViewport(re);else{const le=u.getViewSubImage(f,re);se=le.viewport,te===0&&(e.setRenderTargetTextures(y,le.colorTexture,f.ignoreDepthValues?void 0:le.depthStencilTexture),e.setRenderTarget(y))}let K=M[te];K===void 0&&(K=new As,K.layers.enable(te),K.viewport=new wn,M[te]=K),K.matrix.fromArray(re.transform.matrix),K.projectionMatrix.fromArray(re.projectionMatrix),K.viewport.set(se.x,se.y,se.width,se.height),te===0&&C.matrix.copy(K.matrix),j===!0&&C.cameras.push(K)}}for(let F=0;F<x.length;F++){const j=_[F],te=x[F];j!==null&&te!==void 0&&te.update(j,O,l||o)}X&&X(I,O),p=null}const L=new cde;L.setAnimationLoop(q),this.setAnimationLoop=function(I){X=I},this.dispose=function(){}}}function bke(n,e){function t(g,y){g.fogColor.value.copy(y.color),y.isFog?(g.fogNear.value=y.near,g.fogFar.value=y.far):y.isFogExp2&&(g.fogDensity.value=y.density)}function r(g,y,x,_,b){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(g,y):y.isMeshToonMaterial?(i(g,y),u(g,y)):y.isMeshPhongMaterial?(i(g,y),c(g,y)):y.isMeshStandardMaterial?(i(g,y),f(g,y),y.isMeshPhysicalMaterial&&d(g,y,b)):y.isMeshMatcapMaterial?(i(g,y),p(g,y)):y.isMeshDepthMaterial?i(g,y):y.isMeshDistanceMaterial?(i(g,y),m(g,y)):y.isMeshNormalMaterial?i(g,y):y.isLineBasicMaterial?(s(g,y),y.isLineDashedMaterial&&o(g,y)):y.isPointsMaterial?a(g,y,x,_):y.isSpriteMaterial?l(g,y):y.isShadowMaterial?(g.color.value.copy(y.color),g.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(g,y){g.opacity.value=y.opacity,y.color&&g.diffuse.value.copy(y.color),y.emissive&&g.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.bumpMap&&(g.bumpMap.value=y.bumpMap,g.bumpScale.value=y.bumpScale,y.side===Ha&&(g.bumpScale.value*=-1)),y.displacementMap&&(g.displacementMap.value=y.displacementMap,g.displacementScale.value=y.displacementScale,g.displacementBias.value=y.displacementBias),y.emissiveMap&&(g.emissiveMap.value=y.emissiveMap),y.normalMap&&(g.normalMap.value=y.normalMap,g.normalScale.value.copy(y.normalScale),y.side===Ha&&g.normalScale.value.negate()),y.specularMap&&(g.specularMap.value=y.specularMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);const x=e.get(y).envMap;if(x&&(g.envMap.value=x,g.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=y.reflectivity,g.ior.value=y.ior,g.refractionRatio.value=y.refractionRatio),y.lightMap){g.lightMap.value=y.lightMap;const w=n.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=y.lightMapIntensity*w}y.aoMap&&(g.aoMap.value=y.aoMap,g.aoMapIntensity.value=y.aoMapIntensity);let _;y.map?_=y.map:y.specularMap?_=y.specularMap:y.displacementMap?_=y.displacementMap:y.normalMap?_=y.normalMap:y.bumpMap?_=y.bumpMap:y.roughnessMap?_=y.roughnessMap:y.metalnessMap?_=y.metalnessMap:y.alphaMap?_=y.alphaMap:y.emissiveMap?_=y.emissiveMap:y.clearcoatMap?_=y.clearcoatMap:y.clearcoatNormalMap?_=y.clearcoatNormalMap:y.clearcoatRoughnessMap?_=y.clearcoatRoughnessMap:y.iridescenceMap?_=y.iridescenceMap:y.iridescenceThicknessMap?_=y.iridescenceThicknessMap:y.specularIntensityMap?_=y.specularIntensityMap:y.specularColorMap?_=y.specularColorMap:y.transmissionMap?_=y.transmissionMap:y.thicknessMap?_=y.thicknessMap:y.sheenColorMap?_=y.sheenColorMap:y.sheenRoughnessMap&&(_=y.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix));let b;y.aoMap?b=y.aoMap:y.lightMap&&(b=y.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uv2Transform.value.copy(b.matrix))}function s(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity}function o(g,y){g.dashSize.value=y.dashSize,g.totalSize.value=y.dashSize+y.gapSize,g.scale.value=y.scale}function a(g,y,x,_){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*x,g.scale.value=_*.5,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let b;y.map?b=y.map:y.alphaMap&&(b=y.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix))}function l(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.rotation.value=y.rotation,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix))}function c(g,y){g.specular.value.copy(y.specular),g.shininess.value=Math.max(y.shininess,1e-4)}function u(g,y){y.gradientMap&&(g.gradientMap.value=y.gradientMap)}function f(g,y){g.roughness.value=y.roughness,g.metalness.value=y.metalness,y.roughnessMap&&(g.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(g.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(g.envMapIntensity.value=y.envMapIntensity)}function d(g,y,x){g.ior.value=y.ior,y.sheen>0&&(g.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),g.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(g.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(g.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(g.clearcoat.value=y.clearcoat,g.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(g.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),g.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===Ha&&g.clearcoatNormalScale.value.negate())),y.iridescence>0&&(g.iridescence.value=y.iridescence,g.iridescenceIOR.value=y.iridescenceIOR,g.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(g.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(g.transmission.value=y.transmission,g.transmissionSamplerMap.value=x.texture,g.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(g.transmissionMap.value=y.transmissionMap),g.thickness.value=y.thickness,y.thicknessMap&&(g.thicknessMap.value=y.thicknessMap),g.attenuationDistance.value=y.attenuationDistance,g.attenuationColor.value.copy(y.attenuationColor)),g.specularIntensity.value=y.specularIntensity,g.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(g.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(g.specularColorMap.value=y.specularColorMap)}function p(g,y){y.matcap&&(g.matcap.value=y.matcap)}function m(g,y){g.referencePosition.value.copy(y.referencePosition),g.nearDistance.value=y.nearDistance,g.farDistance.value=y.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function wke(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,b){const w=b.program;r.uniformBlockBinding(_,w)}function c(_,b){let w=i[_.id];w===void 0&&(m(_),w=u(_),i[_.id]=w,_.addEventListener("dispose",y));const M=b.program;r.updateUBOMapping(_,M);const C=e.render.frame;s[_.id]!==C&&(d(_),s[_.id]=C)}function u(_){const b=f();_.__bindingPointIndex=b;const w=n.createBuffer(),M=_.__size,C=_.usage;return n.bindBuffer(35345,w),n.bufferData(35345,M,C),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,w),w}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const b=i[_.id],w=_.uniforms,M=_.__cache;n.bindBuffer(35345,b);for(let C=0,R=w.length;C<R;C++){const E=w[C];if(p(E,C,M)===!0){const B=E.value,D=E.__offset;typeof B=="number"?(E.__data[0]=B,n.bufferSubData(35345,D,E.__data)):(E.value.isMatrix3?(E.__data[0]=E.value.elements[0],E.__data[1]=E.value.elements[1],E.__data[2]=E.value.elements[2],E.__data[3]=E.value.elements[0],E.__data[4]=E.value.elements[3],E.__data[5]=E.value.elements[4],E.__data[6]=E.value.elements[5],E.__data[7]=E.value.elements[0],E.__data[8]=E.value.elements[6],E.__data[9]=E.value.elements[7],E.__data[10]=E.value.elements[8],E.__data[11]=E.value.elements[0]):B.toArray(E.__data),n.bufferSubData(35345,D,E.__data))}}n.bindBuffer(35345,null)}function p(_,b,w){const M=_.value;if(w[b]===void 0)return typeof M=="number"?w[b]=M:w[b]=M.clone(),!0;if(typeof M=="number"){if(w[b]!==M)return w[b]=M,!0}else{const C=w[b];if(C.equals(M)===!1)return C.copy(M),!0}return!1}function m(_){const b=_.uniforms;let w=0;const M=16;let C=0;for(let R=0,E=b.length;R<E;R++){const B=b[R],D=g(B);if(B.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=w,R>0){C=w%M;const N=M-C;C!==0&&N-D.boundary<0&&(w+=M-C,B.__offset=w)}w+=D.storage}return C=w%M,C>0&&(w+=M-C),_.__size=w,_.__cache={},this}function g(_){const b=_.value,w={boundary:0,storage:0};return typeof b=="number"?(w.boundary=4,w.storage=4):b.isVector2?(w.boundary=8,w.storage=8):b.isVector3||b.isColor?(w.boundary=16,w.storage=12):b.isVector4?(w.boundary=16,w.storage=16):b.isMatrix3?(w.boundary=48,w.storage=48):b.isMatrix4?(w.boundary=64,w.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),w}function y(_){const b=_.target;b.removeEventListener("dispose",y);const w=o.indexOf(b.__bindingPointIndex);o.splice(w,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function x(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:x}}function Ske(){const n=BC("canvas");return n.style.display="block",n}function Uj(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:Ske(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let f=null,d=null;const p=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=m0,this.physicallyCorrectLights=!1,this.toneMapping=If,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const g=this;let y=!1,x=0,_=0,b=null,w=-1,M=null;const C=new wn,R=new wn;let E=null,B=e.width,D=e.height,N=1,z=null,H=null;const U=new wn(0,0,B,D),W=new wn(0,0,B,D);let X=!1;const q=new mO;let L=!1,I=!1,O=null;const F=new Ht,j=new rt,te=new ge,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function se(){return b===null?N:1}let K=t;function le($,ae){for(let _e=0;_e<$.length;_e++){const ie=$[_e],Ae=e.getContext(ie,ae);if(Ae!==null)return Ae}return null}try{const $={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${e3}`),e.addEventListener("webglcontextlost",He,!1),e.addEventListener("webglcontextrestored",Oe,!1),e.addEventListener("webglcontextcreationerror",qe,!1),K===null){const ae=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&ae.shift(),K=le(ae,$),K===null)throw le(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}K.getShaderPrecisionFormat===void 0&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let he,we,ve,fe,ne,oe,Te,be,Ce,We,Se,ke,Ve,Ee,V,k,Q,ce,Me,Re,Ue,Pe,xe,Xe;function Ge(){he=new UBe(K),we=new kBe(K,he,n),he.init(we),Pe=new mde(K,he,we),ve=new vke(K,he,we),fe=new HBe,ne=new ske,oe=new yke(K,he,ve,ne,we,Pe,fe),Te=new LBe(g),be=new NBe(g),Ce=new q3e(K,we),xe=new BBe(K,he,Ce,we),We=new zBe(K,Ce,fe,xe),Se=new $Be(K,We,Ce,fe),Me=new WBe(K,we,oe),k=new IBe(ne),ke=new ike(g,Te,be,he,we,xe,k),Ve=new bke(g,ne),Ee=new ake,V=new hke(he,we),ce=new PBe(g,Te,be,ve,Se,u,o),Q=new gke(g,Se,we),Xe=new wke(K,fe,we,ve),Re=new DBe(K,he,fe,we),Ue=new GBe(K,he,fe,we),fe.programs=ke.programs,g.capabilities=we,g.extensions=he,g.properties=ne,g.renderLists=Ee,g.shadowMap=Q,g.state=ve,g.info=fe}Ge();const je=new _ke(g,K);this.xr=je,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const $=he.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=he.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function($){$!==void 0&&(N=$,this.setSize(B,D,!1))},this.getSize=function($){return $.set(B,D)},this.setSize=function($,ae,_e){if(je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=$,D=ae,e.width=Math.floor($*N),e.height=Math.floor(ae*N),_e!==!1&&(e.style.width=$+"px",e.style.height=ae+"px"),this.setViewport(0,0,$,ae)},this.getDrawingBufferSize=function($){return $.set(B*N,D*N).floor()},this.setDrawingBufferSize=function($,ae,_e){B=$,D=ae,N=_e,e.width=Math.floor($*_e),e.height=Math.floor(ae*_e),this.setViewport(0,0,$,ae)},this.getCurrentViewport=function($){return $.copy(C)},this.getViewport=function($){return $.copy(U)},this.setViewport=function($,ae,_e,ie){$.isVector4?U.set($.x,$.y,$.z,$.w):U.set($,ae,_e,ie),ve.viewport(C.copy(U).multiplyScalar(N).floor())},this.getScissor=function($){return $.copy(W)},this.setScissor=function($,ae,_e,ie){$.isVector4?W.set($.x,$.y,$.z,$.w):W.set($,ae,_e,ie),ve.scissor(R.copy(W).multiplyScalar(N).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function($){ve.setScissorTest(X=$)},this.setOpaqueSort=function($){z=$},this.setTransparentSort=function($){H=$},this.getClearColor=function($){return $.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor.apply(ce,arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha.apply(ce,arguments)},this.clear=function($=!0,ae=!0,_e=!0){let ie=0;$&&(ie|=16384),ae&&(ie|=256),_e&&(ie|=1024),K.clear(ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",He,!1),e.removeEventListener("webglcontextrestored",Oe,!1),e.removeEventListener("webglcontextcreationerror",qe,!1),Ee.dispose(),V.dispose(),ne.dispose(),Te.dispose(),be.dispose(),Se.dispose(),xe.dispose(),Xe.dispose(),ke.dispose(),je.dispose(),je.removeEventListener("sessionstart",Je),je.removeEventListener("sessionend",et),O&&(O.dispose(),O=null),mt.stop()};function He($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Oe(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const $=fe.autoReset,ae=Q.enabled,_e=Q.autoUpdate,ie=Q.needsUpdate,Ae=Q.type;Ge(),fe.autoReset=$,Q.enabled=ae,Q.autoUpdate=_e,Q.needsUpdate=ie,Q.type=Ae}function qe($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function tt($){const ae=$.target;ae.removeEventListener("dispose",tt),pt(ae)}function pt($){ee($),ne.remove($)}function ee($){const ae=ne.get($).programs;ae!==void 0&&(ae.forEach(function(_e){ke.releaseProgram(_e)}),$.isShaderMaterial&&ke.releaseShaderCache($))}this.renderBufferDirect=function($,ae,_e,ie,Ae,Qe){ae===null&&(ae=re);const st=Ae.isMesh&&Ae.matrixWorld.determinant()<0,gt=Un($,ae,_e,ie,Ae);ve.setMaterial(ie,st);let ht=_e.index;const Pt=_e.attributes.position;if(ht===null){if(Pt===void 0||Pt.count===0)return}else if(ht.count===0)return;let xt=1;ie.wireframe===!0&&(ht=We.getWireframeAttribute(_e),xt=2),xe.setup(Ae,ie,gt,_e,ht);let At,Qt=Re;ht!==null&&(At=Ce.get(ht),Qt=Ue,Qt.setIndex(At));const tr=ht!==null?ht.count:Pt.count,kr=_e.drawRange.start*xt,hr=_e.drawRange.count*xt,Ke=Qe!==null?Qe.start*xt:0,_t=Qe!==null?Qe.count*xt:1/0,Ir=Math.max(kr,Ke),fn=Math.min(tr,kr+hr,Ke+_t)-1,pn=Math.max(0,fn-Ir+1);if(pn!==0){if(Ae.isMesh)ie.wireframe===!0?(ve.setLineWidth(ie.wireframeLinewidth*se()),Qt.setMode(1)):Qt.setMode(4);else if(Ae.isLine){let Wn=ie.linewidth;Wn===void 0&&(Wn=1),ve.setLineWidth(Wn*se()),Ae.isLineSegments?Qt.setMode(1):Ae.isLineLoop?Qt.setMode(2):Qt.setMode(3)}else Ae.isPoints?Qt.setMode(0):Ae.isSprite&&Qt.setMode(4);if(Ae.isInstancedMesh)Qt.renderInstances(Ir,pn,Ae.count);else if(_e.isInstancedBufferGeometry){const Wn=Math.min(_e.instanceCount,_e._maxInstanceCount);Qt.renderInstances(Ir,pn,Wn)}else Qt.render(Ir,pn)}},this.compile=function($,ae){function _e(ie,Ae,Qe){ie.transparent===!0&&ie.side===Cu?(ie.side=Ha,ie.needsUpdate=!0,Tt(ie,Ae,Qe),ie.side=Gp,ie.needsUpdate=!0,Tt(ie,Ae,Qe),ie.side=Cu):Tt(ie,Ae,Qe)}d=V.get($),d.init(),m.push(d),$.traverseVisible(function(ie){ie.isLight&&ie.layers.test(ae.layers)&&(d.pushLight(ie),ie.castShadow&&d.pushShadow(ie))}),d.setupLights(g.physicallyCorrectLights),$.traverse(function(ie){const Ae=ie.material;if(Ae)if(Array.isArray(Ae))for(let Qe=0;Qe<Ae.length;Qe++){const st=Ae[Qe];_e(st,$,ie)}else _e(Ae,$,ie)}),m.pop(),d=null};let ye=null;function Ie($){ye&&ye($)}function Je(){mt.stop()}function et(){mt.start()}const mt=new cde;mt.setAnimationLoop(Ie),typeof self<"u"&&mt.setContext(self),this.setAnimationLoop=function($){ye=$,je.setAnimationLoop($),$===null?mt.stop():mt.start()},je.addEventListener("sessionstart",Je),je.addEventListener("sessionend",et),this.render=function($,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;$.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),je.enabled===!0&&je.isPresenting===!0&&(je.cameraAutoUpdate===!0&&je.updateCamera(ae),ae=je.getCamera()),$.isScene===!0&&$.onBeforeRender(g,$,ae,b),d=V.get($,m.length),d.init(),m.push(d),F.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),q.setFromProjectionMatrix(F),I=this.localClippingEnabled,L=k.init(this.clippingPlanes,I,ae),f=Ee.get($,p.length),f.init(),p.push(f),Dt($,ae,0,g.sortObjects),f.finish(),g.sortObjects===!0&&f.sort(z,H),L===!0&&k.beginShadows();const _e=d.state.shadowsArray;if(Q.render(_e,$,ae),L===!0&&k.endShadows(),this.info.autoReset===!0&&this.info.reset(),ce.render(f,$),d.setupLights(g.physicallyCorrectLights),ae.isArrayCamera){const ie=ae.cameras;for(let Ae=0,Qe=ie.length;Ae<Qe;Ae++){const st=ie[Ae];Nt(f,$,st,st.viewport)}}else Nt(f,$,ae);b!==null&&(oe.updateMultisampleRenderTarget(b),oe.updateRenderTargetMipmap(b)),$.isScene===!0&&$.onAfterRender(g,$,ae),xe.resetDefaultState(),w=-1,M=null,m.pop(),m.length>0?d=m[m.length-1]:d=null,p.pop(),p.length>0?f=p[p.length-1]:f=null};function Dt($,ae,_e,ie){if($.visible===!1)return;if($.layers.test(ae.layers)){if($.isGroup)_e=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(ae);else if($.isLight)d.pushLight($),$.castShadow&&d.pushShadow($);else if($.isSprite){if(!$.frustumCulled||q.intersectsSprite($)){ie&&te.setFromMatrixPosition($.matrixWorld).applyMatrix4(F);const Qe=Se.update($),st=$.material;st.visible&&f.push($,Qe,st,_e,te.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&($.isSkinnedMesh&&$.skeleton.frame!==fe.render.frame&&($.skeleton.update(),$.skeleton.frame=fe.render.frame),!$.frustumCulled||q.intersectsObject($))){ie&&te.setFromMatrixPosition($.matrixWorld).applyMatrix4(F);const Qe=Se.update($),st=$.material;if(Array.isArray(st)){const gt=Qe.groups;for(let ht=0,Pt=gt.length;ht<Pt;ht++){const xt=gt[ht],At=st[xt.materialIndex];At&&At.visible&&f.push($,Qe,At,_e,te.z,xt)}}else st.visible&&f.push($,Qe,st,_e,te.z,null)}}const Ae=$.children;for(let Qe=0,st=Ae.length;Qe<st;Qe++)Dt(Ae[Qe],ae,_e,ie)}function Nt($,ae,_e,ie){const Ae=$.opaque,Qe=$.transmissive,st=$.transparent;d.setupLightsView(_e),Qe.length>0&&Ot(Ae,ae,_e),ie&&ve.viewport(C.copy(ie)),Ae.length>0&&Ft(Ae,ae,_e),Qe.length>0&&Ft(Qe,ae,_e),st.length>0&&Ft(st,ae,_e),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function Ot($,ae,_e){const ie=we.isWebGL2;O===null&&(O=new zu(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?nS:Hp,minFilter:lm,samples:ie&&s===!0?4:0})),g.getDrawingBufferSize(j),ie?O.setSize(j.x,j.y):O.setSize(rI(j.x),rI(j.y));const Ae=g.getRenderTarget();g.setRenderTarget(O),g.clear();const Qe=g.toneMapping;g.toneMapping=If,Ft($,ae,_e),g.toneMapping=Qe,oe.updateMultisampleRenderTarget(O),oe.updateRenderTargetMipmap(O),g.setRenderTarget(Ae)}function Ft($,ae,_e){const ie=ae.isScene===!0?ae.overrideMaterial:null;for(let Ae=0,Qe=$.length;Ae<Qe;Ae++){const st=$[Ae],gt=st.object,ht=st.geometry,Pt=ie===null?st.material:ie,xt=st.group;gt.layers.test(_e.layers)&&kt(gt,ae,_e,ht,Pt,xt)}}function kt($,ae,_e,ie,Ae,Qe){$.onBeforeRender(g,ae,_e,ie,Ae,Qe),$.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),Ae.onBeforeRender(g,ae,_e,ie,$,Qe),Ae.transparent===!0&&Ae.side===Cu?(Ae.side=Ha,Ae.needsUpdate=!0,g.renderBufferDirect(_e,ae,ie,Ae,$,Qe),Ae.side=Gp,Ae.needsUpdate=!0,g.renderBufferDirect(_e,ae,ie,Ae,$,Qe),Ae.side=Cu):g.renderBufferDirect(_e,ae,ie,Ae,$,Qe),$.onAfterRender(g,ae,_e,ie,Ae,Qe)}function Tt($,ae,_e){ae.isScene!==!0&&(ae=re);const ie=ne.get($),Ae=d.state.lights,Qe=d.state.shadowsArray,st=Ae.state.version,gt=ke.getParameters($,Ae.state,Qe,ae,_e),ht=ke.getProgramCacheKey(gt);let Pt=ie.programs;ie.environment=$.isMeshStandardMaterial?ae.environment:null,ie.fog=ae.fog,ie.envMap=($.isMeshStandardMaterial?be:Te).get($.envMap||ie.environment),Pt===void 0&&($.addEventListener("dispose",tt),Pt=new Map,ie.programs=Pt);let xt=Pt.get(ht);if(xt!==void 0){if(ie.currentProgram===xt&&ie.lightsStateVersion===st)return Xn($,gt),xt}else gt.uniforms=ke.getUniforms($),$.onBuild(_e,gt,g),$.onBeforeCompile(gt,g),xt=ke.acquireProgram(gt,ht),Pt.set(ht,xt),ie.uniforms=gt.uniforms;const At=ie.uniforms;(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(At.clippingPlanes=k.uniform),Xn($,gt),ie.needsLights=dn($),ie.lightsStateVersion=st,ie.needsLights&&(At.ambientLightColor.value=Ae.state.ambient,At.lightProbe.value=Ae.state.probe,At.directionalLights.value=Ae.state.directional,At.directionalLightShadows.value=Ae.state.directionalShadow,At.spotLights.value=Ae.state.spot,At.spotLightShadows.value=Ae.state.spotShadow,At.rectAreaLights.value=Ae.state.rectArea,At.ltc_1.value=Ae.state.rectAreaLTC1,At.ltc_2.value=Ae.state.rectAreaLTC2,At.pointLights.value=Ae.state.point,At.pointLightShadows.value=Ae.state.pointShadow,At.hemisphereLights.value=Ae.state.hemi,At.directionalShadowMap.value=Ae.state.directionalShadowMap,At.directionalShadowMatrix.value=Ae.state.directionalShadowMatrix,At.spotShadowMap.value=Ae.state.spotShadowMap,At.spotLightMatrix.value=Ae.state.spotLightMatrix,At.spotLightMap.value=Ae.state.spotLightMap,At.pointShadowMap.value=Ae.state.pointShadowMap,At.pointShadowMatrix.value=Ae.state.pointShadowMatrix);const Qt=xt.getUniforms(),tr=WD.seqWithValue(Qt.seq,At);return ie.currentProgram=xt,ie.uniformsList=tr,xt}function Xn($,ae){const _e=ne.get($);_e.outputEncoding=ae.outputEncoding,_e.instancing=ae.instancing,_e.skinning=ae.skinning,_e.morphTargets=ae.morphTargets,_e.morphNormals=ae.morphNormals,_e.morphColors=ae.morphColors,_e.morphTargetsCount=ae.morphTargetsCount,_e.numClippingPlanes=ae.numClippingPlanes,_e.numIntersection=ae.numClipIntersection,_e.vertexAlphas=ae.vertexAlphas,_e.vertexTangents=ae.vertexTangents,_e.toneMapping=ae.toneMapping}function Un($,ae,_e,ie,Ae){ae.isScene!==!0&&(ae=re),oe.resetTextureUnits();const Qe=ae.fog,st=ie.isMeshStandardMaterial?ae.environment:null,gt=b===null?g.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:m0,ht=(ie.isMeshStandardMaterial?be:Te).get(ie.envMap||st),Pt=ie.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,xt=!!ie.normalMap&&!!_e.attributes.tangent,At=!!_e.morphAttributes.position,Qt=!!_e.morphAttributes.normal,tr=!!_e.morphAttributes.color,kr=ie.toneMapped?g.toneMapping:If,hr=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,Ke=hr!==void 0?hr.length:0,_t=ne.get(ie),Ir=d.state.lights;if(L===!0&&(I===!0||$!==M)){const Vt=$===M&&ie.id===w;k.setState(ie,$,Vt)}let fn=!1;ie.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==Ir.state.version||_t.outputEncoding!==gt||Ae.isInstancedMesh&&_t.instancing===!1||!Ae.isInstancedMesh&&_t.instancing===!0||Ae.isSkinnedMesh&&_t.skinning===!1||!Ae.isSkinnedMesh&&_t.skinning===!0||_t.envMap!==ht||ie.fog===!0&&_t.fog!==Qe||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==k.numPlanes||_t.numIntersection!==k.numIntersection)||_t.vertexAlphas!==Pt||_t.vertexTangents!==xt||_t.morphTargets!==At||_t.morphNormals!==Qt||_t.morphColors!==tr||_t.toneMapping!==kr||we.isWebGL2===!0&&_t.morphTargetsCount!==Ke)&&(fn=!0):(fn=!0,_t.__version=ie.version);let pn=_t.currentProgram;fn===!0&&(pn=Tt(ie,ae,Ae));let Wn=!1,Gn=!1,Yt=!1;const lt=pn.getUniforms(),Jt=_t.uniforms;if(ve.useProgram(pn.program)&&(Wn=!0,Gn=!0,Yt=!0),ie.id!==w&&(w=ie.id,Gn=!0),Wn||M!==$){if(lt.setValue(K,"projectionMatrix",$.projectionMatrix),we.logarithmicDepthBuffer&&lt.setValue(K,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),M!==$&&(M=$,Gn=!0,Yt=!0),ie.isShaderMaterial||ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshStandardMaterial||ie.envMap){const Vt=lt.map.cameraPosition;Vt!==void 0&&Vt.setValue(K,te.setFromMatrixPosition($.matrixWorld))}(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial)&&lt.setValue(K,"isOrthographic",$.isOrthographicCamera===!0),(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial||ie.isShadowMaterial||Ae.isSkinnedMesh)&&lt.setValue(K,"viewMatrix",$.matrixWorldInverse)}if(Ae.isSkinnedMesh){lt.setOptional(K,Ae,"bindMatrix"),lt.setOptional(K,Ae,"bindMatrixInverse");const Vt=Ae.skeleton;Vt&&(we.floatVertexTextures?(Vt.boneTexture===null&&Vt.computeBoneTexture(),lt.setValue(K,"boneTexture",Vt.boneTexture,oe),lt.setValue(K,"boneTextureSize",Vt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const hn=_e.morphAttributes;if((hn.position!==void 0||hn.normal!==void 0||hn.color!==void 0&&we.isWebGL2===!0)&&Me.update(Ae,_e,ie,pn),(Gn||_t.receiveShadow!==Ae.receiveShadow)&&(_t.receiveShadow=Ae.receiveShadow,lt.setValue(K,"receiveShadow",Ae.receiveShadow)),ie.isMeshGouraudMaterial&&ie.envMap!==null&&(Jt.envMap.value=ht,Jt.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),Gn&&(lt.setValue(K,"toneMappingExposure",g.toneMappingExposure),_t.needsLights&&Ut(Jt,Yt),Qe&&ie.fog===!0&&Ve.refreshFogUniforms(Jt,Qe),Ve.refreshMaterialUniforms(Jt,ie,N,D,O),WD.upload(K,_t.uniformsList,Jt,oe)),ie.isShaderMaterial&&ie.uniformsNeedUpdate===!0&&(WD.upload(K,_t.uniformsList,Jt,oe),ie.uniformsNeedUpdate=!1),ie.isSpriteMaterial&&lt.setValue(K,"center",Ae.center),lt.setValue(K,"modelViewMatrix",Ae.modelViewMatrix),lt.setValue(K,"normalMatrix",Ae.normalMatrix),lt.setValue(K,"modelMatrix",Ae.matrixWorld),ie.isShaderMaterial||ie.isRawShaderMaterial){const Vt=ie.uniformsGroups;for(let An=0,Qr=Vt.length;An<Qr;An++)if(we.isWebGL2){const _n=Vt[An];Xe.update(_n,pn),Xe.bind(_n,pn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return pn}function Ut($,ae){$.ambientLightColor.needsUpdate=ae,$.lightProbe.needsUpdate=ae,$.directionalLights.needsUpdate=ae,$.directionalLightShadows.needsUpdate=ae,$.pointLights.needsUpdate=ae,$.pointLightShadows.needsUpdate=ae,$.spotLights.needsUpdate=ae,$.spotLightShadows.needsUpdate=ae,$.rectAreaLights.needsUpdate=ae,$.hemisphereLights.needsUpdate=ae}function dn($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function($,ae,_e){ne.get($.texture).__webglTexture=ae,ne.get($.depthTexture).__webglTexture=_e;const ie=ne.get($);ie.__hasExternalTextures=!0,ie.__hasExternalTextures&&(ie.__autoAllocateDepthBuffer=_e===void 0,ie.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ie.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($,ae){const _e=ne.get($);_e.__webglFramebuffer=ae,_e.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function($,ae=0,_e=0){b=$,x=ae,_=_e;let ie=!0,Ae=null,Qe=!1,st=!1;if($){const gt=ne.get($);gt.__useDefaultFramebuffer!==void 0?(ve.bindFramebuffer(36160,null),ie=!1):gt.__webglFramebuffer===void 0?oe.setupRenderTarget($):gt.__hasExternalTextures&&oe.rebindTextures($,ne.get($.texture).__webglTexture,ne.get($.depthTexture).__webglTexture);const ht=$.texture;(ht.isData3DTexture||ht.isDataArrayTexture||ht.isCompressedArrayTexture)&&(st=!0);const Pt=ne.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Ae=Pt[ae],Qe=!0):we.isWebGL2&&$.samples>0&&oe.useMultisampledRTT($)===!1?Ae=ne.get($).__webglMultisampledFramebuffer:Ae=Pt,C.copy($.viewport),R.copy($.scissor),E=$.scissorTest}else C.copy(U).multiplyScalar(N).floor(),R.copy(W).multiplyScalar(N).floor(),E=X;if(ve.bindFramebuffer(36160,Ae)&&we.drawBuffers&&ie&&ve.drawBuffers($,Ae),ve.viewport(C),ve.scissor(R),ve.setScissorTest(E),Qe){const gt=ne.get($.texture);K.framebufferTexture2D(36160,36064,34069+ae,gt.__webglTexture,_e)}else if(st){const gt=ne.get($.texture),ht=ae||0;K.framebufferTextureLayer(36160,36064,gt.__webglTexture,_e||0,ht)}w=-1},this.readRenderTargetPixels=function($,ae,_e,ie,Ae,Qe,st){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=ne.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&st!==void 0&&(gt=gt[st]),gt){ve.bindFramebuffer(36160,gt);try{const ht=$.texture,Pt=ht.format,xt=ht.type;if(Pt!==al&&Pe.convert(Pt)!==K.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const At=xt===nS&&(he.has("EXT_color_buffer_half_float")||we.isWebGL2&&he.has("EXT_color_buffer_float"));if(xt!==Hp&&Pe.convert(xt)!==K.getParameter(35738)&&!(xt===vp&&(we.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!At){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=$.width-ie&&_e>=0&&_e<=$.height-Ae&&K.readPixels(ae,_e,ie,Ae,Pe.convert(Pt),Pe.convert(xt),Qe)}finally{const ht=b!==null?ne.get(b).__webglFramebuffer:null;ve.bindFramebuffer(36160,ht)}}},this.copyFramebufferToTexture=function($,ae,_e=0){const ie=Math.pow(2,-_e),Ae=Math.floor(ae.image.width*ie),Qe=Math.floor(ae.image.height*ie);oe.setTexture2D(ae,0),K.copyTexSubImage2D(3553,_e,0,0,$.x,$.y,Ae,Qe),ve.unbindTexture()},this.copyTextureToTexture=function($,ae,_e,ie=0){const Ae=ae.image.width,Qe=ae.image.height,st=Pe.convert(_e.format),gt=Pe.convert(_e.type);oe.setTexture2D(_e,0),K.pixelStorei(37440,_e.flipY),K.pixelStorei(37441,_e.premultiplyAlpha),K.pixelStorei(3317,_e.unpackAlignment),ae.isDataTexture?K.texSubImage2D(3553,ie,$.x,$.y,Ae,Qe,st,gt,ae.image.data):ae.isCompressedTexture?K.compressedTexSubImage2D(3553,ie,$.x,$.y,ae.mipmaps[0].width,ae.mipmaps[0].height,st,ae.mipmaps[0].data):K.texSubImage2D(3553,ie,$.x,$.y,st,gt,ae.image),ie===0&&_e.generateMipmaps&&K.generateMipmap(3553),ve.unbindTexture()},this.copyTextureToTexture3D=function($,ae,_e,ie,Ae=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Qe=$.max.x-$.min.x+1,st=$.max.y-$.min.y+1,gt=$.max.z-$.min.z+1,ht=Pe.convert(ie.format),Pt=Pe.convert(ie.type);let xt;if(ie.isData3DTexture)oe.setTexture3D(ie,0),xt=32879;else if(ie.isDataArrayTexture)oe.setTexture2DArray(ie,0),xt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}K.pixelStorei(37440,ie.flipY),K.pixelStorei(37441,ie.premultiplyAlpha),K.pixelStorei(3317,ie.unpackAlignment);const At=K.getParameter(3314),Qt=K.getParameter(32878),tr=K.getParameter(3316),kr=K.getParameter(3315),hr=K.getParameter(32877),Ke=_e.isCompressedTexture?_e.mipmaps[0]:_e.image;K.pixelStorei(3314,Ke.width),K.pixelStorei(32878,Ke.height),K.pixelStorei(3316,$.min.x),K.pixelStorei(3315,$.min.y),K.pixelStorei(32877,$.min.z),_e.isDataTexture||_e.isData3DTexture?K.texSubImage3D(xt,Ae,ae.x,ae.y,ae.z,Qe,st,gt,ht,Pt,Ke.data):_e.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),K.compressedTexSubImage3D(xt,Ae,ae.x,ae.y,ae.z,Qe,st,gt,ht,Ke.data)):K.texSubImage3D(xt,Ae,ae.x,ae.y,ae.z,Qe,st,gt,ht,Pt,Ke),K.pixelStorei(3314,At),K.pixelStorei(32878,Qt),K.pixelStorei(3316,tr),K.pixelStorei(3315,kr),K.pixelStorei(32877,hr),Ae===0&&ie.generateMipmaps&&K.generateMipmap(xt),ve.unbindTexture()},this.initTexture=function($){$.isCubeTexture?oe.setTextureCube($,0):$.isData3DTexture?oe.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?oe.setTexture2DArray($,0):oe.setTexture2D($,0),ve.unbindTexture()},this.resetState=function(){x=0,_=0,b=null,ve.reset(),xe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class yde extends Uj{}yde.prototype.isWebGL1Renderer=!0;class xO{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ft(e),this.density=t}clone(){return new xO(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class _O{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new ft(e),this.near=t,this.far=r}clone(){return new _O(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class iI extends Rn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}let o3=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=RC,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=pc()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=pc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=pc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}};const Ma=new ge;let sS=class xde{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ma.fromBufferAttribute(this,t),Ma.applyMatrix4(e),this.setXYZ(t,Ma.x,Ma.y,Ma.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ma.fromBufferAttribute(this,t),Ma.applyNormalMatrix(e),this.setXYZ(t,Ma.x,Ma.y,Ma.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ma.fromBufferAttribute(this,t),Ma.transformDirection(e),this.setXYZ(t,Ma.x,Ma.y,Ma.z);return this}setX(e,t){return this.normalized&&(t=xr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=xr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=xr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=xr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=yp(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=yp(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=yp(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=yp(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=xr(t,this.array),r=xr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=xr(t,this.array),r=xr(r,this.array),i=xr(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=xr(t,this.array),r=xr(r,this.array),i=xr(i,this.array),s=xr(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new qn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new xde(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}};class zj extends Ts{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ft(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let P_;const IM=new ge,B_=new ge,D_=new ge,k_=new rt,LM=new rt,_de=new Ht,oP=new ge,OM=new ge,aP=new ge,BK=new rt,gN=new rt,DK=new rt;class bde extends Rn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",P_===void 0){P_=new cn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new o3(t,5);P_.setIndex([0,1,2,0,2,3]),P_.setAttribute("position",new sS(r,3,0,!1)),P_.setAttribute("uv",new sS(r,2,3,!1))}this.geometry=P_,this.material=e!==void 0?e:new zj,this.center=new rt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),B_.setFromMatrixScale(this.matrixWorld),_de.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),D_.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&B_.multiplyScalar(-D_.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;lP(oP.set(-.5,-.5,0),D_,o,B_,i,s),lP(OM.set(.5,-.5,0),D_,o,B_,i,s),lP(aP.set(.5,.5,0),D_,o,B_,i,s),BK.set(0,0),gN.set(1,0),DK.set(1,1);let a=e.ray.intersectTriangle(oP,OM,aP,!1,IM);if(a===null&&(lP(OM.set(-.5,.5,0),D_,o,B_,i,s),gN.set(0,1),a=e.ray.intersectTriangle(oP,aP,OM,!1,IM),a===null))return;const l=e.ray.origin.distanceTo(IM);l<e.near||l>e.far||t.push({distance:l,point:IM.clone(),uv:wu.getUV(IM,oP,OM,aP,BK,gN,DK,new rt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function lP(n,e,t,r,i,s){k_.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(LM.x=s*k_.x-i*k_.y,LM.y=i*k_.x+s*k_.y):LM.copy(k_),n.copy(e),n.x+=LM.x,n.y+=LM.y,n.applyMatrix4(_de)}const cP=new ge,kK=new ge;class wde extends Rn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){cP.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(cP);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){cP.setFromMatrixPosition(e.matrixWorld),kK.setFromMatrixPosition(this.matrixWorld);const r=cP.distanceTo(kK)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const IK=new ge,LK=new wn,OK=new wn,Ake=new ge,FK=new Ht;class bO extends Oi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ht,this.bindMatrixInverse=new Ht}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new wn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;LK.fromBufferAttribute(i.attributes.skinIndex,e),OK.fromBufferAttribute(i.attributes.skinWeight,e),IK.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=OK.getComponent(s);if(o!==0){const a=LK.getComponent(s);FK.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Ake.copy(IK).applyMatrix4(FK),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}let oS=class extends Rn{constructor(){super(),this.isBone=!0,this.type="Bone"}},Mw=class extends Kr{constructor(e=null,t=1,r=1,i,s,o,a,l,c=ns,u=ns,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};const NK=new Ht,Mke=new Ht;let wO=class Sde{constructor(e=[],t=[]){this.uuid=pc(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Ht;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Mke;NK.multiplyMatrices(a,t[s]),NK.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Sde(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=tde(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Mw(t,e,e,al,vp);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new oS),this.bones.push(o),this.boneInverses.push(new Ht().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}},g0=class extends qn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}};const UK=new Ht,zK=new Ht,uP=[],Eke=new Ht,FM=new Oi;class Gj extends Oi{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new g0(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,Eke)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(FM.geometry=this.geometry,FM.material=this.material,FM.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,UK),zK.multiplyMatrices(r,UK),FM.matrixWorld=zK,FM.raycast(e,uP);for(let o=0,a=uP.length;o<a;o++){const l=uP[o];l.instanceId=s,l.object=this,t.push(l)}uP.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new g0(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Vo extends Ts{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ft(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const GK=new ge,HK=new ge,VK=new Ht,vN=new r3,fP=new fm;class th extends Rn{constructor(e=new cn,t=new Vo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)GK.fromBufferAttribute(t,i-1),HK.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=GK.distanceTo(HK);e.setAttribute("lineDistance",new It(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),fP.copy(r.boundingSphere),fP.applyMatrix4(i),fP.radius+=s,e.ray.intersectsSphere(fP)===!1)return;VK.copy(i).invert(),vN.copy(e.ray).applyMatrix4(VK);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new ge,u=new ge,f=new ge,d=new ge,p=this.isLineSegments?2:1,m=r.index,g=r.attributes.position;if(m!==null){const y=Math.max(0,o.start),x=Math.min(m.count,o.start+o.count);for(let _=y,b=x-1;_<b;_+=p){const w=m.getX(_),M=m.getX(_+1);if(c.fromBufferAttribute(g,w),u.fromBufferAttribute(g,M),vN.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(d);C<e.near||C>e.far||t.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let _=y,b=x-1;_<b;_+=p){if(c.fromBufferAttribute(g,_),u.fromBufferAttribute(g,_+1),vN.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const w=e.ray.origin.distanceTo(d);w<e.near||w>e.far||t.push({distance:w,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=r.length;i<s;i++){const o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}}const jK=new ge,WK=new ge;class Qf extends th{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)jK.fromBufferAttribute(t,i),WK.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+jK.distanceTo(WK);e.setAttribute("lineDistance",new It(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Hj extends th{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class SO extends Ts{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ft(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const $K=new Ht,SG=new r3,dP=new fm,hP=new ge;class Vj extends Rn{constructor(e=new cn,t=new SO){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),dP.copy(r.boundingSphere),dP.applyMatrix4(i),dP.radius+=s,e.ray.intersectsSphere(dP)===!1)return;$K.copy(i).invert(),SG.copy(e.ray).applyMatrix4($K);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,u=r.attributes.position;if(c!==null){const f=Math.max(0,o.start),d=Math.min(c.count,o.start+o.count);for(let p=f,m=d;p<m;p++){const g=c.getX(p);hP.fromBufferAttribute(u,g),XK(hP,g,l,i,e,t,this)}}else{const f=Math.max(0,o.start),d=Math.min(u.count,o.start+o.count);for(let p=f,m=d;p<m;p++)hP.fromBufferAttribute(u,p),XK(hP,p,l,i,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=r.length;i<s;i++){const o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}}function XK(n,e,t,r,i,s,o){const a=SG.distanceSqToPoint(n);if(a<t){const l=new ge;SG.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Ade extends Kr{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:jr,this.magFilter=s!==void 0?s:jr,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Cke extends Kr{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=ns,this.minFilter=ns,this.generateMipmaps=!1,this.needsUpdate=!0}}class jj extends Kr{constructor(e,t,r,i,s,o,a,l,c,u,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Tke extends jj{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=zs}}class Rke extends Kr{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class $u{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],f=r[i+1]-u,d=(o-u)/f;return(i+d)/(s-1)}getTangent(e,t){let r=e-1e-4,i=e+1e-4;r<0&&(r=0),i>1&&(i=1);const s=this.getPoint(r),o=this.getPoint(i),a=t||(s.isVector2?new rt:new ge);return a.copy(o).sub(s).normalize(),a}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new ge,i=[],s=[],o=[],a=new ge,l=new Ht;for(let p=0;p<=e;p++){const m=p/e;i[p]=this.getTangentAt(m,new ge)}s[0]=new ge,o[0]=new ge;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(i[p-1],i[p]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(rs(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,m))}o[p].crossVectors(i[p],s[p])}if(t===!0){let p=Math.acos(rs(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let m=1;m<=e;m++)s[m].applyMatrix4(l.makeRotationAxis(i[m],p*m)),o[m].crossVectors(i[m],s[m])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class AO extends $u{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new rt,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*f+this.aX,c=d*f+p*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Mde extends AO{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Wj(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+f)+(l-a)/f;d*=u,p*=u,i(o,a,d,p)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const pP=new ge,yN=new Wj,xN=new Wj,_N=new Wj;class Ede extends $u{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new ge){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(pP.subVectors(i[0],i[1]).add(i[0]),c=pP);const f=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(pP.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=pP),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(f),p),g=Math.pow(f.distanceToSquared(d),p),y=Math.pow(d.distanceToSquared(u),p);g<1e-4&&(g=1),m<1e-4&&(m=g),y<1e-4&&(y=g),yN.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,m,g,y),xN.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,m,g,y),_N.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,m,g,y)}else this.curveType==="catmullrom"&&(yN.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),xN.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),_N.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(yN.calc(l),xN.calc(l),_N.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ge().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function JK(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Pke(n,e){const t=1-n;return t*t*e}function Bke(n,e){return 2*(1-n)*n*e}function Dke(n,e){return n*n*e}function cE(n,e,t,r){return Pke(n,e)+Bke(n,t)+Dke(n,r)}function kke(n,e){const t=1-n;return t*t*t*e}function Ike(n,e){const t=1-n;return 3*t*t*n*e}function Lke(n,e){return 3*(1-n)*n*n*e}function Oke(n,e){return n*n*n*e}function uE(n,e,t,r,i){return kke(n,e)+Ike(n,t)+Lke(n,r)+Oke(n,i)}class $j extends $u{constructor(e=new rt,t=new rt,r=new rt,i=new rt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new rt){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(uE(e,i.x,s.x,o.x,a.x),uE(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Cde extends $u{constructor(e=new ge,t=new ge,r=new ge,i=new ge){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ge){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(uE(e,i.x,s.x,o.x,a.x),uE(e,i.y,s.y,o.y,a.y),uE(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class MO extends $u{constructor(e=new rt,t=new rt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new rt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new rt;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Tde extends $u{constructor(e=new ge,t=new ge){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ge){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xj extends $u{constructor(e=new rt,t=new rt,r=new rt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new rt){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(cE(e,i.x,s.x,o.x),cE(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Jj extends $u{constructor(e=new ge,t=new ge,r=new ge){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ge){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(cE(e,i.x,s.x,o.x),cE(e,i.y,s.y,o.y),cE(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Yj extends $u{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new rt){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(JK(a,l.x,c.x,u.x,f.x),JK(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new rt().fromArray(i))}return this}}var Kj=Object.freeze({__proto__:null,ArcCurve:Mde,CatmullRomCurve3:Ede,CubicBezierCurve:$j,CubicBezierCurve3:Cde,EllipseCurve:AO,LineCurve:MO,LineCurve3:Tde,QuadraticBezierCurve:Xj,QuadraticBezierCurve3:Jj,SplineCurve:Yj});class Rde extends $u{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new MO(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new Kj[i.type]().fromJSON(i))}return this}}let DC=class extends Rde{constructor(e){super(),this.type="Path",this.currentPoint=new rt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new MO(this.currentPoint.clone(),new rt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new Xj(this.currentPoint.clone(),new rt(e,t),new rt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new $j(this.currentPoint.clone(),new rt(e,t),new rt(r,i),new rt(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new Yj(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new AO(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},EO=class Pde extends cn{constructor(e=[new rt(0,-.5),new rt(.5,0),new rt(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=rs(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new ge,d=new rt,p=new ge,m=new ge,g=new ge;let y=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,p.x=x*1,p.y=-y,p.z=x*0,g.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,p.x=x*1,p.y=-y,p.z=x*0,m.copy(p),p.x+=g.x,p.y+=g.y,p.z+=g.z,p.normalize(),l.push(p.x,p.y,p.z),g.copy(m)}for(let _=0;_<=t;_++){const b=r+_*u*i,w=Math.sin(b),M=Math.cos(b);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*w,f.y=e[C].y,f.z=e[C].x*M,o.push(f.x,f.y,f.z),d.x=_/t,d.y=C/(e.length-1),a.push(d.x,d.y);const R=l[3*C+0]*w,E=l[3*C+1],B=l[3*C+0]*M;c.push(R,E,B)}}for(let _=0;_<t;_++)for(let b=0;b<e.length-1;b++){const w=b+_*e.length,M=w,C=w+e.length,R=w+e.length+1,E=w+1;s.push(M,C,E),s.push(R,E,C)}this.setIndex(s),this.setAttribute("position",new It(o,3)),this.setAttribute("uv",new It(a,2)),this.setAttribute("normal",new It(c,3))}static fromJSON(e){return new Pde(e.points,e.segments,e.phiStart,e.phiLength)}},qj=class Bde extends EO{constructor(e=1,t=1,r=4,i=8){const s=new DC;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Bde(e.radius,e.length,e.capSegments,e.radialSegments)}},Qj=class Dde extends cn{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new ge,u=new rt;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=t;f++,d+=3){const p=r+f/t*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[d]/e+1)/2,u.y=(o[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new It(o,3)),this.setAttribute("normal",new It(a,3)),this.setAttribute("uv",new It(l,2))}static fromJSON(e){return new Dde(e.radius,e.segments,e.thetaStart,e.thetaLength)}},a3=class kde extends cn{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],d=[],p=[];let m=0;const g=[],y=r/2;let x=0;_(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new It(f,3)),this.setAttribute("normal",new It(d,3)),this.setAttribute("uv",new It(p,2));function _(){const w=new ge,M=new ge;let C=0;const R=(t-e)/r;for(let E=0;E<=s;E++){const B=[],D=E/s,N=D*(t-e)+e;for(let z=0;z<=i;z++){const H=z/i,U=H*l+a,W=Math.sin(U),X=Math.cos(U);M.x=N*W,M.y=-D*r+y,M.z=N*X,f.push(M.x,M.y,M.z),w.set(W,R,X).normalize(),d.push(w.x,w.y,w.z),p.push(H,1-D),B.push(m++)}g.push(B)}for(let E=0;E<i;E++)for(let B=0;B<s;B++){const D=g[B][E],N=g[B+1][E],z=g[B+1][E+1],H=g[B][E+1];u.push(D,N,H),u.push(N,z,H),C+=6}c.addGroup(x,C,0),x+=C}function b(w){const M=m,C=new rt,R=new ge;let E=0;const B=w===!0?e:t,D=w===!0?1:-1;for(let z=1;z<=i;z++)f.push(0,y*D,0),d.push(0,D,0),p.push(.5,.5),m++;const N=m;for(let z=0;z<=i;z++){const H=z/i*l+a,U=Math.cos(H),W=Math.sin(H);R.x=B*W,R.y=y*D,R.z=B*U,f.push(R.x,R.y,R.z),d.push(0,D,0),C.x=U*.5+.5,C.y=W*.5*D+.5,p.push(C.x,C.y),m++}for(let z=0;z<i;z++){const H=M+z,U=N+z;w===!0?u.push(U,U+1,H):u.push(U+1,U,H),E+=3}c.addGroup(x,E,w===!0?1:2),x+=E}}static fromJSON(e){return new kde(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Zj=class Ide extends a3{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Ide(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},gx=class Lde extends cn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new It(s,3)),this.setAttribute("normal",new It(s.slice(),3)),this.setAttribute("uv",new It(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const b=new ge,w=new ge,M=new ge;for(let C=0;C<t.length;C+=3)p(t[C+0],b),p(t[C+1],w),p(t[C+2],M),l(b,w,M,_)}function l(_,b,w,M){const C=M+1,R=[];for(let E=0;E<=C;E++){R[E]=[];const B=_.clone().lerp(w,E/C),D=b.clone().lerp(w,E/C),N=C-E;for(let z=0;z<=N;z++)z===0&&E===C?R[E][z]=B:R[E][z]=B.clone().lerp(D,z/N)}for(let E=0;E<C;E++)for(let B=0;B<2*(C-E)-1;B++){const D=Math.floor(B/2);B%2===0?(d(R[E][D+1]),d(R[E+1][D]),d(R[E][D])):(d(R[E][D+1]),d(R[E+1][D+1]),d(R[E+1][D]))}}function c(_){const b=new ge;for(let w=0;w<s.length;w+=3)b.x=s[w+0],b.y=s[w+1],b.z=s[w+2],b.normalize().multiplyScalar(_),s[w+0]=b.x,s[w+1]=b.y,s[w+2]=b.z}function u(){const _=new ge;for(let b=0;b<s.length;b+=3){_.x=s[b+0],_.y=s[b+1],_.z=s[b+2];const w=y(_)/2/Math.PI+.5,M=x(_)/Math.PI+.5;o.push(w,1-M)}m(),f()}function f(){for(let _=0;_<o.length;_+=6){const b=o[_+0],w=o[_+2],M=o[_+4],C=Math.max(b,w,M),R=Math.min(b,w,M);C>.9&&R<.1&&(b<.2&&(o[_+0]+=1),w<.2&&(o[_+2]+=1),M<.2&&(o[_+4]+=1))}}function d(_){s.push(_.x,_.y,_.z)}function p(_,b){const w=_*3;b.x=e[w+0],b.y=e[w+1],b.z=e[w+2]}function m(){const _=new ge,b=new ge,w=new ge,M=new ge,C=new rt,R=new rt,E=new rt;for(let B=0,D=0;B<s.length;B+=9,D+=6){_.set(s[B+0],s[B+1],s[B+2]),b.set(s[B+3],s[B+4],s[B+5]),w.set(s[B+6],s[B+7],s[B+8]),C.set(o[D+0],o[D+1]),R.set(o[D+2],o[D+3]),E.set(o[D+4],o[D+5]),M.copy(_).add(b).add(w).divideScalar(3);const N=y(M);g(C,D+0,_,N),g(R,D+2,b,N),g(E,D+4,w,N)}}function g(_,b,w,M){M<0&&_.x===1&&(o[b]=_.x-1),w.x===0&&w.z===0&&(o[b]=M/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new Lde(e.vertices,e.indices,e.radius,e.details)}},eW=class Ode extends gx{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ode(e.radius,e.detail)}};const mP=new ge,gP=new ge,bN=new ge,vP=new wu;class Fde extends cn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),i=Math.cos(a1*t),s=e.getIndex(),o=e.getAttribute("position"),a=s?s.count:o.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),f={},d=[];for(let p=0;p<a;p+=3){s?(l[0]=s.getX(p),l[1]=s.getX(p+1),l[2]=s.getX(p+2)):(l[0]=p,l[1]=p+1,l[2]=p+2);const{a:m,b:g,c:y}=vP;if(m.fromBufferAttribute(o,l[0]),g.fromBufferAttribute(o,l[1]),y.fromBufferAttribute(o,l[2]),vP.getNormal(bN),u[0]=`${Math.round(m.x*r)},${Math.round(m.y*r)},${Math.round(m.z*r)}`,u[1]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,u[2]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let x=0;x<3;x++){const _=(x+1)%3,b=u[x],w=u[_],M=vP[c[x]],C=vP[c[_]],R=`${b}_${w}`,E=`${w}_${b}`;E in f&&f[E]?(bN.dot(f[E].normal)<=i&&(d.push(M.x,M.y,M.z),d.push(C.x,C.y,C.z)),f[E]=null):R in f||(f[R]={index0:l[x],index1:l[_],normal:bN.clone()})}}for(const p in f)if(f[p]){const{index0:m,index1:g}=f[p];mP.fromBufferAttribute(o,m),gP.fromBufferAttribute(o,g),d.push(mP.x,mP.y,mP.z),d.push(gP.x,gP.y,gP.z)}this.setAttribute("position",new It(d,3))}}}class u1 extends DC{constructor(e){super(e),this.uuid=pc(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new DC().fromJSON(i))}return this}}const Fke={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=Nde(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,d,p;if(r&&(s=Hke(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let m=t;m<i;m+=t)f=n[m],d=n[m+1],f<a&&(a=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);p=Math.max(c-a,u-l),p=p!==0?32767/p:0}return kC(s,o,t,a,l,p,0),o}};function Nde(n,e,t,r,i){let s,o;if(i===Zke(n,e,t,r)>0)for(s=e;s<t;s+=r)o=YK(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=YK(s,n[s],n[s+1],o);return o&&CO(o,o.next)&&(LC(o),o=o.next),o}function G1(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(CO(t,t.next)||xi(t.prev,t,t.next)===0)){if(LC(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function kC(n,e,t,r,i,s,o){if(!n)return;!o&&s&&Xke(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Uke(n,r,i,s):Nke(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),LC(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=zke(G1(n),e,t),kC(n,e,t,r,i,s,2)):o===2&&Gke(n,e,t,r,i,s):kC(G1(n),e,t,r,i,s,1);break}}}function Nke(n){const e=n.prev,t=n,r=n.next;if(xi(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,d=i>s?i>o?i:o:s>o?s:o,p=a>l?a>c?a:c:l>c?l:c;let m=r.next;for(;m!==e;){if(m.x>=u&&m.x<=d&&m.y>=f&&m.y<=p&&Ub(i,a,s,l,o,c,m.x,m.y)&&xi(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Uke(n,e,t,r){const i=n.prev,s=n,o=n.next;if(xi(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,d=o.y,p=a<l?a<c?a:c:l<c?l:c,m=u<f?u<d?u:d:f<d?f:d,g=a>l?a>c?a:c:l>c?l:c,y=u>f?u>d?u:d:f>d?f:d,x=AG(p,m,e,t,r),_=AG(g,y,e,t,r);let b=n.prevZ,w=n.nextZ;for(;b&&b.z>=x&&w&&w.z<=_;){if(b.x>=p&&b.x<=g&&b.y>=m&&b.y<=y&&b!==i&&b!==o&&Ub(a,u,l,f,c,d,b.x,b.y)&&xi(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=p&&w.x<=g&&w.y>=m&&w.y<=y&&w!==i&&w!==o&&Ub(a,u,l,f,c,d,w.x,w.y)&&xi(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=x;){if(b.x>=p&&b.x<=g&&b.y>=m&&b.y<=y&&b!==i&&b!==o&&Ub(a,u,l,f,c,d,b.x,b.y)&&xi(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=_;){if(w.x>=p&&w.x<=g&&w.y>=m&&w.y<=y&&w!==i&&w!==o&&Ub(a,u,l,f,c,d,w.x,w.y)&&xi(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function zke(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!CO(i,s)&&Ude(i,r,r.next,s)&&IC(i,s)&&IC(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),LC(r),LC(r.next),r=n=s),r=r.next}while(r!==n);return G1(r)}function Gke(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Kke(o,a)){let l=zde(o,a);o=G1(o,o.next),l=G1(l,l.next),kC(o,e,t,r,i,s,0),kC(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function Hke(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=Nde(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Yke(c));for(i.sort(Vke),s=0;s<i.length;s++)t=jke(i[s],t);return t}function Vke(n,e){return n.x-e.x}function jke(n,e){const t=Wke(n,e);if(!t)return e;const r=zde(t,n);return G1(r,r.next),G1(t,t.next)}function Wke(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const d=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>r&&(r=d,i=t.x<t.next.x?t:t.next,d===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&Ub(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),IC(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&$ke(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function $ke(n,e){return xi(n.prev,n,e.prev)<0&&xi(e.next,n,n.next)<0}function Xke(n,e,t,r){let i=n;do i.z===0&&(i.z=AG(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Jke(i)}function Jke(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function AG(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Yke(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Ub(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function Kke(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!qke(n,e)&&(IC(n,e)&&IC(e,n)&&Qke(n,e)&&(xi(n.prev,n,e.prev)||xi(n,e.prev,e))||CO(n,e)&&xi(n.prev,n,n.next)>0&&xi(e.prev,e,e.next)>0)}function xi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function CO(n,e){return n.x===e.x&&n.y===e.y}function Ude(n,e,t,r){const i=xP(xi(n,e,t)),s=xP(xi(n,e,r)),o=xP(xi(t,r,n)),a=xP(xi(t,r,e));return!!(i!==s&&o!==a||i===0&&yP(n,t,e)||s===0&&yP(n,r,e)||o===0&&yP(t,n,r)||a===0&&yP(t,e,r))}function yP(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function xP(n){return n>0?1:n<0?-1:0}function qke(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Ude(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function IC(n,e){return xi(n.prev,n,n.next)<0?xi(n,e,n.next)>=0&&xi(n,n.prev,e)>=0:xi(n,e,n.prev)<0||xi(n,n.next,e)<0}function Qke(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function zde(n,e){const t=new MG(n.i,n.x,n.y),r=new MG(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function YK(n,e,t,r){const i=new MG(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function LC(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function MG(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Zke(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class jd{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return jd.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];KK(e),qK(r,e);let o=e.length;t.forEach(KK);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,qK(r,t[l]);const a=Fke.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function KK(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function qK(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}let tW=class Gde extends cn{constructor(e=new u1([new rt(.5,.5),new rt(-.5,.5),new rt(-.5,-.5),new rt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new It(i,3)),this.setAttribute("uv",new It(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,m=t.bevelSize!==void 0?t.bevelSize:p-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:eIe;let b,w=!1,M,C,R,E;x&&(b=x.getSpacedPoints(u),w=!0,d=!1,M=x.computeFrenetFrames(u,!1),C=new ge,R=new ge,E=new ge),d||(y=0,p=0,m=0,g=0);const B=a.extractPoints(c);let D=B.shape;const N=B.holes;if(!jd.isClockWise(D)){D=D.reverse();for(let fe=0,ne=N.length;fe<ne;fe++){const oe=N[fe];jd.isClockWise(oe)&&(N[fe]=oe.reverse())}}const z=jd.triangulateShape(D,N),H=D;for(let fe=0,ne=N.length;fe<ne;fe++){const oe=N[fe];D=D.concat(oe)}function U(fe,ne,oe){return ne||console.error("THREE.ExtrudeGeometry: vec does not exist"),ne.clone().multiplyScalar(oe).add(fe)}const W=D.length,X=z.length;function q(fe,ne,oe){let Te,be,Ce;const We=fe.x-ne.x,Se=fe.y-ne.y,ke=oe.x-fe.x,Ve=oe.y-fe.y,Ee=We*We+Se*Se,V=We*Ve-Se*ke;if(Math.abs(V)>Number.EPSILON){const k=Math.sqrt(Ee),Q=Math.sqrt(ke*ke+Ve*Ve),ce=ne.x-Se/k,Me=ne.y+We/k,Re=oe.x-Ve/Q,Ue=oe.y+ke/Q,Pe=((Re-ce)*Ve-(Ue-Me)*ke)/(We*Ve-Se*ke);Te=ce+We*Pe-fe.x,be=Me+Se*Pe-fe.y;const xe=Te*Te+be*be;if(xe<=2)return new rt(Te,be);Ce=Math.sqrt(xe/2)}else{let k=!1;We>Number.EPSILON?ke>Number.EPSILON&&(k=!0):We<-Number.EPSILON?ke<-Number.EPSILON&&(k=!0):Math.sign(Se)===Math.sign(Ve)&&(k=!0),k?(Te=-Se,be=We,Ce=Math.sqrt(Ee)):(Te=We,be=Se,Ce=Math.sqrt(Ee/2))}return new rt(Te/Ce,be/Ce)}const L=[];for(let fe=0,ne=H.length,oe=ne-1,Te=fe+1;fe<ne;fe++,oe++,Te++)oe===ne&&(oe=0),Te===ne&&(Te=0),L[fe]=q(H[fe],H[oe],H[Te]);const I=[];let O,F=L.concat();for(let fe=0,ne=N.length;fe<ne;fe++){const oe=N[fe];O=[];for(let Te=0,be=oe.length,Ce=be-1,We=Te+1;Te<be;Te++,Ce++,We++)Ce===be&&(Ce=0),We===be&&(We=0),O[Te]=q(oe[Te],oe[Ce],oe[We]);I.push(O),F=F.concat(O)}for(let fe=0;fe<y;fe++){const ne=fe/y,oe=p*Math.cos(ne*Math.PI/2),Te=m*Math.sin(ne*Math.PI/2)+g;for(let be=0,Ce=H.length;be<Ce;be++){const We=U(H[be],L[be],Te);K(We.x,We.y,-oe)}for(let be=0,Ce=N.length;be<Ce;be++){const We=N[be];O=I[be];for(let Se=0,ke=We.length;Se<ke;Se++){const Ve=U(We[Se],O[Se],Te);K(Ve.x,Ve.y,-oe)}}}const j=m+g;for(let fe=0;fe<W;fe++){const ne=d?U(D[fe],F[fe],j):D[fe];w?(R.copy(M.normals[0]).multiplyScalar(ne.x),C.copy(M.binormals[0]).multiplyScalar(ne.y),E.copy(b[0]).add(R).add(C),K(E.x,E.y,E.z)):K(ne.x,ne.y,0)}for(let fe=1;fe<=u;fe++)for(let ne=0;ne<W;ne++){const oe=d?U(D[ne],F[ne],j):D[ne];w?(R.copy(M.normals[fe]).multiplyScalar(oe.x),C.copy(M.binormals[fe]).multiplyScalar(oe.y),E.copy(b[fe]).add(R).add(C),K(E.x,E.y,E.z)):K(oe.x,oe.y,f/u*fe)}for(let fe=y-1;fe>=0;fe--){const ne=fe/y,oe=p*Math.cos(ne*Math.PI/2),Te=m*Math.sin(ne*Math.PI/2)+g;for(let be=0,Ce=H.length;be<Ce;be++){const We=U(H[be],L[be],Te);K(We.x,We.y,f+oe)}for(let be=0,Ce=N.length;be<Ce;be++){const We=N[be];O=I[be];for(let Se=0,ke=We.length;Se<ke;Se++){const Ve=U(We[Se],O[Se],Te);w?K(Ve.x,Ve.y+b[u-1].y,b[u-1].x+oe):K(Ve.x,Ve.y,f+oe)}}}te(),re();function te(){const fe=i.length/3;if(d){let ne=0,oe=W*ne;for(let Te=0;Te<X;Te++){const be=z[Te];le(be[2]+oe,be[1]+oe,be[0]+oe)}ne=u+y*2,oe=W*ne;for(let Te=0;Te<X;Te++){const be=z[Te];le(be[0]+oe,be[1]+oe,be[2]+oe)}}else{for(let ne=0;ne<X;ne++){const oe=z[ne];le(oe[2],oe[1],oe[0])}for(let ne=0;ne<X;ne++){const oe=z[ne];le(oe[0]+W*u,oe[1]+W*u,oe[2]+W*u)}}r.addGroup(fe,i.length/3-fe,0)}function re(){const fe=i.length/3;let ne=0;se(H,ne),ne+=H.length;for(let oe=0,Te=N.length;oe<Te;oe++){const be=N[oe];se(be,ne),ne+=be.length}r.addGroup(fe,i.length/3-fe,1)}function se(fe,ne){let oe=fe.length;for(;--oe>=0;){const Te=oe;let be=oe-1;be<0&&(be=fe.length-1);for(let Ce=0,We=u+y*2;Ce<We;Ce++){const Se=W*Ce,ke=W*(Ce+1),Ve=ne+Te+Se,Ee=ne+be+Se,V=ne+be+ke,k=ne+Te+ke;he(Ve,Ee,V,k)}}}function K(fe,ne,oe){l.push(fe),l.push(ne),l.push(oe)}function le(fe,ne,oe){we(fe),we(ne),we(oe);const Te=i.length/3,be=_.generateTopUV(r,i,Te-3,Te-2,Te-1);ve(be[0]),ve(be[1]),ve(be[2])}function he(fe,ne,oe,Te){we(fe),we(ne),we(Te),we(ne),we(oe),we(Te);const be=i.length/3,Ce=_.generateSideWallUV(r,i,be-6,be-3,be-2,be-1);ve(Ce[0]),ve(Ce[1]),ve(Ce[3]),ve(Ce[1]),ve(Ce[2]),ve(Ce[3])}function we(fe){i.push(l[fe*3+0]),i.push(l[fe*3+1]),i.push(l[fe*3+2])}function ve(fe){s.push(fe.x),s.push(fe.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return tIe(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Kj[i.type]().fromJSON(i)),new Gde(r,e.options)}};const eIe={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new rt(s,o),new rt(a,l),new rt(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],p=e[i*3+1],m=e[i*3+2],g=e[s*3],y=e[s*3+1],x=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new rt(o,1-l),new rt(c,1-f),new rt(d,1-m),new rt(g,1-x)]:[new rt(a,1-l),new rt(u,1-f),new rt(p,1-m),new rt(y,1-x)]}};function tIe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}let nW=class Hde extends gx{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hde(e.radius,e.detail)}},TO=class Vde extends gx{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Vde(e.radius,e.detail)}},rW=class jde extends cn{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const d=(t-e)/i,p=new ge,m=new rt;for(let g=0;g<=i;g++){for(let y=0;y<=r;y++){const x=s+y/r*o;p.x=f*Math.cos(x),p.y=f*Math.sin(x),l.push(p.x,p.y,p.z),c.push(0,0,1),m.x=(p.x/t+1)/2,m.y=(p.y/t+1)/2,u.push(m.x,m.y)}f+=d}for(let g=0;g<i;g++){const y=g*(r+1);for(let x=0;x<r;x++){const _=x+y,b=_,w=_+r+1,M=_+r+2,C=_+1;a.push(b,w,C),a.push(w,M,C)}}this.setIndex(a),this.setAttribute("position",new It(l,3)),this.setAttribute("normal",new It(c,3)),this.setAttribute("uv",new It(u,2))}static fromJSON(e){return new jde(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}},iW=class Wde extends cn{constructor(e=new u1([new rt(0,.5),new rt(-.5,-.5),new rt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new It(i,3)),this.setAttribute("normal",new It(s,3)),this.setAttribute("uv",new It(o,2));function c(u){const f=i.length/3,d=u.extractPoints(t);let p=d.shape;const m=d.holes;jd.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,x=m.length;y<x;y++){const _=m[y];jd.isClockWise(_)===!0&&(m[y]=_.reverse())}const g=jd.triangulateShape(p,m);for(let y=0,x=m.length;y<x;y++){const _=m[y];p=p.concat(_)}for(let y=0,x=p.length;y<x;y++){const _=p[y];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let y=0,x=g.length;y<x;y++){const _=g[y],b=_[0]+f,w=_[1]+f,M=_[2]+f;r.push(b,w,M),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return nIe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Wde(r,e.curveSegments)}};function nIe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}let RO=class $de extends cn{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new ge,d=new ge,p=[],m=[],g=[],y=[];for(let x=0;x<=r;x++){const _=[],b=x/r;let w=0;x==0&&o==0?w=.5/t:x==r&&l==Math.PI&&(w=-.5/t);for(let M=0;M<=t;M++){const C=M/t;f.x=-e*Math.cos(i+C*s)*Math.sin(o+b*a),f.y=e*Math.cos(o+b*a),f.z=e*Math.sin(i+C*s)*Math.sin(o+b*a),m.push(f.x,f.y,f.z),d.copy(f).normalize(),g.push(d.x,d.y,d.z),y.push(C+w,1-b),_.push(c++)}u.push(_)}for(let x=0;x<r;x++)for(let _=0;_<t;_++){const b=u[x][_+1],w=u[x][_],M=u[x+1][_],C=u[x+1][_+1];(x!==0||o>0)&&p.push(b,w,C),(x!==r-1||l<Math.PI)&&p.push(w,M,C)}this.setIndex(p),this.setAttribute("position",new It(m,3)),this.setAttribute("normal",new It(g,3)),this.setAttribute("uv",new It(y,2))}static fromJSON(e){return new $de(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},sW=class Xde extends gx{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xde(e.radius,e.detail)}},oW=class Jde extends cn{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new ge,f=new ge,d=new ge;for(let p=0;p<=r;p++)for(let m=0;m<=i;m++){const g=m/i*s,y=p/r*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(g),f.y=(e+t*Math.cos(y))*Math.sin(g),f.z=t*Math.sin(y),a.push(f.x,f.y,f.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(m/i),c.push(p/r)}for(let p=1;p<=r;p++)for(let m=1;m<=i;m++){const g=(i+1)*p+m-1,y=(i+1)*(p-1)+m-1,x=(i+1)*(p-1)+m,_=(i+1)*p+m;o.push(g,y,_),o.push(y,x,_)}this.setIndex(o),this.setAttribute("position",new It(a,3)),this.setAttribute("normal",new It(l,3)),this.setAttribute("uv",new It(c,2))}static fromJSON(e){return new Jde(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},aW=class Yde extends cn{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new ge,d=new ge,p=new ge,m=new ge,g=new ge,y=new ge,x=new ge;for(let b=0;b<=r;++b){const w=b/r*s*Math.PI*2;_(w,s,o,e,p),_(w+.01,s,o,e,m),y.subVectors(m,p),x.addVectors(m,p),g.crossVectors(y,x),x.crossVectors(g,y),g.normalize(),x.normalize();for(let M=0;M<=i;++M){const C=M/i*Math.PI*2,R=-t*Math.cos(C),E=t*Math.sin(C);f.x=p.x+(R*x.x+E*g.x),f.y=p.y+(R*x.y+E*g.y),f.z=p.z+(R*x.z+E*g.z),l.push(f.x,f.y,f.z),d.subVectors(f,p).normalize(),c.push(d.x,d.y,d.z),u.push(b/r),u.push(M/i)}}for(let b=1;b<=r;b++)for(let w=1;w<=i;w++){const M=(i+1)*(b-1)+(w-1),C=(i+1)*b+(w-1),R=(i+1)*b+w,E=(i+1)*(b-1)+w;a.push(M,C,E),a.push(C,R,E)}this.setIndex(a),this.setAttribute("position",new It(l,3)),this.setAttribute("normal",new It(c,3)),this.setAttribute("uv",new It(u,2));function _(b,w,M,C,R){const E=Math.cos(b),B=Math.sin(b),D=M/w*b,N=Math.cos(D);R.x=C*(2+N)*.5*E,R.y=C*(2+N)*B*.5,R.z=C*Math.sin(D)*.5}}static fromJSON(e){return new Yde(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},lW=class Kde extends cn{constructor(e=new Jj(new ge(-1,-1,0),new ge(-1,1,0),new ge(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ge,l=new ge,c=new rt;let u=new ge;const f=[],d=[],p=[],m=[];g(),this.setIndex(m),this.setAttribute("position",new It(f,3)),this.setAttribute("normal",new It(d,3)),this.setAttribute("uv",new It(p,2));function g(){for(let b=0;b<t;b++)y(b);y(s===!1?t:0),_(),x()}function y(b){u=e.getPointAt(b/t,u);const w=o.normals[b],M=o.binormals[b];for(let C=0;C<=i;C++){const R=C/i*Math.PI*2,E=Math.sin(R),B=-Math.cos(R);l.x=B*w.x+E*M.x,l.y=B*w.y+E*M.y,l.z=B*w.z+E*M.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function x(){for(let b=1;b<=t;b++)for(let w=1;w<=i;w++){const M=(i+1)*(b-1)+(w-1),C=(i+1)*b+(w-1),R=(i+1)*b+w,E=(i+1)*(b-1)+w;m.push(M,C,E),m.push(C,R,E)}}function _(){for(let b=0;b<=t;b++)for(let w=0;w<=i;w++)c.x=b/t,c.y=w/i,p.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Kde(new Kj[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}};class qde extends cn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new ge,s=new ge;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,p=f.count;for(let m=d,g=d+p;m<g;m+=3)for(let y=0;y<3;y++){const x=a.getX(m+y),_=a.getX(m+(y+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,_),QK(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),QK(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new It(t,3))}}}function QK(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var ZK=Object.freeze({__proto__:null,BoxGeometry:YS,CapsuleGeometry:qj,CircleGeometry:Qj,ConeGeometry:Zj,CylinderGeometry:a3,DodecahedronGeometry:eW,EdgesGeometry:Fde,ExtrudeGeometry:tW,IcosahedronGeometry:nW,LatheGeometry:EO,OctahedronGeometry:TO,PlaneGeometry:px,PolyhedronGeometry:gx,RingGeometry:rW,ShapeGeometry:iW,SphereGeometry:RO,TetrahedronGeometry:sW,TorusGeometry:oW,TorusKnotGeometry:aW,TubeGeometry:lW,WireframeGeometry:qde});class Qde extends Ts{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ft(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Zde extends Vf{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}let v0=class extends Ts{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ft(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}};class Rc extends v0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new rt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return rs(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ft(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ft(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ft(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class fE extends Ts{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ft(16777215),this.specular=new ft(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=t3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ehe extends Ts{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ft(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class the extends Ts{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class cW extends Ts{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ft(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ft(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=t3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}let nhe=class extends Ts{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ft(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}};class rhe extends Vo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function du(n,e,t){return uW(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Ny(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function uW(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ihe(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function EG(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function fW(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function rIe(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],d=[];for(let p=0;p<c.times.length;++p){const m=c.times[p]*i;if(!(m<t||m>=r)){f.push(c.times[p]);for(let g=0;g<u;++g)d.push(c.values[p*u+g])}}f.length!==0&&(c.times=Ny(f,c.times.constructor),c.values=Ny(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function iIe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const m=a.times.length-1;let g;if(s<=a.times[0]){const x=u,_=f-u;g=du(a.values,x,_)}else if(s>=a.times[m]){const x=m*f+u,_=x+f-u;g=du(a.values,x,_)}else{const x=a.createInterpolant(),_=u,b=f-u;x.evaluate(s),g=du(x.resultBuffer,_,b)}l==="quaternion"&&new Si().fromArray(g).normalize().conjugate().toArray(g);const y=c.times.length;for(let x=0;x<y;++x){const _=x*p+d;if(l==="quaternion")Si.multiplyQuaternionsFlat(c.values,_,g,0,c.values,_);else{const b=p-d*2;for(let w=0;w<b;++w)c.values[_+w]-=g[w]}}}return n.blendMode=Dj,n}var sIe=Object.freeze({__proto__:null,arraySlice:du,convertArray:Ny,isTypedArray:uW,getKeyframeOrder:ihe,sortedArray:EG,flattenJSON:fW,subclip:rIe,makeClipAdditive:iIe});let qS=class{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}};class she extends qS{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ly,endingEnd:Ly}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Oy:s=e,a=2*t-r;break;case TC:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Oy:o=e,l=2*r-t;break;case TC:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,p=this._weightNext,m=(r-t)/(i-t),g=m*m,y=g*m,x=-d*y+2*d*g-d*m,_=(1+d)*y+(-1.5-2*d)*g+(-.5+d)*m+1,b=(-1-p)*y+(1.5+p)*g+.5*m,w=p*y-p*g;for(let M=0;M!==a;++M)s[M]=x*o[u+M]+_*o[c+M]+b*o[l+M]+w*o[f+M];return s}}class dW extends qS{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*f+o[l+d]*u;return s}}class ohe extends qS{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Zf{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ny(t,this.TimeBufferType),this.values=Ny(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Ny(e.times,Array),values:Ny(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new ohe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new dW(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new she(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case rS:t=this.InterpolantFactoryMethodDiscrete;break;case z1:t=this.InterpolantFactoryMethodLinear;break;case HD:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rS;case this.InterpolantFactoryMethodLinear:return z1;case this.InterpolantFactoryMethodSmooth:return HD}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=du(r,s,o),this.values=du(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&uW(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=du(this.times),t=du(this.values),r=this.getValueSize(),i=this.getInterpolation()===HD,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,d=f-r,p=f+r;for(let m=0;m!==r;++m){const g=t[f+m];if(g!==t[d+m]||g!==t[p+m]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,d=o*r;for(let p=0;p!==r;++p)t[d+p]=t[f+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=du(e,0,o),this.values=du(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=du(this.times,0),t=du(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Zf.prototype.TimeBufferType=Float32Array;Zf.prototype.ValueBufferType=Float32Array;Zf.prototype.DefaultInterpolation=z1;let vx=class extends Zf{};vx.prototype.ValueTypeName="bool";vx.prototype.ValueBufferType=Array;vx.prototype.DefaultInterpolation=rS;vx.prototype.InterpolantFactoryMethodLinear=void 0;vx.prototype.InterpolantFactoryMethodSmooth=void 0;class hW extends Zf{}hW.prototype.ValueTypeName="color";let y0=class extends Zf{};y0.prototype.ValueTypeName="number";class ahe extends qS{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Si.slerpFlat(s,0,o,c-a,o,c,l);return s}}let Vp=class extends Zf{InterpolantFactoryMethodLinear(e){return new ahe(this.times,this.values,this.getValueSize(),e)}};Vp.prototype.ValueTypeName="quaternion";Vp.prototype.DefaultInterpolation=z1;Vp.prototype.InterpolantFactoryMethodSmooth=void 0;let yx=class extends Zf{};yx.prototype.ValueTypeName="string";yx.prototype.ValueBufferType=Array;yx.prototype.DefaultInterpolation=rS;yx.prototype.InterpolantFactoryMethodLinear=void 0;yx.prototype.InterpolantFactoryMethodSmooth=void 0;let x0=class extends Zf{};x0.prototype.ValueTypeName="vector";class H1{constructor(e,t=-1,r,i=fO){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=pc(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(aIe(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Zf.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=ihe(l);l=EG(l,1,u),c=EG(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new y0(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(u,f,d,p,m){if(d.length!==0){const g=[],y=[];fW(d,g,y,p),g.length!==0&&m.push(new u(f,g,y))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let u=0;u<c.length;u++){const f=c[u].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const d={};let p;for(p=0;p<f.length;p++)if(f[p].morphTargets)for(let m=0;m<f[p].morphTargets.length;m++)d[f[p].morphTargets[m]]=-1;for(const m in d){const g=[],y=[];for(let x=0;x!==f[p].morphTargets.length;++x){const _=f[p];g.push(_.time),y.push(_.morphTarget===m?1:0)}i.push(new y0(".morphTargetInfluence["+m+"]",g,y))}l=d.length*o}else{const d=".bones["+t[u].name+"]";r(x0,d+".position",f,"pos",i),r(Vp,d+".quaternion",f,"rot",i),r(x0,d+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function oIe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return y0;case"vector":case"vector2":case"vector3":case"vector4":return x0;case"color":return hW;case"quaternion":return Vp;case"bool":case"boolean":return vx;case"string":return yx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function aIe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=oIe(n.type);if(n.times===void 0){const t=[],r=[];fW(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const V1={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class pW{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const p=c[f],m=c[f+1];if(p.global&&(p.lastIndex=0),p.test(u))return m}return null}}}const lhe=new pW;class ma{constructor(e){this.manager=e!==void 0?e:lhe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Hh={};class lIe extends Error{constructor(e,t){super(e),this.response=t}}let Bl=class extends ma{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=V1.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Hh[e]!==void 0){Hh[e].push({onLoad:t,onProgress:r,onError:i});return}Hh[e]=[],Hh[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Hh[e],f=c.body.getReader(),d=c.headers.get("Content-Length"),p=d?parseInt(d):0,m=p!==0;let g=0;const y=new ReadableStream({start(x){_();function _(){f.read().then(({done:b,value:w})=>{if(b)x.close();else{g+=w.byteLength;const M=new ProgressEvent("progress",{lengthComputable:m,loaded:g,total:p});for(let C=0,R=u.length;C<R;C++){const E=u[C];E.onProgress&&E.onProgress(M)}x.enqueue(w),_()}})}}});return new Response(y)}else throw new lIe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),f=u&&u[1]?u[1].toLowerCase():void 0,d=new TextDecoder(f);return c.arrayBuffer().then(p=>d.decode(p))}}}).then(c=>{V1.add(e,c);const u=Hh[e];delete Hh[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=Hh[e];if(u===void 0)throw this.manager.itemError(e),c;delete Hh[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}};class cIe extends ma{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Bl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=H1.parse(e[r]);t.push(i)}return t}}class uIe extends ma{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new jj,l=new Bl(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const p=s.parse(d,!0);o[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(a.minFilter=jr),a.image=o,a.format=p.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const p=d.mipmaps.length/d.mipmapCount;for(let m=0;m<p;m++){o[m]={mipmaps:[]};for(let g=0;g<d.mipmapCount;g++)o[m].mipmaps.push(d.mipmaps[m*d.mipmapCount+g]),o[m].format=d.format,o[m].width=d.width,o[m].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=jr),a.format=d.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}let OC=class extends ma{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=V1.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=BC("img");function l(){u(),V1.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}};class fIe extends ma{constructor(e){super(e)}load(e,t,r,i){const s=new s3,o=new OC(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class dIe extends ma{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Mw,a=new Bl(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:zs,o.wrapT=c.wrapT!==void 0?c.wrapT:zs,o.magFilter=c.magFilter!==void 0?c.magFilter:jr,o.minFilter=c.minFilter!==void 0?c.minFilter:jr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=lm),c.mipmapCount===1&&(o.minFilter=jr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}let QS=class extends ma{constructor(e){super(e)}load(e,t,r,i){const s=new Kr,o=new OC(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}},K0=class extends Rn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ft(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}};class che extends K0{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Rn.DefaultUp),this.updateMatrix(),this.groundColor=new ft(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const wN=new Ht,eq=new ge,tq=new ge;class mW{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new rt(512,512),this.map=null,this.mapPass=null,this.matrix=new Ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new mO,this._frameExtents=new rt(1,1),this._viewportCount=1,this._viewports=[new wn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;eq.setFromMatrixPosition(e.matrixWorld),t.position.copy(eq),tq.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(tq),t.updateMatrixWorld(),wN.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wN),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(wN)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class hIe extends mW{constructor(){super(new As(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=PC*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class PO extends K0{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Rn.DefaultUp),this.updateMatrix(),this.target=new Rn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new hIe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const nq=new Ht,NM=new ge,SN=new ge;class pIe extends mW{constructor(){super(new As(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new rt(4,2),this._viewportCount=6,this._viewports=[new wn(2,1,1,1),new wn(0,1,1,1),new wn(3,1,1,1),new wn(1,1,1,1),new wn(3,0,1,1),new wn(1,0,1,1)],this._cubeDirections=[new ge(1,0,0),new ge(-1,0,0),new ge(0,0,1),new ge(0,0,-1),new ge(0,1,0),new ge(0,-1,0)],this._cubeUps=[new ge(0,1,0),new ge(0,1,0),new ge(0,1,0),new ge(0,1,0),new ge(0,0,1),new ge(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),NM.setFromMatrixPosition(e.matrixWorld),r.position.copy(NM),SN.copy(r.position),SN.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(SN),r.updateMatrixWorld(),i.makeTranslation(-NM.x,-NM.y,-NM.z),nq.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nq)}}let FC=class extends K0{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new pIe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}};class mIe extends mW{constructor(){super(new mx(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class BO extends K0{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Rn.DefaultUp),this.updateMatrix(),this.target=new Rn,this.shadow=new mIe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class gW extends K0{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class uhe extends K0{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class fhe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ge)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class DO extends K0{constructor(e=new fhe,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class kO extends ma{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Bl(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=kO.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ft().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new ft().setHex(o.value);break;case"v2":i.uniforms[s].value=new rt().fromArray(o.value);break;case"v3":i.uniforms[s].value=new ge().fromArray(o.value);break;case"v4":i.uniforms[s].value=new wn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new sa().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ht().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new rt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new rt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Qde,SpriteMaterial:zj,RawShaderMaterial:Zde,ShaderMaterial:Vf,PointsMaterial:SO,MeshPhysicalMaterial:Rc,MeshStandardMaterial:v0,MeshPhongMaterial:fE,MeshToonMaterial:ehe,MeshNormalMaterial:the,MeshLambertMaterial:cW,MeshDepthMaterial:vO,MeshDistanceMaterial:yO,MeshBasicMaterial:dl,MeshMatcapMaterial:nhe,LineDashedMaterial:rhe,LineBasicMaterial:Vo,Material:Ts};return new t[e]}}let Cp=class{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}};class vW extends cn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class dhe extends ma{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Bl(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(d,p){if(t[p]!==void 0)return t[p];const m=d.interleavedBuffers[p],g=s(d,m.buffer),y=Fb(m.type,g),x=new o3(y,m.stride);return x.uuid=m.uuid,t[p]=x,x}function s(d,p){if(r[p]!==void 0)return r[p];const m=d.arrayBuffers[p],g=new Uint32Array(m).buffer;return r[p]=g,g}const o=e.isInstancedBufferGeometry?new vW:new cn,a=e.data.index;if(a!==void 0){const d=Fb(a.type,a.array);o.setIndex(new qn(d,1))}const l=e.data.attributes;for(const d in l){const p=l[d];let m;if(p.isInterleavedBufferAttribute){const g=i(e.data,p.data);m=new sS(g,p.itemSize,p.offset,p.normalized)}else{const g=Fb(p.type,p.array),y=p.isInstancedBufferAttribute?g0:qn;m=new y(g,p.itemSize,p.normalized)}p.name!==void 0&&(m.name=p.name),p.usage!==void 0&&m.setUsage(p.usage),p.updateRange!==void 0&&(m.updateRange.offset=p.updateRange.offset,m.updateRange.count=p.updateRange.count),o.setAttribute(d,m)}const c=e.data.morphAttributes;if(c)for(const d in c){const p=c[d],m=[];for(let g=0,y=p.length;g<y;g++){const x=p[g];let _;if(x.isInterleavedBufferAttribute){const b=i(e.data,x.data);_=new sS(b,x.itemSize,x.offset,x.normalized)}else{const b=Fb(x.type,x.array);_=new qn(b,x.itemSize,x.normalized)}x.name!==void 0&&(_.name=x.name),m.push(_)}o.morphAttributes[d]=m}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let d=0,p=u.length;d!==p;++d){const m=u[d];o.addGroup(m.start,m.count,m.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const d=new ge;f.center!==void 0&&d.fromArray(f.center),o.boundingSphere=new fm(d,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class gIe extends ma{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Cp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Bl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Cp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Bl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new u1().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new wO().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new dhe;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in ZK?a=ZK[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new kO;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=H1.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Fb(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new pW(t);s=new OC(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const p=[];for(let m=0,g=d.length;m<g;m++){const y=d[m],x=a(y);x!==null&&(x instanceof HTMLImageElement?p.push(x):p.push(new Mw(x.data,x.width,x.height)))}i[f.uuid]=new Fy(p)}else{const p=a(f.url);i[f.uuid]=new Fy(p)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Fb(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new OC(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f],m=await s(p);m!==null&&(m instanceof HTMLImageElement?u.push(m):u.push(new Mw(m.data,m.width,m.height)))}r[l.uuid]=new Fy(u)}else{const u=await s(l.url);r[l.uuid]=new Fy(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new s3,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Mw:u=new Kr,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,vIe)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],rq),u.wrapT=r(a.wrap[1],rq)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,iq)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,iq)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const p=[];for(let m=0,g=d.length;m<g;m++){const y=d[m];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),p.push(r[y])}return p}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":o=new iI,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ft(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new _O(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new xO(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new As(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new mx(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new gW(e.color,e.intensity);break;case"DirectionalLight":o=new BO(e.color,e.intensity);break;case"PointLight":o=new FC(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new uhe(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new PO(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new che(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new DO().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new bO(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new Oi(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const d=e.count,p=e.instanceMatrix,m=e.instanceColor;o=new Gj(u,f,d),o.instanceMatrix=new g0(new Float32Array(p.array),16),m!==void 0&&(o.instanceColor=new g0(new Float32Array(m.array),m.itemSize));break;case"LOD":o=new wde;break;case"Line":o=new th(a(e.geometry),l(e.material));break;case"LineLoop":o=new Hj(a(e.geometry),l(e.material));break;case"LineSegments":o=new Qf(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Vj(a(e.geometry),l(e.material));break;case"Sprite":o=new bde(l(e.material));break;case"Group":o=new Pf;break;case"Bone":o=new oS;break;default:o=new Rn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let p=0;p<d.length;p++)o.add(this.parseObject(d[p],t,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let p=0;p<d.length;p++){const m=d[p];o.animations.push(s[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let p=0;p<d.length;p++){const m=d[p],g=o.getObjectByProperty("uuid",m.object);g!==void 0&&o.addLevel(g,m.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const vIe={UVMapping:cO,CubeReflectionMapping:h0,CubeRefractionMapping:p0,EquirectangularReflectionMapping:eS,EquirectangularRefractionMapping:MC,CubeUVReflectionMapping:JS},rq={RepeatWrapping:eh,ClampToEdgeWrapping:zs,MirroredRepeatWrapping:tS},iq={NearestFilter:ns,NearestMipmapNearestFilter:EC,NearestMipmapLinearFilter:CC,LinearFilter:jr,LinearMipmapNearestFilter:uO,LinearMipmapLinearFilter:lm};class hhe extends ma{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=V1.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){V1.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let _P;class yW{static getContext(){return _P===void 0&&(_P=new(window.AudioContext||window.webkitAudioContext)),_P}static setContext(e){_P=e}}class yIe extends ma{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Bl(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);yW.getContext().decodeAudioData(l,function(c){t(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class xIe extends DO{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new ft().set(e),s=new ft().set(t),o=new ge(i.r,i.g,i.b),a=new ge(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class _Ie extends DO{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new ft().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const sq=new Ht,oq=new Ht,Hv=new Ht;class bIe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new As,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new As,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Hv.copy(e.projectionMatrix);const r=t.eyeSep/2,i=r*t.near/t.focus,s=t.near*Math.tan(a1*t.fov*.5)/t.zoom;let o,a;oq.elements[12]=-r,sq.elements[12]=r,o=-s*t.aspect+i,a=s*t.aspect+i,Hv.elements[0]=2*t.near/(a-o),Hv.elements[8]=(a+o)/(a-o),this.cameraL.projectionMatrix.copy(Hv),o=-s*t.aspect-i,a=s*t.aspect-i,Hv.elements[0]=2*t.near/(a-o),Hv.elements[8]=(a+o)/(a-o),this.cameraR.projectionMatrix.copy(Hv)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(oq),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(sq)}}class xW{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=aq(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=aq();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function aq(){return(typeof performance>"u"?Date:performance).now()}const Vv=new ge,lq=new Si,wIe=new ge,jv=new ge;class SIe extends Rn{constructor(){super(),this.type="AudioListener",this.context=yW.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xW}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Vv,lq,wIe),jv.set(0,0,-1).applyQuaternion(lq),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Vv.x,i),t.positionY.linearRampToValueAtTime(Vv.y,i),t.positionZ.linearRampToValueAtTime(Vv.z,i),t.forwardX.linearRampToValueAtTime(jv.x,i),t.forwardY.linearRampToValueAtTime(jv.y,i),t.forwardZ.linearRampToValueAtTime(jv.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Vv.x,Vv.y,Vv.z),t.setOrientation(jv.x,jv.y,jv.z,r.x,r.y,r.z)}}class phe extends Rn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Wv=new ge,cq=new Si,AIe=new ge,$v=new ge;class MIe extends phe{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Wv,cq,AIe),$v.set(0,0,1).applyQuaternion(cq);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Wv.x,r),t.positionY.linearRampToValueAtTime(Wv.y,r),t.positionZ.linearRampToValueAtTime(Wv.z,r),t.orientationX.linearRampToValueAtTime($v.x,r),t.orientationY.linearRampToValueAtTime($v.y,r),t.orientationZ.linearRampToValueAtTime($v.z,r)}else t.setPosition(Wv.x,Wv.y,Wv.z),t.setOrientation($v.x,$v.y,$v.z)}}class EIe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class mhe{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Si.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Si.multiplyQuaternionsFlat(e,o,e,t,e,r),Si.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const _W="\\[\\]\\.:\\/",CIe=new RegExp("["+_W+"]","g"),bW="[^"+_W+"]",TIe="[^"+_W.replace("\\.","")+"]",RIe=/((?:WC+[\/:])*)/.source.replace("WC",bW),PIe=/(WCOD+)?/.source.replace("WCOD",TIe),BIe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",bW),DIe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",bW),kIe=new RegExp("^"+RIe+PIe+BIe+DIe+"$"),IIe=["material","materials","bones","map"];class LIe{constructor(e,t,r){const i=r||Cn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Cn{constructor(e,t,r){this.path=t,this.parsedPath=r||Cn.parseTrackName(t),this.node=Cn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Cn.Composite(e,t,r):new Cn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(CIe,"")}static parseTrackName(e){const t=kIe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);IIe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Cn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Cn.Composite=LIe;Cn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Cn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Cn.prototype.GetterByBindingType=[Cn.prototype._getValue_direct,Cn.prototype._getValue_array,Cn.prototype._getValue_arrayElement,Cn.prototype._getValue_toArray];Cn.prototype.SetterByBindingTypeAndVersioning=[[Cn.prototype._setValue_direct,Cn.prototype._setValue_direct_setNeedsUpdate,Cn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_array,Cn.prototype._setValue_array_setNeedsUpdate,Cn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_arrayElement,Cn.prototype._setValue_arrayElement_setNeedsUpdate,Cn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_fromArray,Cn.prototype._setValue_fromArray_setNeedsUpdate,Cn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class OIe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=pc(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],p=d.uuid;let m=t[p];if(m===void 0){m=l++,t[p]=m,e.push(d);for(let g=0,y=o;g!==y;++g)s[g].push(new Cn(d,r[g],i[g]))}else if(m<c){a=e[m];const g=--c,y=e[g];t[y.uuid]=m,e[m]=y,t[p]=g,e[g]=d;for(let x=0,_=o;x!==_;++x){const b=s[x],w=b[g];let M=b[m];b[m]=w,M===void 0&&(M=new Cn(d,r[x],i[x])),b[g]=M}}else e[m]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,d=e[f];t[d.uuid]=u,e[u]=d,t[c]=f,e[f]=l;for(let p=0,m=i;p!==m;++p){const g=r[p],y=g[f],x=g[u];g[u]=y,g[f]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const d=--s,p=e[d],m=--o,g=e[m];t[p.uuid]=f,e[f]=p,t[g.uuid]=d,e[d]=g,e.pop();for(let y=0,x=i;y!==x;++y){const _=r[y],b=_[d],w=_[m];_[f]=b,_[d]=w,_.pop()}}else{const d=--o,p=e[d];d>0&&(t[p.uuid]=f),e[f]=p,e.pop();for(let m=0,g=i;m!==g;++m){const y=r[m];y[f]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let d=u,p=l.length;d!==p;++d){const m=l[d];f[d]=new Cn(m,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class FIe{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ly,endingEnd:Ly};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Yfe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case Dj:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case fO:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Kfe;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===Jfe){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Oy,i.endingEnd=Oy):(e?i.endingStart=this.zeroSlopeAtStart?Oy:Ly:i.endingStart=TC,t?i.endingEnd=this.zeroSlopeAtEnd?Oy:Ly:i.endingEnd=TC)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const NIe=new Float32Array(1);class ghe extends cm{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const d=i[f],p=d.name;let m=u[p];if(m!==void 0)++m.referenceCount,o[f]=m;else{if(m=o[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,p));continue}const g=t&&t._propertyBindings[f].binding.parsedPath;m=new mhe(Cn.create(r,p,g),d.ValueTypeName,d.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,p),o[f]=m}a[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new dW(new Float32Array(2),new Float32Array(2),1,NIe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?H1.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=fO),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new FIe(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?H1.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class wW{constructor(e){this.value=e}clone(){return new wW(this.value.clone===void 0?this.value:this.value.clone())}}let UIe=0;class zIe extends cm{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:UIe++}),this.name="",this.usage=RC,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class GIe extends o3{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class HIe{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class vhe{constructor(e,t,r=0,i=1/0){this.ray=new r3(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new c1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return CG(e,this,r,t),r.sort(uq),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)CG(e[i],this,r,t);return r.sort(uq),r}}function uq(n,e){return n.distance-e.distance}function CG(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)CG(i[s],e,t,!0)}}class yhe{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(rs(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class VIe{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const fq=new rt;class jIe{constructor(e=new rt(1/0,1/0),t=new rt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=fq.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return fq.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const dq=new ge,bP=new ge;class WIe{constructor(e=new ge,t=new ge){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){dq.subVectors(e,this.start),bP.subVectors(this.end,this.start);const r=bP.dot(bP);let i=bP.dot(dq)/r;return t&&(i=rs(i,0,1)),i}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const hq=new ge;class $Ie extends Rn{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new cn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new It(i,3));const s=new Vo({fog:!1,toneMapped:!1});this.cone=new Qf(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),hq.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(hq),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Jm=new ge,wP=new Ht,AN=new Ht;class XIe extends Qf{constructor(e){const t=xhe(e),r=new cn,i=[],s=[],o=new ft(0,0,1),a=new ft(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new It(i,3)),r.setAttribute("color",new It(s,3));const l=new Vo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");AN.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(wP.multiplyMatrices(AN,a.matrixWorld),Jm.setFromMatrixPosition(wP),i.setXYZ(o,Jm.x,Jm.y,Jm.z),wP.multiplyMatrices(AN,a.parent.matrixWorld),Jm.setFromMatrixPosition(wP),i.setXYZ(o+1,Jm.x,Jm.y,Jm.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function xhe(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,xhe(n.children[t]));return e}class JIe extends Oi{constructor(e,t,r){const i=new RO(t,4,2),s=new dl({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const YIe=new ge,pq=new ft,mq=new ft;class KIe extends Rn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new TO(t);i.rotateY(Math.PI*.5),this.material=new dl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new qn(o,3)),this.add(new Oi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");pq.copy(this.light.color),mq.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?pq:mq;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(YIe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class qIe extends Qf{constructor(e=10,t=10,r=4473924,i=8947848){r=new ft(r),i=new ft(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let d=0,p=0,m=-a;d<=t;d++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const g=d===s?r:i;g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3}const u=new cn;u.setAttribute("position",new It(l,3)),u.setAttribute("color",new It(c,3));const f=new Vo({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class QIe extends Qf{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new ft(s),o=new ft(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const d=f/t*(Math.PI*2),p=Math.sin(d)*e,m=Math.cos(d)*e;a.push(0,0,0),a.push(p,0,m);const g=f&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let f=0;f<r;f++){const d=f&1?s:o,p=e-e/r*f;for(let m=0;m<i;m++){let g=m/i*(Math.PI*2),y=Math.sin(g)*p,x=Math.cos(g)*p;a.push(y,0,x),l.push(d.r,d.g,d.b),g=(m+1)/i*(Math.PI*2),y=Math.sin(g)*p,x=Math.cos(g)*p,a.push(y,0,x),l.push(d.r,d.g,d.b)}}const c=new cn;c.setAttribute("position",new It(a,3)),c.setAttribute("color",new It(l,3));const u=new Vo({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const gq=new ge,SP=new ge,vq=new ge;class ZIe extends Rn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new cn;i.setAttribute("position",new It([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Vo({fog:!1,toneMapped:!1});this.lightPlane=new th(i,s),this.add(this.lightPlane),i=new cn,i.setAttribute("position",new It([0,0,0,0,0,1],3)),this.targetLine=new th(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){gq.setFromMatrixPosition(this.light.matrixWorld),SP.setFromMatrixPosition(this.light.target.matrixWorld),vq.subVectors(SP,gq),this.lightPlane.lookAt(SP),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(SP),this.targetLine.scale.z=vq.length()}}const AP=new ge,Di=new i3;class eLe extends Qf{constructor(e){const t=new cn,r=new Vo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(m,g){l(m),l(g)}function l(m){i.push(0,0,0),s.push(0,0,0),o[m]===void 0&&(o[m]=[]),o[m].push(i.length/3-1)}t.setAttribute("position",new It(i,3)),t.setAttribute("color",new It(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ft(16755200),u=new ft(16711680),f=new ft(43775),d=new ft(16777215),p=new ft(3355443);this.setColors(c,u,f,d,p)}setColors(e,t,r,i,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Di.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Xi("c",t,e,Di,0,0,-1),Xi("t",t,e,Di,0,0,1),Xi("n1",t,e,Di,-r,-i,-1),Xi("n2",t,e,Di,r,-i,-1),Xi("n3",t,e,Di,-r,i,-1),Xi("n4",t,e,Di,r,i,-1),Xi("f1",t,e,Di,-r,-i,1),Xi("f2",t,e,Di,r,-i,1),Xi("f3",t,e,Di,-r,i,1),Xi("f4",t,e,Di,r,i,1),Xi("u1",t,e,Di,r*.7,i*1.1,-1),Xi("u2",t,e,Di,-r*.7,i*1.1,-1),Xi("u3",t,e,Di,0,i*2,-1),Xi("cf1",t,e,Di,-r,0,1),Xi("cf2",t,e,Di,r,0,1),Xi("cf3",t,e,Di,0,-i,1),Xi("cf4",t,e,Di,0,i,1),Xi("cn1",t,e,Di,-r,0,-1),Xi("cn2",t,e,Di,r,0,-1),Xi("cn3",t,e,Di,0,-i,-1),Xi("cn4",t,e,Di,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xi(n,e,t,r,i,s,o){AP.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],AP.x,AP.y,AP.z)}}const MP=new um;class tLe extends Qf{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new cn;s.setIndex(new qn(r,1)),s.setAttribute("position",new qn(i,3)),super(s,new Vo({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&MP.setFromObject(this.object),MP.isEmpty())return;const t=MP.min,r=MP.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class nLe extends Qf{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new cn;s.setIndex(new qn(r,1)),s.setAttribute("position",new It(i,3)),super(s,new Vo({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class rLe extends th{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new cn;o.setAttribute("position",new It(s,3)),o.computeBoundingSphere(),super(o,new Vo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new cn;l.setAttribute("position",new It(a,3)),l.computeBoundingSphere(),this.add(new Oi(l,new dl({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const yq=new ge;let EP,MN;class iLe extends Rn{constructor(e=new ge(0,0,1),t=new ge(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",EP===void 0&&(EP=new cn,EP.setAttribute("position",new It([0,0,0,0,1,0],3)),MN=new a3(0,.5,1,5,1),MN.translate(0,-.5,0)),this.position.copy(t),this.line=new th(EP,new Vo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Oi(MN,new dl({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{yq.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(yq,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class sLe extends Qf{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new cn;i.setAttribute("position",new It(t,3)),i.setAttribute("color",new It(r,3));const s=new Vo({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new ft,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class oLe{constructor(){this.type="ShapePath",this.color=new ft,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new DC,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const _=[];for(let b=0,w=x.length;b<w;b++){const M=x[b],C=new u1;C.curves=M.curves,_.push(C)}return _}function r(x,_){const b=_.length;let w=!1;for(let M=b-1,C=0;C<b;M=C++){let R=_[M],E=_[C],B=E.x-R.x,D=E.y-R.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(R=_[C],B=-B,E=_[M],D=-D),x.y<R.y||x.y>E.y)continue;if(x.y===R.y){if(x.x===R.x)return!0}else{const N=D*(x.x-R.x)-B*(x.y-R.y);if(N===0)return!0;if(N<0)continue;w=!w}}else{if(x.y!==R.y)continue;if(E.x<=x.x&&x.x<=R.x||R.x<=x.x&&x.x<=E.x)return!0}}return w}const i=jd.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new u1,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],d=[];let p=[],m=0,g;d[m]=void 0,p[m]=[];for(let x=0,_=s.length;x<_;x++)a=s[x],g=a.getPoints(),o=i(g),o=e?!o:o,o?(!u&&d[m]&&m++,d[m]={s:new u1,p:g},d[m].s.curves=a.curves,u&&m++,p[m]=[]):p[m].push({h:a,p:g[0]});if(!d[0])return t(s);if(d.length>1){let x=!1,_=0;for(let b=0,w=d.length;b<w;b++)f[b]=[];for(let b=0,w=d.length;b<w;b++){const M=p[b];for(let C=0;C<M.length;C++){const R=M[C];let E=!0;for(let B=0;B<d.length;B++)r(R.p,d[B].p)&&(b!==B&&_++,E?(E=!1,f[B].push(R)):x=!0);E&&f[b].push(R)}}_>0&&x===!1&&(p=f)}let y;for(let x=0,_=d.length;x<_;x++){l=d[x].s,c.push(l),y=p[x];for(let b=0,w=y.length;b<w;b++)l.holes.push(y[b].h)}return c}}const fp=aLe();function aLe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function lLe(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=rs(n,-65504,65504),fp.floatView[0]=n;const e=fp.uint32View[0],t=e>>23&511;return fp.baseTable[t]+((e&8388607)>>fp.shiftTable[t])}function cLe(n){const e=n>>10;return fp.uint32View[0]=fp.mantissaTable[fp.offsetTable[e]+(n&1023)]+fp.exponentTable[e],fp.floatView[0]}var uLe=Object.freeze({__proto__:null,toHalfFloat:lLe,fromHalfFloat:cLe});function fLe(){console.error("THREE.ImmediateRenderObject has been removed.")}class dLe extends zu{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class hLe extends n3{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class pLe extends dO{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class mLe extends YS{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class gLe extends qj{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class vLe extends Qj{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class yLe extends Zj{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class xLe extends a3{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class _Le extends eW{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class bLe extends tW{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class wLe extends nW{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class SLe extends EO{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class ALe extends TO{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class MLe extends px{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class ELe extends gx{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class CLe extends rW{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class TLe extends iW{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class RLe extends RO{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class PLe extends sW{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class BLe extends oW{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class DLe extends aW{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class kLe extends lW{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:e3}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=e3);const ILe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Pj,AddEquation:Cy,AddOperation:Tfe,AdditiveAnimationBlendMode:Dj,AdditiveBlending:$6,AlphaFormat:Nfe,AlwaysDepth:bfe,AlwaysStencilFunc:ede,AmbientLight:gW,AmbientLightProbe:_Ie,AnimationClip:H1,AnimationLoader:cIe,AnimationMixer:ghe,AnimationObjectGroup:OIe,AnimationUtils:sIe,ArcCurve:Mde,ArrayCamera:gde,ArrowHelper:iLe,Audio:phe,AudioAnalyser:EIe,AudioContext:yW,AudioListener:SIe,AudioLoader:yIe,AxesHelper:sLe,BackSide:Ha,BasicDepthPacking:Qfe,BasicShadowMap:afe,Bone:oS,BooleanKeyframeTrack:vx,Box2:jIe,Box3:um,Box3Helper:nLe,BoxBufferGeometry:mLe,BoxGeometry:YS,BoxHelper:tLe,BufferAttribute:qn,BufferGeometry:cn,BufferGeometryLoader:dhe,ByteType:kfe,Cache:V1,Camera:i3,CameraHelper:eLe,CanvasTexture:Rke,CapsuleBufferGeometry:gLe,CapsuleGeometry:qj,CatmullRomCurve3:Ede,CineonToneMapping:Bfe,CircleBufferGeometry:vLe,CircleGeometry:Qj,ClampToEdgeWrapping:zs,Clock:xW,Color:ft,ColorKeyframeTrack:hW,ColorManagement:iu,CompressedArrayTexture:Tke,CompressedTexture:jj,CompressedTextureLoader:uIe,ConeBufferGeometry:yLe,ConeGeometry:Zj,CubeCamera:ade,CubeReflectionMapping:h0,CubeRefractionMapping:p0,CubeTexture:s3,CubeTextureLoader:fIe,CubeUVReflectionMapping:JS,CubicBezierCurve:$j,CubicBezierCurve3:Cde,CubicInterpolant:she,CullFaceBack:W6,CullFaceFront:ofe,CullFaceFrontBack:OTe,CullFaceNone:sfe,Curve:$u,CurvePath:Rde,CustomBlending:lfe,CustomToneMapping:Dfe,CylinderBufferGeometry:xLe,CylinderGeometry:a3,Cylindrical:VIe,Data3DTexture:dO,DataArrayTexture:n3,DataTexture:Mw,DataTexture2DArray:hLe,DataTexture3D:pLe,DataTextureLoader:dIe,DataUtils:uLe,DecrementStencilOp:WTe,DecrementWrapStencilOp:XTe,DefaultLoadingManager:lhe,DepthFormat:Yg,DepthStencilFormat:U1,DepthTexture:vde,DirectionalLight:BO,DirectionalLightHelper:ZIe,DiscreteInterpolant:ohe,DodecahedronBufferGeometry:_Le,DodecahedronGeometry:eW,DoubleSide:Cu,DstAlphaFactor:mfe,DstColorFactor:vfe,DynamicCopyUsage:l3e,DynamicDrawUsage:n3e,DynamicReadUsage:s3e,EdgesGeometry:Fde,EllipseCurve:AO,EqualDepth:Sfe,EqualStencilFunc:qTe,EquirectangularReflectionMapping:eS,EquirectangularRefractionMapping:MC,Euler:lc,EventDispatcher:cm,ExtrudeBufferGeometry:bLe,ExtrudeGeometry:tW,FileLoader:Bl,Float16BufferAttribute:H3e,Float32BufferAttribute:It,Float64BufferAttribute:V3e,FloatType:vp,Fog:_O,FogExp2:xO,FramebufferTexture:Cke,FrontSide:Gp,Frustum:mO,GLBufferAttribute:HIe,GLSL1:u3e,GLSL3:yG,GreaterDepth:Mfe,GreaterEqualDepth:Afe,GreaterEqualStencilFunc:t3e,GreaterStencilFunc:ZTe,GridHelper:qIe,Group:Pf,HalfFloatType:nS,HemisphereLight:che,HemisphereLightHelper:KIe,HemisphereLightProbe:xIe,IcosahedronBufferGeometry:wLe,IcosahedronGeometry:nW,ImageBitmapLoader:hhe,ImageLoader:OC,ImageUtils:Oj,ImmediateRenderObject:fLe,IncrementStencilOp:jTe,IncrementWrapStencilOp:$Te,InstancedBufferAttribute:g0,InstancedBufferGeometry:vW,InstancedInterleavedBuffer:GIe,InstancedMesh:Gj,Int16BufferAttribute:z3e,Int32BufferAttribute:G3e,Int8BufferAttribute:F3e,IntType:Lfe,InterleavedBuffer:o3,InterleavedBufferAttribute:sS,Interpolant:qS,InterpolateDiscrete:rS,InterpolateLinear:z1,InterpolateSmooth:HD,InvertStencilOp:JTe,KeepStencilOp:VD,KeyframeTrack:Zf,LOD:wde,LatheBufferGeometry:SLe,LatheGeometry:EO,Layers:c1,LessDepth:wfe,LessEqualDepth:eI,LessEqualStencilFunc:QTe,LessStencilFunc:KTe,Light:K0,LightProbe:DO,Line:th,Line3:WIe,LineBasicMaterial:Vo,LineCurve:MO,LineCurve3:Tde,LineDashedMaterial:rhe,LineLoop:Hj,LineSegments:Qf,LinearEncoding:m0,LinearFilter:jr,LinearInterpolant:dW,LinearMipMapLinearFilter:zTe,LinearMipMapNearestFilter:UTe,LinearMipmapLinearFilter:lm,LinearMipmapNearestFilter:uO,LinearSRGBColorSpace:Rg,LinearToneMapping:Rfe,Loader:ma,LoaderUtils:Cp,LoadingManager:pW,LoopOnce:Jfe,LoopPingPong:Kfe,LoopRepeat:Yfe,LuminanceAlphaFormat:Gfe,LuminanceFormat:zfe,MOUSE:ITe,Material:Ts,MaterialLoader:kO,MathUtils:ll,Matrix3:sa,Matrix4:Ht,MaxEquation:K6,Mesh:Oi,MeshBasicMaterial:dl,MeshDepthMaterial:vO,MeshDistanceMaterial:yO,MeshLambertMaterial:cW,MeshMatcapMaterial:nhe,MeshNormalMaterial:the,MeshPhongMaterial:fE,MeshPhysicalMaterial:Rc,MeshStandardMaterial:v0,MeshToonMaterial:ehe,MinEquation:Y6,MirroredRepeatWrapping:tS,MixOperation:Cfe,MultiplyBlending:J6,MultiplyOperation:t3,NearestFilter:ns,NearestMipMapLinearFilter:NTe,NearestMipMapNearestFilter:FTe,NearestMipmapLinearFilter:CC,NearestMipmapNearestFilter:EC,NeverDepth:_fe,NeverStencilFunc:YTe,NoBlending:Ep,NoColorSpace:GTe,NoToneMapping:If,NormalAnimationBlendMode:fO,NormalBlending:s1,NotEqualDepth:Efe,NotEqualStencilFunc:e3e,NumberKeyframeTrack:y0,Object3D:Rn,ObjectLoader:gIe,ObjectSpaceNormalMap:Zfe,OctahedronBufferGeometry:ALe,OctahedronGeometry:TO,OneFactor:dfe,OneMinusDstAlphaFactor:gfe,OneMinusDstColorFactor:yfe,OneMinusSrcAlphaFactor:Rj,OneMinusSrcColorFactor:pfe,OrthographicCamera:mx,PCFShadowMap:lO,PCFSoftShadowMap:aE,PMREMGenerator:bG,Path:DC,PerspectiveCamera:As,Plane:pg,PlaneBufferGeometry:MLe,PlaneGeometry:px,PlaneHelper:rLe,PointLight:FC,PointLightHelper:JIe,Points:Vj,PointsMaterial:SO,PolarGridHelper:QIe,PolyhedronBufferGeometry:ELe,PolyhedronGeometry:gx,PositionalAudio:MIe,PropertyBinding:Cn,PropertyMixer:mhe,QuadraticBezierCurve:Xj,QuadraticBezierCurve3:Jj,Quaternion:Si,QuaternionKeyframeTrack:Vp,QuaternionLinearInterpolant:ahe,REVISION:e3,RGBADepthPacking:Ij,RGBAFormat:al,RGBAIntegerFormat:$fe,RGBA_ASTC_10x10_Format:pG,RGBA_ASTC_10x5_Format:fG,RGBA_ASTC_10x6_Format:dG,RGBA_ASTC_10x8_Format:hG,RGBA_ASTC_12x10_Format:mG,RGBA_ASTC_12x12_Format:gG,RGBA_ASTC_4x4_Format:rG,RGBA_ASTC_5x4_Format:iG,RGBA_ASTC_5x5_Format:sG,RGBA_ASTC_6x5_Format:oG,RGBA_ASTC_6x6_Format:aG,RGBA_ASTC_8x5_Format:lG,RGBA_ASTC_8x6_Format:cG,RGBA_ASTC_8x8_Format:uG,RGBA_BPTC_Format:vG,RGBA_ETC2_EAC_Format:nG,RGBA_PVRTC_2BPPV1_Format:eG,RGBA_PVRTC_4BPPV1_Format:Z6,RGBA_S3TC_DXT1_Format:UD,RGBA_S3TC_DXT3_Format:zD,RGBA_S3TC_DXT5_Format:GD,RGBFormat:Ufe,RGB_ETC1_Format:Xfe,RGB_ETC2_Format:tG,RGB_PVRTC_2BPPV1_Format:Q6,RGB_PVRTC_4BPPV1_Format:q6,RGB_S3TC_DXT1_Format:ND,RGFormat:jfe,RGIntegerFormat:Wfe,RawShaderMaterial:Zde,Ray:r3,Raycaster:vhe,RectAreaLight:uhe,RedFormat:Hfe,RedIntegerFormat:Vfe,ReinhardToneMapping:Pfe,RepeatWrapping:eh,ReplaceStencilOp:VTe,ReverseSubtractEquation:ufe,RingBufferGeometry:CLe,RingGeometry:rW,SRGBColorSpace:Pd,Scene:iI,ShaderChunk:yn,ShaderLib:Mf,ShaderMaterial:Vf,ShadowMaterial:Qde,Shape:u1,ShapeBufferGeometry:TLe,ShapeGeometry:iW,ShapePath:oLe,ShapeUtils:jd,ShortType:Ife,Skeleton:wO,SkeletonHelper:XIe,SkinnedMesh:bO,Source:Fy,Sphere:fm,SphereBufferGeometry:RLe,SphereGeometry:RO,Spherical:yhe,SphericalHarmonics3:fhe,SplineCurve:Yj,SpotLight:PO,SpotLightHelper:$Ie,Sprite:bde,SpriteMaterial:zj,SrcAlphaFactor:Tj,SrcAlphaSaturateFactor:xfe,SrcColorFactor:hfe,StaticCopyUsage:a3e,StaticDrawUsage:RC,StaticReadUsage:i3e,StereoCamera:bIe,StreamCopyUsage:c3e,StreamDrawUsage:r3e,StreamReadUsage:o3e,StringKeyframeTrack:yx,SubtractEquation:cfe,SubtractiveBlending:X6,TOUCH:LTe,TangentSpaceNormalMap:Y0,TetrahedronBufferGeometry:PLe,TetrahedronGeometry:sW,Texture:Kr,TextureLoader:QS,TorusBufferGeometry:BLe,TorusGeometry:oW,TorusKnotBufferGeometry:DLe,TorusKnotGeometry:aW,Triangle:wu,TriangleFanDrawMode:tI,TriangleStripDrawMode:kj,TrianglesDrawMode:qfe,TubeBufferGeometry:kLe,TubeGeometry:lW,UVMapping:cO,Uint16BufferAttribute:hO,Uint32BufferAttribute:Fj,Uint8BufferAttribute:N3e,Uint8ClampedBufferAttribute:U3e,Uniform:wW,UniformsGroup:zIe,UniformsLib:Ct,UniformsUtils:pO,UnsignedByteType:Hp,UnsignedInt248Type:o1,UnsignedIntType:Tg,UnsignedShort4444Type:Ofe,UnsignedShort5551Type:Ffe,UnsignedShortType:Bj,VSMShadowMap:Iy,Vector2:rt,Vector3:ge,Vector4:wn,VectorKeyframeTrack:x0,VideoTexture:Ade,WebGL1Renderer:yde,WebGL3DRenderTarget:C3e,WebGLArrayRenderTarget:E3e,WebGLCubeRenderTarget:lde,WebGLMultipleRenderTargets:T3e,WebGLMultisampleRenderTarget:dLe,WebGLRenderTarget:zu,WebGLRenderer:Uj,WebGLUtils:mde,WireframeGeometry:qde,WrapAroundEnding:TC,ZeroCurvatureEnding:Ly,ZeroFactor:ffe,ZeroSlopeEnding:Oy,ZeroStencilOp:HTe,_SRGBAFormat:nI,sRGBEncoding:ni},Symbol.toStringTag,{value:"Module"}));var _he={exports:{}},xx={};/**
* @license React
* react-reconciler-constants.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/xx.ConcurrentRoot=1;xx.ContinuousEventPriority=4;xx.DefaultEventPriority=16;xx.DiscreteEventPriority=1;xx.IdleEventPriority=536870912;xx.LegacyRoot=0;_he.exports=xx;var zb=_he.exports;function LLe(n){let e;const t=new Set,r=(a,l)=>{const c=typeof a=="function"?a(e):a;if(c!==e){const u=e;e=l?c:Object.assign({},e,c),t.forEach(f=>f(e,u))}},i=()=>e,s=(a,l=i,c=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let u=l(e);function f(){const d=l(e);if(!c(u,d)){const p=u;a(u=d,p)}}return t.add(f),()=>t.delete(f)},o={setState:r,getState:i,subscribe:(a,l,c)=>l||c?s(a,l,c):(t.add(a),()=>t.delete(a)),destroy:()=>t.clear()};return e=n(r,i,o),o}const OLe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),xq=OLe?J.useEffect:J.useLayoutEffect;function bhe(n){const e=typeof n=="function"?LLe(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=J.useReducer(y=>y+1,0),o=e.getState(),a=J.useRef(o),l=J.useRef(r),c=J.useRef(i),u=J.useRef(!1),f=J.useRef();f.current===void 0&&(f.current=r(o));let d,p=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(d=r(o),p=!i(f.current,d)),xq(()=>{p&&(f.current=d),a.current=o,l.current=r,c.current=i,u.current=!1});const m=J.useRef(o);xq(()=>{const y=()=>{try{const _=e.getState(),b=l.current(_);c.current(f.current,b)||(a.current=_,f.current=b,s())}catch{u.current=!0,s()}},x=e.subscribe(y);return e.getState()!==m.current&&y(),x},[]);const g=p?d:f.current;return J.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var whe={exports:{}},_q={exports:{}},bq={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var wq;function FLe(){return wq||(wq=1,function(n){function e(L,I){var O=L.length;L.push(I);e:for(;0<O;){var F=O-1>>>1,j=L[F];if(0<i(j,I))L[F]=I,L[O]=j,O=F;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var I=L[0],O=L.pop();if(O!==I){L[0]=O;e:for(var F=0,j=L.length,te=j>>>1;F<te;){var re=2*(F+1)-1,se=L[re],K=re+1,le=L[K];if(0>i(se,O))K<j&&0>i(le,se)?(L[F]=le,L[K]=O,F=K):(L[F]=se,L[re]=O,F=re);else if(K<j&&0>i(le,O))L[F]=le,L[K]=O,F=K;else break e}}return I}function i(L,I){var O=L.sortIndex-I.sortIndex;return O!==0?O:L.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var I=t(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=L)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=t(c)}}function w(L){if(g=!1,b(L),!m)if(t(l)!==null)m=!0,X(M);else{var I=t(c);I!==null&&q(w,I.startTime-L)}}function M(L,I){m=!1,g&&(g=!1,x(E),E=-1),p=!0;var O=d;try{for(b(I),f=t(l);f!==null&&(!(f.expirationTime>I)||L&&!N());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var j=F(f.expirationTime<=I);I=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&r(l),b(I)}else r(l);f=t(l)}if(f!==null)var te=!0;else{var re=t(c);re!==null&&q(w,re.startTime-I),te=!1}return te}finally{f=null,d=O,p=!1}}var C=!1,R=null,E=-1,B=5,D=-1;function N(){return!(n.unstable_now()-D<B)}function z(){if(R!==null){var L=n.unstable_now();D=L;var I=!0;try{I=R(!0,L)}finally{I?H():(C=!1,R=null)}}else C=!1}var H;if(typeof _=="function")H=function(){_(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=z,H=function(){W.postMessage(null)}}else H=function(){y(z,0)};function X(L){R=L,C||(C=!0,H())}function q(L,I){E=y(function(){L(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,X(M))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var O=d;d=I;try{return L()}finally{d=O}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,I){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var O=d;d=L;try{return I()}finally{d=O}},n.unstable_scheduleCallback=function(L,I,O){var F=n.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?F+O:F):O=F,L){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=O+j,L={id:u++,callback:I,priorityLevel:L,startTime:O,expirationTime:j,sortIndex:-1},O>F?(L.sortIndex=O,e(c,L),t(l)===null&&L===t(c)&&(g?(x(E),E=-1):g=!0,q(w,O-F))):(L.sortIndex=j,e(l,L),m||p||(m=!0,X(M))),L},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(L){var I=d;return function(){var O=d;d=I;try{return L.apply(this,arguments)}finally{d=O}}}}(bq)),bq}var Sq;function NLe(){return Sq||(Sq=1,_q.exports=FLe()),_q.exports}/**
* @license React
* react-reconciler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ULe=function(n){var e={},t=J,r=NLe(),i=Object.assign;function s(S){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+S,v=1;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+S+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),w=Symbol.iterator;function M(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}function C(S){if(S==null)return null;if(typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case c:return"Fragment";case l:return"Portal";case f:return"Profiler";case u:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case p:return(S.displayName||"Context")+".Consumer";case d:return(S._context.displayName||"Context")+".Provider";case m:var h=S.render;return S=S.displayName,S||(S=h.displayName||h.name||"",S=S!==""?"ForwardRef("+S+")":"ForwardRef"),S;case x:return h=S.displayName||null,h!==null?h:C(S.type)||"Memo";case _:h=S._payload,S=S._init;try{return C(S(h))}catch{}}return null}function R(S){var h=S.type;switch(S.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return S=h.render,S=S.displayName||S.name||"",h.displayName||(S!==""?"ForwardRef("+S+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(h);case 8:return h===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function E(S){var h=S,v=S;if(S.alternate)for(;h.return;)h=h.return;else{S=h;do h=S,h.flags&4098&&(v=h.return),S=h.return;while(S)}return h.tag===3?v:null}function B(S){if(E(S)!==S)throw Error(s(188))}function D(S){var h=S.alternate;if(!h){if(h=E(S),h===null)throw Error(s(188));return h!==S?null:S}for(var v=S,A=h;;){var T=v.return;if(T===null)break;var P=T.alternate;if(P===null){if(A=T.return,A!==null){v=A;continue}break}if(T.child===P.child){for(P=T.child;P;){if(P===v)return B(T),S;if(P===A)return B(T),h;P=P.sibling}throw Error(s(188))}if(v.return!==A.return)v=T,A=P;else{for(var G=!1,Z=T.child;Z;){if(Z===v){G=!0,v=T,A=P;break}if(Z===A){G=!0,A=T,v=P;break}Z=Z.sibling}if(!G){for(Z=P.child;Z;){if(Z===v){G=!0,v=P,A=T;break}if(Z===A){G=!0,A=P,v=T;break}Z=Z.sibling}if(!G)throw Error(s(189))}}if(v.alternate!==A)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?S:h}function N(S){return S=D(S),S!==null?z(S):null}function z(S){if(S.tag===5||S.tag===6)return S;for(S=S.child;S!==null;){var h=z(S);if(h!==null)return h;S=S.sibling}return null}function H(S){if(S.tag===5||S.tag===6)return S;for(S=S.child;S!==null;){if(S.tag!==4){var h=H(S);if(h!==null)return h}S=S.sibling}return null}var U=Array.isArray,W=n.getPublicInstance,X=n.getRootHostContext,q=n.getChildHostContext,L=n.prepareForCommit,I=n.resetAfterCommit,O=n.createInstance,F=n.appendInitialChild,j=n.finalizeInitialChildren,te=n.prepareUpdate,re=n.shouldSetTextContent,se=n.createTextInstance,K=n.scheduleTimeout,le=n.cancelTimeout,he=n.noTimeout,we=n.isPrimaryRenderer,ve=n.supportsMutation,fe=n.supportsPersistence,ne=n.supportsHydration,oe=n.getInstanceFromNode,Te=n.preparePortalMount,be=n.getCurrentEventPriority,Ce=n.detachDeletedInstance,We=n.supportsMicrotasks,Se=n.scheduleMicrotask,ke=n.supportsTestSelectors,Ve=n.findFiberRoot,Ee=n.getBoundingRect,V=n.getTextContent,k=n.isHiddenSubtree,Q=n.matchAccessibilityRole,ce=n.setFocusIfFocusable,Me=n.setupIntersectionObserver,Re=n.appendChild,Ue=n.appendChildToContainer,Pe=n.commitTextUpdate,xe=n.commitMount,Xe=n.commitUpdate,Ge=n.insertBefore,je=n.insertInContainerBefore,He=n.removeChild,Oe=n.removeChildFromContainer,qe=n.resetTextContent,tt=n.hideInstance,pt=n.hideTextInstance,ee=n.unhideInstance,ye=n.unhideTextInstance,Ie=n.clearContainer,Je=n.cloneInstance,et=n.createContainerChildSet,mt=n.appendChildToContainerChildSet,Dt=n.finalizeContainerChildren,Nt=n.replaceContainerChildren,Ot=n.cloneHiddenInstance,Ft=n.cloneHiddenTextInstance,kt=n.canHydrateInstance,Tt=n.canHydrateTextInstance,Xn=n.canHydrateSuspenseInstance,Un=n.isSuspenseInstancePending,Ut=n.isSuspenseInstanceFallback,dn=n.registerSuspenseInstanceRetry,$=n.getNextHydratableSibling,ae=n.getFirstHydratableChild,_e=n.getFirstHydratableChildWithinContainer,ie=n.getFirstHydratableChildWithinSuspenseInstance,Ae=n.hydrateInstance,Qe=n.hydrateTextInstance,st=n.hydrateSuspenseInstance,gt=n.getNextHydratableInstanceAfterSuspenseInstance,ht=n.commitHydratedContainer,Pt=n.commitHydratedSuspenseInstance,xt=n.clearSuspenseBoundary,At=n.clearSuspenseBoundaryFromContainer,Qt=n.shouldDeleteUnhydratedTailInstances,tr=n.didNotMatchHydratedContainerTextInstance,kr=n.didNotMatchHydratedTextInstance,hr;function Ke(S){if(hr===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);hr=h&&h[1]||""}return`
`+hr+S}var _t=!1;function Ir(S,h){if(!S||_t)return"";_t=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Le){var A=Le}Reflect.construct(S,[],h)}else{try{h.call()}catch(Le){A=Le}S.call(h.prototype)}else{try{throw Error()}catch(Le){A=Le}S()}}catch(Le){if(Le&&A&&typeof Le.stack=="string"){for(var T=Le.stack.split(`
`),P=A.stack.split(`
`),G=T.length-1,Z=P.length-1;1<=G&&0<=Z&&T[G]!==P[Z];)Z--;for(;1<=G&&0<=Z;G--,Z--)if(T[G]!==P[Z]){if(G!==1||Z!==1)do if(G--,Z--,0>Z||T[G]!==P[Z]){var de=`
`+T[G].replace(" at new "," at ");return S.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",S.displayName)),de}while(1<=G&&0<=Z);break}}}finally{_t=!1,Error.prepareStackTrace=v}return(S=S?S.displayName||S.name:"")?Ke(S):""}var fn=Object.prototype.hasOwnProperty,pn=[],Wn=-1;function Gn(S){return{current:S}}function Yt(S){0>Wn||(S.current=pn[Wn],pn[Wn]=null,Wn--)}function lt(S,h){Wn++,pn[Wn]=S.current,S.current=h}var Jt={},hn=Gn(Jt),Vt=Gn(!1),An=Jt;function Qr(S,h){var v=S.type.contextTypes;if(!v)return Jt;var A=S.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===h)return A.__reactInternalMemoizedMaskedChildContext;var T={},P;for(P in v)T[P]=h[P];return A&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=h,S.__reactInternalMemoizedMaskedChildContext=T),T}function _n(S){return S=S.childContextTypes,S!=null}function pr(){Yt(Vt),Yt(hn)}function ji(S,h,v){if(hn.current!==Jt)throw Error(s(168));lt(hn,h),lt(Vt,v)}function Ll(S,h,v){var A=S.stateNode;if(h=h.childContextTypes,typeof A.getChildContext!="function")return v;A=A.getChildContext();for(var T in A)if(!(T in h))throw Error(s(108,R(S)||"Unknown",T));return i({},v,A)}function xa(S){return S=(S=S.stateNode)&&S.__reactInternalMemoizedMergedChildContext||Jt,An=hn.current,lt(hn,S),lt(Vt,Vt.current),!0}function _a(S,h,v){var A=S.stateNode;if(!A)throw Error(s(169));v?(S=Ll(S,h,An),A.__reactInternalMemoizedMergedChildContext=S,Yt(Vt),Yt(hn),lt(hn,S)):Yt(Vt),lt(Vt,v)}var zn=Math.clz32?Math.clz32:ba,wo=Math.log,Ol=Math.LN2;function ba(S){return S>>>=0,S===0?32:31-(wo(S)/Ol|0)|0}var Lc=64,Ps=4194304;function cs(S){switch(S&-S){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return S&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return S}}function Ks(S,h){var v=S.pendingLanes;if(v===0)return 0;var A=0,T=S.suspendedLanes,P=S.pingedLanes,G=v&268435455;if(G!==0){var Z=G&~T;Z!==0?A=cs(Z):(P&=G,P!==0&&(A=cs(P)))}else G=v&~T,G!==0?A=cs(G):P!==0&&(A=cs(P));if(A===0)return 0;if(h!==0&&h!==A&&!(h&T)&&(T=A&-A,P=h&-h,T>=P||T===16&&(P&4194240)!==0))return h;if(A&4&&(A|=v&16),h=S.entangledLanes,h!==0)for(S=S.entanglements,h&=A;0<h;)v=31-zn(h),T=1<<v,A|=S[v],h&=~T;return A}function Oc(S,h){switch(S){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dh(S,h){for(var v=S.suspendedLanes,A=S.pingedLanes,T=S.expirationTimes,P=S.pendingLanes;0<P;){var G=31-zn(P),Z=1<<G,de=T[G];de===-1?(!(Z&v)||Z&A)&&(T[G]=Oc(Z,h)):de<=h&&(S.expiredLanes|=Z),P&=~Z}}function Fl(S){return S=S.pendingLanes&-1073741825,S!==0?S:S&1073741824?1073741824:0}function Bs(S){for(var h=[],v=0;31>v;v++)h.push(S);return h}function wa(S,h,v){S.pendingLanes|=h,h!==536870912&&(S.suspendedLanes=0,S.pingedLanes=0),S=S.eventTimes,h=31-zn(h),S[h]=v}function So(S,h){var v=S.pendingLanes&~h;S.pendingLanes=h,S.suspendedLanes=0,S.pingedLanes=0,S.expiredLanes&=h,S.mutableReadLanes&=h,S.entangledLanes&=h,h=S.entanglements;var A=S.eventTimes;for(S=S.expirationTimes;0<v;){var T=31-zn(v),P=1<<T;h[T]=0,A[T]=-1,S[T]=-1,v&=~P}}function Ds(S,h){var v=S.entangledLanes|=h;for(S=S.entanglements;v;){var A=31-zn(v),T=1<<A;T&h|S[A]&h&&(S[A]|=h),v&=~T}}var tn=0;function ln(S){return S&=-S,1<S?4<S?S&268435455?16:536870912:4:1}var Fc=r.unstable_scheduleCallback,qs=r.unstable_cancelCallback,Nc=r.unstable_shouldYield,Ku=r.unstable_requestPaint,br=r.unstable_now,Kn=r.unstable_ImmediatePriority,Nl=r.unstable_UserBlockingPriority,qu=r.unstable_NormalPriority,nr=r.unstable_IdlePriority,qa=null,Wi=null;function Qs(S){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(qa,S,void 0,(S.current.flags&128)===128)}catch{}}function Qu(S,h){return S===h&&(S!==0||1/S===1/h)||S!==S&&h!==h}var Zs=typeof Object.is=="function"?Object.is:Qu,wr=null,Sr=!1,us=!1;function Zr(S){wr===null?wr=[S]:wr.push(S)}function od(S){Sr=!0,Zr(S)}function fs(){if(!us&&wr!==null){us=!0;var S=0,h=tn;try{var v=wr;for(tn=1;S<v.length;S++){var A=v[S];do A=A(!0);while(A!==null)}wr=null,Sr=!1}catch(T){throw wr!==null&&(wr=wr.slice(S+1)),Fc(Kn,fs),T}finally{tn=h,us=!1}}return null}var ds=o.ReactCurrentBatchConfig;function eo(S,h){if(Zs(S,h))return!0;if(typeof S!="object"||S===null||typeof h!="object"||h===null)return!1;var v=Object.keys(S),A=Object.keys(h);if(v.length!==A.length)return!1;for(A=0;A<v.length;A++){var T=v[A];if(!fn.call(h,T)||!Zs(S[T],h[T]))return!1}return!0}function Uc(S){switch(S.tag){case 5:return Ke(S.type);case 16:return Ke("Lazy");case 13:return Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 2:case 15:return S=Ir(S.type,!1),S;case 11:return S=Ir(S.type.render,!1),S;case 1:return S=Ir(S.type,!0),S;default:return""}}function Lr(S,h){if(S&&S.defaultProps){h=i({},h),S=S.defaultProps;for(var v in S)h[v]===void 0&&(h[v]=S[v]);return h}return h}var ei=Gn(null),Bn=null,Sa=null,hs=null;function Ao(){hs=Sa=Bn=null}function zc(S,h,v){we?(lt(ei,h._currentValue),h._currentValue=v):(lt(ei,h._currentValue2),h._currentValue2=v)}function ad(S){var h=ei.current;Yt(ei),we?S._currentValue=h:S._currentValue2=h}function Dn(S,h,v){for(;S!==null;){var A=S.alternate;if((S.childLanes&h)!==h?(S.childLanes|=h,A!==null&&(A.childLanes|=h)):A!==null&&(A.childLanes&h)!==h&&(A.childLanes|=h),S===v)break;S=S.return}}function $n(S,h){Bn=S,hs=Sa=null,S=S.dependencies,S!==null&&S.firstContext!==null&&(S.lanes&h&&(Aa=!0),S.firstContext=null)}function nn(S){var h=we?S._currentValue:S._currentValue2;if(hs!==S)if(S={context:S,memoizedValue:h,next:null},Sa===null){if(Bn===null)throw Error(s(308));Sa=S,Bn.dependencies={lanes:0,firstContext:S}}else Sa=Sa.next=S;return h}var mn=null,Or=!1;function Gc(S){S.updateQueue={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lx(S,h){S=S.updateQueue,h.updateQueue===S&&(h.updateQueue={baseState:S.baseState,firstBaseUpdate:S.firstBaseUpdate,lastBaseUpdate:S.lastBaseUpdate,shared:S.shared,effects:S.effects})}function Hc(S,h){return{eventTime:S,lane:h,tag:0,payload:null,callback:null,next:null}}function to(S,h){var v=S.updateQueue;v!==null&&(v=v.shared,Xt!==null&&S.mode&1&&!($t&2)?(S=v.interleaved,S===null?(h.next=h,mn===null?mn=[v]:mn.push(v)):(h.next=S.next,S.next=h),v.interleaved=h):(S=v.pending,S===null?h.next=h:(h.next=S.next,S.next=h),v.pending=h))}function Ul(S,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194240)!==0)){var A=h.lanes;A&=S.pendingLanes,v|=A,h.lanes=v,Ds(S,v)}}function fv(S,h){var v=S.updateQueue,A=S.alternate;if(A!==null&&(A=A.updateQueue,v===A)){var T=null,P=null;if(v=v.firstBaseUpdate,v!==null){do{var G={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};P===null?T=P=G:P=P.next=G,v=v.next}while(v!==null);P===null?T=P=h:P=P.next=h}else T=P=h;v={baseState:A.baseState,firstBaseUpdate:T,lastBaseUpdate:P,shared:A.shared,effects:A.effects},S.updateQueue=v;return}S=v.lastBaseUpdate,S===null?v.firstBaseUpdate=h:S.next=h,v.lastBaseUpdate=h}function dv(S,h,v,A){var T=S.updateQueue;Or=!1;var P=T.firstBaseUpdate,G=T.lastBaseUpdate,Z=T.shared.pending;if(Z!==null){T.shared.pending=null;var de=Z,Le=de.next;de.next=null,G===null?P=Le:G.next=Le,G=de;var Ye=S.alternate;Ye!==null&&(Ye=Ye.updateQueue,Z=Ye.lastBaseUpdate,Z!==G&&(Z===null?Ye.firstBaseUpdate=Le:Z.next=Le,Ye.lastBaseUpdate=de))}if(P!==null){var it=T.baseState;G=0,Ye=Le=de=null,Z=P;do{var at=Z.lane,bt=Z.eventTime;if((A&at)===at){Ye!==null&&(Ye=Ye.next={eventTime:bt,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var vt=S,Rt=Z;switch(at=h,bt=v,Rt.tag){case 1:if(vt=Rt.payload,typeof vt=="function"){it=vt.call(bt,it,at);break e}it=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Rt.payload,at=typeof vt=="function"?vt.call(bt,it,at):vt,at==null)break e;it=i({},it,at);break e;case 2:Or=!0}}Z.callback!==null&&Z.lane!==0&&(S.flags|=64,at=T.effects,at===null?T.effects=[Z]:at.push(Z))}else bt={eventTime:bt,lane:at,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ye===null?(Le=Ye=bt,de=it):Ye=Ye.next=bt,G|=at;if(Z=Z.next,Z===null){if(Z=T.shared.pending,Z===null)break;at=Z,Z=at.next,at.next=null,T.lastBaseUpdate=at,T.shared.pending=null}}while(!0);if(Ye===null&&(de=it),T.baseState=de,T.firstBaseUpdate=Le,T.lastBaseUpdate=Ye,h=T.shared.interleaved,h!==null){T=h;do G|=T.lane,T=T.next;while(T!==h)}else P===null&&(T.shared.lanes=0);Jc|=G,S.lanes=G,S.memoizedState=it}}function hv(S,h,v){if(S=h.effects,h.effects=null,S!==null)for(h=0;h<S.length;h++){var A=S[h],T=A.callback;if(T!==null){if(A.callback=null,A=v,typeof T!="function")throw Error(s(191,T));T.call(A)}}}var CA=new t.Component().refs;function Ox(S,h,v,A){h=S.memoizedState,v=v(A,h),v=v==null?h:i({},h,v),S.memoizedState=v,S.lanes===0&&(S.updateQueue.baseState=v)}var Sm={isMounted:function(S){return(S=S._reactInternals)?E(S)===S:!1},enqueueSetState:function(S,h,v){S=S._reactInternals;var A=xs(),T=ti(S),P=Hc(A,T);P.payload=h,v!=null&&(P.callback=v),to(S,P),h=$i(S,T,A),h!==null&&Ul(h,S,T)},enqueueReplaceState:function(S,h,v){S=S._reactInternals;var A=xs(),T=ti(S),P=Hc(A,T);P.tag=1,P.payload=h,v!=null&&(P.callback=v),to(S,P),h=$i(S,T,A),h!==null&&Ul(h,S,T)},enqueueForceUpdate:function(S,h){S=S._reactInternals;var v=xs(),A=ti(S),T=Hc(v,A);T.tag=2,h!=null&&(T.callback=h),to(S,T),h=$i(S,A,v),h!==null&&Ul(h,S,A)}};function pv(S,h,v,A,T,P,G){return S=S.stateNode,typeof S.shouldComponentUpdate=="function"?S.shouldComponentUpdate(A,P,G):h.prototype&&h.prototype.isPureReactComponent?!eo(v,A)||!eo(T,P):!0}function TA(S,h,v){var A=!1,T=Jt,P=h.contextType;return typeof P=="object"&&P!==null?P=nn(P):(T=_n(h)?An:hn.current,A=h.contextTypes,P=(A=A!=null)?Qr(S,T):Jt),h=new h(v,P),S.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Sm,S.stateNode=h,h._reactInternals=S,A&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=T,S.__reactInternalMemoizedMaskedChildContext=P),h}function RA(S,h,v,A){S=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,A),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,A),h.state!==S&&Sm.enqueueReplaceState(h,h.state,null)}function Fx(S,h,v,A){var T=S.stateNode;T.props=v,T.state=S.memoizedState,T.refs=CA,Gc(S);var P=h.contextType;typeof P=="object"&&P!==null?T.context=nn(P):(P=_n(h)?An:hn.current,T.context=Qr(S,P)),T.state=S.memoizedState,P=h.getDerivedStateFromProps,typeof P=="function"&&(Ox(S,h,P,v),T.state=S.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(h=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),h!==T.state&&Sm.enqueueReplaceState(T,T.state,null),dv(S,v,T,A),T.state=S.memoizedState),typeof T.componentDidMount=="function"&&(S.flags|=4194308)}var ld=[],zl=0,Zu=null,hh=0,Mo=[],Fr=0,ps=null,Eo=1,ks="";function Co(S,h){ld[zl++]=hh,ld[zl++]=Zu,Zu=S,hh=h}function cd(S,h,v){Mo[Fr++]=Eo,Mo[Fr++]=ks,Mo[Fr++]=ps,ps=S;var A=Eo;S=ks;var T=32-zn(A)-1;A&=~(1<<T),v+=1;var P=32-zn(h)+T;if(30<P){var G=T-T%5;P=(A&(1<<G)-1).toString(32),A>>=G,T-=G,Eo=1<<32-zn(h)+T|v<<T|A,ks=P+S}else Eo=1<<P|v<<T|A,ks=S}function Nx(S){S.return!==null&&(Co(S,1),cd(S,1,0))}function mv(S){for(;S===Zu;)Zu=ld[--zl],ld[zl]=null,hh=ld[--zl],ld[zl]=null;for(;S===ps;)ps=Mo[--Fr],Mo[Fr]=null,ks=Mo[--Fr],Mo[Fr]=null,Eo=Mo[--Fr],Mo[Fr]=null}var To=null,mr=null,Mn=!1,er=!1,Ro=null;function Qa(S,h){var v=el(5,null,null,0);v.elementType="DELETED",v.stateNode=h,v.return=S,h=S.deletions,h===null?(S.deletions=[v],S.flags|=16):h.push(v)}function PA(S,h){switch(S.tag){case 5:return h=kt(h,S.type,S.pendingProps),h!==null?(S.stateNode=h,To=S,mr=ae(h),!0):!1;case 6:return h=Tt(h,S.pendingProps),h!==null?(S.stateNode=h,To=S,mr=null,!0):!1;case 13:if(h=Xn(h),h!==null){var v=ps!==null?{id:Eo,overflow:ks}:null;return S.memoizedState={dehydrated:h,treeContext:v,retryLane:1073741824},v=el(18,null,null,0),v.stateNode=h,v.return=S,S.child=v,To=S,mr=null,!0}return!1;default:return!1}}function Ux(S){return(S.mode&1)!==0&&(S.flags&128)===0}function gv(S){if(Mn){var h=mr;if(h){var v=h;if(!PA(S,h)){if(Ux(S))throw Error(s(418));h=$(v);var A=To;h&&PA(S,h)?Qa(A,v):(S.flags=S.flags&-4097|2,Mn=!1,To=S)}}else{if(Ux(S))throw Error(s(418));S.flags=S.flags&-4097|2,Mn=!1,To=S}}}function zx(S){for(S=S.return;S!==null&&S.tag!==5&&S.tag!==3&&S.tag!==13;)S=S.return;To=S}function Am(S){if(!ne||S!==To)return!1;if(!Mn)return zx(S),Mn=!0,!1;if(S.tag!==3&&(S.tag!==5||Qt(S.type)&&!re(S.type,S.memoizedProps))){var h=mr;if(h){if(Ux(S)){for(S=mr;S;)S=$(S);throw Error(s(418))}for(;h;)Qa(S,h),h=$(h)}}if(zx(S),S.tag===13){if(!ne)throw Error(s(316));if(S=S.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(s(317));mr=gt(S)}else mr=To?$(S.stateNode):null;return!0}function Vc(){ne&&(mr=To=null,er=Mn=!1)}function ud(S){Ro===null?Ro=[S]:Ro.push(S)}function ph(S,h,v){if(S=v.ref,S!==null&&typeof S!="function"&&typeof S!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(s(309));var A=v.stateNode}if(!A)throw Error(s(147,S));var T=A,P=""+S;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===P?h.ref:(h=function(G){var Z=T.refs;Z===CA&&(Z=T.refs={}),G===null?delete Z[P]:Z[P]=G},h._stringRef=P,h)}if(typeof S!="string")throw Error(s(284));if(!v._owner)throw Error(s(290,S))}return S}function fd(S,h){throw S=Object.prototype.toString.call(h),Error(s(31,S==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":S))}function vv(S){var h=S._init;return h(S._payload)}function BA(S){function h($e,ue){if(S){var pe=$e.deletions;pe===null?($e.deletions=[ue],$e.flags|=16):pe.push(ue)}}function v($e,ue){if(!S)return null;for(;ue!==null;)h($e,ue),ue=ue.sibling;return null}function A($e,ue){for($e=new Map;ue!==null;)ue.key!==null?$e.set(ue.key,ue):$e.set(ue.index,ue),ue=ue.sibling;return $e}function T($e,ue){return $e=wd($e,ue),$e.index=0,$e.sibling=null,$e}function P($e,ue,pe){return $e.index=pe,S?(pe=$e.alternate,pe!==null?(pe=pe.index,pe<ue?($e.flags|=2,ue):pe):($e.flags|=2,ue)):($e.flags|=1048576,ue)}function G($e){return S&&$e.alternate===null&&($e.flags|=2),$e}function Z($e,ue,pe,ze){return ue===null||ue.tag!==6?(ue=Um(pe,$e.mode,ze),ue.return=$e,ue):(ue=T(ue,pe),ue.return=$e,ue)}function de($e,ue,pe,ze){var Ze=pe.type;return Ze===c?Ye($e,ue,pe.props.children,ze,pe.key):ue!==null&&(ue.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===_&&vv(Ze)===ue.type)?(ze=T(ue,pe.props),ze.ref=ph($e,ue,pe),ze.return=$e,ze):(ze=Jl(pe.type,pe.key,pe.props,null,$e.mode,ze),ze.ref=ph($e,ue,pe),ze.return=$e,ze)}function Le($e,ue,pe,ze){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==pe.containerInfo||ue.stateNode.implementation!==pe.implementation?(ue=Nv(pe,$e.mode,ze),ue.return=$e,ue):(ue=T(ue,pe.children||[]),ue.return=$e,ue)}function Ye($e,ue,pe,ze,Ze){return ue===null||ue.tag!==7?(ue=Kc(pe,$e.mode,ze,Ze),ue.return=$e,ue):(ue=T(ue,pe),ue.return=$e,ue)}function it($e,ue,pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=Um(""+ue,$e.mode,pe),ue.return=$e,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case a:return pe=Jl(ue.type,ue.key,ue.props,null,$e.mode,pe),pe.ref=ph($e,null,ue),pe.return=$e,pe;case l:return ue=Nv(ue,$e.mode,pe),ue.return=$e,ue;case _:var ze=ue._init;return it($e,ze(ue._payload),pe)}if(U(ue)||M(ue))return ue=Kc(ue,$e.mode,pe,null),ue.return=$e,ue;fd($e,ue)}return null}function at($e,ue,pe,ze){var Ze=ue!==null?ue.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Ze!==null?null:Z($e,ue,""+pe,ze);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case a:return pe.key===Ze?de($e,ue,pe,ze):null;case l:return pe.key===Ze?Le($e,ue,pe,ze):null;case _:return Ze=pe._init,at($e,ue,Ze(pe._payload),ze)}if(U(pe)||M(pe))return Ze!==null?null:Ye($e,ue,pe,ze,null);fd($e,pe)}return null}function bt($e,ue,pe,ze,Ze){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return $e=$e.get(pe)||null,Z(ue,$e,""+ze,Ze);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case a:return $e=$e.get(ze.key===null?pe:ze.key)||null,de(ue,$e,ze,Ze);case l:return $e=$e.get(ze.key===null?pe:ze.key)||null,Le(ue,$e,ze,Ze);case _:var ot=ze._init;return bt($e,ue,pe,ot(ze._payload),Ze)}if(U(ze)||M(ze))return $e=$e.get(pe)||null,Ye(ue,$e,ze,Ze,null);fd(ue,ze)}return null}function vt($e,ue,pe,ze){for(var Ze=null,ot=null,yt=ue,Et=ue=0,Zt=null;yt!==null&&Et<pe.length;Et++){yt.index>Et?(Zt=yt,yt=null):Zt=yt.sibling;var en=at($e,yt,pe[Et],ze);if(en===null){yt===null&&(yt=Zt);break}S&&yt&&en.alternate===null&&h($e,yt),ue=P(en,ue,Et),ot===null?Ze=en:ot.sibling=en,ot=en,yt=Zt}if(Et===pe.length)return v($e,yt),Mn&&Co($e,Et),Ze;if(yt===null){for(;Et<pe.length;Et++)yt=it($e,pe[Et],ze),yt!==null&&(ue=P(yt,ue,Et),ot===null?Ze=yt:ot.sibling=yt,ot=yt);return Mn&&Co($e,Et),Ze}for(yt=A($e,yt);Et<pe.length;Et++)Zt=bt(yt,$e,Et,pe[Et],ze),Zt!==null&&(S&&Zt.alternate!==null&&yt.delete(Zt.key===null?Et:Zt.key),ue=P(Zt,ue,Et),ot===null?Ze=Zt:ot.sibling=Zt,ot=Zt);return S&&yt.forEach(function(vn){return h($e,vn)}),Mn&&Co($e,Et),Ze}function Rt($e,ue,pe,ze){var Ze=M(pe);if(typeof Ze!="function")throw Error(s(150));if(pe=Ze.call(pe),pe==null)throw Error(s(151));for(var ot=Ze=null,yt=ue,Et=ue=0,Zt=null,en=pe.next();yt!==null&&!en.done;Et++,en=pe.next()){yt.index>Et?(Zt=yt,yt=null):Zt=yt.sibling;var vn=at($e,yt,en.value,ze);if(vn===null){yt===null&&(yt=Zt);break}S&&yt&&vn.alternate===null&&h($e,yt),ue=P(vn,ue,Et),ot===null?Ze=vn:ot.sibling=vn,ot=vn,yt=Zt}if(en.done)return v($e,yt),Mn&&Co($e,Et),Ze;if(yt===null){for(;!en.done;Et++,en=pe.next())en=it($e,en.value,ze),en!==null&&(ue=P(en,ue,Et),ot===null?Ze=en:ot.sibling=en,ot=en);return Mn&&Co($e,Et),Ze}for(yt=A($e,yt);!en.done;Et++,en=pe.next())en=bt(yt,$e,Et,en.value,ze),en!==null&&(S&&en.alternate!==null&&yt.delete(en.key===null?Et:en.key),ue=P(en,ue,Et),ot===null?Ze=en:ot.sibling=en,ot=en);return S&&yt.forEach(function(Sd){return h($e,Sd)}),Mn&&Co($e,Et),Ze}function sr($e,ue,pe,ze){if(typeof pe=="object"&&pe!==null&&pe.type===c&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case a:e:{for(var Ze=pe.key,ot=ue;ot!==null;){if(ot.key===Ze){if(Ze=pe.type,Ze===c){if(ot.tag===7){v($e,ot.sibling),ue=T(ot,pe.props.children),ue.return=$e,$e=ue;break e}}else if(ot.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===_&&vv(Ze)===ot.type){v($e,ot.sibling),ue=T(ot,pe.props),ue.ref=ph($e,ot,pe),ue.return=$e,$e=ue;break e}v($e,ot);break}else h($e,ot);ot=ot.sibling}pe.type===c?(ue=Kc(pe.props.children,$e.mode,ze,pe.key),ue.return=$e,$e=ue):(ze=Jl(pe.type,pe.key,pe.props,null,$e.mode,ze),ze.ref=ph($e,ue,pe),ze.return=$e,$e=ze)}return G($e);case l:e:{for(ot=pe.key;ue!==null;){if(ue.key===ot)if(ue.tag===4&&ue.stateNode.containerInfo===pe.containerInfo&&ue.stateNode.implementation===pe.implementation){v($e,ue.sibling),ue=T(ue,pe.children||[]),ue.return=$e,$e=ue;break e}else{v($e,ue);break}else h($e,ue);ue=ue.sibling}ue=Nv(pe,$e.mode,ze),ue.return=$e,$e=ue}return G($e);case _:return ot=pe._init,sr($e,ue,ot(pe._payload),ze)}if(U(pe))return vt($e,ue,pe,ze);if(M(pe))return Rt($e,ue,pe,ze);fd($e,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ue!==null&&ue.tag===6?(v($e,ue.sibling),ue=T(ue,pe),ue.return=$e,$e=ue):(v($e,ue),ue=Um(pe,$e.mode,ze),ue.return=$e,$e=ue),G($e)):v($e,ue)}return sr}var mh=BA(!0),gh=BA(!1),Mm={},no=Gn(Mm),ro=Gn(Mm),jc=Gn(Mm);function Po(S){if(S===Mm)throw Error(s(174));return S}function Za(S,h){lt(jc,h),lt(ro,S),lt(no,Mm),S=X(h),Yt(no),lt(no,S)}function dd(){Yt(no),Yt(ro),Yt(jc)}function vh(S){var h=Po(jc.current),v=Po(no.current);h=q(v,S.type,h),v!==h&&(lt(ro,S),lt(no,h))}function Gx(S){ro.current===S&&(Yt(no),Yt(ro))}var gr=Gn(0);function lr(S){for(var h=S;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Un(v)||Ut(v)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===S)break;for(;h.sibling===null;){if(h.return===null||h.return===S)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Em=[];function yv(){for(var S=0;S<Em.length;S++){var h=Em[S];we?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Em.length=0}var Cm=o.ReactCurrentDispatcher,Bo=o.ReactCurrentBatchConfig,Is=0,rr=null,bn=null,Hn=null,ui=!1,hd=!1,ef=0,xv=0;function io(){throw Error(s(321))}function ms(S,h){if(h===null)return!1;for(var v=0;v<h.length&&v<S.length;v++)if(!Zs(S[v],h[v]))return!1;return!0}function _v(S,h,v,A,T,P){if(Is=P,rr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Cm.current=S===null||S.memoizedState===null?Wx:f4,S=v(A,T),hd){P=0;do{if(hd=!1,ef=0,25<=P)throw Error(s(301));P+=1,Hn=bn=null,h.updateQueue=null,Cm.current=d4,S=v(A,T)}while(hd)}if(Cm.current=Av,h=bn!==null&&bn.next!==null,Is=0,Hn=bn=rr=null,ui=!1,h)throw Error(s(300));return S}function bv(){var S=ef!==0;return ef=0,S}function Gl(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?rr.memoizedState=Hn=S:Hn=Hn.next=S,Hn}function gs(){if(bn===null){var S=rr.alternate;S=S!==null?S.memoizedState:null}else S=bn.next;var h=Hn===null?rr.memoizedState:Hn.next;if(h!==null)Hn=h,bn=S;else{if(S===null)throw Error(s(310));bn=S,S={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Hn===null?rr.memoizedState=Hn=S:Hn=Hn.next=S}return Hn}function so(S,h){return typeof h=="function"?h(S):h}function Wc(S){var h=gs(),v=h.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=S;var A=bn,T=A.baseQueue,P=v.pending;if(P!==null){if(T!==null){var G=T.next;T.next=P.next,P.next=G}A.baseQueue=T=P,v.pending=null}if(T!==null){P=T.next,A=A.baseState;var Z=G=null,de=null,Le=P;do{var Ye=Le.lane;if((Is&Ye)===Ye)de!==null&&(de=de.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),A=Le.hasEagerState?Le.eagerState:S(A,Le.action);else{var it={lane:Ye,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};de===null?(Z=de=it,G=A):de=de.next=it,rr.lanes|=Ye,Jc|=Ye}Le=Le.next}while(Le!==null&&Le!==P);de===null?G=A:de.next=Z,Zs(A,h.memoizedState)||(Aa=!0),h.memoizedState=A,h.baseState=G,h.baseQueue=de,v.lastRenderedState=A}if(S=v.interleaved,S!==null){T=S;do P=T.lane,rr.lanes|=P,Jc|=P,T=T.next;while(T!==S)}else T===null&&(v.lanes=0);return[h.memoizedState,v.dispatch]}function yh(S){var h=gs(),v=h.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=S;var A=v.dispatch,T=v.pending,P=h.memoizedState;if(T!==null){v.pending=null;var G=T=T.next;do P=S(P,G.action),G=G.next;while(G!==T);Zs(P,h.memoizedState)||(Aa=!0),h.memoizedState=P,h.baseQueue===null&&(h.baseState=P),v.lastRenderedState=P}return[P,A]}function wv(){}function DA(S,h){var v=rr,A=gs(),T=h(),P=!Zs(A.memoizedState,T);if(P&&(A.memoizedState=T,Aa=!0),A=A.queue,bh(LA.bind(null,v,A,S),[S]),A.getSnapshot!==h||P||Hn!==null&&Hn.memoizedState.tag&1){if(v.flags|=2048,xh(9,IA.bind(null,v,A,T,h),void 0,null),Xt===null)throw Error(s(349));Is&30||kA(v,h,T)}return T}function kA(S,h,v){S.flags|=16384,S={getSnapshot:h,value:v},h=rr.updateQueue,h===null?(h={lastEffect:null,stores:null},rr.updateQueue=h,h.stores=[S]):(v=h.stores,v===null?h.stores=[S]:v.push(S))}function IA(S,h,v,A){h.value=v,h.getSnapshot=A,OA(h)&&$i(S,1,-1)}function LA(S,h,v){return v(function(){OA(h)&&$i(S,1,-1)})}function OA(S){var h=S.getSnapshot;S=S.value;try{var v=h();return!Zs(S,v)}catch{return!0}}function Hx(S){var h=Gl();return typeof S=="function"&&(S=S()),h.memoizedState=h.baseState=S,S={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:S},h.queue=S,S=S.dispatch=u4.bind(null,rr,S),[h.memoizedState,S]}function xh(S,h,v,A){return S={tag:S,create:h,destroy:v,deps:A,next:null},h=rr.updateQueue,h===null?(h={lastEffect:null,stores:null},rr.updateQueue=h,h.lastEffect=S.next=S):(v=h.lastEffect,v===null?h.lastEffect=S.next=S:(A=v.next,v.next=S,S.next=A,h.lastEffect=S)),S}function Tm(){return gs().memoizedState}function Sv(S,h,v,A){var T=Gl();rr.flags|=S,T.memoizedState=xh(1|h,v,void 0,A===void 0?null:A)}function _h(S,h,v,A){var T=gs();A=A===void 0?null:A;var P=void 0;if(bn!==null){var G=bn.memoizedState;if(P=G.destroy,A!==null&&ms(A,G.deps)){T.memoizedState=xh(h,v,P,A);return}}rr.flags|=S,T.memoizedState=xh(1|h,v,P,A)}function Rm(S,h){return Sv(8390656,8,S,h)}function bh(S,h){return _h(2048,8,S,h)}function Pm(S,h){return _h(4,2,S,h)}function FA(S,h){return _h(4,4,S,h)}function NA(S,h){if(typeof h=="function")return S=S(),h(S),function(){h(null)};if(h!=null)return S=S(),h.current=S,function(){h.current=null}}function UA(S,h,v){return v=v!=null?v.concat([S]):null,_h(4,4,NA.bind(null,h,S),v)}function Vx(){}function jx(S,h){var v=gs();h=h===void 0?null:h;var A=v.memoizedState;return A!==null&&h!==null&&ms(h,A[1])?A[0]:(v.memoizedState=[S,h],S)}function zA(S,h){var v=gs();h=h===void 0?null:h;var A=v.memoizedState;return A!==null&&h!==null&&ms(h,A[1])?A[0]:(S=S(),v.memoizedState=[S,h],S)}function fR(S,h){var v=tn;tn=v!==0&&4>v?v:4,S(!0);var A=Bo.transition;Bo.transition={};try{S(!1),h()}finally{tn=v,Bo.transition=A}}function dR(){return gs().memoizedState}function hR(S,h,v){var A=ti(S);v={lane:A,action:v,hasEagerState:!1,eagerState:null,next:null},pR(S)?GA(h,v):(HA(S,h,v),v=xs(),S=$i(S,A,v),S!==null&&VA(S,h,A))}function u4(S,h,v){var A=ti(S),T={lane:A,action:v,hasEagerState:!1,eagerState:null,next:null};if(pR(S))GA(h,T);else{HA(S,h,T);var P=S.alternate;if(S.lanes===0&&(P===null||P.lanes===0)&&(P=h.lastRenderedReducer,P!==null))try{var G=h.lastRenderedState,Z=P(G,v);if(T.hasEagerState=!0,T.eagerState=Z,Zs(Z,G))return}catch{}finally{}v=xs(),S=$i(S,A,v),S!==null&&VA(S,h,A)}}function pR(S){var h=S.alternate;return S===rr||h!==null&&h===rr}function GA(S,h){hd=ui=!0;var v=S.pending;v===null?h.next=h:(h.next=v.next,v.next=h),S.pending=h}function HA(S,h,v){Xt!==null&&S.mode&1&&!($t&2)?(S=h.interleaved,S===null?(v.next=v,mn===null?mn=[h]:mn.push(h)):(v.next=S.next,S.next=v),h.interleaved=v):(S=h.pending,S===null?v.next=v:(v.next=S.next,S.next=v),h.pending=v)}function VA(S,h,v){if(v&4194240){var A=h.lanes;A&=S.pendingLanes,v|=A,h.lanes=v,Ds(S,v)}}var Av={readContext:nn,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useInsertionEffect:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useSyncExternalStore:io,useId:io,unstable_isNewReconciler:!1},Wx={readContext:nn,useCallback:function(S,h){return Gl().memoizedState=[S,h===void 0?null:h],S},useContext:nn,useEffect:Rm,useImperativeHandle:function(S,h,v){return v=v!=null?v.concat([S]):null,Sv(4194308,4,NA.bind(null,h,S),v)},useLayoutEffect:function(S,h){return Sv(4194308,4,S,h)},useInsertionEffect:function(S,h){return Sv(4,2,S,h)},useMemo:function(S,h){var v=Gl();return h=h===void 0?null:h,S=S(),v.memoizedState=[S,h],S},useReducer:function(S,h,v){var A=Gl();return h=v!==void 0?v(h):h,A.memoizedState=A.baseState=h,S={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:S,lastRenderedState:h},A.queue=S,S=S.dispatch=hR.bind(null,rr,S),[A.memoizedState,S]},useRef:function(S){var h=Gl();return S={current:S},h.memoizedState=S},useState:Hx,useDebugValue:Vx,useDeferredValue:function(S){var h=Hx(S),v=h[0],A=h[1];return Rm(function(){var T=Bo.transition;Bo.transition={};try{A(S)}finally{Bo.transition=T}},[S]),v},useTransition:function(){var S=Hx(!1),h=S[0];return S=fR.bind(null,S[1]),Gl().memoizedState=S,[h,S]},useMutableSource:function(){},useSyncExternalStore:function(S,h,v){var A=rr,T=Gl();if(Mn){if(v===void 0)throw Error(s(407));v=v()}else{if(v=h(),Xt===null)throw Error(s(349));Is&30||kA(A,h,v)}T.memoizedState=v;var P={value:v,getSnapshot:h};return T.queue=P,Rm(LA.bind(null,A,P,S),[S]),A.flags|=2048,xh(9,IA.bind(null,A,P,v,h),void 0,null),v},useId:function(){var S=Gl(),h=Xt.identifierPrefix;if(Mn){var v=ks,A=Eo;v=(A&~(1<<32-zn(A)-1)).toString(32)+v,h=":"+h+"R"+v,v=ef++,0<v&&(h+="H"+v.toString(32)),h+=":"}else v=xv++,h=":"+h+"r"+v.toString(32)+":";return S.memoizedState=h},unstable_isNewReconciler:!1},f4={readContext:nn,useCallback:jx,useContext:nn,useEffect:bh,useImperativeHandle:UA,useInsertionEffect:Pm,useLayoutEffect:FA,useMemo:zA,useReducer:Wc,useRef:Tm,useState:function(){return Wc(so)},useDebugValue:Vx,useDeferredValue:function(S){var h=Wc(so),v=h[0],A=h[1];return bh(function(){var T=Bo.transition;Bo.transition={};try{A(S)}finally{Bo.transition=T}},[S]),v},useTransition:function(){var S=Wc(so)[0],h=gs().memoizedState;return[S,h]},useMutableSource:wv,useSyncExternalStore:DA,useId:dR,unstable_isNewReconciler:!1},d4={readContext:nn,useCallback:jx,useContext:nn,useEffect:bh,useImperativeHandle:UA,useInsertionEffect:Pm,useLayoutEffect:FA,useMemo:zA,useReducer:yh,useRef:Tm,useState:function(){return yh(so)},useDebugValue:Vx,useDeferredValue:function(S){var h=yh(so),v=h[0],A=h[1];return bh(function(){var T=Bo.transition;Bo.transition={};try{A(S)}finally{Bo.transition=T}},[S]),v},useTransition:function(){var S=yh(so)[0],h=gs().memoizedState;return[S,h]},useMutableSource:wv,useSyncExternalStore:DA,useId:dR,unstable_isNewReconciler:!1};function jA(S,h){try{var v="",A=h;do v+=Uc(A),A=A.return;while(A);var T=v}catch(P){T=`
Error generating stack: `+P.message+`
`+P.stack}return{value:S,source:h,stack:T}}function Mv(S,h){try{console.error(h.value)}catch(v){setTimeout(function(){throw v})}}var WA=typeof WeakMap=="function"?WeakMap:Map;function mR(S,h,v){v=Hc(-1,v),v.tag=3,v.payload={element:null};var A=h.value;return v.callback=function(){sf||(sf=!0,Om=A),Mv(S,h)},v}function $A(S,h,v){v=Hc(-1,v),v.tag=3;var A=S.type.getDerivedStateFromError;if(typeof A=="function"){var T=h.value;v.payload=function(){return A(T)},v.callback=function(){Mv(S,h)}}var P=S.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(v.callback=function(){Mv(S,h),typeof A!="function"&&(Yc===null?Yc=new Set([this]):Yc.add(this));var G=h.stack;this.componentDidCatch(h.value,{componentStack:G!==null?G:""})}),v}function XA(S,h,v){var A=S.pingCache;if(A===null){A=S.pingCache=new WA;var T=new Set;A.set(h,T)}else T=A.get(h),T===void 0&&(T=new Set,A.set(h,T));T.has(v)||(T.add(v),S=Wo.bind(null,S,h,v),h.then(S,S))}function JA(S){do{var h;if((h=S.tag===13)&&(h=S.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return S;S=S.return}while(S!==null);return null}function YA(S,h,v,A,T){return S.mode&1?(S.flags|=65536,S.lanes=T,S):(S===h?S.flags|=65536:(S.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(h=Hc(-1,1),h.tag=2,to(v,h))),v.lanes|=1),S)}function Hl(S){S.flags|=4}function Vl(S,h){if(S!==null&&S.child===h.child)return!0;if(h.flags&16)return!1;for(S=h.child;S!==null;){if(S.flags&12854||S.subtreeFlags&12854)return!1;S=S.sibling}return!0}var Bm,tf,pd,wh;if(ve)Bm=function(S,h){for(var v=h.child;v!==null;){if(v.tag===5||v.tag===6)F(S,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},tf=function(){},pd=function(S,h,v,A,T){if(S=S.memoizedProps,S!==A){var P=h.stateNode,G=Po(no.current);v=te(P,v,S,A,T,G),(h.updateQueue=v)&&Hl(h)}},wh=function(S,h,v,A){v!==A&&Hl(h)};else if(fe){Bm=function(S,h,v,A){for(var T=h.child;T!==null;){if(T.tag===5){var P=T.stateNode;v&&A&&(P=Ot(P,T.type,T.memoizedProps,T)),F(S,P)}else if(T.tag===6)P=T.stateNode,v&&A&&(P=Ft(P,T.memoizedProps,T)),F(S,P);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)P=T.child,P!==null&&(P.return=T),Bm(S,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var Ev=function(S,h,v,A){for(var T=h.child;T!==null;){if(T.tag===5){var P=T.stateNode;v&&A&&(P=Ot(P,T.type,T.memoizedProps,T)),mt(S,P)}else if(T.tag===6)P=T.stateNode,v&&A&&(P=Ft(P,T.memoizedProps,T)),mt(S,P);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)P=T.child,P!==null&&(P.return=T),Ev(S,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};tf=function(S,h){var v=h.stateNode;if(!Vl(S,h)){S=v.containerInfo;var A=et(S);Ev(A,h,!1,!1),v.pendingChildren=A,Hl(h),Dt(S,A)}},pd=function(S,h,v,A,T){var P=S.stateNode,G=S.memoizedProps;if((S=Vl(S,h))&&G===A)h.stateNode=P;else{var Z=h.stateNode,de=Po(no.current),Le=null;G!==A&&(Le=te(Z,v,G,A,T,de)),S&&Le===null?h.stateNode=P:(P=Je(P,Le,v,G,A,h,S,Z),j(P,v,A,T,de)&&Hl(h),h.stateNode=P,S?Hl(h):Bm(P,h,!1,!1))}},wh=function(S,h,v,A){v!==A?(S=Po(jc.current),v=Po(no.current),h.stateNode=se(A,S,v,h),Hl(h)):h.stateNode=S.stateNode}}else tf=function(){},pd=function(){},wh=function(){};function Dm(S,h){if(!Mn)switch(S.tailMode){case"hidden":h=S.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?S.tail=null:v.sibling=null;break;case"collapsed":v=S.tail;for(var A=null;v!==null;)v.alternate!==null&&(A=v),v=v.sibling;A===null?h||S.tail===null?S.tail=null:S.tail.sibling=null:A.sibling=null}}function Bi(S){var h=S.alternate!==null&&S.alternate.child===S.child,v=0,A=0;if(h)for(var T=S.child;T!==null;)v|=T.lanes|T.childLanes,A|=T.subtreeFlags&14680064,A|=T.flags&14680064,T.return=S,T=T.sibling;else for(T=S.child;T!==null;)v|=T.lanes|T.childLanes,A|=T.subtreeFlags,A|=T.flags,T.return=S,T=T.sibling;return S.subtreeFlags|=A,S.childLanes=v,h}function oo(S,h,v){var A=h.pendingProps;switch(mv(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bi(h),null;case 1:return _n(h.type)&&pr(),Bi(h),null;case 3:return A=h.stateNode,dd(),Yt(Vt),Yt(hn),yv(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(S===null||S.child===null)&&(Am(h)?Hl(h):S===null||S.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Ro!==null&&(Fv(Ro),Ro=null))),tf(S,h),Bi(h),null;case 5:Gx(h),v=Po(jc.current);var T=h.type;if(S!==null&&h.stateNode!=null)pd(S,h,T,A,v),S.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!A){if(h.stateNode===null)throw Error(s(166));return Bi(h),null}if(S=Po(no.current),Am(h)){if(!ne)throw Error(s(175));S=Ae(h.stateNode,h.type,h.memoizedProps,v,S,h,!er),h.updateQueue=S,S!==null&&Hl(h)}else{var P=O(T,A,v,S,h);Bm(P,h,!1,!1),h.stateNode=P,j(P,T,A,v,S)&&Hl(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Bi(h),null;case 6:if(S&&h.stateNode!=null)wh(S,h,S.memoizedProps,A);else{if(typeof A!="string"&&h.stateNode===null)throw Error(s(166));if(S=Po(jc.current),v=Po(no.current),Am(h)){if(!ne)throw Error(s(176));if(S=h.stateNode,A=h.memoizedProps,(v=Qe(S,A,h,!er))&&(T=To,T!==null))switch(P=(T.mode&1)!==0,T.tag){case 3:tr(T.stateNode.containerInfo,S,A,P);break;case 5:kr(T.type,T.memoizedProps,T.stateNode,S,A,P)}v&&Hl(h)}else h.stateNode=se(A,S,v,h)}return Bi(h),null;case 13:if(Yt(gr),A=h.memoizedState,Mn&&mr!==null&&h.mode&1&&!(h.flags&128)){for(S=mr;S;)S=$(S);return Vc(),h.flags|=98560,h}if(A!==null&&A.dehydrated!==null){if(A=Am(h),S===null){if(!A)throw Error(s(318));if(!ne)throw Error(s(344));if(S=h.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(s(317));st(S,h)}else Vc(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Bi(h),null}return Ro!==null&&(Fv(Ro),Ro=null),h.flags&128?(h.lanes=v,h):(A=A!==null,v=!1,S===null?Am(h):v=S.memoizedState!==null,A&&!v&&(h.child.flags|=8192,h.mode&1&&(S===null||gr.current&1?Ar===0&&(Ar=3):d_())),h.updateQueue!==null&&(h.flags|=4),Bi(h),null);case 4:return dd(),tf(S,h),S===null&&Te(h.stateNode.containerInfo),Bi(h),null;case 10:return ad(h.type._context),Bi(h),null;case 17:return _n(h.type)&&pr(),Bi(h),null;case 19:if(Yt(gr),T=h.memoizedState,T===null)return Bi(h),null;if(A=(h.flags&128)!==0,P=T.rendering,P===null)if(A)Dm(T,!1);else{if(Ar!==0||S!==null&&S.flags&128)for(S=h.child;S!==null;){if(P=lr(S),P!==null){for(h.flags|=128,Dm(T,!1),S=P.updateQueue,S!==null&&(h.updateQueue=S,h.flags|=4),h.subtreeFlags=0,S=v,A=h.child;A!==null;)v=A,T=S,v.flags&=14680066,P=v.alternate,P===null?(v.childLanes=0,v.lanes=T,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=P.childLanes,v.lanes=P.lanes,v.child=P.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=P.memoizedProps,v.memoizedState=P.memoizedState,v.updateQueue=P.updateQueue,v.type=P.type,T=P.dependencies,v.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),A=A.sibling;return lt(gr,gr.current&1|2),h.child}S=S.sibling}T.tail!==null&&br()>Ov&&(h.flags|=128,A=!0,Dm(T,!1),h.lanes=4194304)}else{if(!A)if(S=lr(P),S!==null){if(h.flags|=128,A=!0,S=S.updateQueue,S!==null&&(h.updateQueue=S,h.flags|=4),Dm(T,!0),T.tail===null&&T.tailMode==="hidden"&&!P.alternate&&!Mn)return Bi(h),null}else 2*br()-T.renderingStartTime>Ov&&v!==1073741824&&(h.flags|=128,A=!0,Dm(T,!1),h.lanes=4194304);T.isBackwards?(P.sibling=h.child,h.child=P):(S=T.last,S!==null?S.sibling=P:h.child=P,T.last=P)}return T.tail!==null?(h=T.tail,T.rendering=h,T.tail=h.sibling,T.renderingStartTime=br(),h.sibling=null,S=gr.current,lt(gr,A?S&1|2:S&1),h):(Bi(h),null);case 22:case 23:return f_(),A=h.memoizedState!==null,S!==null&&S.memoizedState!==null!==A&&(h.flags|=8192),A&&h.mode&1?Zn&1073741824&&(Bi(h),ve&&h.subtreeFlags&6&&(h.flags|=8192)):Bi(h),null;case 24:return null;case 25:return null}throw Error(s(156,h.tag))}var h4=o.ReactCurrentOwner,Aa=!1;function ir(S,h,v,A){h.child=S===null?gh(h,null,v,A):mh(h,S.child,v,A)}function ao(S,h,v,A,T){v=v.render;var P=h.ref;return $n(h,T),A=_v(S,h,v,A,P,T),v=bv(),S!==null&&!Aa?(h.updateQueue=S.updateQueue,h.flags&=-2053,S.lanes&=~T,$c(S,h,T)):(Mn&&v&&Nx(h),h.flags|=1,ir(S,h,A,T),h.child)}function KA(S,h,v,A,T){if(S===null){var P=v.type;return typeof P=="function"&&!$o(P)&&P.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(h.tag=15,h.type=P,qA(S,h,P,A,T)):(S=Jl(v.type,null,A,h,h.mode,T),S.ref=h.ref,S.return=h,h.child=S)}if(P=S.child,!(S.lanes&T)){var G=P.memoizedProps;if(v=v.compare,v=v!==null?v:eo,v(G,A)&&S.ref===h.ref)return $c(S,h,T)}return h.flags|=1,S=wd(P,A),S.ref=h.ref,S.return=h,h.child=S}function qA(S,h,v,A,T){if(S!==null&&eo(S.memoizedProps,A)&&S.ref===h.ref)if(Aa=!1,(S.lanes&T)!==0)S.flags&131072&&(Aa=!0);else return h.lanes=S.lanes,$c(S,h,T);return $x(S,h,v,A,T)}function QA(S,h,v){var A=h.pendingProps,T=A.children,P=S!==null?S.memoizedState:null;if(A.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},lt(vs,Zn),Zn|=v;else if(v&1073741824)h.memoizedState={baseLanes:0,cachePool:null},A=P!==null?P.baseLanes:v,lt(vs,Zn),Zn|=A;else return S=P!==null?P.baseLanes|v:v,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:S,cachePool:null},h.updateQueue=null,lt(vs,Zn),Zn|=S,null;else P!==null?(A=P.baseLanes|v,h.memoizedState=null):A=v,lt(vs,Zn),Zn|=A;return ir(S,h,T,v),h.child}function ZA(S,h){var v=h.ref;(S===null&&v!==null||S!==null&&S.ref!==v)&&(h.flags|=512,h.flags|=2097152)}function $x(S,h,v,A,T){var P=_n(v)?An:hn.current;return P=Qr(h,P),$n(h,T),v=_v(S,h,v,A,P,T),A=bv(),S!==null&&!Aa?(h.updateQueue=S.updateQueue,h.flags&=-2053,S.lanes&=~T,$c(S,h,T)):(Mn&&A&&Nx(h),h.flags|=1,ir(S,h,v,T),h.child)}function Xx(S,h,v,A,T){if(_n(v)){var P=!0;xa(h)}else P=!1;if($n(h,T),h.stateNode===null)S!==null&&(S.alternate=null,h.alternate=null,h.flags|=2),TA(h,v,A),Fx(h,v,A,T),A=!0;else if(S===null){var G=h.stateNode,Z=h.memoizedProps;G.props=Z;var de=G.context,Le=v.contextType;typeof Le=="object"&&Le!==null?Le=nn(Le):(Le=_n(v)?An:hn.current,Le=Qr(h,Le));var Ye=v.getDerivedStateFromProps,it=typeof Ye=="function"||typeof G.getSnapshotBeforeUpdate=="function";it||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Z!==A||de!==Le)&&RA(h,G,A,Le),Or=!1;var at=h.memoizedState;G.state=at,dv(h,A,G,T),de=h.memoizedState,Z!==A||at!==de||Vt.current||Or?(typeof Ye=="function"&&(Ox(h,v,Ye,A),de=h.memoizedState),(Z=Or||pv(h,v,Z,A,at,de,Le))?(it||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(h.flags|=4194308)):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=A,h.memoizedState=de),G.props=A,G.state=de,G.context=Le,A=Z):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),A=!1)}else{G=h.stateNode,Lx(S,h),Z=h.memoizedProps,Le=h.type===h.elementType?Z:Lr(h.type,Z),G.props=Le,it=h.pendingProps,at=G.context,de=v.contextType,typeof de=="object"&&de!==null?de=nn(de):(de=_n(v)?An:hn.current,de=Qr(h,de));var bt=v.getDerivedStateFromProps;(Ye=typeof bt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Z!==it||at!==de)&&RA(h,G,A,de),Or=!1,at=h.memoizedState,G.state=at,dv(h,A,G,T);var vt=h.memoizedState;Z!==it||at!==vt||Vt.current||Or?(typeof bt=="function"&&(Ox(h,v,bt,A),vt=h.memoizedState),(Le=Or||pv(h,v,Le,A,at,vt,de)||!1)?(Ye||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(A,vt,de),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(A,vt,de)),typeof G.componentDidUpdate=="function"&&(h.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof G.componentDidUpdate!="function"||Z===S.memoizedProps&&at===S.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Z===S.memoizedProps&&at===S.memoizedState||(h.flags|=1024),h.memoizedProps=A,h.memoizedState=vt),G.props=A,G.state=vt,G.context=de,A=Le):(typeof G.componentDidUpdate!="function"||Z===S.memoizedProps&&at===S.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Z===S.memoizedProps&&at===S.memoizedState||(h.flags|=1024),A=!1)}return Jx(S,h,v,A,P,T)}function Jx(S,h,v,A,T,P){ZA(S,h);var G=(h.flags&128)!==0;if(!A&&!G)return T&&_a(h,v,!1),$c(S,h,P);A=h.stateNode,h4.current=h;var Z=G&&typeof v.getDerivedStateFromError!="function"?null:A.render();return h.flags|=1,S!==null&&G?(h.child=mh(h,S.child,null,P),h.child=mh(h,null,Z,P)):ir(S,h,Z,P),h.memoizedState=A.state,T&&_a(h,v,!0),h.child}function Yx(S){var h=S.stateNode;h.pendingContext?ji(S,h.pendingContext,h.pendingContext!==h.context):h.context&&ji(S,h.context,!1),Za(S,h.containerInfo)}function eM(S,h,v,A,T){return Vc(),ud(T),h.flags|=256,ir(S,h,v,A),h.child}var Cv={dehydrated:null,treeContext:null,retryLane:0};function Sh(S){return{baseLanes:S,cachePool:null}}function Tv(S,h,v){var A=h.pendingProps,T=gr.current,P=!1,G=(h.flags&128)!==0,Z;if((Z=G)||(Z=S!==null&&S.memoizedState===null?!1:(T&2)!==0),Z?(P=!0,h.flags&=-129):(S===null||S.memoizedState!==null)&&(T|=1),lt(gr,T&1),S===null)return gv(h),S=h.memoizedState,S!==null&&(S=S.dehydrated,S!==null)?(h.mode&1?Ut(S)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(T=A.children,S=A.fallback,P?(A=h.mode,P=h.child,T={mode:"hidden",children:T},!(A&1)&&P!==null?(P.childLanes=0,P.pendingProps=T):P=qc(T,A,0,null),S=Kc(S,A,v,null),P.return=h,S.return=h,P.sibling=S,h.child=P,h.child.memoizedState=Sh(v),h.memoizedState=Cv,S):Kx(h,T));if(T=S.memoizedState,T!==null){if(Z=T.dehydrated,Z!==null){if(G)return h.flags&256?(h.flags&=-257,Rv(S,h,v,Error(s(422)))):h.memoizedState!==null?(h.child=S.child,h.flags|=128,null):(P=A.fallback,T=h.mode,A=qc({mode:"visible",children:A.children},T,0,null),P=Kc(P,T,v,null),P.flags|=2,A.return=h,P.return=h,A.sibling=P,h.child=A,h.mode&1&&mh(h,S.child,null,v),h.child.memoizedState=Sh(v),h.memoizedState=Cv,P);if(!(h.mode&1))h=Rv(S,h,v,null);else if(Ut(Z))h=Rv(S,h,v,Error(s(419)));else if(A=(v&S.childLanes)!==0,Aa||A){if(A=Xt,A!==null){switch(v&-v){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}A=P&(A.suspendedLanes|v)?0:P,A!==0&&A!==T.retryLane&&(T.retryLane=A,$i(S,A,-1))}d_(),h=Rv(S,h,v,Error(s(421)))}else Un(Z)?(h.flags|=128,h.child=S.child,h=_R.bind(null,S),dn(Z,h),h=null):(v=T.treeContext,ne&&(mr=ie(Z),To=h,Mn=!0,Ro=null,er=!1,v!==null&&(Mo[Fr++]=Eo,Mo[Fr++]=ks,Mo[Fr++]=ps,Eo=v.id,ks=v.overflow,ps=h)),h=Kx(h,h.pendingProps.children),h.flags|=4096);return h}return P?(A=tM(S,h,A.children,A.fallback,v),P=h.child,T=S.child.memoizedState,P.memoizedState=T===null?Sh(v):{baseLanes:T.baseLanes|v,cachePool:null},P.childLanes=S.childLanes&~v,h.memoizedState=Cv,A):(v=qx(S,h,A.children,v),h.memoizedState=null,v)}return P?(A=tM(S,h,A.children,A.fallback,v),P=h.child,T=S.child.memoizedState,P.memoizedState=T===null?Sh(v):{baseLanes:T.baseLanes|v,cachePool:null},P.childLanes=S.childLanes&~v,h.memoizedState=Cv,A):(v=qx(S,h,A.children,v),h.memoizedState=null,v)}function Kx(S,h){return h=qc({mode:"visible",children:h},S.mode,0,null),h.return=S,S.child=h}function qx(S,h,v,A){var T=S.child;return S=T.sibling,v=wd(T,{mode:"visible",children:v}),!(h.mode&1)&&(v.lanes=A),v.return=h,v.sibling=null,S!==null&&(A=h.deletions,A===null?(h.deletions=[S],h.flags|=16):A.push(S)),h.child=v}function tM(S,h,v,A,T){var P=h.mode;S=S.child;var G=S.sibling,Z={mode:"hidden",children:v};return!(P&1)&&h.child!==S?(v=h.child,v.childLanes=0,v.pendingProps=Z,h.deletions=null):(v=wd(S,Z),v.subtreeFlags=S.subtreeFlags&14680064),G!==null?A=wd(G,A):(A=Kc(A,P,T,null),A.flags|=2),A.return=h,v.return=h,v.sibling=A,h.child=v,A}function Rv(S,h,v,A){return A!==null&&ud(A),mh(h,S.child,null,v),S=Kx(h,h.pendingProps.children),S.flags|=2,h.memoizedState=null,S}function Pv(S,h,v){S.lanes|=h;var A=S.alternate;A!==null&&(A.lanes|=h),Dn(S.return,h,v)}function Qx(S,h,v,A,T){var P=S.memoizedState;P===null?S.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:A,tail:v,tailMode:T}:(P.isBackwards=h,P.rendering=null,P.renderingStartTime=0,P.last=A,P.tail=v,P.tailMode=T)}function Zx(S,h,v){var A=h.pendingProps,T=A.revealOrder,P=A.tail;if(ir(S,h,A.children,v),A=gr.current,A&2)A=A&1|2,h.flags|=128;else{if(S!==null&&S.flags&128)e:for(S=h.child;S!==null;){if(S.tag===13)S.memoizedState!==null&&Pv(S,v,h);else if(S.tag===19)Pv(S,v,h);else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===h)break e;for(;S.sibling===null;){if(S.return===null||S.return===h)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}A&=1}if(lt(gr,A),!(h.mode&1))h.memoizedState=null;else switch(T){case"forwards":for(v=h.child,T=null;v!==null;)S=v.alternate,S!==null&&lr(S)===null&&(T=v),v=v.sibling;v=T,v===null?(T=h.child,h.child=null):(T=v.sibling,v.sibling=null),Qx(h,!1,T,v,P);break;case"backwards":for(v=null,T=h.child,h.child=null;T!==null;){if(S=T.alternate,S!==null&&lr(S)===null){h.child=T;break}S=T.sibling,T.sibling=v,v=T,T=S}Qx(h,!0,v,null,P);break;case"together":Qx(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function $c(S,h,v){if(S!==null&&(h.dependencies=S.dependencies),Jc|=h.lanes,!(v&h.childLanes))return null;if(S!==null&&h.child!==S.child)throw Error(s(153));if(h.child!==null){for(S=h.child,v=wd(S,S.pendingProps),h.child=v,v.return=h;S.sibling!==null;)S=S.sibling,v=v.sibling=wd(S,S.pendingProps),v.return=h;v.sibling=null}return h.child}function nf(S,h,v){switch(h.tag){case 3:Yx(h),Vc();break;case 5:vh(h);break;case 1:_n(h.type)&&xa(h);break;case 4:Za(h,h.stateNode.containerInfo);break;case 10:zc(h,h.type._context,h.memoizedProps.value);break;case 13:var A=h.memoizedState;if(A!==null)return A.dehydrated!==null?(lt(gr,gr.current&1),h.flags|=128,null):v&h.child.childLanes?Tv(S,h,v):(lt(gr,gr.current&1),S=$c(S,h,v),S!==null?S.sibling:null);lt(gr,gr.current&1);break;case 19:if(A=(v&h.childLanes)!==0,S.flags&128){if(A)return Zx(S,h,v);h.flags|=128}var T=h.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),lt(gr,gr.current),A)break;return null;case 22:case 23:return h.lanes=0,QA(S,h,v)}return $c(S,h,v)}function p4(S,h){switch(mv(h),h.tag){case 1:return _n(h.type)&&pr(),S=h.flags,S&65536?(h.flags=S&-65537|128,h):null;case 3:return dd(),Yt(Vt),Yt(hn),yv(),S=h.flags,S&65536&&!(S&128)?(h.flags=S&-65537|128,h):null;case 5:return Gx(h),null;case 13:if(Yt(gr),S=h.memoizedState,S!==null&&S.dehydrated!==null){if(h.alternate===null)throw Error(s(340));Vc()}return S=h.flags,S&65536?(h.flags=S&-65537|128,h):null;case 19:return Yt(gr),null;case 4:return dd(),null;case 10:return ad(h.type._context),null;case 22:case 23:return f_(),null;case 24:return null;default:return null}}var e_=!1,Xc=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function wt(S,h){var v=S.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(A){Io(S,h,A)}else v.current=null}function Bv(S,h,v){try{v()}catch(A){Io(S,h,A)}}var t_=!1;function gR(S,h){for(L(S.containerInfo),Mt=h;Mt!==null;)if(S=Mt,h=S.child,(S.subtreeFlags&1028)!==0&&h!==null)h.return=S,Mt=h;else for(;Mt!==null;){S=Mt;try{var v=S.alternate;if(S.flags&1024)switch(S.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var A=v.memoizedProps,T=v.memoizedState,P=S.stateNode,G=P.getSnapshotBeforeUpdate(S.elementType===S.type?A:Lr(S.type,A),T);P.__reactInternalSnapshotBeforeUpdate=G}break;case 3:ve&&Ie(S.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Z){Io(S,S.return,Z)}if(h=S.sibling,h!==null){h.return=S.return,Mt=h;break}Mt=S.return}return v=t_,t_=!1,v}function Mh(S,h,v){var A=h.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var T=A=A.next;do{if((T.tag&S)===S){var P=T.destroy;T.destroy=void 0,P!==void 0&&Bv(h,v,P)}T=T.next}while(T!==A)}}function jl(S,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&S)===S){var A=v.create;v.destroy=A()}v=v.next}while(v!==h)}}function Eh(S){var h=S.ref;if(h!==null){var v=S.stateNode;switch(S.tag){case 5:S=W(v);break;default:S=v}typeof h=="function"?h(S):h.current=S}}function n_(S,h,v){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(qa,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(S=h.updateQueue,S!==null&&(S=S.lastEffect,S!==null)){var A=S=S.next;do{var T=A,P=T.destroy;T=T.tag,P!==void 0&&(T&2||T&4)&&Bv(h,v,P),A=A.next}while(A!==S)}break;case 1:if(wt(h,v),S=h.stateNode,typeof S.componentWillUnmount=="function")try{S.props=h.memoizedProps,S.state=h.memoizedState,S.componentWillUnmount()}catch(G){Io(h,v,G)}break;case 5:wt(h,v);break;case 4:ve?i_(S,h,v):fe&&fe&&(h=h.stateNode.containerInfo,v=et(h),Nt(h,v))}}function nM(S,h,v){for(var A=h;;)if(n_(S,A,v),A.child===null||ve&&A.tag===4){if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function rM(S){var h=S.alternate;h!==null&&(S.alternate=null,rM(h)),S.child=null,S.deletions=null,S.sibling=null,S.tag===5&&(h=S.stateNode,h!==null&&Ce(h)),S.stateNode=null,S.return=null,S.dependencies=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.stateNode=null,S.updateQueue=null}function iM(S){return S.tag===5||S.tag===3||S.tag===4}function sM(S){e:for(;;){for(;S.sibling===null;){if(S.return===null||iM(S.return))return null;S=S.return}for(S.sibling.return=S.return,S=S.sibling;S.tag!==5&&S.tag!==6&&S.tag!==18;){if(S.flags&2||S.child===null||S.tag===4)continue e;S.child.return=S,S=S.child}if(!(S.flags&2))return S.stateNode}}function oM(S){if(ve){e:{for(var h=S.return;h!==null;){if(iM(h))break e;h=h.return}throw Error(s(160))}var v=h;switch(v.tag){case 5:h=v.stateNode,v.flags&32&&(qe(h),v.flags&=-33),v=sM(S),Dv(S,v,h);break;case 3:case 4:h=v.stateNode.containerInfo,v=sM(S),r_(S,v,h);break;default:throw Error(s(161))}}}function r_(S,h,v){var A=S.tag;if(A===5||A===6)S=S.stateNode,h?je(v,S,h):Ue(v,S);else if(A!==4&&(S=S.child,S!==null))for(r_(S,h,v),S=S.sibling;S!==null;)r_(S,h,v),S=S.sibling}function Dv(S,h,v){var A=S.tag;if(A===5||A===6)S=S.stateNode,h?Ge(v,S,h):Re(v,S);else if(A!==4&&(S=S.child,S!==null))for(Dv(S,h,v),S=S.sibling;S!==null;)Dv(S,h,v),S=S.sibling}function i_(S,h,v){for(var A=h,T=!1,P,G;;){if(!T){T=A.return;e:for(;;){if(T===null)throw Error(s(160));switch(P=T.stateNode,T.tag){case 5:G=!1;break e;case 3:P=P.containerInfo,G=!0;break e;case 4:P=P.containerInfo,G=!0;break e}T=T.return}T=!0}if(A.tag===5||A.tag===6)nM(S,A,v),G?Oe(P,A.stateNode):He(P,A.stateNode);else if(A.tag===18)G?At(P,A.stateNode):xt(P,A.stateNode);else if(A.tag===4){if(A.child!==null){P=A.stateNode.containerInfo,G=!0,A.child.return=A,A=A.child;continue}}else if(n_(S,A,v),A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return,A.tag===4&&(T=!1)}A.sibling.return=A.return,A=A.sibling}}function s_(S,h){if(ve){switch(h.tag){case 0:case 11:case 14:case 15:Mh(3,h,h.return),jl(3,h),Mh(5,h,h.return);return;case 1:return;case 5:var v=h.stateNode;if(v!=null){var A=h.memoizedProps;S=S!==null?S.memoizedProps:A;var T=h.type,P=h.updateQueue;h.updateQueue=null,P!==null&&Xe(v,P,T,S,A,h)}return;case 6:if(h.stateNode===null)throw Error(s(162));v=h.memoizedProps,Pe(h.stateNode,S!==null?S.memoizedProps:v,v);return;case 3:ne&&S!==null&&S.memoizedState.isDehydrated&&ht(h.stateNode.containerInfo);return;case 12:return;case 13:km(h);return;case 19:km(h);return;case 17:return}throw Error(s(163))}switch(h.tag){case 0:case 11:case 14:case 15:Mh(3,h,h.return),jl(3,h),Mh(5,h,h.return);return;case 12:return;case 13:km(h);return;case 19:km(h);return;case 3:ne&&S!==null&&S.memoizedState.isDehydrated&&ht(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(fe){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,Nt(h.containerInfo,h.pendingChildren);break e}throw Error(s(163))}}function km(S){var h=S.updateQueue;if(h!==null){S.updateQueue=null;var v=S.stateNode;v===null&&(v=S.stateNode=new Ah),h.forEach(function(A){var T=v4.bind(null,S,A);v.has(A)||(v.add(A),A.then(T,T))})}}function o_(S,h){for(Mt=h;Mt!==null;){h=Mt;var v=h.deletions;if(v!==null)for(var A=0;A<v.length;A++){var T=v[A];try{var P=S;ve?i_(P,T,h):nM(P,T,h);var G=T.alternate;G!==null&&(G.return=null),T.return=null}catch(Ze){Io(T,h,Ze)}}if(v=h.child,h.subtreeFlags&12854&&v!==null)v.return=h,Mt=v;else for(;Mt!==null;){h=Mt;try{var Z=h.flags;if(Z&32&&ve&&qe(h.stateNode),Z&512){var de=h.alternate;if(de!==null){var Le=de.ref;Le!==null&&(typeof Le=="function"?Le(null):Le.current=null)}}if(Z&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var Ye=h.alternate;(Ye===null||Ye.memoizedState===null)&&(lo=br())}break;case 22:var it=h.memoizedState!==null,at=h.alternate,bt=at!==null&&at.memoizedState!==null;if(v=h,ve){e:if(A=v,T=it,P=null,ve)for(var vt=A;;){if(vt.tag===5){if(P===null){P=vt;var Rt=vt.stateNode;T?tt(Rt):ee(vt.stateNode,vt.memoizedProps)}}else if(vt.tag===6){if(P===null){var sr=vt.stateNode;T?pt(sr):ye(sr,vt.memoizedProps)}}else if((vt.tag!==22&&vt.tag!==23||vt.memoizedState===null||vt===A)&&vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===A)break;for(;vt.sibling===null;){if(vt.return===null||vt.return===A)break e;P===vt&&(P=null),vt=vt.return}P===vt&&(P=null),vt.sibling.return=vt.return,vt=vt.sibling}}if(it&&!bt&&v.mode&1){Mt=v;for(var $e=v.child;$e!==null;){for(v=Mt=$e;Mt!==null;){A=Mt;var ue=A.child;switch(A.tag){case 0:case 11:case 14:case 15:Mh(4,A,A.return);break;case 1:wt(A,A.return);var pe=A.stateNode;if(typeof pe.componentWillUnmount=="function"){var ze=A.return;try{pe.props=A.memoizedProps,pe.state=A.memoizedState,pe.componentWillUnmount()}catch(Ze){Io(A,ze,Ze)}}break;case 5:wt(A,A.return);break;case 22:if(A.memoizedState!==null){lM(v);continue}}ue!==null?(ue.return=A,Mt=ue):lM(v)}$e=$e.sibling}}}switch(Z&4102){case 2:oM(h),h.flags&=-3;break;case 6:oM(h),h.flags&=-3,s_(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,s_(h.alternate,h);break;case 4:s_(h.alternate,h)}}catch(Ze){Io(h,h.return,Ze)}if(v=h.sibling,v!==null){v.return=h.return,Mt=v;break}Mt=h.return}}}function m4(S,h,v){Mt=S,vR(S)}function vR(S,h,v){for(var A=(S.mode&1)!==0;Mt!==null;){var T=Mt,P=T.child;if(T.tag===22&&A){var G=T.memoizedState!==null||e_;if(!G){var Z=T.alternate,de=Z!==null&&Z.memoizedState!==null||Xc;Z=e_;var Le=Xc;if(e_=G,(Xc=de)&&!Le)for(Mt=T;Mt!==null;)G=Mt,de=G.child,G.tag===22&&G.memoizedState!==null?cM(T):de!==null?(de.return=G,Mt=de):cM(T);for(;P!==null;)Mt=P,vR(P),P=P.sibling;Mt=T,e_=Z,Xc=Le}aM(S)}else T.subtreeFlags&8772&&P!==null?(P.return=T,Mt=P):aM(S)}}function aM(S){for(;Mt!==null;){var h=Mt;if(h.flags&8772){var v=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Xc||jl(5,h);break;case 1:var A=h.stateNode;if(h.flags&4&&!Xc)if(v===null)A.componentDidMount();else{var T=h.elementType===h.type?v.memoizedProps:Lr(h.type,v.memoizedProps);A.componentDidUpdate(T,v.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var P=h.updateQueue;P!==null&&hv(h,P,A);break;case 3:var G=h.updateQueue;if(G!==null){if(v=null,h.child!==null)switch(h.child.tag){case 5:v=W(h.child.stateNode);break;case 1:v=h.child.stateNode}hv(h,G,v)}break;case 5:var Z=h.stateNode;v===null&&h.flags&4&&xe(Z,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(ne&&h.memoizedState===null){var de=h.alternate;if(de!==null){var Le=de.memoizedState;if(Le!==null){var Ye=Le.dehydrated;Ye!==null&&Pt(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}Xc||h.flags&512&&Eh(h)}catch(it){Io(h,h.return,it)}}if(h===S){Mt=null;break}if(v=h.sibling,v!==null){v.return=h.return,Mt=v;break}Mt=h.return}}function lM(S){for(;Mt!==null;){var h=Mt;if(h===S){Mt=null;break}var v=h.sibling;if(v!==null){v.return=h.return,Mt=v;break}Mt=h.return}}function cM(S){for(;Mt!==null;){var h=Mt;try{switch(h.tag){case 0:case 11:case 15:var v=h.return;try{jl(4,h)}catch(de){Io(h,v,de)}break;case 1:var A=h.stateNode;if(typeof A.componentDidMount=="function"){var T=h.return;try{A.componentDidMount()}catch(de){Io(h,T,de)}}var P=h.return;try{Eh(h)}catch(de){Io(h,P,de)}break;case 5:var G=h.return;try{Eh(h)}catch(de){Io(h,G,de)}}}catch(de){Io(h,h.return,de)}if(h===S){Mt=null;break}var Z=h.sibling;if(Z!==null){Z.return=h.return,Mt=Z;break}Mt=h.return}}var kv=0,Ch=1,Th=2,Rh=3,Ph=4;if(typeof Symbol=="function"&&Symbol.for){var md=Symbol.for;kv=md("selector.component"),Ch=md("selector.has_pseudo_class"),Th=md("selector.role"),Rh=md("selector.test_id"),Ph=md("selector.text")}function Bh(S){var h=oe(S);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(s(364));return h}if(S=Ve(S),S===null)throw Error(s(362));return S.stateNode.current}function Iv(S,h){switch(h.$$typeof){case kv:if(S.type===h.value)return!0;break;case Ch:e:{h=h.value,S=[S,0];for(var v=0;v<S.length;){var A=S[v++],T=S[v++],P=h[T];if(A.tag!==5||!k(A)){for(;P!=null&&Iv(A,P);)T++,P=h[T];if(T===h.length){h=!0;break e}else for(A=A.child;A!==null;)S.push(A,T),A=A.sibling}}h=!1}return h;case Th:if(S.tag===5&&Q(S.stateNode,h.value))return!0;break;case Ph:if((S.tag===5||S.tag===6)&&(S=V(S),S!==null&&0<=S.indexOf(h.value)))return!0;break;case Rh:if(S.tag===5&&(S=S.memoizedProps["data-testname"],typeof S=="string"&&S.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Lv(S){switch(S.$$typeof){case kv:return"<"+(C(S.value)||"Unknown")+">";case Ch:return":has("+(Lv(S)||"")+")";case Th:return'[role="'+S.value+'"]';case Ph:return'"'+S.value+'"';case Rh:return'[data-testname="'+S.value+'"]';default:throw Error(s(365))}}function a_(S,h){var v=[];S=[S,0];for(var A=0;A<S.length;){var T=S[A++],P=S[A++],G=h[P];if(T.tag!==5||!k(T)){for(;G!=null&&Iv(T,G);)P++,G=h[P];if(P===h.length)v.push(T);else for(T=T.child;T!==null;)S.push(T,P),T=T.sibling}}return v}function l_(S,h){if(!ke)throw Error(s(363));S=Bh(S),S=a_(S,h),h=[],S=Array.from(S);for(var v=0;v<S.length;){var A=S[v++];if(A.tag===5)k(A)||h.push(A.stateNode);else for(A=A.child;A!==null;)S.push(A),A=A.sibling}return h}var uM=Math.ceil,c_=o.ReactCurrentDispatcher,Im=o.ReactCurrentOwner,Nr=o.ReactCurrentBatchConfig,$t=0,Xt=null,gn=null,En=0,Zn=0,vs=Gn(0),Ar=0,Ur=null,Jc=0,rf=0,Lm=0,Dh=null,ys=null,lo=0,Ov=1/0;function gd(){Ov=br()+500}var sf=!1,Om=null,Yc=null,Wl=!1,$l=null,Xl=0,vd=0,kh=null,Fm=-1,Ih=0;function xs(){return $t&6?br():Fm!==-1?Fm:Fm=br()}function ti(S){return S.mode&1?$t&2&&En!==0?En&-En:ds.transition!==null?(Ih===0&&(S=Lc,Lc<<=1,!(Lc&4194240)&&(Lc=64),Ih=S),Ih):(S=tn,S!==0?S:be()):1}function $i(S,h,v){if(50<vd)throw vd=0,kh=null,Error(s(185));var A=Do(S,h);return A===null?null:(wa(A,h,v),(!($t&2)||A!==Xt)&&(A===Xt&&(!($t&2)&&(rf|=h),Ar===4&&yd(A,En)),Ls(A,v),h===1&&$t===0&&!(S.mode&1)&&(gd(),Sr&&fs())),A)}function Do(S,h){S.lanes|=h;var v=S.alternate;for(v!==null&&(v.lanes|=h),v=S,S=S.return;S!==null;)S.childLanes|=h,v=S.alternate,v!==null&&(v.childLanes|=h),v=S,S=S.return;return v.tag===3?v.stateNode:null}function Ls(S,h){var v=S.callbackNode;dh(S,h);var A=Ks(S,S===Xt?En:0);if(A===0)v!==null&&qs(v),S.callbackNode=null,S.callbackPriority=0;else if(h=A&-A,S.callbackPriority!==h){if(v!=null&&qs(v),h===1)S.tag===0?od(of.bind(null,S)):Zr(of.bind(null,S)),We?Se(function(){$t===0&&fs()}):Fc(Kn,fs),v=null;else{switch(ln(A)){case 1:v=Kn;break;case 4:v=Nl;break;case 16:v=qu;break;case 536870912:v=nr;break;default:v=qu}v=mM(v,ko.bind(null,S))}S.callbackPriority=h,S.callbackNode=v}}function ko(S,h){if(Fm=-1,Ih=0,$t&6)throw Error(s(327));var v=S.callbackNode;if(Oh()&&S.callbackNode!==v)return null;var A=Ks(S,S===Xt?En:0);if(A===0)return null;if(A&30||A&S.expiredLanes||h)h=Nm(S,A);else{h=A;var T=$t;$t|=2;var P=hM();(Xt!==S||En!==h)&&(gd(),af(S,h));do try{g4();break}catch(Z){xd(S,Z)}while(!0);Ao(),c_.current=P,$t=T,gn!==null?h=0:(Xt=null,En=0,h=Ar)}if(h!==0){if(h===2&&(T=Fl(S),T!==0&&(A=T,h=u_(S,T))),h===1)throw v=Ur,af(S,0),yd(S,A),Ls(S,br()),v;if(h===6)yd(S,A);else{if(T=S.current.alternate,!(A&30)&&!fM(T)&&(h=Nm(S,A),h===2&&(P=Fl(S),P!==0&&(A=P,h=u_(S,P))),h===1))throw v=Ur,af(S,0),yd(S,A),Ls(S,br()),v;switch(S.finishedWork=T,S.finishedLanes=A,h){case 0:case 1:throw Error(s(345));case 2:_d(S,ys);break;case 3:if(yd(S,A),(A&130023424)===A&&(h=lo+500-br(),10<h)){if(Ks(S,0)!==0)break;if(T=S.suspendedLanes,(T&A)!==A){xs(),S.pingedLanes|=S.suspendedLanes&T;break}S.timeoutHandle=K(_d.bind(null,S,ys),h);break}_d(S,ys);break;case 4:if(yd(S,A),(A&4194240)===A)break;for(h=S.eventTimes,T=-1;0<A;){var G=31-zn(A);P=1<<G,G=h[G],G>T&&(T=G),A&=~P}if(A=T,A=br()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*uM(A/1960))-A,10<A){S.timeoutHandle=K(_d.bind(null,S,ys),A);break}_d(S,ys);break;case 5:_d(S,ys);break;default:throw Error(s(329))}}}return Ls(S,br()),S.callbackNode===v?ko.bind(null,S):null}function u_(S,h){var v=Dh;return S.current.memoizedState.isDehydrated&&(af(S,h).flags|=256),S=Nm(S,h),S!==2&&(h=ys,ys=v,h!==null&&Fv(h)),S}function Fv(S){ys===null?ys=S:ys.push.apply(ys,S)}function fM(S){for(var h=S;;){if(h.flags&16384){var v=h.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var A=0;A<v.length;A++){var T=v[A],P=T.getSnapshot;T=T.value;try{if(!Zs(P(),T))return!1}catch{return!1}}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===S)break;for(;h.sibling===null;){if(h.return===null||h.return===S)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function yd(S,h){for(h&=~Lm,h&=~rf,S.suspendedLanes|=h,S.pingedLanes&=~h,S=S.expirationTimes;0<h;){var v=31-zn(h),A=1<<v;S[v]=-1,h&=~A}}function of(S){if($t&6)throw Error(s(327));Oh();var h=Ks(S,0);if(!(h&1))return Ls(S,br()),null;var v=Nm(S,h);if(S.tag!==0&&v===2){var A=Fl(S);A!==0&&(h=A,v=u_(S,A))}if(v===1)throw v=Ur,af(S,0),yd(S,h),Ls(S,br()),v;if(v===6)throw Error(s(345));return S.finishedWork=S.current.alternate,S.finishedLanes=h,_d(S,ys),Ls(S,br()),null}function dM(S){$l!==null&&$l.tag===0&&!($t&6)&&Oh();var h=$t;$t|=1;var v=Nr.transition,A=tn;try{if(Nr.transition=null,tn=1,S)return S()}finally{tn=A,Nr.transition=v,$t=h,!($t&6)&&fs()}}function f_(){Zn=vs.current,Yt(vs)}function af(S,h){S.finishedWork=null,S.finishedLanes=0;var v=S.timeoutHandle;if(v!==he&&(S.timeoutHandle=he,le(v)),gn!==null)for(v=gn.return;v!==null;){var A=v;switch(mv(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&pr();break;case 3:dd(),Yt(Vt),Yt(hn),yv();break;case 5:Gx(A);break;case 4:dd();break;case 13:Yt(gr);break;case 19:Yt(gr);break;case 10:ad(A.type._context);break;case 22:case 23:f_()}v=v.return}if(Xt=S,gn=S=wd(S.current,null),En=Zn=h,Ar=0,Ur=null,Lm=rf=Jc=0,ys=Dh=null,mn!==null){for(h=0;h<mn.length;h++)if(v=mn[h],A=v.interleaved,A!==null){v.interleaved=null;var T=A.next,P=v.pending;if(P!==null){var G=P.next;P.next=T,A.next=G}v.pending=A}mn=null}return S}function xd(S,h){do{var v=gn;try{if(Ao(),Cm.current=Av,ui){for(var A=rr.memoizedState;A!==null;){var T=A.queue;T!==null&&(T.pending=null),A=A.next}ui=!1}if(Is=0,Hn=bn=rr=null,hd=!1,ef=0,Im.current=null,v===null||v.return===null){Ar=1,Ur=h,gn=null;break}e:{var P=S,G=v.return,Z=v,de=h;if(h=En,Z.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Le=de,Ye=Z,it=Ye.tag;if(!(Ye.mode&1)&&(it===0||it===11||it===15)){var at=Ye.alternate;at?(Ye.updateQueue=at.updateQueue,Ye.memoizedState=at.memoizedState,Ye.lanes=at.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var bt=JA(G);if(bt!==null){bt.flags&=-257,YA(bt,G,Z,P,h),bt.mode&1&&XA(P,Le,h),h=bt,de=Le;var vt=h.updateQueue;if(vt===null){var Rt=new Set;Rt.add(de),h.updateQueue=Rt}else vt.add(de);break e}else{if(!(h&1)){XA(P,Le,h),d_();break e}de=Error(s(426))}}else if(Mn&&Z.mode&1){var sr=JA(G);if(sr!==null){!(sr.flags&65536)&&(sr.flags|=256),YA(sr,G,Z,P,h),ud(de);break e}}P=de,Ar!==4&&(Ar=2),Dh===null?Dh=[P]:Dh.push(P),de=jA(de,Z),Z=G;do{switch(Z.tag){case 3:Z.flags|=65536,h&=-h,Z.lanes|=h;var $e=mR(Z,de,h);fv(Z,$e);break e;case 1:P=de;var ue=Z.type,pe=Z.stateNode;if(!(Z.flags&128)&&(typeof ue.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(Yc===null||!Yc.has(pe)))){Z.flags|=65536,h&=-h,Z.lanes|=h;var ze=$A(Z,P,h);fv(Z,ze);break e}}Z=Z.return}while(Z!==null)}pM(v)}catch(Ze){h=Ze,gn===v&&v!==null&&(gn=v=v.return);continue}break}while(!0)}function hM(){var S=c_.current;return c_.current=Av,S===null?Av:S}function d_(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Xt===null||!(Jc&268435455)&&!(rf&268435455)||yd(Xt,En)}function Nm(S,h){var v=$t;$t|=2;var A=hM();Xt===S&&En===h||af(S,h);do try{h_();break}catch(T){xd(S,T)}while(!0);if(Ao(),$t=v,c_.current=A,gn!==null)throw Error(s(261));return Xt=null,En=0,Ar}function h_(){for(;gn!==null;)yR(gn)}function g4(){for(;gn!==null&&!Nc();)yR(gn)}function yR(S){var h=bR(S.alternate,S,Zn);S.memoizedProps=S.pendingProps,h===null?pM(S):gn=h,Im.current=null}function pM(S){var h=S;do{var v=h.alternate;if(S=h.return,h.flags&32768){if(v=p4(v,h),v!==null){v.flags&=32767,gn=v;return}if(S!==null)S.flags|=32768,S.subtreeFlags=0,S.deletions=null;else{Ar=6,gn=null;return}}else if(v=oo(v,h,Zn),v!==null){gn=v;return}if(h=h.sibling,h!==null){gn=h;return}gn=h=S}while(h!==null);Ar===0&&(Ar=5)}function _d(S,h){var v=tn,A=Nr.transition;try{Nr.transition=null,tn=1,Lh(S,h,v)}finally{Nr.transition=A,tn=v}return null}function Lh(S,h,v){do Oh();while($l!==null);if($t&6)throw Error(s(327));var A=S.finishedWork,T=S.finishedLanes;if(A===null)return null;if(S.finishedWork=null,S.finishedLanes=0,A===S.current)throw Error(s(177));S.callbackNode=null,S.callbackPriority=0;var P=A.lanes|A.childLanes;if(So(S,P),S===Xt&&(gn=Xt=null,En=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||Wl||(Wl=!0,mM(qu,function(){return Oh(),null})),P=(A.flags&15990)!==0,A.subtreeFlags&15990||P){P=Nr.transition,Nr.transition=null;var G=tn;tn=1;var Z=$t;$t|=4,Im.current=null,gR(S,A),o_(S,A),I(S.containerInfo),S.current=A,m4(A),Ku(),$t=Z,tn=G,Nr.transition=P}else S.current=A;if(Wl&&(Wl=!1,$l=S,Xl=T),P=S.pendingLanes,P===0&&(Yc=null),Qs(A.stateNode),Ls(S,br()),h!==null)for(v=S.onRecoverableError,A=0;A<h.length;A++)v(h[A]);if(sf)throw sf=!1,S=Om,Om=null,S;return Xl&1&&S.tag!==0&&Oh(),P=S.pendingLanes,P&1?S===kh?vd++:(vd=0,kh=S):vd=0,fs(),null}function Oh(){if($l!==null){var S=ln(Xl),h=Nr.transition,v=tn;try{if(Nr.transition=null,tn=16>S?16:S,$l===null)var A=!1;else{if(S=$l,$l=null,Xl=0,$t&6)throw Error(s(331));var T=$t;for($t|=4,Mt=S.current;Mt!==null;){var P=Mt,G=P.child;if(Mt.flags&16){var Z=P.deletions;if(Z!==null){for(var de=0;de<Z.length;de++){var Le=Z[de];for(Mt=Le;Mt!==null;){var Ye=Mt;switch(Ye.tag){case 0:case 11:case 15:Mh(8,Ye,P)}var it=Ye.child;if(it!==null)it.return=Ye,Mt=it;else for(;Mt!==null;){Ye=Mt;var at=Ye.sibling,bt=Ye.return;if(rM(Ye),Ye===Le){Mt=null;break}if(at!==null){at.return=bt,Mt=at;break}Mt=bt}}}var vt=P.alternate;if(vt!==null){var Rt=vt.child;if(Rt!==null){vt.child=null;do{var sr=Rt.sibling;Rt.sibling=null,Rt=sr}while(Rt!==null)}}Mt=P}}if(P.subtreeFlags&2064&&G!==null)G.return=P,Mt=G;else e:for(;Mt!==null;){if(P=Mt,P.flags&2048)switch(P.tag){case 0:case 11:case 15:Mh(9,P,P.return)}var $e=P.sibling;if($e!==null){$e.return=P.return,Mt=$e;break e}Mt=P.return}}var ue=S.current;for(Mt=ue;Mt!==null;){G=Mt;var pe=G.child;if(G.subtreeFlags&2064&&pe!==null)pe.return=G,Mt=pe;else e:for(G=ue;Mt!==null;){if(Z=Mt,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:jl(9,Z)}}catch(Ze){Io(Z,Z.return,Ze)}if(Z===G){Mt=null;break e}var ze=Z.sibling;if(ze!==null){ze.return=Z.return,Mt=ze;break e}Mt=Z.return}}if($t=T,fs(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(qa,S)}catch{}A=!0}return A}finally{tn=v,Nr.transition=h}}return!1}function bd(S,h,v){h=jA(v,h),h=mR(S,h,1),to(S,h),h=xs(),S=Do(S,1),S!==null&&(wa(S,1,h),Ls(S,h))}function Io(S,h,v){if(S.tag===3)bd(S,S,v);else for(;h!==null;){if(h.tag===3){bd(h,S,v);break}else if(h.tag===1){var A=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Yc===null||!Yc.has(A))){S=jA(v,S),S=$A(h,S,1),to(h,S),S=xs(),h=Do(h,1),h!==null&&(wa(h,1,S),Ls(h,S));break}}h=h.return}}function Wo(S,h,v){var A=S.pingCache;A!==null&&A.delete(h),h=xs(),S.pingedLanes|=S.suspendedLanes&v,Xt===S&&(En&v)===v&&(Ar===4||Ar===3&&(En&130023424)===En&&500>br()-lo?af(S,0):Lm|=v),Ls(S,h)}function xR(S,h){h===0&&(S.mode&1?(h=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):h=1);var v=xs();S=Do(S,h),S!==null&&(wa(S,h,v),Ls(S,v))}function _R(S){var h=S.memoizedState,v=0;h!==null&&(v=h.retryLane),xR(S,v)}function v4(S,h){var v=0;switch(S.tag){case 13:var A=S.stateNode,T=S.memoizedState;T!==null&&(v=T.retryLane);break;case 19:A=S.stateNode;break;default:throw Error(s(314))}A!==null&&A.delete(h),xR(S,v)}var bR;bR=function(S,h,v){if(S!==null)if(S.memoizedProps!==h.pendingProps||Vt.current)Aa=!0;else{if(!(S.lanes&v)&&!(h.flags&128))return Aa=!1,nf(S,h,v);Aa=!!(S.flags&131072)}else Aa=!1,Mn&&h.flags&1048576&&cd(h,hh,h.index);switch(h.lanes=0,h.tag){case 2:var A=h.type;S!==null&&(S.alternate=null,h.alternate=null,h.flags|=2),S=h.pendingProps;var T=Qr(h,hn.current);$n(h,v),T=_v(null,h,A,S,T,v);var P=bv();return h.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,_n(A)?(P=!0,xa(h)):P=!1,h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Gc(h),T.updater=Sm,h.stateNode=T,T._reactInternals=h,Fx(h,A,S,v),h=Jx(null,h,A,!0,P,v)):(h.tag=0,Mn&&P&&Nx(h),ir(null,h,T,v),h=h.child),h;case 16:A=h.elementType;e:{switch(S!==null&&(S.alternate=null,h.alternate=null,h.flags|=2),S=h.pendingProps,T=A._init,A=T(A._payload),h.type=A,T=h.tag=gM(A),S=Lr(A,S),T){case 0:h=$x(null,h,A,S,v);break e;case 1:h=Xx(null,h,A,S,v);break e;case 11:h=ao(null,h,A,S,v);break e;case 14:h=KA(null,h,A,Lr(A.type,S),v);break e}throw Error(s(306,A,""))}return h;case 0:return A=h.type,T=h.pendingProps,T=h.elementType===A?T:Lr(A,T),$x(S,h,A,T,v);case 1:return A=h.type,T=h.pendingProps,T=h.elementType===A?T:Lr(A,T),Xx(S,h,A,T,v);case 3:e:{if(Yx(h),S===null)throw Error(s(387));A=h.pendingProps,P=h.memoizedState,T=P.element,Lx(S,h),dv(h,A,null,v);var G=h.memoizedState;if(A=G.element,ne&&P.isDehydrated)if(P={element:A,isDehydrated:!1,cache:G.cache,transitions:G.transitions},h.updateQueue.baseState=P,h.memoizedState=P,h.flags&256){T=Error(s(423)),h=eM(S,h,A,v,T);break e}else if(A!==T){T=Error(s(424)),h=eM(S,h,A,v,T);break e}else for(ne&&(mr=_e(h.stateNode.containerInfo),To=h,Mn=!0,Ro=null,er=!1),v=gh(h,null,A,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Vc(),A===T){h=$c(S,h,v);break e}ir(S,h,A,v)}h=h.child}return h;case 5:return vh(h),S===null&&gv(h),A=h.type,T=h.pendingProps,P=S!==null?S.memoizedProps:null,G=T.children,re(A,T)?G=null:P!==null&&re(A,P)&&(h.flags|=32),ZA(S,h),ir(S,h,G,v),h.child;case 6:return S===null&&gv(h),null;case 13:return Tv(S,h,v);case 4:return Za(h,h.stateNode.containerInfo),A=h.pendingProps,S===null?h.child=mh(h,null,A,v):ir(S,h,A,v),h.child;case 11:return A=h.type,T=h.pendingProps,T=h.elementType===A?T:Lr(A,T),ao(S,h,A,T,v);case 7:return ir(S,h,h.pendingProps,v),h.child;case 8:return ir(S,h,h.pendingProps.children,v),h.child;case 12:return ir(S,h,h.pendingProps.children,v),h.child;case 10:e:{if(A=h.type._context,T=h.pendingProps,P=h.memoizedProps,G=T.value,zc(h,A,G),P!==null)if(Zs(P.value,G)){if(P.children===T.children&&!Vt.current){h=$c(S,h,v);break e}}else for(P=h.child,P!==null&&(P.return=h);P!==null;){var Z=P.dependencies;if(Z!==null){G=P.child;for(var de=Z.firstContext;de!==null;){if(de.context===A){if(P.tag===1){de=Hc(-1,v&-v),de.tag=2;var Le=P.updateQueue;if(Le!==null){Le=Le.shared;var Ye=Le.pending;Ye===null?de.next=de:(de.next=Ye.next,Ye.next=de),Le.pending=de}}P.lanes|=v,de=P.alternate,de!==null&&(de.lanes|=v),Dn(P.return,v,h),Z.lanes|=v;break}de=de.next}}else if(P.tag===10)G=P.type===h.type?null:P.child;else if(P.tag===18){if(G=P.return,G===null)throw Error(s(341));G.lanes|=v,Z=G.alternate,Z!==null&&(Z.lanes|=v),Dn(G,v,h),G=P.sibling}else G=P.child;if(G!==null)G.return=P;else for(G=P;G!==null;){if(G===h){G=null;break}if(P=G.sibling,P!==null){P.return=G.return,G=P;break}G=G.return}P=G}ir(S,h,T.children,v),h=h.child}return h;case 9:return T=h.type,A=h.pendingProps.children,$n(h,v),T=nn(T),A=A(T),h.flags|=1,ir(S,h,A,v),h.child;case 14:return A=h.type,T=Lr(A,h.pendingProps),T=Lr(A.type,T),KA(S,h,A,T,v);case 15:return qA(S,h,h.type,h.pendingProps,v);case 17:return A=h.type,T=h.pendingProps,T=h.elementType===A?T:Lr(A,T),S!==null&&(S.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,_n(A)?(S=!0,xa(h)):S=!1,$n(h,v),TA(h,A,T),Fx(h,A,T,v),Jx(null,h,A,!0,S,v);case 19:return Zx(S,h,v);case 22:return QA(S,h,v)}throw Error(s(156,h.tag))};function mM(S,h){return Fc(S,h)}function wR(S,h,v,A){this.tag=S,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function el(S,h,v,A){return new wR(S,h,v,A)}function $o(S){return S=S.prototype,!(!S||!S.isReactComponent)}function gM(S){if(typeof S=="function")return $o(S)?1:0;if(S!=null){if(S=S.$$typeof,S===m)return 11;if(S===x)return 14}return 2}function wd(S,h){var v=S.alternate;return v===null?(v=el(S.tag,h,S.key,S.mode),v.elementType=S.elementType,v.type=S.type,v.stateNode=S.stateNode,v.alternate=S,S.alternate=v):(v.pendingProps=h,v.type=S.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=S.flags&14680064,v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,h=S.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=S.sibling,v.index=S.index,v.ref=S.ref,v}function Jl(S,h,v,A,T,P){var G=2;if(A=S,typeof S=="function")$o(S)&&(G=1);else if(typeof S=="string")G=5;else e:switch(S){case c:return Kc(v.children,T,P,h);case u:G=8,T|=8;break;case f:return S=el(12,v,h,T|2),S.elementType=f,S.lanes=P,S;case g:return S=el(13,v,h,T),S.elementType=g,S.lanes=P,S;case y:return S=el(19,v,h,T),S.elementType=y,S.lanes=P,S;case b:return qc(v,T,P,h);default:if(typeof S=="object"&&S!==null)switch(S.$$typeof){case d:G=10;break e;case p:G=9;break e;case m:G=11;break e;case x:G=14;break e;case _:G=16,A=null;break e}throw Error(s(130,S==null?S:typeof S,""))}return h=el(G,v,h,T),h.elementType=S,h.type=A,h.lanes=P,h}function Kc(S,h,v,A){return S=el(7,S,A,h),S.lanes=v,S}function qc(S,h,v,A){return S=el(22,S,A,h),S.elementType=b,S.lanes=v,S.stateNode={},S}function Um(S,h,v){return S=el(6,S,null,h),S.lanes=v,S}function Nv(S,h,v){return h=el(4,S.children!==null?S.children:[],S.key,h),h.lanes=v,h.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},h}function vM(S,h,v,A,T){this.tag=h,this.containerInfo=S,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=he,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bs(0),this.expirationTimes=Bs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bs(0),this.identifierPrefix=A,this.onRecoverableError=T,ne&&(this.mutableSourceEagerHydrationData=null)}function SR(S,h,v,A,T,P,G,Z,de){return S=new vM(S,h,v,Z,de),h===1?(h=1,P===!0&&(h|=8)):h=0,P=el(3,null,null,h),S.current=P,P.stateNode=S,P.memoizedState={element:A,isDehydrated:v,cache:null,transitions:null},Gc(P),S}function yM(S){if(!S)return Jt;S=S._reactInternals;e:{if(E(S)!==S||S.tag!==1)throw Error(s(170));var h=S;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(_n(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(s(171))}if(S.tag===1){var v=S.type;if(_n(v))return Ll(S,v,h)}return h}function xM(S){var h=S._reactInternals;if(h===void 0)throw typeof S.render=="function"?Error(s(188)):(S=Object.keys(S).join(","),Error(s(268,S)));return S=N(h),S===null?null:S.stateNode}function _M(S,h){if(S=S.memoizedState,S!==null&&S.dehydrated!==null){var v=S.retryLane;S.retryLane=v!==0&&v<h?v:h}}function p_(S,h){_M(S,h),(S=S.alternate)&&_M(S,h)}function bM(S){return S=N(S),S===null?null:S.stateNode}function y4(){return null}return e.attemptContinuousHydration=function(S){if(S.tag===13){var h=xs();$i(S,134217728,h),p_(S,134217728)}},e.attemptHydrationAtCurrentPriority=function(S){if(S.tag===13){var h=xs(),v=ti(S);$i(S,v,h),p_(S,v)}},e.attemptSynchronousHydration=function(S){switch(S.tag){case 3:var h=S.stateNode;if(h.current.memoizedState.isDehydrated){var v=cs(h.pendingLanes);v!==0&&(Ds(h,v|1),Ls(h,br()),!($t&6)&&(gd(),fs()))}break;case 13:var A=xs();dM(function(){return $i(S,1,A)}),p_(S,1)}},e.batchedUpdates=function(S,h){var v=$t;$t|=1;try{return S(h)}finally{$t=v,$t===0&&(gd(),Sr&&fs())}},e.createComponentSelector=function(S){return{$$typeof:kv,value:S}},e.createContainer=function(S,h,v,A,T,P,G){return SR(S,h,!1,null,v,A,T,P,G)},e.createHasPseudoClassSelector=function(S){return{$$typeof:Ch,value:S}},e.createHydrationContainer=function(S,h,v,A,T,P,G,Z,de){return S=SR(v,A,!0,S,T,P,G,Z,de),S.context=yM(null),v=S.current,A=xs(),T=ti(v),P=Hc(A,T),P.callback=h??null,to(v,P),S.current.lanes=T,wa(S,T,A),Ls(S,A),S},e.createPortal=function(S,h,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:S,containerInfo:h,implementation:v}},e.createRoleSelector=function(S){return{$$typeof:Th,value:S}},e.createTestNameSelector=function(S){return{$$typeof:Rh,value:S}},e.createTextSelector=function(S){return{$$typeof:Ph,value:S}},e.deferredUpdates=function(S){var h=tn,v=Nr.transition;try{return Nr.transition=null,tn=16,S()}finally{tn=h,Nr.transition=v}},e.discreteUpdates=function(S,h,v,A,T){var P=tn,G=Nr.transition;try{return Nr.transition=null,tn=1,S(h,v,A,T)}finally{tn=P,Nr.transition=G,$t===0&&gd()}},e.findAllNodes=l_,e.findBoundingRects=function(S,h){if(!ke)throw Error(s(363));h=l_(S,h),S=[];for(var v=0;v<h.length;v++)S.push(Ee(h[v]));for(h=S.length-1;0<h;h--){v=S[h];for(var A=v.x,T=A+v.width,P=v.y,G=P+v.height,Z=h-1;0<=Z;Z--)if(h!==Z){var de=S[Z],Le=de.x,Ye=Le+de.width,it=de.y,at=it+de.height;if(A>=Le&&P>=it&&T<=Ye&&G<=at){S.splice(h,1);break}else if(A!==Le||v.width!==de.width||at<P||it>G){if(!(P!==it||v.height!==de.height||Ye<A||Le>T)){Le>A&&(de.width+=Le-A,de.x=A),Ye<T&&(de.width=T-Le),S.splice(h,1);break}}else{it>P&&(de.height+=it-P,de.y=P),at<G&&(de.height=G-it),S.splice(h,1);break}}}return S},e.findHostInstance=xM,e.findHostInstanceWithNoPortals=function(S){return S=D(S),S=S!==null?H(S):null,S===null?null:S.stateNode},e.findHostInstanceWithWarning=function(S){return xM(S)},e.flushControlled=function(S){var h=$t;$t|=1;var v=Nr.transition,A=tn;try{Nr.transition=null,tn=1,S()}finally{tn=A,Nr.transition=v,$t=h,$t===0&&(gd(),fs())}},e.flushPassiveEffects=Oh,e.flushSync=dM,e.focusWithin=function(S,h){if(!ke)throw Error(s(363));for(S=Bh(S),h=a_(S,h),h=Array.from(h),S=0;S<h.length;){var v=h[S++];if(!k(v)){if(v.tag===5&&ce(v.stateNode))return!0;for(v=v.child;v!==null;)h.push(v),v=v.sibling}}return!1},e.getCurrentUpdatePriority=function(){return tn},e.getFindAllNodesFailureDescription=function(S,h){if(!ke)throw Error(s(363));var v=0,A=[];S=[Bh(S),0];for(var T=0;T<S.length;){var P=S[T++],G=S[T++],Z=h[G];if((P.tag!==5||!k(P))&&(Iv(P,Z)&&(A.push(Lv(Z)),G++,G>v&&(v=G)),G<h.length))for(P=P.child;P!==null;)S.push(P,G),P=P.sibling}if(v<h.length){for(S=[];v<h.length;v++)S.push(Lv(h[v]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+S.join(" > ")}return null},e.getPublicRootInstance=function(S){if(S=S.current,!S.child)return null;switch(S.child.tag){case 5:return W(S.child.stateNode);default:return S.child.stateNode}},e.injectIntoDevTools=function(S){if(S={bundleType:S.bundleType,version:S.version,rendererPackageName:S.rendererPackageName,rendererConfig:S.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:bM,findFiberByHostInstance:S.findFiberByHostInstance||y4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")S=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)S=!0;else{try{qa=h.inject(S),Wi=h}catch{}S=!!h.checkDCE}}return S},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(S,h,v,A){if(!ke)throw Error(s(363));S=l_(S,h);var T=Me(S,v,A).disconnect;return{disconnect:function(){T()}}},e.registerMutableSourceForHydration=function(S,h){var v=h._getVersion;v=v(h._source),S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[h,v]:S.mutableSourceEagerHydrationData.push(h,v)},e.runWithPriority=function(S,h){var v=tn;try{return tn=S,h()}finally{tn=v}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(S,h,v,A){var T=h.current,P=xs(),G=ti(T);return v=yM(v),h.context===null?h.context=v:h.pendingContext=v,h=Hc(P,G),h.payload={element:S},A=A===void 0?null:A,A!==null&&(h.callback=A),to(T,h),S=$i(T,G,P),S!==null&&Ul(S,T,G),G},e};whe.exports=ULe;var zLe=whe.exports;const GLe=jS(zLe);var She={exports:{}},Ahe={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(n){function e(L,I){var O=L.length;L.push(I);e:for(;0<O;){var F=O-1>>>1,j=L[F];if(0<i(j,I))L[F]=I,L[O]=j,O=F;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var I=L[0],O=L.pop();if(O!==I){L[0]=O;e:for(var F=0,j=L.length,te=j>>>1;F<te;){var re=2*(F+1)-1,se=L[re],K=re+1,le=L[K];if(0>i(se,O))K<j&&0>i(le,se)?(L[F]=le,L[K]=O,F=K):(L[F]=se,L[re]=O,F=re);else if(K<j&&0>i(le,O))L[F]=le,L[K]=O,F=K;else break e}}return I}function i(L,I){var O=L.sortIndex-I.sortIndex;return O!==0?O:L.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var I=t(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=L)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=t(c)}}function w(L){if(g=!1,b(L),!m)if(t(l)!==null)m=!0,X(M);else{var I=t(c);I!==null&&q(w,I.startTime-L)}}function M(L,I){m=!1,g&&(g=!1,x(E),E=-1),p=!0;var O=d;try{for(b(I),f=t(l);f!==null&&(!(f.expirationTime>I)||L&&!N());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var j=F(f.expirationTime<=I);I=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&r(l),b(I)}else r(l);f=t(l)}if(f!==null)var te=!0;else{var re=t(c);re!==null&&q(w,re.startTime-I),te=!1}return te}finally{f=null,d=O,p=!1}}var C=!1,R=null,E=-1,B=5,D=-1;function N(){return!(n.unstable_now()-D<B)}function z(){if(R!==null){var L=n.unstable_now();D=L;var I=!0;try{I=R(!0,L)}finally{I?H():(C=!1,R=null)}}else C=!1}var H;if(typeof _=="function")H=function(){_(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=z,H=function(){W.postMessage(null)}}else H=function(){y(z,0)};function X(L){R=L,C||(C=!0,H())}function q(L,I){E=y(function(){L(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,X(M))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var O=d;d=I;try{return L()}finally{d=O}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,I){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var O=d;d=L;try{return I()}finally{d=O}},n.unstable_scheduleCallback=function(L,I,O){var F=n.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?F+O:F):O=F,L){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=O+j,L={id:u++,callback:I,priorityLevel:L,startTime:O,expirationTime:j,sortIndex:-1},O>F?(L.sortIndex=O,e(c,L),t(l)===null&&L===t(c)&&(g?(x(E),E=-1):g=!0,q(w,O-F))):(L.sortIndex=j,e(l,L),m||p||(m=!0,X(M))),L},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(L){var I=d;return function(){var O=d;d=I;try{return L.apply(this,arguments)}finally{d=O}}}})(Ahe);She.exports=Ahe;var Aq=She.exports;const HLe=n=>typeof n=="object"&&typeof n.then=="function",Uy=[];function Mhe(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function Ehe(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Uy)if(Mhe(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Uy.indexOf(i);s!==-1&&Uy.splice(s,1)},promise:(HLe(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Uy.push(i),!t)throw i.promise}const SW=(n,e,t)=>Ehe(n,e,!1,t),VLe=(n,e,t)=>void Ehe(n,e,!0,t),jLe=n=>{if(n===void 0||n.length===0)Uy.splice(0,Uy.length);else{const e=Uy.find(t=>Mhe(n,t.keys,t.equal));e&&e.remove()}},AW={},Che=n=>void Object.assign(AW,n);function WLe(n,e){function t(c,{args:u=[],attach:f,...d},p){let m=`${c[0].toUpperCase()}${c.slice(1)}`,g;if(c==="primitive"){if(d.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=d.object;g=bb(y,{type:c,root:p,attach:f,primitive:!0})}else{const y=AW[m];if(!y)throw new Error(`R3F: ${m} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(u))throw new Error("R3F: The args prop must be an array!");g=bb(new y(...u),{type:c,root:p,attach:f,memoizedProps:{args:u}})}return g.__r3f.attach===void 0&&(g instanceof cn?g.__r3f.attach="geometry":g instanceof Ts&&(g.__r3f.attach="material")),m!=="inject"&&TN(g,d),g}function r(c,u){let f=!1;if(u){var d,p;(d=u.__r3f)!=null&&d.attach?CN(c,u,u.__r3f.attach):u.isObject3D&&c.isObject3D&&(c.add(u),f=!0),f||(p=c.__r3f)==null||p.objects.push(u),u.__r3f||bb(u,{}),u.__r3f.parent=c,RG(u),wb(u)}}function i(c,u,f){let d=!1;if(u){var p,m;if((p=u.__r3f)!=null&&p.attach)CN(c,u,u.__r3f.attach);else if(u.isObject3D&&c.isObject3D){u.parent=c,u.dispatchEvent({type:"added"});const g=c.children.filter(x=>x!==u),y=g.indexOf(f);c.children=[...g.slice(0,y),u,...g.slice(y)],d=!0}d||(m=c.__r3f)==null||m.objects.push(u),u.__r3f||bb(u,{}),u.__r3f.parent=c,RG(u),wb(u)}}function s(c,u,f=!1){c&&[...c].forEach(d=>o(u,d,f))}function o(c,u,f){if(u){var d,p,m;if(u.__r3f&&(u.__r3f.parent=null),(d=c.__r3f)!=null&&d.objects&&(c.__r3f.objects=c.__r3f.objects.filter(b=>b!==u)),(p=u.__r3f)!=null&&p.attach)Rq(c,u,u.__r3f.attach);else if(u.isObject3D&&c.isObject3D){var g;c.remove(u),(g=u.__r3f)!=null&&g.root&&ZLe(u.__r3f.root,u)}const x=(m=u.__r3f)==null?void 0:m.primitive,_=f===void 0?u.dispose!==null&&!x:f;if(!x){var y;s((y=u.__r3f)==null?void 0:y.objects,u,_),s(u.children,u,_)}delete u.__r3f,_&&u.dispose&&u.type!=="Scene"&&Aq.unstable_scheduleCallback(Aq.unstable_IdlePriority,()=>{try{u.dispose()}catch{}}),wb(c)}}function a(c,u,f,d){var p;const m=(p=c.__r3f)==null?void 0:p.parent;if(!m)return;const g=t(u,f,c.__r3f.root);if(c.children){for(const y of c.children)y.__r3f&&r(g,y);c.children=c.children.filter(y=>!y.__r3f)}c.__r3f.objects.forEach(y=>r(g,y)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(m,c),g.parent&&(g.__r3f.autoRemovedBeforeAppend=!0),r(m,g),g.raycast&&g.__r3f.eventCount&&g.__r3f.root.getState().internal.interaction.push(g),[d,d.alternate].forEach(y=>{y!==null&&(y.stateNode=g,y.ref&&(typeof y.ref=="function"?y.ref(g):y.ref.current=g))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:GLe({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,u)=>{if(!u)return;const f=c.getState().scene;f.__r3f&&(f.__r3f.root=c,r(f,u))},removeChildFromContainer:(c,u)=>{u&&o(c.getState().scene,u)},insertInContainerBefore:(c,u,f)=>{if(!u||!f)return;const d=c.getState().scene;d.__r3f&&i(d,u,f)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var u;return!!((u=c==null?void 0:c.__r3f)!=null?u:{}).handlers},prepareUpdate(c,u,f,d){if(c.__r3f.primitive&&d.object&&d.object!==c)return[!0];{const{args:p=[],children:m,...g}=d,{args:y=[],children:x,..._}=f;if(!Array.isArray(p))throw new Error("R3F: the args prop must be an array!");if(p.some((w,M)=>w!==y[M]))return[!0];const b=Ihe(c,g,_,!0);return b.changes.length?[!1,b]:null}},commitUpdate(c,[u,f],d,p,m,g){u?a(c,d,m,g):TN(c,f)},commitMount(c,u,f,d){var p;const m=(p=c.__r3f)!=null?p:{};c.raycast&&m.handlers&&m.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>bb(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var u;const{attach:f,parent:d}=(u=c.__r3f)!=null?u:{};f&&d&&Rq(d,c,f),c.isObject3D&&(c.visible=!1),wb(c)},unhideInstance(c,u){var f;const{attach:d,parent:p}=(f=c.__r3f)!=null?f:{};d&&p&&CN(p,c,d),(c.isObject3D&&u.visible==null||u.visible)&&(c.visible=!0),wb(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():zb.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Hr.fun(performance.now)?performance.now:Hr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Hr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Hr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:TN}}var Mq,Eq;const EN=n=>"colorSpace"in n||"outputColorSpace"in n,The=()=>{var n;return(n=AW.ColorManagement)!=null?n:null},Rhe=n=>n&&n.isOrthographicCamera,$Le=n=>n&&n.hasOwnProperty("current"),l3=typeof window<"u"&&((Mq=window.document)!=null&&Mq.createElement||((Eq=window.navigator)==null?void 0:Eq.product)==="ReactNative")?J.useLayoutEffect:J.useEffect;function Phe(n){const e=J.useRef(n);return l3(()=>void(e.current=n),[n]),e}function XLe({set:n}){return l3(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class Bhe extends J.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Bhe.getDerivedStateFromError=()=>({error:!0});const Dhe="__default",Cq=new Map,JLe=n=>n&&!!n.memoized&&!!n.changes;function khe(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const UM=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Hr={obj:n=>n===Object(n)&&!Hr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Hr.str(n)||Hr.num(n))return n===e;const s=Hr.obj(n);if(s&&r==="reference")return n===e;const o=Hr.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!Hr.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(Hr.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function YLe(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function KLe(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function bb(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function TG(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const Tq=/-\d+$/;function CN(n,e,t){if(Hr.str(t)){if(Tq.test(t)){const s=t.replace(Tq,""),{target:o,key:a}=TG(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=TG(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function Rq(n,e,t){var r,i;if(Hr.str(t)){const{target:s,key:o}=TG(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function Ihe(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},d=Object.entries(i),p=[];if(c){const g=Object.keys(l);for(let y=0;y<g.length;y++)i.hasOwnProperty(g[y])||d.unshift([g[y],Dhe+"remove"])}d.forEach(([g,y])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&g==="object"||Hr.equ(y,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return p.push([g,y,!0,[]]);let _=[];g.includes("-")&&(_=g.split("-")),p.push([g,y,!1,_]);for(const b in i){const w=i[b];b.startsWith(`${g}-`)&&p.push([b,w,!1,b.split("-")])}});const m={...i};return f.memoizedProps&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:p}}function TN(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=JLe(e)?e:Ihe(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let f=0;f<c.length;f++){let[d,p,m,g]=c[f];if(EN(n)){const _="srgb",b="srgb-linear";d==="encoding"?(d="colorSpace",p=p===3001?_:b):d==="outputEncoding"&&(d="outputColorSpace",p=p===3001?_:b)}let y=n,x=y[d];if(g.length&&(x=g.reduce((_,b)=>_[b],n),!(x&&x.set))){const[_,...b]=g.reverse();y=b.reverse().reduce((w,M)=>w[M],n),d=_}if(p===Dhe+"remove")if(y.constructor){let _=Cq.get(y.constructor);_||(_=new y.constructor,Cq.set(y.constructor,_)),p=_[d]}else p=0;if(m)p?s.handlers[d]=p:delete s.handlers[d],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof c1)){if(Array.isArray(p))x.fromArray?x.fromArray(p):x.set(...p);else if(x.copy&&p&&p.constructor&&x.constructor===p.constructor)x.copy(p);else if(p!==void 0){const _=x instanceof ft;!_&&x.setScalar?x.setScalar(p):x instanceof c1&&p instanceof c1?x.mask=p.mask:x.set(p),!The()&&!a.linear&&_&&x.convertSRGBToLinear()}}else if(y[d]=p,y[d]instanceof Kr&&y[d].format===al&&y[d].type===Hp){const _=y[d];EN(_)&&EN(a.gl)?_.colorSpace=a.gl.outputColorSpace:_.encoding=a.gl.outputEncoding}wb(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const f=a.internal.interaction.indexOf(n);f>-1&&a.internal.interaction.splice(f,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&RG(n),n}function wb(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function RG(n){n.onUpdate==null||n.onUpdate(n)}function qLe(n,e){n.manual||(Rhe(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function CP(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function QLe(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return zb.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return zb.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return zb.ContinuousEventPriority;default:return zb.DefaultEventPriority}}function Lhe(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function ZLe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Lhe(t.capturedMap,e,r,i)})}function eOe(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,d=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let x=0;x<p.length;x++){const _=UM(p[x]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function m(x){const _=UM(x);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(x,!0):[]}let g=p.flatMap(m).sort((x,_)=>{const b=UM(x.object),w=UM(_.object);return!b||!w?x.distance-_.distance:w.events.priority-b.events.priority||x.distance-_.distance}).filter(x=>{const _=CP(x);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(g=u.events.filter(g,u));for(const x of g){let _=x.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&d.push({...x,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let x of u.internal.capturedMap.get(l.pointerId).values())f.has(CP(x.intersection))||d.push(x.intersection);return d}function i(l,c,u,f){const d=n.getState();if(l.length){const p={stopped:!1};for(const m of l){const g=UM(m.object)||d,{raycaster:y,pointer:x,camera:_,internal:b}=g,w=new ge(x.x,x.y,0).unproject(_),M=D=>{var N,z;return(N=(z=b.capturedMap.get(D))==null?void 0:z.has(m.eventObject))!=null?N:!1},C=D=>{const N={intersection:m,target:c.target};b.capturedMap.has(D)?b.capturedMap.get(D).set(m.eventObject,N):b.capturedMap.set(D,new Map([[m.eventObject,N]])),c.target.setPointerCapture(D)},R=D=>{const N=b.capturedMap.get(D);N&&Lhe(b.capturedMap,m.eventObject,N,D)};let E={};for(let D in c){let N=c[D];typeof N!="function"&&(E[D]=N)}let B={...m,...E,pointer:x,intersections:l,stopped:p.stopped,delta:u,unprojectedPoint:w,ray:y.ray,camera:_,stopPropagation(){const D="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!D||D.has(m.eventObject))&&(B.stopped=p.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(N=>N.eventObject===m.eventObject))){const N=l.slice(0,l.indexOf(m));s([...N,m])}},target:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:R},currentTarget:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:R},nativeEvent:c};if(f(B),p.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const f=u.eventObject.__r3f,d=f==null?void 0:f.handlers;if(c.hovered.delete(CP(u)),f!=null&&f.eventCount){const p={...u,intersections:l};d.onPointerOut==null||d.onPointerOut(p),d.onPointerLeave==null||d.onPointerLeave(p)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(c){const{onPointerMissed:u,internal:f}=n.getState();f.lastEvent.current=c;const d=l==="onPointerMove",p=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",m=r(c,d?t:void 0),g=p?e(c):0;l==="onPointerDown"&&(f.initialClick=[c.offsetX,c.offsetY],f.initialHits=m.map(x=>x.eventObject)),p&&!m.length&&g<=2&&(o(c,f.interaction),u&&u(c)),d&&s(m);function y(x){const _=x.eventObject,b=_.__r3f,w=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(d){if(w.onPointerOver||w.onPointerEnter||w.onPointerOut||w.onPointerLeave){const M=CP(x),C=f.hovered.get(M);C?C.stopped&&x.stopPropagation():(f.hovered.set(M,x),w.onPointerOver==null||w.onPointerOver(x),w.onPointerEnter==null||w.onPointerEnter(x))}w.onPointerMove==null||w.onPointerMove(x)}else{const M=w[l];M?(!p||f.initialHits.includes(_))&&(o(c,f.interaction.filter(C=>!f.initialHits.includes(C))),M(x)):p&&f.initialHits.includes(_)&&o(c,f.interaction.filter(C=>!f.initialHits.includes(C)))}}i(m,c,g,y)}}return{handlePointer:a}}const Ohe=n=>!!(n!=null&&n.render),sI=J.createContext(null),tOe=(n,e)=>{const t=bhe((a,l)=>{const c=new ge,u=new ge,f=new ge;function d(y=l().camera,x=u,_=l().size){const{width:b,height:w,top:M,left:C}=_,R=b/w;x instanceof ge?f.copy(x):f.set(...x);const E=y.getWorldPosition(c).distanceTo(f);if(Rhe(y))return{width:b/y.zoom,height:w/y.zoom,top:M,left:C,factor:1,distance:E,aspect:R};{const B=y.fov*Math.PI/180,D=2*Math.tan(B/2)*E,N=D*(b/w);return{width:N,height:D,top:M,left:C,factor:b/N,distance:E,aspect:R}}}let p;const m=y=>a(x=>({performance:{...x.performance,current:y}})),g=new rt;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>n(l(),y),advance:(y,x)=>e(y,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new xW,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();p&&clearTimeout(p),y.performance.current!==y.performance.min&&m(y.performance.min),p=setTimeout(()=>m(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:y=>a(x=>({...x,events:{...x.events,...y}})),setSize:(y,x,_,b,w)=>{const M=l().camera,C={width:y,height:x,top:b||0,left:w||0,updateStyle:_};a(R=>({size:C,viewport:{...R.viewport,...d(M,u,C)}}))},setDpr:y=>a(x=>{const _=khe(y);return{viewport:{...x.viewport,dpr:_,initialDpr:x.viewport.initialDpr||_}}}),setFrameloop:(y="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,y!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:J.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,x,_)=>{const b=l().internal;return b.priority=b.priority+(x>0?1:0),b.subscribers.push({ref:y,priority:x,store:_}),b.subscribers=b.subscribers.sort((w,M)=>w.priority-M.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(x>0?1:0),w.subscribers=w.subscribers.filter(M=>M.ref!==y))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l!==i||c.dpr!==s){var d;i=l,s=c.dpr,qLe(a,l),u.setPixelRatio(c.dpr);const p=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,p)}a!==o&&(o=a,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let TP,nOe=new Set,rOe=new Set,iOe=new Set;function RN(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function zM(n,e){switch(n){case"before":return RN(nOe,e);case"after":return RN(rOe,e);case"tail":return RN(iOe,e)}}let PN,BN;function DN(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),PN=e.internal.subscribers,TP=0;TP<PN.length;TP++)BN=PN[TP],BN.ref.current(BN.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function sOe(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,zM("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=DN(l,i))}if(zM("after",l),t===0)return zM("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&zM("before",l),u)DN(l,u,f);else for(const d of n.values())DN(l,d.store.getState());c&&zM("after",l)}return{loop:s,invalidate:o,advance:a}}function Fhe(){const n=J.useContext(sI);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function q0(n=t=>t,e){return Fhe()(n,e)}function Pc(n,e=0){const t=Fhe(),r=t.getState().internal.subscribe,i=Phe(n);return l3(()=>r(i,e,t),[e,r,t]),null}function Nhe(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,YLe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function ed(n,e,t,r){const i=Array.isArray(e)?e:[e],s=SW(Nhe(t,r),[n,...i],{equal:Hr.equ});return Array.isArray(e)?s:s[0]}ed.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return VLe(Nhe(t),[n,...r])};ed.clear=function(n,e){const t=Array.isArray(e)?e:[e];return jLe([n,...t])};const aS=new Map,{invalidate:Pq,advance:Bq}=sOe(aS),{reconciler:oI,applyProps:I_}=WLe(aS,QLe),L_={objects:"shallow",strict:!1},oOe=(n,e)=>{const t=typeof n=="function"?n(e):n;return Ohe(t)?t:new Uj({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function aOe(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function lOe(n){const e=aS.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||tOe(Pq,Bq),o=t||oI.createContainer(s,zb.ConcurrentRoot,null,!1,null,"",i,null);e||aS.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:p,events:m,onCreated:g,shadows:y=!1,linear:x=!1,flat:_=!1,legacy:b=!1,orthographic:w=!1,frameloop:M="always",dpr:C=[1,2],performance:R,raycaster:E,camera:B,onPointerMissed:D}=u,N=s.getState(),z=N.gl;N.gl||N.set({gl:z=oOe(f,n)});let H=N.raycaster;H||N.set({raycaster:H=new vhe});const{params:U,...W}=E||{};if(Hr.equ(W,H,L_)||I_(H,{...W}),Hr.equ(U,H.params,L_)||I_(H,{params:{...H.params,...U}}),!N.camera||N.camera===c&&!Hr.equ(c,B,L_)){c=B;const I=B instanceof i3,O=I?B:w?new mx(0,0,0,0,.1,1e3):new As(75,0,.1,1e3);I||(O.position.z=5,B&&I_(O,B),!N.camera&&!(B!=null&&B.rotation)&&O.lookAt(0,0,0)),N.set({camera:O})}if(!N.scene){let I;p instanceof iI?I=p:(I=new iI,p&&I_(I,p)),N.set({scene:bb(I)})}if(!N.xr){const I=(j,te)=>{const re=s.getState();re.frameloop!=="never"&&Bq(j,!0,re,te)},O=()=>{const j=s.getState();j.gl.xr.enabled=j.gl.xr.isPresenting,j.gl.xr.setAnimationLoop(j.gl.xr.isPresenting?I:null),j.gl.xr.isPresenting||Pq(j)},F={connect(){const j=s.getState().gl;j.xr.addEventListener("sessionstart",O),j.xr.addEventListener("sessionend",O)},disconnect(){const j=s.getState().gl;j.xr.removeEventListener("sessionstart",O),j.xr.removeEventListener("sessionend",O)}};z.xr&&F.connect(),N.set({xr:F})}if(z.shadowMap){const I=z.shadowMap.enabled,O=z.shadowMap.type;if(z.shadowMap.enabled=!!y,Hr.boo(y))z.shadowMap.type=aE;else if(Hr.str(y)){var X;const F={basic:afe,percentage:lO,soft:aE,variance:Iy};z.shadowMap.type=(X=F[y])!=null?X:aE}else Hr.obj(y)&&Object.assign(z.shadowMap,y);(I!==z.shadowMap.enabled||O!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const q=The();q&&("enabled"in q?q.enabled=!b:"legacyMode"in q&&(q.legacyMode=b)),I_(z,{outputEncoding:x?3e3:3001,toneMapping:_?If:Pj}),N.legacy!==b&&N.set(()=>({legacy:b})),N.linear!==x&&N.set(()=>({linear:x})),N.flat!==_&&N.set(()=>({flat:_})),f&&!Hr.fun(f)&&!Ohe(f)&&!Hr.equ(f,z,L_)&&I_(z,f),m&&!N.events.handlers&&N.set({events:m(s)});const L=aOe(n,d);return Hr.equ(L,N.size,L_)||N.setSize(L.width,L.height,L.updateStyle,L.top,L.left),C&&N.viewport.dpr!==khe(C)&&N.setDpr(C),N.frameloop!==M&&N.setFrameloop(M),N.onPointerMissed||N.set({onPointerMissed:D}),R&&!Hr.equ(R,N.performance,L_)&&N.set(I=>({performance:{...I.performance,...R}})),a=g,l=!0,this},render(u){return l||this.configure(),oI.updateContainer(J.createElement(cOe,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Uhe(n)}}}function cOe({store:n,children:e,onCreated:t,rootElement:r}){return l3(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),J.createElement(sI.Provider,{value:n},e)}function Uhe(n,e){const t=aS.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),oI.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),KLe(i),aS.delete(n)}catch{}},500)})}}oI.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:J.version});function PG(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}PG.debounce=PG;var uOe=PG;const Dq=jS(uOe);function fOe(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=J.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=J.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=J.useRef(!1);J.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,p,m]=J.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:b,top:w,width:M,height:C,bottom:R,right:E,x:B,y:D}=l.current.element.getBoundingClientRect(),N={left:b,top:w,width:M,height:C,bottom:R,right:E,x:B,y:D};l.current.element instanceof HTMLElement&&i&&(N.height=l.current.element.offsetHeight,N.width=l.current.element.offsetWidth),Object.freeze(N),f.current&&!mOe(l.current.lastBounds,N)&&a(l.current.lastBounds=N)};return[_,u?Dq(_,u):_,c?Dq(_,c):_]},[a,i,c,u]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",m,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(m),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",m,{capture:!0,passive:!0})))}const x=_=>{!_||_===l.current.element||(g(),l.current.element=_,l.current.scrollContainers=zhe(_),y())};return hOe(m,!!t),dOe(p),J.useEffect(()=>{g(),y()},[t,m,p]),J.useEffect(()=>g,[]),[x,o,d]}function dOe(n){J.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function hOe(n,e){J.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function zhe(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...zhe(n.parentElement)]}const pOe=["x","y","top","bottom","left","right","width","height"],mOe=(n,e)=>pOe.every(t=>n[t]===e[t]);var gOe=Object.defineProperty,vOe=Object.defineProperties,yOe=Object.getOwnPropertyDescriptors,kq=Object.getOwnPropertySymbols,xOe=Object.prototype.hasOwnProperty,_Oe=Object.prototype.propertyIsEnumerable,Iq=(n,e,t)=>e in n?gOe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Lq=(n,e)=>{for(var t in e||(e={}))xOe.call(e,t)&&Iq(n,t,e[t]);if(kq)for(var t of kq(e))_Oe.call(e,t)&&Iq(n,t,e[t]);return n},bOe=(n,e)=>vOe(n,yOe(e)),Oq,Fq;typeof window<"u"&&((Oq=window.document)!=null&&Oq.createElement||((Fq=window.navigator)==null?void 0:Fq.product)==="ReactNative")?J.useLayoutEffect:J.useEffect;function Ghe(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=Ghe(r,e,t);if(i)return i;r=r.sibling}}function Hhe(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Nq=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=Nq;return}return Nq.apply(this,arguments)};const MW=Hhe(J.createContext(null));class Vhe extends J.Component{render(){return J.createElement(MW.Provider,{value:this._reactInternals},this.props.children)}}function wOe(){const n=J.useContext(MW);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=J.useId();return J.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const r=Ghe(t,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(r)return r}},[n,e])}function SOe(){const n=wOe(),[e]=J.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==MW&&!e.has(r)&&e.set(r,J.useContext(Hhe(r)))}t=t.return}return e}function AOe(){const n=SOe();return J.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>J.createElement(e,null,J.createElement(t.Provider,bOe(Lq({},r),{value:n.get(t)}))),e=>J.createElement(Vhe,Lq({},e))),[n])}const kN={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function MOe(n){const{handlePointer:e}=eOe(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(kN).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=kN[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=kN[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const EOe=J.forwardRef(function({children:n,fallback:e,resize:t,style:r,gl:i,events:s=MOe,eventSource:o,eventPrefix:a,shadows:l,linear:c,flat:u,legacy:f,orthographic:d,frameloop:p,dpr:m,performance:g,raycaster:y,camera:x,onPointerMissed:_,onCreated:b,...w},M){J.useMemo(()=>Che(ILe),[]);const C=AOe(),[R,E]=fOe({scroll:!0,debounce:{scroll:50,resize:0},...t}),B=J.useRef(null),D=J.useRef(null);J.useImperativeHandle(M,()=>B.current);const N=Phe(_),[z,H]=J.useState(!1),[U,W]=J.useState(!1);if(z)throw z;if(U)throw U;const X=J.useRef(null);l3(()=>{const L=B.current;E.width>0&&E.height>0&&L&&(X.current||(X.current=lOe(L)),X.current.configure({gl:i,events:s,shadows:l,linear:c,flat:u,legacy:f,orthographic:d,frameloop:p,dpr:m,performance:g,raycaster:y,camera:x,size:E,onPointerMissed:(...I)=>N.current==null?void 0:N.current(...I),onCreated:I=>{I.events.connect==null||I.events.connect(o?$Le(o)?o.current:o:D.current),a&&I.setEvents({compute:(O,F)=>{const j=O[a+"X"],te=O[a+"Y"];F.pointer.set(j/F.size.width*2-1,-(te/F.size.height)*2+1),F.raycaster.setFromCamera(F.pointer,F.camera)}}),b==null||b(I)}}),X.current.render(J.createElement(C,null,J.createElement(Bhe,{set:W},J.createElement(J.Suspense,{fallback:J.createElement(XLe,{set:H})},n)))))}),J.useEffect(()=>{const L=B.current;if(L)return()=>Uhe(L)},[]);const q=o?"none":"auto";return J.createElement("div",Wa({ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...r}},w),J.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},J.createElement("canvas",{ref:B,style:{display:"block"}},e)))}),COe=J.forwardRef(function(n,e){return J.createElement(Vhe,null,J.createElement(EOe,Wa({},n,{ref:e})))});function EW(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function dE(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BG(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function TOe(n,e){if(n){if(typeof n=="string")return BG(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return BG(n,e)}}function ROe(n){if(Array.isArray(n))return BG(n)}function POe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function BOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DOe(n){return ROe(n)||POe(n)||TOe(n)||BOe()}new rt;new rt;function kOe(n,e,t){return Math.max(e,Math.min(t,n))}function IOe(n,e){return kOe(n-Math.floor(n/e)*e,0,e)}function LOe(n,e){var t=IOe(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function jhe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Zc=function n(e,t,r){var i=this;jhe(this,n),dE(this,"dot2",function(s,o){return i.x*s+i.y*o}),dE(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},OOe=[new Zc(1,1,0),new Zc(-1,1,0),new Zc(1,-1,0),new Zc(-1,-1,0),new Zc(1,0,1),new Zc(-1,0,1),new Zc(1,0,-1),new Zc(-1,0,-1),new Zc(0,1,1),new Zc(0,-1,1),new Zc(0,1,-1),new Zc(0,-1,-1)],Uq=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],zq=new Array(512),Gq=new Array(512),FOe=function(n){n>0&&n<1&&(n*=65536),n=Math.floor(n),n<256&&(n|=n<<8);for(var e=0;e<256;e++){var t;e&1?t=Uq[e]^n&255:t=Uq[e]^n>>8&255,zq[e]=zq[e+256]=t,Gq[e]=Gq[e+256]=OOe[t%12]}};FOe(0);function NOe(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function Hq(n){var e=NOe(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var UOe=function n(e){var t=this;jhe(this,n),dE(this,"seed",0),dE(this,"init",function(r){t.seed=r,t.value=Hq(r)}),dE(this,"value",Hq(this.seed)),this.init(e)};new UOe(Math.random());var zOe=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return t/Math.atan(1/e)*Math.atan(Math.sin(2*Math.PI*n*r)/e)},Whe=function(n){return 1/(1+n+.48*n*n+.235*n*n*n)};function Vs(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Whe,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-t)<=a)return n[e]=t,!1;r=Math.max(1e-4,r);var c=2/r,u=o(c*i),f=n[e]-t,d=t,p=s*r;f=Math.min(Math.max(f,-p),p),t=n[e]-f;var m=(n.__damp[l]+c*f)*i;n.__damp[l]=(n.__damp[l]-c*m)*u;var g=t+(f+m)*u;return d-n[e]>0==g>d&&(g=d,n.__damp[l]=(g-d)/i),n[e]=g,!0}function Ew(n,e,t,r,i,s,o,a){return Vs(n,e,n[e]+LOe(n[e],t),r,i,s,o,a)}var GM=new rt,Vq,jq;function GOe(n,e,t,r,i,s,o){return typeof e=="number"?GM.setScalar(e):Array.isArray(e)?GM.set(e[0],e[1]):GM.copy(e),Vq=Vs(n,"x",GM.x,t,r,i,s,o),jq=Vs(n,"y",GM.y,t,r,i,s,o),Vq||jq}var O_=new ge,Wq,$q,Xq;function DG(n,e,t,r,i,s,o){return typeof e=="number"?O_.setScalar(e):Array.isArray(e)?O_.set(e[0],e[1],e[2]):O_.copy(e),Wq=Vs(n,"x",O_.x,t,r,i,s,o),$q=Vs(n,"y",O_.y,t,r,i,s,o),Xq=Vs(n,"z",O_.z,t,r,i,s,o),Wq||$q||Xq}var Xv=new wn,Jq,Yq,Kq,qq;function HOe(n,e,t,r,i,s,o){return typeof e=="number"?Xv.setScalar(e):Array.isArray(e)?Xv.set(e[0],e[1],e[2],e[3]):Xv.copy(e),Jq=Vs(n,"x",Xv.x,t,r,i,s,o),Yq=Vs(n,"y",Xv.y,t,r,i,s,o),Kq=Vs(n,"z",Xv.z,t,r,i,s,o),qq=Vs(n,"w",Xv.w,t,r,i,s,o),Jq||Yq||Kq||qq}var HM=new lc,Qq,Zq,eQ;function VOe(n,e,t,r,i,s,o){return Array.isArray(e)?HM.set(e[0],e[1],e[2],e[3]):HM.copy(e),Qq=Ew(n,"x",HM.x,t,r,i,s,o),Zq=Ew(n,"y",HM.y,t,r,i,s,o),eQ=Ew(n,"z",HM.z,t,r,i,s,o),Qq||Zq||eQ}var F_=new ft,tQ,nQ,rQ;function jOe(n,e,t,r,i,s,o){return e instanceof ft?F_.copy(e):Array.isArray(e)?F_.setRGB(e[0],e[1],e[2]):F_.set(e),tQ=Vs(n,"r",F_.r,t,r,i,s,o),nQ=Vs(n,"g",F_.g,t,r,i,s,o),rQ=Vs(n,"b",F_.b,t,r,i,s,o),tQ||nQ||rQ}var df=new Si,Vh=new wn,iQ=new wn,VM=new wn,sQ,oQ,aQ,lQ;function $he(n,e,t,r,i,s,o){var a=n;Array.isArray(e)?df.set(e[0],e[1],e[2],e[3]):df.copy(e);var l=n.dot(df)>0?1:-1;return df.x*=l,df.y*=l,df.z*=l,df.w*=l,sQ=Vs(n,"x",df.x,t,r,i,s,o),oQ=Vs(n,"y",df.y,t,r,i,s,o),aQ=Vs(n,"z",df.z,t,r,i,s,o),lQ=Vs(n,"w",df.w,t,r,i,s,o),Vh.set(n.x,n.y,n.z,n.w).normalize(),iQ.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),VM.copy(Vh).multiplyScalar(iQ.dot(Vh)/Vh.dot(Vh)),a.__damp.velocity_x-=VM.x,a.__damp.velocity_y-=VM.y,a.__damp.velocity_z-=VM.z,a.__damp.velocity_w-=VM.w,n.set(Vh.x,Vh.y,Vh.z,Vh.w),sQ||oQ||aQ||lQ}var jM=new yhe,cQ,uQ,fQ;function WOe(n,e,t,r,i,s,o){return Array.isArray(e)?jM.set(e[0],e[1],e[2]):jM.copy(e),cQ=Vs(n,"radius",jM.radius,t,r,i,s,o),uQ=Ew(n,"phi",jM.phi,t,r,i,s,o),fQ=Ew(n,"theta",jM.theta,t,r,i,s,o),cQ||uQ||fQ}var RP=new Ht,dQ=new ge,hQ=new Si,pQ=new ge,mQ,gQ,vQ;function $Oe(n,e,t,r,i,s,o){var a=n;return a.__damp===void 0&&(a.__damp={position:new ge,rotation:new Si,scale:new ge},n.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?RP.set.apply(RP,DOe(e)):RP.copy(e),RP.decompose(dQ,hQ,pQ),mQ=DG(a.__damp.position,dQ,t,r,i,s,o),gQ=$he(a.__damp.rotation,hQ,t,r,i,s,o),vQ=DG(a.__damp.scale,pQ,t,r,i,s,o),n.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),mQ||gQ||vQ}var yQ=Object.freeze({__proto__:null,rsqw:zOe,exp:Whe,damp:Vs,dampAngle:Ew,damp2:GOe,damp3:DG,damp4:HOe,dampE:VOe,dampC:jOe,dampQ:$he,dampS:WOe,dampM:$Oe});const CW=J.createContext(null);function c3(){return J.useContext(CW)}function XOe({eps:n=1e-5,enabled:e=!0,infinite:t,horizontal:r,pages:i=1,distance:s=1,damping:o=.25,maxSpeed:a=1/0,style:l={},children:c}){const{get:u,setEvents:f,gl:d,size:p,invalidate:m,events:g}=q0(),[y]=J.useState(()=>document.createElement("div")),[x]=J.useState(()=>document.createElement("div")),[_]=J.useState(()=>document.createElement("div")),b=d.domElement.parentNode,w=J.useRef(0),M=J.useMemo(()=>({el:y,eps:n,fill:x,fixed:_,horizontal:r,damping:o,offset:0,delta:0,scroll:w,pages:i,range(R,E,B=0){const D=R-B,N=D+E+B*2;return this.offset<D?0:this.offset>N?1:(this.offset-D)/(N-D)},curve(R,E,B=0){return Math.sin(this.range(R,E,B)*Math.PI)},visible(R,E,B=0){const D=R-B,N=D+E+B*2;return this.offset>=D&&this.offset<=N}}),[n,o,r,i]);J.useEffect(()=>{y.style.position="absolute",y.style.width="100%",y.style.height="100%",y.style[r?"overflowX":"overflowY"]="auto",y.style[r?"overflowY":"overflowX"]="hidden",y.style.top="0px",y.style.left="0px";for(const B in l)y.style[B]=l[B];_.style.position="sticky",_.style.top="0px",_.style.left="0px",_.style.width="100%",_.style.height="100%",_.style.overflow="hidden",y.appendChild(_),x.style.height=r?"100%":`${i*s*100}%`,x.style.width=r?`${i*s*100}%`:"100%",x.style.pointerEvents="none",y.appendChild(x),b.appendChild(y),y[r?"scrollLeft":"scrollTop"]=1;const R=g.connected||d.domElement;requestAnimationFrame(()=>g.connect==null?void 0:g.connect(y));const E=u().events.compute;return f({compute(B,D){const{left:N,top:z}=b.getBoundingClientRect(),H=B.clientX-N,U=B.clientY-z;D.pointer.set(H/D.size.width*2-1,-(U/D.size.height)*2+1),D.raycaster.setFromCamera(D.pointer,D.camera)}}),()=>{b.removeChild(y),f({compute:E}),g.connect==null||g.connect(R)}},[i,s,r,y,x,_,b]),J.useEffect(()=>{if(g.connected===y){const R=p[r?"width":"height"],E=y[r?"scrollWidth":"scrollHeight"],B=E-R;let D=0,N=!0,z=!0;const H=()=>{if(!(!e||z)&&(m(),D=y[r?"scrollLeft":"scrollTop"],w.current=D/B,t)){if(!N){if(D>=B){const W=1-M.offset;y[r?"scrollLeft":"scrollTop"]=1,w.current=M.offset=-W,N=!0}else if(D<=0){const W=1+M.offset;y[r?"scrollLeft":"scrollTop"]=E,w.current=M.offset=W,N=!0}}N&&setTimeout(()=>N=!1,40)}};y.addEventListener("scroll",H,{passive:!0}),requestAnimationFrame(()=>z=!1);const U=W=>y.scrollLeft+=W.deltaY/2;return r&&y.addEventListener("wheel",U,{passive:!0}),()=>{y.removeEventListener("scroll",H),r&&y.removeEventListener("wheel",U)}}},[y,g,p,t,M,m,r,e]);let C=0;return Pc((R,E)=>{C=M.offset,yQ.damp(M,"offset",w.current,o,E,a,void 0,n),yQ.damp(M,"delta",Math.abs(C-M.offset),o,E,a,void 0,n),M.delta>n&&m()}),J.createElement(CW.Provider,{value:M},c)}const JOe=J.forwardRef(({children:n},e)=>{const t=J.useRef(null),r=c3(),{width:i,height:s}=q0(o=>o.viewport);return Pc(()=>{t.current.position.x=r.horizontal?-i*(r.pages-1)*r.offset:0,t.current.position.y=r.horizontal?0:s*(r.pages-1)*r.offset}),J.createElement("group",{ref:EW([e,t])},n)}),YOe=J.forwardRef(({children:n,style:e,...t},r)=>{const i=c3(),s=J.useRef(null),{width:o,height:a}=q0(u=>u.size),l=J.useContext(sI),c=J.useMemo(()=>ife(i.fixed),[i.fixed]);return Pc(()=>{i.delta>i.eps&&(s.current.style.transform=`translate3d(${i.horizontal?-o*(i.pages-1)*i.offset:0}px,${i.horizontal?0:a*(i.pages-1)*-i.offset}px,0)`)}),c.render(J.createElement("div",Wa({ref:EW([r,s]),style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},t),J.createElement(CW.Provider,{value:i},J.createElement(sI.Provider,{value:l},n)))),null}),xQ=J.forwardRef(({html:n,...e},t)=>{const r=n?YOe:JOe;return J.createElement(r,Wa({ref:t},e))});function KOe(n,e,t){return Math.max(e,Math.min(n,t))}const oa={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function _Q(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function bQ(n,e,t,r=.15){return r===0?KOe(n,e,t):n<e?-_Q(e-n,t-e,r)+e:n>t?+_Q(n-t,t-e,r)+t:n}function qOe(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[bQ(e,s,o,r),bQ(t,a,l,i)]}function QOe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ZOe(n){var e=QOe(n,"string");return typeof e=="symbol"?e:String(e)}function rl(n,e,t){return e=ZOe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wQ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ai(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wQ(Object(t),!0).forEach(function(r){rl(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wQ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Xhe={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function SQ(n){return n?n[0].toUpperCase()+n.slice(1):""}const eFe=["enter","leave"];function tFe(n=!1,e){return n&&!eFe.includes(e)}function nFe(n,e="",t=!1){const r=Xhe[n],i=r&&r[e]||e;return"on"+SQ(n)+SQ(i)+(tFe(t,i)?"Capture":"")}const rFe=["gotpointercapture","lostpointercapture"];function iFe(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=rFe.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function sFe(n,e=""){const t=Xhe[n],r=t&&t[e]||e;return n+r}function IO(n){return"touches"in n}function Jhe(n){return IO(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function oFe(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function aFe(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function Yhe(n){return IO(n)?aFe(n)[0]:n}function lFe(n){return oFe(n).map(e=>e.identifier)}function IN(n){const e=Yhe(n);return IO(n)?e.identifier:e.pointerId}function AQ(n){const e=Yhe(n);return[e.clientX,e.clientY]}function cFe(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function aI(n,...e){return typeof n=="function"?n(...e):n}function uFe(){}function fFe(...n){return n.length===0?uFe:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function MQ(n,e){return Object.assign({},e,n||{})}const dFe=32;class hFe{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?aI(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,cFe(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const C=t._delta.map(Math.abs);oa.addTo(t._distance,C)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:u,values:f}=t;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[C,R]=f;d[0]=u[0]!==!1?C-u[0]:0,d[1]=u[1]!==!1?R-u[1]:0}else d[0]=u[0]!==!1?o-u[0]:0,d[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const p=t.offset,m=t._active&&!t._blocked||t.active;m&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=aI(r.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[g,y]=t.offset,[[x,_],[b,w]]=t._bounds;t.overflow=[g<x?-1:g>_?1:0,y<b?-1:y>w?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const M=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=qOe(t._bounds,t.offset,M),t.delta=oa.sub(t.offset,p),this.computeMovement(),m&&(!t.last||s>dFe)){t.delta=oa.sub(t.offset,p);const C=t.delta.map(Math.abs);oa.addTo(t.distance,C),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[C[0]/s,C[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Ai(Ai(Ai({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function pFe([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class mFe extends hFe{constructor(...e){super(...e),rl(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=oa.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=oa.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[Jhe(e)]:r.axisThreshold;t.axis=pFe(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const gFe=n=>n,EQ=.15,Khe={enabled(n=!0){return n},eventOptions(n,e,t){return Ai(Ai({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[EQ,EQ];case!1:return[0,0];default:return oa.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return oa.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||gFe},threshold(n){return oa.toVector(n,0)}},vFe=0,u3=Ai(Ai({},Khe),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=vFe){return n},bounds(n={}){if(typeof n=="function")return s=>u3.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),CQ={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class yFe extends mFe{constructor(...e){super(...e),rl(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=u3.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=IN(e),r._pointerActive=!0,this.computeValues(AQ(e)),this.computeInitial(),t.preventScrollAxis&&Jhe(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=IN(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=AQ(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=oa.sub(s,t._values),this.computeValues(s)),oa.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=IN(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,u]=t._movement,[f,d]=r.swipe.velocity,[p,m]=r.swipe.distance,g=r.swipe.duration;if(t.elapsedTime<g){const y=Math.abs(a/t.timeDelta),x=Math.abs(l/t.timeDelta);y>f&&Math.abs(c)>p&&(t.swipe[0]=Math.sign(a)),x>d&&Math.abs(u)>m&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,xFe(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=CQ[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,oa.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in CQ&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function xFe(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const f3=typeof window<"u"&&window.document&&window.document.createElement;function qhe(){return f3&&"ontouchstart"in window}function _Fe(){return qhe()||f3&&window.navigator.maxTouchPoints>1}function bFe(){return f3&&"onpointerdown"in window}function wFe(){return f3&&"exitPointerLock"in window.document}function SFe(){try{return"constructor"in GestureEvent}catch{return!1}}const yu={isBrowser:f3,gesture:SFe(),touch:qhe(),touchscreen:_Fe(),pointer:bFe(),pointerLock:wFe()},AFe=250,MFe=180,EFe=.5,CFe=50,TFe=250,RFe=10,TQ={mouse:0,touch:0,pen:8},PFe=Ai(Ai({},u3),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&yu.pointerLock,yu.touch&&t?"touch":this.pointerLock?"mouse":yu.pointer&&!i?"pointer":yu.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?AFe:void 0,!(!yu.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=oa.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=EFe,distance:e=CFe,duration:t=TFe}={}){return{velocity:this.transform(oa.toVector(n)),distance:this.transform(oa.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return MFe;case!1:return 0;default:return n}},axisThreshold(n){return n?Ai(Ai({},TQ),n):TQ},keyboardDisplacement(n=RFe){return n}});Ai(Ai({},Khe),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!yu.touch&&yu.gesture)return"gesture";if(yu.touch&&r)return"touch";if(yu.touchscreen){if(yu.pointer)return"pointer";if(yu.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=MQ(aI(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=MQ(aI(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",oa.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Ai(Ai({},u3),{},{mouseOnly:(n=!0)=>n});Ai(Ai({},u3),{},{mouseOnly:(n=!0)=>n});const Qhe=new Map,kG=new Map;function BFe(n){Qhe.set(n.key,n.engine),kG.set(n.key,n.resolver)}const DFe={key:"drag",engine:yFe,resolver:PFe};function kFe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function IFe(n,e){if(n==null)return{};var t=kFe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const LFe={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=yu.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},OFe=["target","eventOptions","window","enabled","transform"];function $D(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=$D(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function FFe(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=IFe(r,OFe);if(t.shared=$D({target:i,eventOptions:s,window:o,enabled:a,transform:l},LFe),e){const u=kG.get(e);t[e]=$D(Ai({shared:t.shared},c),u)}else for(const u in c){const f=kG.get(u);f&&(t[u]=$D(Ai({shared:t.shared},c[u]),f))}return t}class Zhe{constructor(e,t){rl(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=sFe(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Ai(Ai({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class NFe{constructor(){rl(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class UFe{constructor(e){rl(this,"gestures",new Set),rl(this,"_targetEventStore",new Zhe(this)),rl(this,"gestureEventStores",{}),rl(this,"gestureTimeoutStores",{}),rl(this,"handlers",{}),rl(this,"config",{}),rl(this,"pointerIds",new Set),rl(this,"touchIds",new Set),rl(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),zFe(this,e)}setEventIds(e){if(IO(e))return this.touchIds=new Set(lFe(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=FFe(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=RQ(r,a.eventOptions,!!i);if(a.enabled){const c=Qhe.get(o);new c(this,e,o).bind(l)}}const s=RQ(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Ai(Ai({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=fFe(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=iFe(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function N_(n,e){n.gestures.add(e),n.gestureEventStores[e]=new Zhe(n,e),n.gestureTimeoutStores[e]=new NFe}function zFe(n,e){e.drag&&N_(n,"drag"),e.wheel&&N_(n,"wheel"),e.scroll&&N_(n,"scroll"),e.move&&N_(n,"move"),e.pinch&&N_(n,"pinch"),e.hover&&N_(n,"hover")}const RQ=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(c=o.passive)!==null&&c!==void 0?c:e.passive;let d=a?r:nFe(r,i,u);t&&f&&(d+="Passive"),n[d]=n[d]||[],n[d].push(s)};function GFe(n,e={},t,r){const i=Be.useMemo(()=>new UFe(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),Be.useEffect(i.effect.bind(i)),Be.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function HFe(n,e){return BFe(DFe),GFe({drag:n},e||{},"drag")}const VFe=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(s,o,a)=>{let l=s;if(o){const c=(a==null?void 0:a.equalityFn)||Object.is;let u=s(r.getState());l=f=>{const d=s(f);if(!c(u,d)){const p=u;o(u=d,p)}},a!=null&&a.fireImmediately&&o(u,u)}return i(l)},n(e,t,r)},epe=parseInt(e3.replace(/\D+/g,"")),jFe=epe>=125?"uv1":"uv2";function PQ(n,e){if(e===qfe)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===tI||e===kj){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===tI)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var Su=Uint8Array,f1=Uint16Array,IG=Uint32Array,tpe=new Su([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),npe=new Su([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),WFe=new Su([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rpe=function(n,e){for(var t=new f1(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new IG(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},ipe=rpe(tpe,2),spe=ipe[0],$Fe=ipe[1];spe[28]=258,$Fe[258]=28;var XFe=rpe(npe,0),JFe=XFe[0],ope=new f1(32768);for(var $r=0;$r<32768;++$r){var Ym=($r&43690)>>>1|($r&21845)<<1;Ym=(Ym&52428)>>>2|(Ym&13107)<<2,Ym=(Ym&61680)>>>4|(Ym&3855)<<4,ope[$r]=((Ym&65280)>>>8|(Ym&255)<<8)>>>1}var hE=function(n,e,t){for(var r=n.length,i=0,s=new f1(e);i<r;++i)++s[n[i]-1];var o=new f1(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;{a=new f1(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],f=o[n[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)a[ope[f]>>>l]=c}return a},d3=new Su(288);for(var $r=0;$r<144;++$r)d3[$r]=8;for(var $r=144;$r<256;++$r)d3[$r]=9;for(var $r=256;$r<280;++$r)d3[$r]=7;for(var $r=280;$r<288;++$r)d3[$r]=8;var ape=new Su(32);for(var $r=0;$r<32;++$r)ape[$r]=5;var YFe=hE(d3,9),KFe=hE(ape,5),LN=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},hf=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},ON=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},qFe=function(n){return(n/8|0)+(n&7&&1)},QFe=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof f1?f1:n instanceof IG?IG:Su)(t-e);return r.set(n.subarray(e,t)),r},ZFe=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Su(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new Su(r*3));var o=function(K){var le=e.length;if(K>le){var he=new Su(Math.max(le*2,K));he.set(e),e=he}},a=t.f||0,l=t.p||0,c=t.b||0,u=t.l,f=t.d,d=t.m,p=t.n,m=r*8;do{if(!u){t.f=a=hf(n,l,1);var g=hf(n,l+1,3);if(l+=3,g)if(g==1)u=YFe,f=KFe,d=9,p=5;else if(g==2){var y=hf(n,l,31)+257,x=hf(n,l+10,15)+4,_=y+hf(n,l+5,31)+1;l+=14;for(var b=new Su(_),w=new Su(19),M=0;M<x;++M)w[WFe[M]]=hf(n,l+M*3,7);l+=x*3;for(var C=LN(w),R=(1<<C)-1,E=hE(w,C),M=0;M<_;){var B=E[hf(n,l,R)];l+=B&15;var D=B>>>4;if(D<16)b[M++]=D;else{var N=0,z=0;for(D==16?(z=3+hf(n,l,3),l+=2,N=b[M-1]):D==17?(z=3+hf(n,l,7),l+=3):D==18&&(z=11+hf(n,l,127),l+=7);z--;)b[M++]=N}}var H=b.subarray(0,y),U=b.subarray(y);d=LN(H),p=LN(U),u=hE(H,d),f=hE(U,p)}else throw"invalid block type";else{var D=qFe(l)+4,W=n[D-4]|n[D-3]<<8,X=D+W;if(X>r){if(s)throw"unexpected EOF";break}i&&o(c+W),e.set(n.subarray(D,X),c),t.b=c+=W,t.p=l=X*8;continue}if(l>m){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var q=(1<<d)-1,L=(1<<p)-1,I=l;;I=l){var N=u[ON(n,l)&q],O=N>>>4;if(l+=N&15,l>m){if(s)throw"unexpected EOF";break}if(!N)throw"invalid length/literal";if(O<256)e[c++]=O;else if(O==256){I=l,u=null;break}else{var F=O-254;if(O>264){var M=O-257,j=tpe[M];F=hf(n,l,(1<<j)-1)+spe[M],l+=j}var te=f[ON(n,l)&L],re=te>>>4;if(!te)throw"invalid distance";l+=te&15;var U=JFe[re];if(re>3){var j=npe[re];U+=ON(n,l)&(1<<j)-1,l+=j}if(l>m){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var se=c+F;c<se;c+=4)e[c]=e[c-U],e[c+1]=e[c+1-U],e[c+2]=e[c+2-U],e[c+3]=e[c+3-U];c=se}}t.l=u,t.p=I,t.b=c,u&&(a=1,t.m=d,t.d=f,t.n=p)}while(!a);return c==e.length?e:QFe(e,0,c)},e4e=new Su(0),t4e=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function n4e(n,e){return ZFe((t4e(n),n.subarray(2,-4)),e)}var r4e=typeof TextDecoder<"u"&&new TextDecoder,i4e=0;try{r4e.decode(e4e,{stream:!0}),i4e=1}catch{}function lS(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const zy="srgb",Tp="srgb-linear",BQ=3001,s4e=3e3;class TW extends ma{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new u4e(t)}),this.register(function(t){return new f4e(t)}),this.register(function(t){return new _4e(t)}),this.register(function(t){return new b4e(t)}),this.register(function(t){return new w4e(t)}),this.register(function(t){return new h4e(t)}),this.register(function(t){return new p4e(t)}),this.register(function(t){return new m4e(t)}),this.register(function(t){return new g4e(t)}),this.register(function(t){return new c4e(t)}),this.register(function(t){return new v4e(t)}),this.register(function(t){return new d4e(t)}),this.register(function(t){return new x4e(t)}),this.register(function(t){return new y4e(t)}),this.register(function(t){return new a4e(t)}),this.register(function(t){return new S4e(t)}),this.register(function(t){return new A4e(t)})}load(e,t,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=Cp.extractUrlBase(e);o=Cp.resolveURL(c,this.path)}else o=Cp.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Bl(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(lS(new Uint8Array(e.slice(0,4)))===lpe){try{o[Ln.KHR_BINARY_GLTF]=new M4e(e)}catch(c){i&&i(c);return}s=JSON.parse(o[Ln.KHR_BINARY_GLTF].content)}else s=JSON.parse(lS(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new N4e(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case Ln.KHR_MATERIALS_UNLIT:o[u]=new l4e;break;case Ln.KHR_DRACO_MESH_COMPRESSION:o[u]=new E4e(s,this.dracoLoader);break;case Ln.KHR_TEXTURE_TRANSFORM:o[u]=new C4e;break;case Ln.KHR_MESH_QUANTIZATION:o[u]=new T4e;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function o4e(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Ln={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class a4e{constructor(e){this.parser=e,this.name=Ln.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,o=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let a;const l=new ft(16777215);o.color!==void 0&&l.setRGB(o.color[0],o.color[1],o.color[2],Tp);const c=o.range!==void 0?o.range:0;switch(o.type){case"directional":a=new BO(l),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new FC(l),a.distance=c;break;case"spot":a=new PO(l),a.distance=c,o.spot=o.spot||{},o.spot.innerConeAngle=o.spot.innerConeAngle!==void 0?o.spot.innerConeAngle:0,o.spot.outerConeAngle=o.spot.outerConeAngle!==void 0?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),a.decay=2,ep(a,o),o.intensity!==void 0&&(a.intensity=o.intensity),a.name=t.createUniqueName(o.name||"light_"+e),i=Promise.resolve(a),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,i=r.json.nodes[e],s=(i.extensions&&i.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(o){return r._getNodeRef(t.cache,s,o)})}}class l4e{constructor(){this.name=Ln.KHR_MATERIALS_UNLIT}getMaterialType(){return dl}extendParams(e,t,r){const i=[];e.color=new ft(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Tp),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,zy))}return Promise.all(i)}}class c4e{constructor(e){this.parser=e,this.name=Ln.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name].emissiveStrength;return i!==void 0&&(t.emissiveIntensity=i),Promise.resolve()}}class u4e{constructor(e){this.parser=e,this.name=Ln.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Rc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new rt(a,a)}return Promise.all(s)}}class f4e{constructor(e){this.parser=e,this.name=Ln.KHR_MATERIALS_DISPERSION}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Rc}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name];return t.dispersion=i.dispersion!==void 0?i.dispersion:0,Promise.resolve()}}class d4e{constructor(e){this.parser=e,this.name=Ln.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Rc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class h4e{constructor(e){this.parser=e,this.name=Ln.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Rc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ft(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Tp)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,zy)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class p4e{constructor(e){this.parser=e,this.name=Ln.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Rc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class m4e{constructor(e){this.parser=e,this.name=Ln.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Rc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ft().setRGB(a[0],a[1],a[2],Tp),Promise.all(s)}}class g4e{constructor(e){this.parser=e,this.name=Ln.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Rc}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name];return t.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class v4e{constructor(e){this.parser=e,this.name=Ln.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Rc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ft().setRGB(a[0],a[1],a[2],Tp),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,zy)),Promise.all(s)}}class y4e{constructor(e){this.parser=e,this.name=Ln.EXT_MATERIALS_BUMP}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Rc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class x4e{constructor(e){this.parser=e,this.name=Ln.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:Rc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class _4e{constructor(e){this.parser=e,this.name=Ln.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class b4e{constructor(e){this.parser=e,this.name=Ln.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class w4e{constructor(e){this.parser=e,this.name=Ln.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class S4e{constructor(e){this.name=Ln.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,d=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,d,i.mode,i.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(p),u,f,d,i.mode,i.filter),p})})}else return null}}class A4e{constructor(e){this.name=Ln.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const l of i.primitives)if(l.mode!==uu.TRIANGLES&&l.mode!==uu.TRIANGLE_STRIP&&l.mode!==uu.TRIANGLE_FAN&&l.mode!==void 0)return null;const s=r.extensions[this.name].attributes,o=[],a={};for(const l in s)o.push(this.parser.getDependency("accessor",s[l]).then(c=>(a[l]=c,a[l])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(l=>{const c=l.pop(),u=c.isGroup?c.children:[c],f=l[0].count,d=[];for(const p of u){const m=new Ht,g=new ge,y=new Si,x=new ge(1,1,1),_=new Gj(p.geometry,p.material,f);for(let b=0;b<f;b++)a.TRANSLATION&&g.fromBufferAttribute(a.TRANSLATION,b),a.ROTATION&&y.fromBufferAttribute(a.ROTATION,b),a.SCALE&&x.fromBufferAttribute(a.SCALE,b),_.setMatrixAt(b,m.compose(g,y,x));for(const b in a)if(b==="_COLOR_0"){const w=a[b];_.instanceColor=new g0(w.array,w.itemSize,w.normalized)}else b!=="TRANSLATION"&&b!=="ROTATION"&&b!=="SCALE"&&p.geometry.setAttribute(b,a[b]);Rn.prototype.copy.call(_,p),this.parser.assignFinalMaterial(_),d.push(_)}return c.isGroup?(c.clear(),c.add(...d),c):d[0]}))}}const lpe="glTF",WM=12,DQ={JSON:1313821514,BIN:5130562};class M4e{constructor(e){this.name=Ln.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,WM);if(this.header={magic:lS(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==lpe)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-WM,i=new DataView(e,WM);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===DQ.JSON){const l=new Uint8Array(e,WM+s,o);this.content=lS(l)}else if(a===DQ.BIN){const l=WM+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class E4e{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ln.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=LG[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=LG[u]||u.toLowerCase();if(o[u]!==void 0){const d=r.accessors[e.attributes[u]],p=Cw[d.componentType];c[f]=p.name,l[f]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f,d){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const g=p.attributes[m],y=l[m];y!==void 0&&(g.normalized=y)}f(p)},a,c,Tp,d)})})}}class C4e{constructor(){this.name=Ln.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class T4e{constructor(){this.name=Ln.KHR_MESH_QUANTIZATION}}class cpe extends qS{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,d=f*f,p=d*f,m=e*c,g=m-c,y=-2*p+3*d,x=p-d,_=1-y,b=x-d+f;for(let w=0;w!==a;w++){const M=o[g+w+a],C=o[g+w+l]*u,R=o[m+w+a],E=o[m+w]*u;s[w]=_*M+b*C+y*R+x*E}return s}}const R4e=new Si;class P4e extends cpe{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return R4e.fromArray(s).normalize().toArray(s),s}}const uu={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Cw={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},kQ={9728:ns,9729:jr,9984:EC,9985:uO,9986:CC,9987:lm},IQ={33071:zs,33648:tS,10497:eh},FN={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},LG={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...epe>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Km={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},B4e={CUBICSPLINE:void 0,LINEAR:z1,STEP:rS},NN={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function D4e(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new v0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Gp})),n.DefaultMaterial}function Jv(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function ep(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function k4e(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const d=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(d)}if(i){const d=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(d)}if(s){const d=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],d=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=d),n.morphTargetsRelative=!0,n})}function I4e(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function L4e(n){let e;const t=n.extensions&&n.extensions[Ln.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+UN(t.attributes):e=n.indices+":"+UN(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+UN(n.targets[r]);return e}function UN(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function OG(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function O4e(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const F4e=new Ht;class N4e{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new o4e,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new QS(this.options.manager):this.textureLoader=new hhe(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Bl(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return Jv(s,a,i),ep(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ln.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Cp.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=FN[i.type],a=Cw[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new qn(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=FN[i.type],c=Cw[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,d=i.byteOffset||0,p=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,m=i.normalized===!0;let g,y;if(p&&p!==f){const x=Math.floor(d/p),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let b=t.cache.get(_);b||(g=new c(a,x*p,i.count*p/u),b=new o3(g,p/u),t.cache.add(_,b)),y=new sS(b,l,d%p/u,m)}else a===null?g=new c(i.count*l):g=new c(a,d,i.count*l),y=new qn(g,l,m);if(i.sparse!==void 0){const x=FN.SCALAR,_=Cw[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,w=i.sparse.values.byteOffset||0,M=new _(o[1],b,i.sparse.count*x),C=new c(o[2],w,i.sparse.count*l);a!==null&&(y=new qn(y.array.slice(),y.itemSize,y.normalized));for(let R=0,E=M.length;R<E;R++){const B=M[R];if(y.setX(B,C[R*l]),l>=2&&y.setY(B,C[R*l+1]),l>=3&&y.setZ(B,C[R*l+2]),l>=4&&y.setW(B,C[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,i=t.textures[e].source,s=t.images[i];let o=this.textureLoader;if(s.uri){const a=r.manager.getHandler(s.uri);a!==null&&(o=a)}return this.loadTextureImage(e,i,o)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const f=(s.samplers||{})[o.sampler]||{};return u.magFilter=kQ[f.magFilter]||jr,u.minFilter=kQ[f.minFilter]||lm,u.wrapS=IQ[f.wrapS]||eh,u.wrapT=IQ[f.wrapT]||eh,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const d=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(d,p){let m=d;t.isImageBitmapLoader===!0&&(m=function(g){const y=new Kr(g);y.needsUpdate=!0,d(y)}),t.load(Cp.resolveURL(f,s.path),m,void 0,p)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),ep(f,o),f.userData.mimeType=o.mimeType||O4e(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Ln.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Ln.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Ln.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===BQ?zy:Tp),"colorSpace"in o?o.colorSpace=i:o.encoding=i===zy?BQ:s4e),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new SO,Ts.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Vo,Ts.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return v0}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Ln.KHR_MATERIALS_UNLIT]){const f=i[Ln.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new ft(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.setRGB(d[0],d[1],d[2],Tp),a.opacity=d[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,zy)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Cu);const u=s.alphaMode||NN.OPAQUE;if(u===NN.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===NN.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==dl&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new rt(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&o!==dl&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==dl){const f=s.emissiveFactor;a.emissive=new ft().setRGB(f[0],f[1],f[2],Tp)}return s.emissiveTexture!==void 0&&o!==dl&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,zy)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),ep(f,s),t.associations.set(f,{materials:e}),s.extensions&&Jv(i,f,s),f})}createUniqueName(e){const t=Cn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Ln.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return LQ(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=L4e(c),f=i[u];if(f)o.push(f.promise);else{let d;c.extensions&&c.extensions[Ln.KHR_DRACO_MESH_COMPRESSION]?d=s(c):d=LQ(new cn,c,t),i[u]={primitive:c,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?D4e(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let p=0,m=u.length;p<m;p++){const g=u[p],y=o[p];let x;const _=c[p];if(y.mode===uu.TRIANGLES||y.mode===uu.TRIANGLE_STRIP||y.mode===uu.TRIANGLE_FAN||y.mode===void 0)x=s.isSkinnedMesh===!0?new bO(g,_):new Oi(g,_),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),y.mode===uu.TRIANGLE_STRIP?x.geometry=PQ(x.geometry,kj):y.mode===uu.TRIANGLE_FAN&&(x.geometry=PQ(x.geometry,tI));else if(y.mode===uu.LINES)x=new Qf(g,_);else if(y.mode===uu.LINE_STRIP)x=new th(g,_);else if(y.mode===uu.LINE_LOOP)x=new Hj(g,_);else if(y.mode===uu.POINTS)x=new Vj(g,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(x.geometry.morphAttributes).length>0&&I4e(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),ep(x,s),y.extensions&&Jv(i,x,y),t.assignFinalMaterial(x),f.push(x)}for(let p=0,m=f.length;p<m;p++)t.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return s.extensions&&Jv(i,f[0],s),f[0];const d=new Pf;s.extensions&&Jv(i,d,s),t.associations.set(d,{meshes:e});for(let p=0,m=f.length;p<m;p++)d.add(f[p]);return d})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new As(ll.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new mx(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),ep(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const d=new Ht;s!==null&&d.fromArray(s.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new wO(a,l)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let f=0,d=i.channels.length;f<d;f++){const p=i.channels[f],m=i.samplers[p.sampler],g=p.target,y=g.node,x=i.parameters!==void 0?i.parameters[m.input]:m.input,_=i.parameters!==void 0?i.parameters[m.output]:m.output;g.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",x)),l.push(this.getDependency("accessor",_)),c.push(m),u.push(g))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(f){const d=f[0],p=f[1],m=f[2],g=f[3],y=f[4],x=[];for(let _=0,b=d.length;_<b;_++){const w=d[_],M=p[_],C=m[_],R=g[_],E=y[_];if(w===void 0)continue;w.updateMatrix&&w.updateMatrix();const B=r._createAnimationTracks(w,M,C,R,E);if(B)for(let D=0;D<B.length;D++)x.push(B[D])}return new H1(s,void 0,x)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],d=c[2];d!==null&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(d,F4e)});for(let p=0,m=f.length;p<m;p++)u.add(f[p]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new oS:c.length>1?u=new Pf:c.length===1?u=c[0]:u=new Rn,u!==c[0])for(let f=0,d=c.length;f<d;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),ep(u,s),s.extensions&&Jv(r,u,s),s.matrix!==void 0){const f=new Ht;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Pf;r.name&&(s.name=i.createUniqueName(r.name)),ep(s,r),r.extensions&&Jv(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[d,p]of i.associations)(d instanceof Ts||d instanceof Kr)&&f.set(d,p);return u.traverse(d=>{const p=i.associations.get(d);p!=null&&f.set(d,p)}),f};return i.associations=c(s),s})}_createAnimationTracks(e,t,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];Km[s.path]===Km.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(a);let c;switch(Km[s.path]){case Km.weights:c=y0;break;case Km.rotation:c=Vp;break;case Km.position:case Km.scale:c=x0;break;default:switch(r.itemSize){case 1:c=y0;break;case 2:case 3:default:c=x0;break}break}const u=i.interpolation!==void 0?B4e[i.interpolation]:z1,f=this._getArrayFromAccessor(r);for(let d=0,p=l.length;d<p;d++){const m=new c(l[d]+"."+Km[s.path],t.array,f,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(m),o.push(m)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=OG(t.constructor),i=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=t[s]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(t){const r=this instanceof Vp?P4e:cpe;return new r(this.times,this.values,this.getValueSize()/3,t)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function U4e(n,e,t){const r=e.attributes,i=new um;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new ge(l[0],l[1],l[2]),new ge(c[0],c[1],c[2])),a.normalized){const u=OG(Cw[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new ge,l=new ge;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const d=t.json.accessors[f.POSITION],p=d.min,m=d.max;if(p!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(m[2]))),d.normalized){const g=OG(Cw[d.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new fm;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function LQ(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=LG[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return ep(n,e),U4e(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?k4e(n,e.targets,t):n})}function upe(n,e,t){const r=t.length-n-1;if(e>=t[r])return r-1;if(e<=t[n])return n;let i=n,s=r,o=Math.floor((i+s)/2);for(;e<t[o]||e>=t[o+1];)e<t[o]?s=o:i=o,o=Math.floor((i+s)/2);return o}function z4e(n,e,t,r){const i=[],s=[],o=[];i[0]=1;for(let a=1;a<=t;++a){s[a]=e-r[n+1-a],o[a]=r[n+a]-e;let l=0;for(let c=0;c<a;++c){const u=o[c+1],f=s[a-c],d=i[c]/(u+f);i[c]=l+u*d,l=f*d}i[a]=l}return i}function G4e(n,e,t,r){const i=upe(n,r,e),s=z4e(i,r,n,e),o=new wn(0,0,0,0);for(let a=0;a<=n;++a){const l=t[i-n+a],c=s[a],u=l.w*c;o.x+=l.x*u,o.y+=l.y*u,o.z+=l.z*u,o.w+=l.w*c}return o}function H4e(n,e,t,r,i){const s=[];for(let f=0;f<=t;++f)s[f]=0;const o=[];for(let f=0;f<=r;++f)o[f]=s.slice(0);const a=[];for(let f=0;f<=t;++f)a[f]=s.slice(0);a[0][0]=1;const l=s.slice(0),c=s.slice(0);for(let f=1;f<=t;++f){l[f]=e-i[n+1-f],c[f]=i[n+f]-e;let d=0;for(let p=0;p<f;++p){const m=c[p+1],g=l[f-p];a[f][p]=m+g;const y=a[p][f-1]/a[f][p];a[p][f]=d+m*y,d=g*y}a[f][f]=d}for(let f=0;f<=t;++f)o[0][f]=a[f][t];for(let f=0;f<=t;++f){let d=0,p=1;const m=[];for(let g=0;g<=t;++g)m[g]=s.slice(0);m[0][0]=1;for(let g=1;g<=r;++g){let y=0;const x=f-g,_=t-g;f>=g&&(m[p][0]=m[d][0]/a[_+1][x],y=m[p][0]*a[x][_]);const b=x>=-1?1:-x,w=f-1<=_?g-1:t-f;for(let C=b;C<=w;++C)m[p][C]=(m[d][C]-m[d][C-1])/a[_+1][x+C],y+=m[p][C]*a[x+C][_];f<=_&&(m[p][g]=-m[d][g-1]/a[_+1][f],y+=m[p][g]*a[f][_]),o[g][f]=y;const M=d;d=p,p=M}}let u=t;for(let f=1;f<=r;++f){for(let d=0;d<=t;++d)o[f][d]*=u;u*=t-f}return o}function V4e(n,e,t,r,i){const s=i<n?i:n,o=[],a=upe(n,r,e),l=H4e(a,r,n,s,e),c=[];for(let u=0;u<t.length;++u){const f=t[u].clone(),d=f.w;f.x*=d,f.y*=d,f.z*=d,c[u]=f}for(let u=0;u<=s;++u){const f=c[a-n].clone().multiplyScalar(l[u][0]);for(let d=1;d<=n;++d)f.add(c[a-n+d].clone().multiplyScalar(l[u][d]));o[u]=f}for(let u=s+1;u<=i+1;++u)o[u]=new wn(0,0,0);return o}function j4e(n,e){let t=1;for(let i=2;i<=n;++i)t*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=n-e;++i)r*=i;return t/r}function W4e(n){const e=n.length,t=[],r=[];for(let s=0;s<e;++s){const o=n[s];t[s]=new ge(o.x,o.y,o.z),r[s]=o.w}const i=[];for(let s=0;s<e;++s){const o=t[s].clone();for(let a=1;a<=s;++a)o.sub(i[s-a].clone().multiplyScalar(j4e(s,a)*r[a]));i[s]=o.divideScalar(r[0])}return i}function $4e(n,e,t,r,i){const s=V4e(n,e,t,r,i);return W4e(s)}class OQ extends $u{constructor(e,t,r,i,s){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=s||this.knots.length-1;for(let o=0;o<r.length;++o){const a=r[o];this.controlPoints[o]=new wn(a.x,a.y,a.z,a.w)}}getPoint(e,t){const r=t||new ge,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=G4e(this.degree,this.knots,this.controlPoints,i);return s.w!=1&&s.divideScalar(s.w),r.set(s.x,s.y,s.z)}getTangent(e,t){const r=t||new ge,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=$4e(this.degree,this.knots,this.controlPoints,i,1);return r.copy(s[1]).normalize(),r}}let kn,qi,tl;class RW extends ma{constructor(e){super(e)}load(e,t,r,i){const s=this,o=s.path===""?Cp.extractUrlBase(e):s.path,a=new Bl(this.manager);a.setPath(s.path),a.setResponseType("arraybuffer"),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(l,o))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e,t){if(Q4e(e))kn=new q4e().parse(e);else{const i=ppe(e);if(!Z4e(i))throw new Error("THREE.FBXLoader: Unknown format.");if(NQ(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+NQ(i));kn=new K4e().parse(i)}const r=new QS(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new X4e(r,this.manager).parse(kn)}}class X4e{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){qi=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),i=this.parseDeformers(),s=new J4e().parse(i);return this.parseScene(i,s,r),tl}parseConnections(){const e=new Map;return"Connections"in kn&&kn.Connections.connections.forEach(function(t){const r=t[0],i=t[1],s=t[2];e.has(r)||e.set(r,{parents:[],children:[]});const o={ID:i,relationship:s};e.get(r).parents.push(o),e.has(i)||e.set(i,{parents:[],children:[]});const a={ID:r,relationship:s};e.get(i).children.push(a)}),e}parseImages(){const e={},t={};if("Video"in kn.Objects){const r=kn.Objects.Video;for(const i in r){const s=r[i],o=parseInt(i);if(e[o]=s.RelativeFilename||s.Filename,"Content"in s){const a=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,l=typeof s.Content=="string"&&s.Content!=="";if(a||l){const c=this.parseImage(r[i]);t[s.RelativeFilename||s.Filename]=c}}}}for(const r in e){const i=e[r];t[i]!==void 0?e[r]=t[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const t=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let s;switch(i){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),s="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof t=="string")return"data:"+s+";base64,"+t;{const o=new Uint8Array(t);return window.URL.createObjectURL(new Blob([o],{type:s}))}}parseTextures(e){const t=new Map;if("Texture"in kn.Objects){const r=kn.Objects.Texture;for(const i in r){const s=this.parseTexture(r[i],e);t.set(parseInt(i),s)}}return t}parseTexture(e,t){const r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,s=e.WrapModeV,o=i!==void 0?i.value:0,a=s!==void 0?s.value:0;if(r.wrapS=o===0?eh:zs,r.wrapT=a===0?eh:zs,"Scaling"in e){const l=e.Scaling.value;r.repeat.x=l[0],r.repeat.y=l[1]}return r}loadTexture(e,t){let r;const i=this.textureLoader.path,s=qi.get(e.id).children;s!==void 0&&s.length>0&&t[s[0].ID]!==void 0&&(r=t[s[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let o;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new Kr):(l.setPath(this.textureLoader.path),o=l.load(r))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new Kr):o=this.textureLoader.load(r);return this.textureLoader.setPath(i),o}parseMaterials(e){const t=new Map;if("Material"in kn.Objects){const r=kn.Objects.Material;for(const i in r){const s=this.parseMaterial(r[i],e);s!==null&&t.set(parseInt(i),s)}}return t}parseMaterial(e,t){const r=e.id,i=e.attrName;let s=e.ShadingModel;if(typeof s=="object"&&(s=s.value),!qi.has(r))return null;const o=this.parseParameters(e,t,r);let a;switch(s.toLowerCase()){case"phong":a=new fE;break;case"lambert":a=new cW;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),a=new fE;break}return a.setValues(o),a.name=i,a}parseParameters(e,t,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new ft().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new ft().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new ft().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new ft().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new ft().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new ft().fromArray(e.SpecularColor.value));const s=this;return qi.get(r).children.forEach(function(o){const a=o.relationship;switch(a){case"Bump":i.bumpMap=s.getTexture(t,o.ID);break;case"Maya|TEX_ao_map":i.aoMap=s.getTexture(t,o.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=s.getTexture(t,o.ID),i.map!==void 0&&("colorSpace"in i.map?i.map.colorSpace="srgb":i.map.encoding=3001);break;case"DisplacementColor":i.displacementMap=s.getTexture(t,o.ID);break;case"EmissiveColor":i.emissiveMap=s.getTexture(t,o.ID),i.emissiveMap!==void 0&&("colorSpace"in i.emissiveMap?i.emissiveMap.colorSpace="srgb":i.emissiveMap.encoding=3001);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=s.getTexture(t,o.ID);break;case"ReflectionColor":i.envMap=s.getTexture(t,o.ID),i.envMap!==void 0&&(i.envMap.mapping=eS,"colorSpace"in i.envMap?i.envMap.colorSpace="srgb":i.envMap.encoding=3001);break;case"SpecularColor":i.specularMap=s.getTexture(t,o.ID),i.specularMap!==void 0&&("colorSpace"in i.specularMap?i.specularMap.colorSpace="srgb":i.specularMap.encoding=3001);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=s.getTexture(t,o.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),i}getTexture(e,t){return"LayeredTexture"in kn.Objects&&t in kn.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=qi.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in kn.Objects){const r=kn.Objects.Deformer;for(const i in r){const s=r[i],o=qi.get(parseInt(i));if(s.attrType==="Skin"){const a=this.parseSkeleton(o,r);a.ID=i,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=o.parents[0].ID,e[i]=a}else if(s.attrType==="BlendShape"){const a={id:i};a.rawTargets=this.parseMorphTargets(o,r),a.id=i,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach(function(i){const s=t[i.ID];if(s.attrType!=="Cluster")return;const o={ID:i.ID,indices:[],weights:[],transformLink:new Ht().fromArray(s.TransformLink.a)};"Indexes"in s&&(o.indices=s.Indexes.a,o.weights=s.Weights.a),r.push(o)}),{rawBones:r,bones:[]}}parseMorphTargets(e,t){const r=[];for(let i=0;i<e.children.length;i++){const s=e.children[i],o=t[s.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(o.attrType!=="BlendShapeChannel")return;a.geoID=qi.get(parseInt(s.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,r.push(a)}return r}parseScene(e,t,r){tl=new Pf;const i=this.parseModels(e.skeletons,t,r),s=kn.Objects.Model,o=this;i.forEach(function(l){const c=s[l.ID];o.setLookAtProperties(l,c),qi.get(l.ID).parents.forEach(function(u){const f=i.get(u.ID);f!==void 0&&f.add(l)}),l.parent===null&&tl.add(l)}),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),tl.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=dpe(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const a=new Y4e().parse();tl.children.length===1&&tl.children[0].isGroup&&(tl.children[0].animations=a,tl=tl.children[0]),tl.animations=a}parseModels(e,t,r){const i=new Map,s=kn.Objects.Model;for(const o in s){const a=parseInt(o),l=s[o],c=qi.get(a);let u=this.buildSkeleton(c,e,a,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,r);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new oS;break;case"Null":default:u=new Pf;break}u.name=l.attrName?Cn.sanitizeNodeName(l.attrName):"",u.ID=a}this.getTransformData(u,l),i.set(a,u)}return i}buildSkeleton(e,t,r,i){let s=null;return e.parents.forEach(function(o){for(const a in t){const l=t[a];l.rawBones.forEach(function(c,u){if(c.ID===o.ID){const f=s;s=new oS,s.matrixWorld.copy(c.transformLink),s.name=i?Cn.sanitizeNodeName(i):"",s.ID=r,l.bones[u]=s,f!==null&&s.add(f)}})}}),s}createCamera(e){let t,r;if(e.children.forEach(function(i){const s=kn.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new Rn;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let s=1;r.NearPlane!==void 0&&(s=r.NearPlane.value/1e3);let o=1e3;r.FarPlane!==void 0&&(o=r.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(a=r.AspectWidth.value,l=r.AspectHeight.value);const c=a/l;let u=45;r.FieldOfView!==void 0&&(u=r.FieldOfView.value);const f=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:t=new As(u,c,s,o),f!==null&&t.setFocalLength(f);break;case 1:t=new mx(-a/2,a/2,l/2,-l/2,s,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),t=new Rn;break}}return t}createLight(e){let t,r;if(e.children.forEach(function(i){const s=kn.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new Rn;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let s=16777215;r.Color!==void 0&&(s=new ft().fromArray(r.Color.value));let o=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(o=0);let a=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?a=0:a=r.FarAttenuationEnd.value);const l=1;switch(i){case 0:t=new FC(s,o,a,l);break;case 1:t=new BO(s,o);break;case 2:let c=Math.PI/3;r.InnerAngle!==void 0&&(c=ll.degToRad(r.InnerAngle.value));let u=0;r.OuterAngle!==void 0&&(u=ll.degToRad(r.OuterAngle.value),u=Math.max(u,1)),t=new PO(s,o,a,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new FC(s,o);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,r){let i,s=null,o=null;const a=[];return e.children.forEach(function(l){t.has(l.ID)&&(s=t.get(l.ID)),r.has(l.ID)&&a.push(r.get(l.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new fE({color:13421772}),a.push(o)),"color"in s.attributes&&a.forEach(function(l){l.vertexColors=!0}),s.FBX_Deformer?(i=new bO(s,o),i.normalizeSkinWeights()):i=new Oi(s,o),i}createCurve(e,t){const r=e.children.reduce(function(s,o){return t.has(o.ID)&&(s=t.get(o.ID)),s},null),i=new Vo({color:3342591,linewidth:1});return new th(r,i)}getTransformData(e,t){const r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?r.eulerOrder=hpe(t.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){"LookAtProperty"in t&&qi.get(e.ID).children.forEach(function(r){if(r.relationship==="LookAtProperty"){const i=kn.Objects.Model[r.ID];if("Lcl_Translation"in i){const s=i.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(s),tl.add(e.target)):e.lookAt(new ge().fromArray(s))}}})}bindSkeleton(e,t,r){const i=this.parsePoseNodes();for(const s in e){const o=e[s];qi.get(parseInt(o.ID)).parents.forEach(function(a){if(t.has(a.ID)){const l=a.ID;qi.get(l).parents.forEach(function(c){r.has(c.ID)&&r.get(c.ID).bind(new wO(o.bones),i[c.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in kn.Objects){const t=kn.Objects.Pose;for(const r in t)if(t[r].attrType==="BindPose"&&t[r].NbPoseNodes>0){const i=t[r].PoseNode;Array.isArray(i)?i.forEach(function(s){e[s.Node]=new Ht().fromArray(s.Matrix.a)}):e[i.Node]=new Ht().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in kn&&"AmbientColor"in kn.GlobalSettings){const e=kn.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],i=e[2];if(t!==0||r!==0||i!==0){const s=new ft(t,r,i);tl.add(new gW(s,1))}}}}class J4e{parse(e){const t=new Map;if("Geometry"in kn.Objects){const r=kn.Objects.Geometry;for(const i in r){const s=qi.get(parseInt(i)),o=this.parseGeometry(s,r[i],e);t.set(parseInt(i),o)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const i=r.skeletons,s=[],o=e.parents.map(function(f){return kn.Objects.Model[f.ID]});if(o.length===0)return;const a=e.children.reduce(function(f,d){return i[d.ID]!==void 0&&(f=i[d.ID]),f},null);e.children.forEach(function(f){r.morphTargets[f.ID]!==void 0&&s.push(r.morphTargets[f.ID])});const l=o[0],c={};"RotationOrder"in l&&(c.eulerOrder=hpe(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=dpe(c);return this.genGeometry(t,a,s,u)}genGeometry(e,t,r,i){const s=new cn;e.attrName&&(s.name=e.attrName);const o=this.parseGeoNode(e,t),a=this.genBuffers(o),l=new It(a.vertex,3);if(l.applyMatrix4(i),s.setAttribute("position",l),a.colors.length>0&&s.setAttribute("color",new It(a.colors,3)),t&&(s.setAttribute("skinIndex",new hO(a.weightsIndices,4)),s.setAttribute("skinWeight",new It(a.vertexWeights,4)),s.FBX_Deformer=t),a.normal.length>0){const c=new sa().getNormalMatrix(i),u=new It(a.normal,3);u.applyNormalMatrix(c),s.setAttribute("normal",u)}if(a.uvs.forEach(function(c,u){jFe==="uv2"&&u++;const f=u===0?"uv":`uv${u}`;s.setAttribute(f,new It(a.uvs[u],2))}),o.material&&o.material.mappingType!=="AllSame"){let c=a.materialIndex[0],u=0;if(a.materialIndex.forEach(function(f,d){f!==c&&(s.addGroup(u,d-u,c),c=f,u=d)}),s.groups.length>0){const f=s.groups[s.groups.length-1],d=f.start+f.count;d!==a.materialIndex.length&&s.addGroup(d,a.materialIndex.length-d,c)}s.groups.length===0&&s.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(s,e,r,i),s}parseGeoNode(e,t){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},t!==null&&(r.skeleton=t,t.rawBones.forEach(function(i,s){i.indices.forEach(function(o,a){r.weightTable[o]===void 0&&(r.weightTable[o]=[]),r.weightTable[o].push({id:s,weight:i.weights[a]})})})),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,s=!1,o=[],a=[],l=[],c=[],u=[],f=[];const d=this;return e.vertexIndices.forEach(function(p,m){let g,y=!1;p<0&&(p=p^-1,y=!0);let x=[],_=[];if(o.push(p*3,p*3+1,p*3+2),e.color){const b=PP(m,r,p,e.color);l.push(b[0],b[1],b[2])}if(e.skeleton){if(e.weightTable[p]!==void 0&&e.weightTable[p].forEach(function(b){_.push(b.weight),x.push(b.id)}),_.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const b=[0,0,0,0],w=[0,0,0,0];_.forEach(function(M,C){let R=M,E=x[C];w.forEach(function(B,D,N){if(R>B){N[D]=R,R=B;const z=b[D];b[D]=E,E=z}})}),x=b,_=w}for(;_.length<4;)_.push(0),x.push(0);for(let b=0;b<4;++b)u.push(_[b]),f.push(x[b])}if(e.normal){const b=PP(m,r,p,e.normal);a.push(b[0],b[1],b[2])}e.material&&e.material.mappingType!=="AllSame"&&(g=PP(m,r,p,e.material)[0]),e.uv&&e.uv.forEach(function(b,w){const M=PP(m,r,p,b);c[w]===void 0&&(c[w]=[]),c[w].push(M[0]),c[w].push(M[1])}),i++,y&&(d.genFace(t,e,o,g,a,l,c,u,f,i),r++,i=0,o=[],a=[],l=[],c=[],u=[],f=[])}),t}genFace(e,t,r,i,s,o,a,l,c,u){for(let f=2;f<u;f++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[(f-1)*3]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+1]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+2]]),e.vertex.push(t.vertexPositions[r[f*3]]),e.vertex.push(t.vertexPositions[r[f*3+1]]),e.vertex.push(t.vertexPositions[r[f*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(f-1)*4]),e.vertexWeights.push(l[(f-1)*4+1]),e.vertexWeights.push(l[(f-1)*4+2]),e.vertexWeights.push(l[(f-1)*4+3]),e.vertexWeights.push(l[f*4]),e.vertexWeights.push(l[f*4+1]),e.vertexWeights.push(l[f*4+2]),e.vertexWeights.push(l[f*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(f-1)*4]),e.weightsIndices.push(c[(f-1)*4+1]),e.weightsIndices.push(c[(f-1)*4+2]),e.weightsIndices.push(c[(f-1)*4+3]),e.weightsIndices.push(c[f*4]),e.weightsIndices.push(c[f*4+1]),e.weightsIndices.push(c[f*4+2]),e.weightsIndices.push(c[f*4+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[(f-1)*3]),e.colors.push(o[(f-1)*3+1]),e.colors.push(o[(f-1)*3+2]),e.colors.push(o[f*3]),e.colors.push(o[f*3+1]),e.colors.push(o[f*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(s[0]),e.normal.push(s[1]),e.normal.push(s[2]),e.normal.push(s[(f-1)*3]),e.normal.push(s[(f-1)*3+1]),e.normal.push(s[(f-1)*3+2]),e.normal.push(s[f*3]),e.normal.push(s[f*3+1]),e.normal.push(s[f*3+2])),t.uv&&t.uv.forEach(function(d,p){e.uvs[p]===void 0&&(e.uvs[p]=[]),e.uvs[p].push(a[p][0]),e.uvs[p].push(a[p][1]),e.uvs[p].push(a[p][(f-1)*2]),e.uvs[p].push(a[p][(f-1)*2+1]),e.uvs[p].push(a[p][f*2]),e.uvs[p].push(a[p][f*2+1])})}addMorphTargets(e,t,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;r.forEach(function(o){o.rawTargets.forEach(function(a){const l=kn.Objects.Geometry[a.geoID];l!==void 0&&s.genMorphGeometry(e,t,l,i,a.name)})})}genMorphGeometry(e,t,r,i,s){const o=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],a=r.Vertices!==void 0?r.Vertices.a:[],l=r.Indexes!==void 0?r.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let m=0;m<l.length;m++){const g=l[m]*3;u[g]=a[m*3],u[g+1]=a[m*3+1],u[g+2]=a[m*3+2]}const f={vertexIndices:o,vertexPositions:u},d=this.genBuffers(f),p=new It(d.vertex,3);p.name=s||r.attrName,p.applyMatrix4(i),e.morphAttributes.position.push(p)}parseNormals(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let s=[];return r==="IndexToDirect"&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:s,mappingType:t,referenceType:r}}parseUVs(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let s=[];return r==="IndexToDirect"&&(s=e.UVIndex.a),{dataSize:2,buffer:i,indices:s,mappingType:t,referenceType:r}}parseVertexColors(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let s=[];return r==="IndexToDirect"&&(s=e.ColorIndex.a),{dataSize:4,buffer:i,indices:s,mappingType:t,referenceType:r}}parseMaterialIndices(e){const t=e.MappingInformationType,r=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,s=[];for(let o=0;o<i.length;++o)s.push(o);return{dataSize:1,buffer:i,indices:s,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(OQ===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new cn;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new cn;const r=t-1,i=e.KnotVector.a,s=[],o=e.Points.a;for(let u=0,f=o.length;u<f;u+=4)s.push(new wn().fromArray(o,u));let a,l;if(e.Form==="Closed")s.push(s[0]);else if(e.Form==="Periodic"){a=r,l=i.length-1-a;for(let u=0;u<r;++u)s.push(s[u])}const c=new OQ(r,i,s,a,l).getPoints(s.length*12);return new cn().setFromPoints(c)}}class Y4e{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const r in t){const i=t[r],s=this.addClip(i);e.push(s)}return e}parseClips(){if(kn.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=kn.Objects.AnimationCurveNode,t=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const s={id:i.id,attr:i.attrName,curves:{}};t.set(s.id,s)}}return t}parseAnimationCurves(e){const t=kn.Objects.AnimationCurve;for(const r in t){const i={id:t[r].id,times:t[r].KeyTime.a.map(eNe),values:t[r].KeyValueFloat.a},s=qi.get(i.id);if(s!==void 0){const o=s.parents[0].ID,a=s.parents[0].relationship;a.match(/X/)?e.get(o).curves.x=i:a.match(/Y/)?e.get(o).curves.y=i:a.match(/Z/)?e.get(o).curves.z=i:a.match(/d|DeformPercent/)&&e.has(o)&&(e.get(o).curves.morph=i)}}}parseAnimationLayers(e){const t=kn.Objects.AnimationLayer,r=new Map;for(const i in t){const s=[],o=qi.get(parseInt(i));o!==void 0&&(o.children.forEach(function(a,l){if(e.has(a.ID)){const c=e.get(a.ID);if(c.curves.x!==void 0||c.curves.y!==void 0||c.curves.z!==void 0){if(s[l]===void 0){const u=qi.get(a.ID).parents.filter(function(f){return f.relationship!==void 0})[0].ID;if(u!==void 0){const f=kn.Objects.Model[u.toString()];if(f===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",a);return}const d={modelName:f.attrName?Cn.sanitizeNodeName(f.attrName):"",ID:f.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};tl.traverse(function(p){p.ID===f.id&&(d.transform=p.matrix,p.userData.transformData&&(d.eulerOrder=p.userData.transformData.eulerOrder))}),d.transform||(d.transform=new Ht),"PreRotation"in f&&(d.preRotation=f.PreRotation.value),"PostRotation"in f&&(d.postRotation=f.PostRotation.value),s[l]=d}}s[l]&&(s[l][c.attr]=c)}else if(c.curves.morph!==void 0){if(s[l]===void 0){const u=qi.get(a.ID).parents.filter(function(y){return y.relationship!==void 0})[0].ID,f=qi.get(u).parents[0].ID,d=qi.get(f).parents[0].ID,p=qi.get(d).parents[0].ID,m=kn.Objects.Model[p],g={modelName:m.attrName?Cn.sanitizeNodeName(m.attrName):"",morphName:kn.Objects.Deformer[u].attrName};s[l]=g}s[l][c.attr]=c}}}),r.set(parseInt(i),s))}return r}parseAnimStacks(e){const t=kn.Objects.AnimationStack,r={};for(const i in t){const s=qi.get(parseInt(i)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(s[0].ID);r[i]={name:t[i].attrName,layer:o}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach(function(i){t=t.concat(r.generateTracks(i))}),new H1(e.name,-1,t)}generateTracks(e){const t=[];let r=new ge,i=new Si,s=new ge;if(e.transform&&e.transform.decompose(r,i,s),r=r.toArray(),i=new lc().setFromQuaternion(i,e.eulerOrder).toArray(),s=s.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");o!==void 0&&t.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&t.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,s,"scale");o!==void 0&&t.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&t.push(o)}return t}generateVectorTrack(e,t,r,i){const s=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(s,t,r);return new x0(e+"."+i,s,o)}generateRotationTrack(e,t,r,i,s,o){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(ll.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(ll.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(ll.degToRad));const a=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(a,t,r);i!==void 0&&(i=i.map(ll.degToRad),i.push(o),i=new lc().fromArray(i),i=new Si().setFromEuler(i)),s!==void 0&&(s=s.map(ll.degToRad),s.push(o),s=new lc().fromArray(s),s=new Si().setFromEuler(s).invert());const c=new Si,u=new lc,f=[];for(let d=0;d<l.length;d+=3)u.set(l[d],l[d+1],l[d+2],o),c.setFromEuler(u),i!==void 0&&c.premultiply(i),s!==void 0&&c.multiply(s),c.toArray(f,d/3*4);return new Vp(e+".quaternion",a,f)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,r=t.values.map(function(s){return s/100}),i=tl.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new y0(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(r,i){return r-i}),t.length>1){let r=1,i=t[0];for(let s=1;s<t.length;s++){const o=t[s];o!==i&&(t[r]=o,i=o,r++)}t=t.slice(0,r)}return t}getKeyframeTrackValues(e,t,r){const i=r,s=[];let o=-1,a=-1,l=-1;return e.forEach(function(c){if(t.x&&(o=t.x.times.indexOf(c)),t.y&&(a=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),o!==-1){const u=t.x.values[o];s.push(u),i[0]=u}else s.push(i[0]);if(a!==-1){const u=t.y.values[a];s.push(u),i[1]=u}else s.push(i[1]);if(l!==-1){const u=t.z.values[l];s.push(u),i[2]=u}else s.push(i[2])}),s}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const r=e.values[t-1],i=e.values[t]-r,s=Math.abs(i);if(s>=180){const o=s/180,a=i/o;let l=r+a;const c=e.times[t-1],u=(e.times[t]-c)/o;let f=c+u;const d=[],p=[];for(;f<e.times[t];)d.push(f),f+=u,p.push(l),l+=a;e.times=UQ(e.times,t,d),e.values=UQ(e.values,t,p)}}}}class K4e{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new fpe,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,s){const o=i.match(/^[\s\t]*;/),a=i.match(/^[\s\t]*$/);if(o||a)return;const l=i.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=i.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=i.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(i,l):c?t.parseNodeProperty(i,c,r[++s]):u?t.popStack():i.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,t){const r=t[1].trim().replace(/^"/,"").replace(/"$/,""),i=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:r},o=this.parseNodeAttr(i),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,s):r in a?(r==="PoseNode"?a.PoseNode.push(s):a[r].id!==void 0&&(a[r]={},a[r][a[r].id]=a[r]),o.id!==""&&(a[r][o.id]=s)):typeof o.id=="number"?(a[r]={},a[r][o.id]=s):r!=="Properties70"&&(r==="PoseNode"?a[r]=[s]:a[r]=s),typeof o.id=="number"&&(s.id=o.id),o.name!==""&&(s.attrName=o.name),o.type!==""&&(s.attrType=o.type),this.pushStack(s)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:t,name:r,type:i}}parseNodeProperty(e,t,r){let i=t[1].replace(/^"/,"").replace(/"$/,"").trim(),s=t[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&s===","&&(s=r.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if(o.name==="Properties70"){this.parseNodeSpecialProperty(e,i,s);return}if(i==="C"){const a=s.split(",").slice(1),l=parseInt(a[0]),c=parseInt(a[1]);let u=s.split(",").slice(3);u=u.map(function(f){return f.trim().replace(/^"/,"")}),i="connections",s=[l,c],nNe(s,u),o[i]===void 0&&(o[i]=[])}i==="Node"&&(o.id=s),i in o&&Array.isArray(o[i])?o[i].push(s):i!=="a"?o[i]=s:o.a=s,this.setCurrentProp(o,i),i==="a"&&s.slice(-1)!==","&&(o.a=GN(s))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=GN(t.a))}parseNodeSpecialProperty(e,t,r){const i=r.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=i[0],o=i[1],a=i[2],l=i[3];let c=i[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=GN(c);break}this.getPrevNode()[s]={type:o,type2:a,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),s)}}class q4e{parse(e){const t=new FQ(e);t.skip(23);const r=t.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new fpe;for(;!this.endOfContent(t);){const s=this.parseNode(t,r);s!==null&&i.add(s.name,s)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const r={},i=t>=7500?e.getUint64():e.getUint32(),s=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(i===0)return null;const l=[];for(let d=0;d<s;d++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",f=l.length>2?l[2]:"";for(r.singleProperty=s===1&&e.getOffset()===i;i>e.getOffset();){const d=this.parseNode(e,t);d!==null&&this.parseSubNode(a,r,d)}return r.propertyList=l,typeof c=="number"&&(r.id=c),u!==""&&(r.attrName=u),f!==""&&(r.attrType=f),a!==""&&(r.name=a),r}parseSubNode(e,t,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(t[r.name]=r,r.a=i):t[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(s,o){o!==0&&i.push(s)}),t.connections===void 0&&(t.connections=[]),t.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(i){t[i]=r[i]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],s=r.propertyList[1];const o=r.propertyList[2],a=r.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),s==="Color"||s==="ColorRGB"||s==="Vector"||s==="Vector3D"||s.indexOf("Lcl_")===0?l=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:l=r.propertyList[4],t[i]={type:s,type2:o,flag:a,value:l}}else t[r.name]===void 0?typeof r.id=="number"?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:r.name==="PoseNode"?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):t[r.name][r.id]===void 0&&(t[r.name][r.id]=r)}parseProperty(e){const t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),s=e.getUint32(),o=e.getUint32();if(s===0)switch(t){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}const a=n4e(new Uint8Array(e.getArrayBuffer(o))),l=new FQ(a.buffer);switch(t){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class FQ{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let i=0;i<e;i++)t[i]=this.getUint8();const r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),lS(new Uint8Array(t))}}class fpe{add(e,t){this[e]=t}}function Q4e(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===ppe(n,0,e.length)}function Z4e(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function r(i){const s=n[i-1];return n=n.slice(t+i),t++,s}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function NQ(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function eNe(n){return n/46186158e3}const tNe=[];function PP(n,e,t,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=n;break;case"ByPolygon":i=e;break;case"ByVertice":i=t;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const s=i*r.dataSize,o=s+r.dataSize;return rNe(tNe,r.buffer,s,o)}const zN=new lc,U_=new ge;function dpe(n){const e=new Ht,t=new Ht,r=new Ht,i=new Ht,s=new Ht,o=new Ht,a=new Ht,l=new Ht,c=new Ht,u=new Ht,f=new Ht,d=new Ht,p=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(U_.fromArray(n.translation)),n.preRotation){const D=n.preRotation.map(ll.degToRad);D.push(n.eulerOrder),t.makeRotationFromEuler(zN.fromArray(D))}if(n.rotation){const D=n.rotation.map(ll.degToRad);D.push(n.eulerOrder),r.makeRotationFromEuler(zN.fromArray(D))}if(n.postRotation){const D=n.postRotation.map(ll.degToRad);D.push(n.eulerOrder),i.makeRotationFromEuler(zN.fromArray(D)),i.invert()}n.scale&&s.scale(U_.fromArray(n.scale)),n.scalingOffset&&a.setPosition(U_.fromArray(n.scalingOffset)),n.scalingPivot&&o.setPosition(U_.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(U_.fromArray(n.rotationOffset)),n.rotationPivot&&c.setPosition(U_.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(f.copy(n.parentMatrix),u.copy(n.parentMatrixWorld));const m=t.clone().multiply(r).multiply(i),g=new Ht;g.extractRotation(u);const y=new Ht;y.copyPosition(u);const x=y.clone().invert().multiply(u),_=g.clone().invert().multiply(x),b=s,w=new Ht;if(p===0)w.copy(g).multiply(m).multiply(_).multiply(b);else if(p===1)w.copy(g).multiply(_).multiply(m).multiply(b);else{const D=new Ht().scale(new ge().setFromMatrixScale(f)).clone().invert(),N=_.clone().multiply(D);w.copy(g).multiply(m).multiply(N).multiply(b)}const M=c.clone().invert(),C=o.clone().invert();let R=e.clone().multiply(l).multiply(c).multiply(t).multiply(r).multiply(i).multiply(M).multiply(a).multiply(o).multiply(s).multiply(C);const E=new Ht().copyPosition(R),B=u.clone().multiply(E);return d.copyPosition(B),R=d.clone().multiply(w),R.premultiply(u.invert()),R}function hpe(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function GN(n){return n.split(",").map(function(e){return parseFloat(e)})}function ppe(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),lS(new Uint8Array(n,e,t))}function nNe(n,e){for(let t=0,r=n.length,i=e.length;t<i;t++,r++)n[r]=e[t]}function rNe(n,e,t,r){for(let i=t,s=0;i<r;i++,s++)n[s]=e[i];return n}function UQ(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}const HN=new WeakMap;class iNe extends ma{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Bl(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(HN.has(e)){const l=HN.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),HN.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new cn;e.index&&t.setIndex(new qn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new qn(o,a))}return t}_loadLibrary(e,t){const r=new Bl(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=sNe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function sNe(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,d=new f.Decoder,p=new f.DecoderBuffer;p.Init(new Int8Array(l),l.byteLength);try{const m=t(f,d,p,c),g=m.attributes.map(y=>y.array.buffer);m.index&&g.push(m.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:m},g)}catch(m){console.error(m),self.postMessage({type:"error",id:a.id,error:m.message})}finally{f.destroy(p),f.destroy(d)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let d,p;const m=a.GetEncodedGeometryType(l);if(m===o.TRIANGULAR_MESH)d=new o.Mesh,p=a.DecodeBufferToMesh(l,d);else if(m===o.POINT_CLOUD)d=new o.PointCloud,p=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const g={index:null,attributes:[]};for(const y in u){const x=self[f[y]];let _,b;if(c.useUniqueIDs)b=u[y],_=a.GetAttributeByUniqueId(d,b);else{if(b=a.GetAttributeId(d,o[u[y]]),b===-1)continue;_=a.GetAttribute(d,b)}g.attributes.push(i(o,a,d,y,x,_))}return m===o.TRIANGULAR_MESH&&(g.index=r(o,a,d)),o.destroy(d),g}function r(o,a,l){const c=l.num_faces()*3,u=c*4,f=o._malloc(u);a.GetTrianglesUInt32Array(l,u,f);const d=new Uint32Array(o.HEAPF32.buffer,f,c).slice();return o._free(f),{array:d,itemSize:1}}function i(o,a,l,c,u,f){const d=f.num_components(),p=l.num_points()*d,m=p*u.BYTES_PER_ELEMENT,g=s(o,u),y=o._malloc(m);a.GetAttributeDataArrayForAllPoints(l,f,g,m,y);const x=new u(o.HEAPF32.buffer,y,p).slice();return o._free(y),{name:c,array:x,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let BP;const VN=()=>{if(BP)return BP;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const d=new Uint8Array(f.length);for(let m=0;m<f.length;++m){const g=f.charCodeAt(m);d[m]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let p=0;for(let m=0;m<f.length;++m)d[p++]=d[m]<60?r[d[m]]:(d[m]-60)*64+d[++m];return d.buffer.slice(0,p)}function l(f,d,p,m,g,y){const x=s.exports.sbrk,_=p+3&-4,b=x(_*m),w=x(g.length),M=new Uint8Array(s.exports.memory.buffer);M.set(g,w);const C=f(b,p,m,w,g.length);if(C===0&&y&&y(b,_,m),d.set(M.subarray(b,b+p*m)),x(b-x(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return BP={ready:o,supported:!0,decodeVertexBuffer(f,d,p,m,g){l(s.exports.meshopt_decodeVertexBuffer,f,d,p,m,s.exports[c[g]])},decodeIndexBuffer(f,d,p,m){l(s.exports.meshopt_decodeIndexBuffer,f,d,p,m)},decodeIndexSequence(f,d,p,m){l(s.exports.meshopt_decodeIndexSequence,f,d,p,m)},decodeGltfBuffer(f,d,p,m,g,y){l(s.exports[u[g]],f,d,p,m,s.exports[c[y]])}},BP};function LO(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}function oNe(){var n=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(p){if(p instanceof Error)throw p}),d=n[d.id].value),d}),c=r("<"+a+">.init",c),u&&(u=r("<"+a+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:f,getTransferables:u},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function t(i,s){var o,a=i.id,l=i.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(f){return s(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){s(f)}function u(f){try{var d=n[a].getTransferables&&n[a].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(p){console.error(p),s(p)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function aNe(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(t).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var mpe=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return mpe=function(){return n},n},lNe=0,cNe=0,jN=!1,pE=Object.create(null),mE=Object.create(null),FG=Object.create(null);function h3(n){if((!n||typeof n.init!="function")&&!jN)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId;if(!mpe())return aNe(n);i==null&&(i="#default");var s="workerModule"+ ++lNe,o=n.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(jN=!0,c=h3({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+XD(c)+`
)}`}),jN=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=zQ(i,"registerModule",l.workerModuleData);var f=function(){a=null,mE[i].delete(f)};(mE[i]||(mE[i]=new Set)).add(f)}return a.then(function(d){var p=d.isCallable;if(p)return zQ(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:XD(t),getTransferables:r&&XD(r)},l}function uNe(n){mE[n]&&mE[n].forEach(function(e){e()}),pE[n]&&(pE[n].terminate(),delete pE[n])}function XD(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function fNe(n){var e=pE[n];if(!e){var t=XD(oNe);e=pE[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=FG[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete FG[s],o(i)}}return e}function zQ(n,e,t){return new Promise(function(r,i){var s=++cNe;FG[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},fNe(n).postMessage({messageId:s,action:e,data:t})})}function gpe(){var n=function(e){function t(I,O,F,j,te,re,se,K){var le=1-se;K.x=le*le*I+2*le*se*F+se*se*te,K.y=le*le*O+2*le*se*j+se*se*re}function r(I,O,F,j,te,re,se,K,le,he){var we=1-le;he.x=we*we*we*I+3*we*we*le*F+3*we*le*le*te+le*le*le*se,he.y=we*we*we*O+3*we*we*le*j+3*we*le*le*re+le*le*le*K}function i(I,O){for(var F=/([MLQCZ])([^MLQCZ]*)/g,j,te,re,se,K;j=F.exec(I);){var le=j[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(he){return parseFloat(he)});switch(j[1]){case"M":se=te=le[0],K=re=le[1];break;case"L":(le[0]!==se||le[1]!==K)&&O("L",se,K,se=le[0],K=le[1]);break;case"Q":{O("Q",se,K,se=le[2],K=le[3],le[0],le[1]);break}case"C":{O("C",se,K,se=le[4],K=le[5],le[0],le[1],le[2],le[3]);break}case"Z":(se!==te||K!==re)&&O("L",se,K,te,re);break}}}function s(I,O,F){F===void 0&&(F=16);var j={x:0,y:0};i(I,function(te,re,se,K,le,he,we,ve,fe){switch(te){case"L":O(re,se,K,le);break;case"Q":{for(var ne=re,oe=se,Te=1;Te<F;Te++)t(re,se,he,we,K,le,Te/(F-1),j),O(ne,oe,j.x,j.y),ne=j.x,oe=j.y;break}case"C":{for(var be=re,Ce=se,We=1;We<F;We++)r(re,se,he,we,ve,fe,K,le,We/(F-1),j),O(be,Ce,j.x,j.y),be=j.x,Ce=j.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(I,O){var F=I.getContext?I.getContext("webgl",c):I,j=l.get(F);if(!j){let we=function(be){var Ce=re[be];if(!Ce&&(Ce=re[be]=F.getExtension(be),!Ce))throw new Error(be+" not supported");return Ce},ve=function(be,Ce){var We=F.createShader(Ce);return F.shaderSource(We,be),F.compileShader(We),We},fe=function(be,Ce,We,Se){if(!se[be]){var ke={},Ve={},Ee=F.createProgram();F.attachShader(Ee,ve(Ce,F.VERTEX_SHADER)),F.attachShader(Ee,ve(We,F.FRAGMENT_SHADER)),F.linkProgram(Ee),se[be]={program:Ee,transaction:function(V){F.useProgram(Ee),V({setUniform:function(k,Q){for(var ce=[],Me=arguments.length-2;Me-- >0;)ce[Me]=arguments[Me+2];var Re=Ve[Q]||(Ve[Q]=F.getUniformLocation(Ee,Q));F["uniform"+k].apply(F,[Re].concat(ce))},setAttribute:function(k,Q,ce,Me,Re){var Ue=ke[k];Ue||(Ue=ke[k]={buf:F.createBuffer(),loc:F.getAttribLocation(Ee,k),data:null}),F.bindBuffer(F.ARRAY_BUFFER,Ue.buf),F.vertexAttribPointer(Ue.loc,Q,F.FLOAT,!1,0,0),F.enableVertexAttribArray(Ue.loc),te?F.vertexAttribDivisor(Ue.loc,Me):we("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ue.loc,Me),Re!==Ue.data&&(F.bufferData(F.ARRAY_BUFFER,Re,ce),Ue.data=Re)}})}}}se[be].transaction(Se)},ne=function(be,Ce){le++;try{F.activeTexture(F.TEXTURE0+le);var We=K[be];We||(We=K[be]=F.createTexture(),F.bindTexture(F.TEXTURE_2D,We),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.NEAREST),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.NEAREST)),F.bindTexture(F.TEXTURE_2D,We),Ce(We,le)}finally{le--}},oe=function(be,Ce,We){var Se=F.createFramebuffer();he.push(Se),F.bindFramebuffer(F.FRAMEBUFFER,Se),F.activeTexture(F.TEXTURE0+Ce),F.bindTexture(F.TEXTURE_2D,be),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,be,0);try{We(Se)}finally{F.deleteFramebuffer(Se),F.bindFramebuffer(F.FRAMEBUFFER,he[--he.length-1]||null)}},Te=function(){re={},se={},K={},le=-1,he.length=0};var te=typeof WebGL2RenderingContext<"u"&&F instanceof WebGL2RenderingContext,re={},se={},K={},le=-1,he=[];F.canvas.addEventListener("webglcontextlost",function(be){Te(),be.preventDefault()},!1),l.set(F,j={gl:F,isWebGL2:te,getExtension:we,withProgram:fe,withTexture:ne,withTextureFramebuffer:oe,handleContextLoss:Te})}O(j)}function f(I,O,F,j,te,re,se,K){se===void 0&&(se=15),K===void 0&&(K=null),u(I,function(le){var he=le.gl,we=le.withProgram,ve=le.withTexture;ve("copy",function(fe,ne){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,te,re,0,he.RGBA,he.UNSIGNED_BYTE,O),we("copy",o,a,function(oe){var Te=oe.setUniform,be=oe.setAttribute;be("aUV",2,he.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Te("1i","image",ne),he.bindFramebuffer(he.FRAMEBUFFER,K||null),he.disable(he.BLEND),he.colorMask(se&8,se&4,se&2,se&1),he.viewport(F,j,te,re),he.scissor(F,j,te,re),he.drawArrays(he.TRIANGLES,0,3)})})})}function d(I,O,F){var j=I.width,te=I.height;u(I,function(re){var se=re.gl,K=new Uint8Array(j*te*4);se.readPixels(0,0,j,te,se.RGBA,se.UNSIGNED_BYTE,K),I.width=O,I.height=F,f(se,K,0,0,j,te)})}var p=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function m(I,O,F,j,te,re){re===void 0&&(re=1);var se=new Uint8Array(I*O),K=j[2]-j[0],le=j[3]-j[1],he=[];s(F,function(be,Ce,We,Se){he.push({x1:be,y1:Ce,x2:We,y2:Se,minX:Math.min(be,We),minY:Math.min(Ce,Se),maxX:Math.max(be,We),maxY:Math.max(Ce,Se)})}),he.sort(function(be,Ce){return be.maxX-Ce.maxX});for(var we=0;we<I;we++)for(var ve=0;ve<O;ve++){var fe=oe(j[0]+K*(we+.5)/I,j[1]+le*(ve+.5)/O),ne=Math.pow(1-Math.abs(fe)/te,re)/2;fe<0&&(ne=1-ne),ne=Math.max(0,Math.min(255,Math.round(ne*255))),se[ve*I+we]=ne}return se;function oe(be,Ce){for(var We=1/0,Se=1/0,ke=he.length;ke--;){var Ve=he[ke];if(Ve.maxX+Se<=be)break;if(be+Se>Ve.minX&&Ce-Se<Ve.maxY&&Ce+Se>Ve.minY){var Ee=x(be,Ce,Ve.x1,Ve.y1,Ve.x2,Ve.y2);Ee<We&&(We=Ee,Se=Math.sqrt(We))}}return Te(be,Ce)&&(Se=-Se),Se}function Te(be,Ce){for(var We=0,Se=he.length;Se--;){var ke=he[Se];if(ke.maxX<=be)break;var Ve=ke.y1>Ce!=ke.y2>Ce&&be<(ke.x2-ke.x1)*(Ce-ke.y1)/(ke.y2-ke.y1)+ke.x1;Ve&&(We+=ke.y1<ke.y2?1:-1)}return We!==0}}function g(I,O,F,j,te,re,se,K,le,he){re===void 0&&(re=1),K===void 0&&(K=0),le===void 0&&(le=0),he===void 0&&(he=0),y(I,O,F,j,te,re,se,null,K,le,he)}function y(I,O,F,j,te,re,se,K,le,he,we){re===void 0&&(re=1),le===void 0&&(le=0),he===void 0&&(he=0),we===void 0&&(we=0);for(var ve=m(I,O,F,j,te,re),fe=new Uint8Array(ve.length*4),ne=0;ne<ve.length;ne++)fe[ne*4+we]=ve[ne];f(se,fe,le,he,I,O,1<<3-we,K)}function x(I,O,F,j,te,re){var se=te-F,K=re-j,le=se*se+K*K,he=le?Math.max(0,Math.min(1,((I-F)*se+(O-j)*K)/le)):0,we=I-(F+he*se),ve=O-(j+he*K);return we*we+ve*ve}var _=Object.freeze({__proto__:null,generate:m,generateIntoCanvas:g,generateIntoFramebuffer:y}),b="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",w="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",M="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",C=new Float32Array([0,0,2,0,0,2]),R=null,E=!1,B={},D=new WeakMap;function N(I){if(!E&&!W(I))throw new Error("WebGL generation not supported")}function z(I,O,F,j,te,re,se){if(re===void 0&&(re=1),se===void 0&&(se=null),!se&&(se=R,!se)){var K=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!K)throw new Error("OffscreenCanvas or DOM canvas not supported");se=R=K.getContext("webgl",{depth:!1})}N(se);var le=new Uint8Array(I*O*4);u(se,function(fe){var ne=fe.gl,oe=fe.withTexture,Te=fe.withTextureFramebuffer;oe("readable",function(be,Ce){ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,I,O,0,ne.RGBA,ne.UNSIGNED_BYTE,null),Te(be,Ce,function(We){U(I,O,F,j,te,re,ne,We,0,0,0),ne.readPixels(0,0,I,O,ne.RGBA,ne.UNSIGNED_BYTE,le)})})});for(var he=new Uint8Array(I*O),we=0,ve=0;we<le.length;we+=4)he[ve++]=le[we];return he}function H(I,O,F,j,te,re,se,K,le,he){re===void 0&&(re=1),K===void 0&&(K=0),le===void 0&&(le=0),he===void 0&&(he=0),U(I,O,F,j,te,re,se,null,K,le,he)}function U(I,O,F,j,te,re,se,K,le,he,we){re===void 0&&(re=1),le===void 0&&(le=0),he===void 0&&(he=0),we===void 0&&(we=0),N(se);var ve=[];s(F,function(fe,ne,oe,Te){ve.push(fe,ne,oe,Te)}),ve=new Float32Array(ve),u(se,function(fe){var ne=fe.gl,oe=fe.isWebGL2,Te=fe.getExtension,be=fe.withProgram,Ce=fe.withTexture,We=fe.withTextureFramebuffer,Se=fe.handleContextLoss;if(Ce("rawDistances",function(ke,Ve){(I!==ke._lastWidth||O!==ke._lastHeight)&&ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,ke._lastWidth=I,ke._lastHeight=O,0,ne.RGBA,ne.UNSIGNED_BYTE,null),be("main",b,w,function(Ee){var V=Ee.setAttribute,k=Ee.setUniform,Q=!oe&&Te("ANGLE_instanced_arrays"),ce=!oe&&Te("EXT_blend_minmax");V("aUV",2,ne.STATIC_DRAW,0,C),V("aLineSegment",4,ne.DYNAMIC_DRAW,1,ve),k.apply(void 0,["4f","uGlyphBounds"].concat(j)),k("1f","uMaxDistance",te),k("1f","uExponent",re),We(ke,Ve,function(Me){ne.enable(ne.BLEND),ne.colorMask(!0,!0,!0,!0),ne.viewport(0,0,I,O),ne.scissor(0,0,I,O),ne.blendFunc(ne.ONE,ne.ONE),ne.blendEquationSeparate(ne.FUNC_ADD,oe?ne.MAX:ce.MAX_EXT),ne.clear(ne.COLOR_BUFFER_BIT),oe?ne.drawArraysInstanced(ne.TRIANGLES,0,3,ve.length/4):Q.drawArraysInstancedANGLE(ne.TRIANGLES,0,3,ve.length/4)})}),be("post",o,M,function(Ee){Ee.setAttribute("aUV",2,ne.STATIC_DRAW,0,C),Ee.setUniform("1i","tex",Ve),ne.bindFramebuffer(ne.FRAMEBUFFER,K),ne.disable(ne.BLEND),ne.colorMask(we===0,we===1,we===2,we===3),ne.viewport(le,he,I,O),ne.scissor(le,he,I,O),ne.drawArrays(ne.TRIANGLES,0,3)})}),ne.isContextLost())throw Se(),new Error("webgl context lost")})}function W(I){var O=!I||I===R?B:I.canvas||I,F=D.get(O);if(F===void 0){E=!0;var j=null;try{var te=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],re=z(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,I);F=re&&te.length===re.length&&re.every(function(se,K){return se===te[K]}),F||(j="bad trial run results",console.info(te,re))}catch(se){F=!1,j=se.message}j&&console.warn("WebGL SDF generation not supported:",j),E=!1,D.set(O,F)}return F}var X=Object.freeze({__proto__:null,generate:z,generateIntoCanvas:H,generateIntoFramebuffer:U,isSupported:W});function q(I,O,F,j,te,re){te===void 0&&(te=Math.max(j[2]-j[0],j[3]-j[1])/2),re===void 0&&(re=1);try{return z.apply(X,arguments)}catch(se){return console.info("WebGL SDF generation failed, falling back to JS",se),m.apply(_,arguments)}}function L(I,O,F,j,te,re,se,K,le,he){te===void 0&&(te=Math.max(j[2]-j[0],j[3]-j[1])/2),re===void 0&&(re=1),K===void 0&&(K=0),le===void 0&&(le=0),he===void 0&&(he=0);try{return H.apply(X,arguments)}catch(we){return console.info("WebGL SDF generation failed, falling back to JS",we),g.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=q,e.generateIntoCanvas=L,e.javascript=_,e.pathToLineSegments=s,e.webgl=X,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function dNe(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(Se,ke){r[Se]=1<<ke+1,i[r[Se]]=Se}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function f(){if(!u){u=new Map;var Se=function(Ve){if(t.hasOwnProperty(Ve)){var Ee=0;t[Ve].split(",").forEach(function(V){var k=V.split("+"),Q=k[0],ce=k[1];Q=parseInt(Q,36),ce=ce?parseInt(ce,36):0,u.set(Ee+=Q,r[Ve]);for(var Me=0;Me<ce;Me++)u.set(++Ee,r[Ve])})}};for(var ke in t)Se(ke)}}function d(Se){return f(),u.get(Se.codePointAt(0))||r.L}function p(Se){return i[d(Se)]}var m={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function g(Se,ke){var Ve=36,Ee=0,V=new Map,k=ke&&new Map,Q;return Se.split(",").forEach(function ce(Me){if(Me.indexOf("+")!==-1)for(var Re=+Me;Re--;)ce(Q);else{Q=Me;var Ue=Me.split(">"),Pe=Ue[0],xe=Ue[1];Pe=String.fromCodePoint(Ee+=parseInt(Pe,Ve)),xe=String.fromCodePoint(Ee+=parseInt(xe,Ve)),V.set(Pe,xe),ke&&k.set(xe,Pe)}}),{map:V,reverseMap:k}}var y,x,_;function b(){if(!y){var Se=g(m.pairs,!0),ke=Se.map,Ve=Se.reverseMap;y=ke,x=Ve,_=g(m.canonical,!1).map}}function w(Se){return b(),y.get(Se)||null}function M(Se){return b(),x.get(Se)||null}function C(Se){return b(),_.get(Se)||null}var R=r.L,E=r.R,B=r.EN,D=r.ES,N=r.ET,z=r.AN,H=r.CS,U=r.B,W=r.S,X=r.ON,q=r.BN,L=r.NSM,I=r.AL,O=r.LRO,F=r.RLO,j=r.LRE,te=r.RLE,re=r.PDF,se=r.LRI,K=r.RLI,le=r.FSI,he=r.PDI;function we(Se,ke){for(var Ve=125,Ee=new Uint32Array(Se.length),V=0;V<Se.length;V++)Ee[V]=d(Se[V]);var k=new Map;function Q(Dn,$n){var nn=Ee[Dn];Ee[Dn]=$n,k.set(nn,k.get(nn)-1),nn&a&&k.set(a,k.get(a)-1),k.set($n,(k.get($n)||0)+1),$n&a&&k.set(a,(k.get(a)||0)+1)}for(var ce=new Uint8Array(Se.length),Me=new Map,Re=[],Ue=null,Pe=0;Pe<Se.length;Pe++)Ue||Re.push(Ue={start:Pe,end:Se.length-1,level:ke==="rtl"?1:ke==="ltr"?0:zc(Pe,!1)}),Ee[Pe]&U&&(Ue.end=Pe,Ue=null);for(var xe=te|j|F|O|s|he|re|U,Xe=function(Dn){return Dn+(Dn&1?1:2)},Ge=function(Dn){return Dn+(Dn&1?2:1)},je=0;je<Re.length;je++){Ue=Re[je];var He=[{_level:Ue.level,_override:0,_isolate:0}],Oe=void 0,qe=0,tt=0,pt=0;k.clear();for(var ee=Ue.start;ee<=Ue.end;ee++){var ye=Ee[ee];if(Oe=He[He.length-1],k.set(ye,(k.get(ye)||0)+1),ye&a&&k.set(a,(k.get(a)||0)+1),ye&xe)if(ye&(te|j)){ce[ee]=Oe._level;var Ie=(ye===te?Ge:Xe)(Oe._level);Ie<=Ve&&!qe&&!tt?He.push({_level:Ie,_override:0,_isolate:0}):qe||tt++}else if(ye&(F|O)){ce[ee]=Oe._level;var Je=(ye===F?Ge:Xe)(Oe._level);Je<=Ve&&!qe&&!tt?He.push({_level:Je,_override:ye&F?E:R,_isolate:0}):qe||tt++}else if(ye&s){ye&le&&(ye=zc(ee+1,!0)===1?K:se),ce[ee]=Oe._level,Oe._override&&Q(ee,Oe._override);var et=(ye===K?Ge:Xe)(Oe._level);et<=Ve&&qe===0&&tt===0?(pt++,He.push({_level:et,_override:0,_isolate:1,_isolInitIndex:ee})):qe++}else if(ye&he){if(qe>0)qe--;else if(pt>0){for(tt=0;!He[He.length-1]._isolate;)He.pop();var mt=He[He.length-1]._isolInitIndex;mt!=null&&(Me.set(mt,ee),Me.set(ee,mt)),He.pop(),pt--}Oe=He[He.length-1],ce[ee]=Oe._level,Oe._override&&Q(ee,Oe._override)}else ye&re?(qe===0&&(tt>0?tt--:!Oe._isolate&&He.length>1&&(He.pop(),Oe=He[He.length-1])),ce[ee]=Oe._level):ye&U&&(ce[ee]=Ue.level);else ce[ee]=Oe._level,Oe._override&&ye!==q&&Q(ee,Oe._override)}for(var Dt=[],Nt=null,Ot=Ue.start;Ot<=Ue.end;Ot++){var Ft=Ee[Ot];if(!(Ft&l)){var kt=ce[Ot],Tt=Ft&s,Xn=Ft===he;Nt&&kt===Nt._level?(Nt._end=Ot,Nt._endsWithIsolInit=Tt):Dt.push(Nt={_start:Ot,_end:Ot,_level:kt,_startsWithPDI:Xn,_endsWithIsolInit:Tt})}}for(var Un=[],Ut=0;Ut<Dt.length;Ut++){var dn=Dt[Ut];if(!dn._startsWithPDI||dn._startsWithPDI&&!Me.has(dn._start)){for(var $=[Nt=dn],ae=void 0;Nt&&Nt._endsWithIsolInit&&(ae=Me.get(Nt._end))!=null;)for(var _e=Ut+1;_e<Dt.length;_e++)if(Dt[_e]._start===ae){$.push(Nt=Dt[_e]);break}for(var ie=[],Ae=0;Ae<$.length;Ae++)for(var Qe=$[Ae],st=Qe._start;st<=Qe._end;st++)ie.push(st);for(var gt=ce[ie[0]],ht=Ue.level,Pt=ie[0]-1;Pt>=0;Pt--)if(!(Ee[Pt]&l)){ht=ce[Pt];break}var xt=ie[ie.length-1],At=ce[xt],Qt=Ue.level;if(!(Ee[xt]&s)){for(var tr=xt+1;tr<=Ue.end;tr++)if(!(Ee[tr]&l)){Qt=ce[tr];break}}Un.push({_seqIndices:ie,_sosType:Math.max(ht,gt)%2?E:R,_eosType:Math.max(Qt,At)%2?E:R})}}for(var kr=0;kr<Un.length;kr++){var hr=Un[kr],Ke=hr._seqIndices,_t=hr._sosType,Ir=hr._eosType,fn=ce[Ke[0]]&1?E:R;if(k.get(L))for(var pn=0;pn<Ke.length;pn++){var Wn=Ke[pn];if(Ee[Wn]&L){for(var Gn=_t,Yt=pn-1;Yt>=0;Yt--)if(!(Ee[Ke[Yt]]&l)){Gn=Ee[Ke[Yt]];break}Q(Wn,Gn&(s|he)?X:Gn)}}if(k.get(B))for(var lt=0;lt<Ke.length;lt++){var Jt=Ke[lt];if(Ee[Jt]&B)for(var hn=lt-1;hn>=-1;hn--){var Vt=hn===-1?_t:Ee[Ke[hn]];if(Vt&o){Vt===I&&Q(Jt,z);break}}}if(k.get(I))for(var An=0;An<Ke.length;An++){var Qr=Ke[An];Ee[Qr]&I&&Q(Qr,E)}if(k.get(D)||k.get(H))for(var _n=1;_n<Ke.length-1;_n++){var pr=Ke[_n];if(Ee[pr]&(D|H)){for(var ji=0,Ll=0,xa=_n-1;xa>=0&&(ji=Ee[Ke[xa]],!!(ji&l));xa--);for(var _a=_n+1;_a<Ke.length&&(Ll=Ee[Ke[_a]],!!(Ll&l));_a++);ji===Ll&&(Ee[pr]===D?ji===B:ji&(B|z))&&Q(pr,ji)}}if(k.get(B))for(var zn=0;zn<Ke.length;zn++){var wo=Ke[zn];if(Ee[wo]&B){for(var Ol=zn-1;Ol>=0&&Ee[Ke[Ol]]&(N|l);Ol--)Q(Ke[Ol],B);for(zn++;zn<Ke.length&&Ee[Ke[zn]]&(N|l|B);zn++)Ee[Ke[zn]]!==B&&Q(Ke[zn],B)}}if(k.get(N)||k.get(D)||k.get(H))for(var ba=0;ba<Ke.length;ba++){var Lc=Ke[ba];if(Ee[Lc]&(N|D|H)){Q(Lc,X);for(var Ps=ba-1;Ps>=0&&Ee[Ke[Ps]]&l;Ps--)Q(Ke[Ps],X);for(var cs=ba+1;cs<Ke.length&&Ee[Ke[cs]]&l;cs++)Q(Ke[cs],X)}}if(k.get(B))for(var Ks=0,Oc=_t;Ks<Ke.length;Ks++){var dh=Ke[Ks],Fl=Ee[dh];Fl&B?Oc===R&&Q(dh,R):Fl&o&&(Oc=Fl)}if(k.get(a)){var Bs=E|B|z,wa=Bs|R,So=[];{for(var Ds=[],tn=0;tn<Ke.length;tn++)if(Ee[Ke[tn]]&a){var ln=Se[Ke[tn]],Fc=void 0;if(w(ln)!==null)if(Ds.length<63)Ds.push({char:ln,seqIndex:tn});else break;else if((Fc=M(ln))!==null)for(var qs=Ds.length-1;qs>=0;qs--){var Nc=Ds[qs].char;if(Nc===Fc||Nc===M(C(ln))||w(C(Nc))===ln){So.push([Ds[qs].seqIndex,tn]),Ds.length=qs;break}}}So.sort(function(Dn,$n){return Dn[0]-$n[0]})}for(var Ku=0;Ku<So.length;Ku++){for(var br=So[Ku],Kn=br[0],Nl=br[1],qu=!1,nr=0,qa=Kn+1;qa<Nl;qa++){var Wi=Ke[qa];if(Ee[Wi]&wa){qu=!0;var Qs=Ee[Wi]&Bs?E:R;if(Qs===fn){nr=Qs;break}}}if(qu&&!nr){nr=_t;for(var Qu=Kn-1;Qu>=0;Qu--){var Zs=Ke[Qu];if(Ee[Zs]&wa){var wr=Ee[Zs]&Bs?E:R;wr!==fn?nr=wr:nr=fn;break}}}if(nr){if(Ee[Ke[Kn]]=Ee[Ke[Nl]]=nr,nr!==fn){for(var Sr=Kn+1;Sr<Ke.length;Sr++)if(!(Ee[Ke[Sr]]&l)){d(Se[Ke[Sr]])&L&&(Ee[Ke[Sr]]=nr);break}}if(nr!==fn){for(var us=Nl+1;us<Ke.length;us++)if(!(Ee[Ke[us]]&l)){d(Se[Ke[us]])&L&&(Ee[Ke[us]]=nr);break}}}}for(var Zr=0;Zr<Ke.length;Zr++)if(Ee[Ke[Zr]]&a){for(var od=Zr,fs=Zr,ds=_t,eo=Zr-1;eo>=0;eo--)if(Ee[Ke[eo]]&l)od=eo;else{ds=Ee[Ke[eo]]&Bs?E:R;break}for(var Uc=Ir,Lr=Zr+1;Lr<Ke.length;Lr++)if(Ee[Ke[Lr]]&(a|l))fs=Lr;else{Uc=Ee[Ke[Lr]]&Bs?E:R;break}for(var ei=od;ei<=fs;ei++)Ee[Ke[ei]]=ds===Uc?ds:fn;Zr=fs}}}for(var Bn=Ue.start;Bn<=Ue.end;Bn++){var Sa=ce[Bn],hs=Ee[Bn];if(Sa&1?hs&(R|B|z)&&ce[Bn]++:hs&E?ce[Bn]++:hs&(z|B)&&(ce[Bn]+=2),hs&l&&(ce[Bn]=Bn===0?Ue.level:ce[Bn-1]),Bn===Ue.end||d(Se[Bn])&(W|U))for(var Ao=Bn;Ao>=0&&d(Se[Ao])&c;Ao--)ce[Ao]=Ue.level}}return{levels:ce,paragraphs:Re};function zc(Dn,$n){for(var nn=Dn;nn<Se.length;nn++){var mn=Ee[nn];if(mn&(E|I))return 1;if(mn&(U|R)||$n&&mn===he)return 0;if(mn&s){var Or=ad(nn);nn=Or===-1?Se.length:Or}}return 0}function ad(Dn){for(var $n=1,nn=Dn+1;nn<Se.length;nn++){var mn=Ee[nn];if(mn&U)break;if(mn&he){if(--$n===0)return nn}else mn&s&&$n++}return-1}}var ve="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",fe;function ne(){if(!fe){var Se=g(ve,!0),ke=Se.map,Ve=Se.reverseMap;Ve.forEach(function(Ee,V){ke.set(V,Ee)}),fe=ke}}function oe(Se){return ne(),fe.get(Se)||null}function Te(Se,ke,Ve,Ee){var V=Se.length;Ve=Math.max(0,Ve==null?0:+Ve),Ee=Math.min(V-1,Ee==null?V-1:+Ee);for(var k=new Map,Q=Ve;Q<=Ee;Q++)if(ke[Q]&1){var ce=oe(Se[Q]);ce!==null&&k.set(Q,ce)}return k}function be(Se,ke,Ve,Ee){var V=Se.length;Ve=Math.max(0,Ve==null?0:+Ve),Ee=Math.min(V-1,Ee==null?V-1:+Ee);var k=[];return ke.paragraphs.forEach(function(Q){var ce=Math.max(Ve,Q.start),Me=Math.min(Ee,Q.end);if(ce<Me){for(var Re=ke.levels.slice(ce,Me+1),Ue=Me;Ue>=ce&&d(Se[Ue])&c;Ue--)Re[Ue]=Q.level;for(var Pe=Q.level,xe=1/0,Xe=0;Xe<Re.length;Xe++){var Ge=Re[Xe];Ge>Pe&&(Pe=Ge),Ge<xe&&(xe=Ge|1)}for(var je=Pe;je>=xe;je--)for(var He=0;He<Re.length;He++)if(Re[He]>=je){for(var Oe=He;He+1<Re.length&&Re[He+1]>=je;)He++;He>Oe&&k.push([Oe+ce,He+ce])}}}),k}function Ce(Se,ke,Ve,Ee){var V=We(Se,ke,Ve,Ee),k=[].concat(Se);return V.forEach(function(Q,ce){k[ce]=(ke.levels[Q]&1?oe(Se[Q]):null)||Se[Q]}),k.join("")}function We(Se,ke,Ve,Ee){for(var V=be(Se,ke,Ve,Ee),k=[],Q=0;Q<Se.length;Q++)k[Q]=Q;return V.forEach(function(ce){for(var Me=ce[0],Re=ce[1],Ue=k.slice(Me,Re+1),Pe=Ue.length;Pe--;)k[Re-Pe]=Ue[Pe]}),k}return e.closingToOpeningBracket=M,e.getBidiCharType=d,e.getBidiCharTypeName=p,e.getCanonicalBracket=C,e.getEmbeddingLevels=we,e.getMirroredCharacter=oe,e.getMirroredCharactersMap=Te,e.getReorderSegments=be,e.getReorderedIndices=We,e.getReorderedString=Ce,e.openingToClosingBracket=w,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const vpe=/\bvoid\s+main\s*\(\s*\)\s*{/g;function NG(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let s=yn[i];return s?NG(s):r}return n.replace(e,t)}const Lo=[];for(let n=0;n<256;n++)Lo[n]=(n<16?"0":"")+n.toString(16);function hNe(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Lo[n&255]+Lo[n>>8&255]+Lo[n>>16&255]+Lo[n>>24&255]+"-"+Lo[e&255]+Lo[e>>8&255]+"-"+Lo[e>>16&15|64]+Lo[e>>24&255]+"-"+Lo[t&63|128]+Lo[t>>8&255]+"-"+Lo[t>>16&255]+Lo[t>>24&255]+Lo[r&255]+Lo[r>>8&255]+Lo[r>>16&255]+Lo[r>>24&255]).toUpperCase()}const Yv=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},pNe=Date.now(),GQ=new WeakMap,HQ=new Map;let mNe=1e10;function UG(n,e){const t=xNe(e);let r=GQ.get(n);if(r||GQ.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,s=function(c,u){n.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=HQ[f];if(!d){const p=gNe(this,c,e,t);d=HQ[f]=p}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,Yv(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-pNe}}),this[i]&&this[i](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:mNe++}),u.uuid=hNe(),u.uniforms=Yv({},c.uniforms,e.uniforms),u.defines=Yv({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=Yv({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(Yv(this.extensions,c.extensions),Yv(this.defines,c.defines),Yv(this.uniforms,pO.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=UG(n.isDerivedMaterial?n.getDepthMaterial():new vO({depthPacking:Ij}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=UG(n.isDerivedMaterial?n.getDistanceMaterial():new yO,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return r[t]=o,new o}function gNe(n,{vertexShader:e,fragmentShader:t},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:p,timeUniform:m}=r;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",f=f||"",(l||p)&&(e=NG(e)),(d||p)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=NG(t)),p){let g=p({vertexShader:e,fragmentShader:t});e=g.vertexShader,t=g.fragmentShader}if(d){let g=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(g.push(y),"")),f=`${d}
${g.join(`
`)}
${f}`}if(m){const g=`
uniform float ${m};
`;s=g+s,c=g+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(g,y,x,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,x))?y:`troika_${y}_${i}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=VQ(e,i,s,o,a),t=VQ(t,i,c,u,f),{vertexShader:e,fragmentShader:t}}function VQ(n,e,t,r,i){return(r||i||t)&&(n=n.replace(vpe,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function vNe(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let yNe=0;const jQ=new Map;function xNe(n){const e=JSON.stringify(n,vNe);let t=jQ.get(e);return t==null&&jQ.set(e,t=++yNe),t}function _Ne(n,e,t){const{defaultFontURL:r}=t,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c(_,b){function w(){const M=C=>{console.error(`Failure loading font ${_}${_===r?"":"; trying fallback"}`,C),_!==r&&(_=r,w())};try{const C=new XMLHttpRequest;C.open("get",_,!0),C.responseType="arraybuffer",C.onload=function(){if(C.status>=400)M(new Error(C.statusText));else if(C.status>0)try{const R=n(C.response);b(R)}catch(R){M(R)}},C.onerror=M,C.send()}catch(C){M(C)}}w()}function u(_,b){_||(_=r);let w=i[_];w?w.pending?w.pending.push(b):b(w):(i[_]={pending:[b]},c(_,M=>{let C=i[_].pending;i[_]=M,C.forEach(R=>R(M))}))}function f({text:_="",font:b=r,sdfGlyphSize:w=64,fontSize:M=1,letterSpacing:C=0,lineHeight:R="normal",maxWidth:E=s,direction:B,textAlign:D="left",textIndent:N=0,whiteSpace:z="normal",overflowWrap:H="normal",anchorX:U=0,anchorY:W=0,includeCaretPositions:X=!1,chunkedBoundsSize:q=8192,colorRanges:L=null},I,O=!1){const F=g(),j={fontLoad:0,typesetting:0};_.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),_=_.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),M=+M,C=+C,E=+E,R=R||"normal",N=+N,u(b,te=>{const re=isFinite(E);let se=null,K=null,le=null,he=null,we=null,ve=null,fe=null,ne=0,oe=0,Te=z!=="nowrap";const{ascender:be,descender:Ce,unitsPerEm:We,lineGap:Se,capHeight:ke,xHeight:Ve}=te;j.fontLoad=g()-F;const Ee=g(),V=M/We;R==="normal"&&(R=(be-Ce+Se)/We),R=R*M;const k=(R-(be-Ce)*V)/2,Q=-(be*V+k),ce=Math.min(R,(be-Ce)*V),Me=(be+Ce)/2*V-ce/2;let Re=N,Ue=new y;const Pe=[Ue];te.forEachGlyph(_,M,C,(Ge,je,He)=>{const Oe=_.charAt(He),qe=Ge.advanceWidth*V,tt=Ue.count;let pt;if("isEmpty"in Ge||(Ge.isWhitespace=!!Oe&&new RegExp(a).test(Oe),Ge.canBreakAfter=!!Oe&&l.test(Oe),Ge.isEmpty=Ge.xMin===Ge.xMax||Ge.yMin===Ge.yMax||o.test(Oe)),!Ge.isWhitespace&&!Ge.isEmpty&&oe++,Te&&re&&!Ge.isWhitespace&&je+qe+Re>E&&tt){if(Ue.glyphAt(tt-1).glyphObj.canBreakAfter)pt=new y,Re=-je;else for(let ye=tt;ye--;)if(ye===0&&H==="break-word"){pt=new y,Re=-je;break}else if(Ue.glyphAt(ye).glyphObj.canBreakAfter){pt=Ue.splitAt(ye+1);const Ie=pt.glyphAt(0).x;Re-=Ie;for(let Je=pt.count;Je--;)pt.glyphAt(Je).x-=Ie;break}pt&&(Ue.isSoftWrapped=!0,Ue=pt,Pe.push(Ue),ne=E)}let ee=Ue.glyphAt(Ue.count);ee.glyphObj=Ge,ee.x=je+Re,ee.width=qe,ee.charIndex=He,Oe===`
`&&(Ue=new y,Pe.push(Ue),Re=-(je+qe+C*M)+N)}),Pe.forEach(Ge=>{for(let je=Ge.count;je--;){let{glyphObj:He,x:Oe,width:qe}=Ge.glyphAt(je);if(!He.isWhitespace){Ge.width=Oe+qe,Ge.width>ne&&(ne=Ge.width);return}}});let xe=0,Xe=0;if(U&&(typeof U=="number"?xe=-U:typeof U=="string"&&(xe=-ne*(U==="left"?0:U==="center"?.5:U==="right"?1:p(U)))),W){if(typeof W=="number")Xe=-W;else if(typeof W=="string"){let Ge=Pe.length*R;Xe=W==="top"?0:W==="top-baseline"?-Q:W==="top-cap"?-Q-ke*V:W==="top-ex"?-Q-Ve*V:W==="middle"?Ge/2:W==="bottom"?Ge:W==="bottom-baseline"?Ge-k+Ce*V:p(W)*Ge}}if(!O){const Ge=e.getEmbeddingLevels(_,B);se=new Uint16Array(oe),K=new Float32Array(oe*2),le={},ve=[s,s,-s,-s],fe=[];let je=Q;X&&(we=new Float32Array(_.length*3)),L&&(he=new Uint8Array(oe*3));let He=0,Oe=-1,qe=-1,tt,pt;if(Pe.forEach((ee,ye)=>{let{count:Ie,width:Je}=ee;if(Ie>0){let et=0;for(let kt=Ie;kt--&&ee.glyphAt(kt).glyphObj.isWhitespace;)et++;let mt=0,Dt=0;if(D==="center")mt=(ne-Je)/2;else if(D==="right")mt=ne-Je;else if(D==="justify"&&ee.isSoftWrapped){let kt=0;for(let Tt=Ie-et;Tt--;)ee.glyphAt(Tt).glyphObj.isWhitespace&&kt++;Dt=(ne-Je)/kt}if(Dt||mt){let kt=0;for(let Tt=0;Tt<Ie;Tt++){let Xn=ee.glyphAt(Tt);const Un=Xn.glyphObj;Xn.x+=mt+kt,Dt!==0&&Un.isWhitespace&&Tt<Ie-et&&(kt+=Dt,Xn.width+=Dt)}}const Nt=e.getReorderSegments(_,Ge,ee.glyphAt(0).charIndex,ee.glyphAt(ee.count-1).charIndex);for(let kt=0;kt<Nt.length;kt++){const[Tt,Xn]=Nt[kt];let Un=1/0,Ut=-1/0;for(let dn=0;dn<Ie;dn++)if(ee.glyphAt(dn).charIndex>=Tt){let $=dn,ae=dn;for(;ae<Ie;ae++){let _e=ee.glyphAt(ae);if(_e.charIndex>Xn)break;ae<Ie-et&&(Un=Math.min(Un,_e.x),Ut=Math.max(Ut,_e.x+_e.width))}for(let _e=$;_e<ae;_e++){const ie=ee.glyphAt(_e);ie.x=Ut-(ie.x+ie.width-Un)}break}}let Ot;const Ft=kt=>Ot=kt;for(let kt=0;kt<Ie;kt++){let Tt=ee.glyphAt(kt);Ot=Tt.glyphObj;const Xn=Ot.index,Un=Ge.levels[Tt.charIndex]&1;if(Un){const Ut=e.getMirroredCharacter(_[Tt.charIndex]);Ut&&te.forEachGlyph(Ut,0,0,Ft)}if(X){const{charIndex:Ut}=Tt,dn=Tt.x+xe,$=Tt.x+Tt.width+xe;we[Ut*3]=Un?$:dn,we[Ut*3+1]=Un?dn:$,we[Ut*3+2]=je+Me+Xe;const ae=Ut-Oe;ae>1&&m(we,Oe,ae),Oe=Ut}if(L){const{charIndex:Ut}=Tt;for(;Ut>qe;)qe++,L.hasOwnProperty(qe)&&(pt=L[qe])}if(!Ot.isWhitespace&&!Ot.isEmpty){const Ut=He++;le[Xn]||(le[Xn]={path:Ot.path,pathBounds:[Ot.xMin,Ot.yMin,Ot.xMax,Ot.yMax]});const dn=Tt.x+xe,$=je+Xe;K[Ut*2]=dn,K[Ut*2+1]=$;const ae=dn+Ot.xMin*V,_e=$+Ot.yMin*V,ie=dn+Ot.xMax*V,Ae=$+Ot.yMax*V;ae<ve[0]&&(ve[0]=ae),_e<ve[1]&&(ve[1]=_e),ie>ve[2]&&(ve[2]=ie),Ae>ve[3]&&(ve[3]=Ae),Ut%q===0&&(tt={start:Ut,end:Ut,rect:[s,s,-s,-s]},fe.push(tt)),tt.end++;const Qe=tt.rect;if(ae<Qe[0]&&(Qe[0]=ae),_e<Qe[1]&&(Qe[1]=_e),ie>Qe[2]&&(Qe[2]=ie),Ae>Qe[3]&&(Qe[3]=Ae),se[Ut]=Xn,L){const st=Ut*3;he[st]=pt>>16&255,he[st+1]=pt>>8&255,he[st+2]=pt&255}}}}je-=R}),we){const ee=_.length-Oe;ee>1&&m(we,Oe,ee)}}j.typesetting=g()-Ee,I({glyphIds:se,glyphPositions:K,glyphData:le,caretPositions:we,caretHeight:ce,glyphColors:he,chunkedBounds:fe,fontSize:M,unitsPerEm:We,ascender:be*V,descender:Ce*V,capHeight:ke*V,xHeight:Ve*V,lineHeight:R,topBaseline:Q,blockBounds:[xe,Xe-Pe.length*R,xe+ne,Xe],visibleBounds:ve,timings:j})})}function d(_,b){f(_,w=>{const[M,C,R,E]=w.blockBounds;b({width:R-M,height:E-C})},{metricsOnly:!0})}function p(_){let b=_.match(/^([\d.]+)%$/),w=b?parseFloat(b[1]):NaN;return isNaN(w)?0:w/100}function m(_,b,w){const M=_[b*3],C=_[b*3+1],R=_[b*3+2],E=(C-M)/w;for(let B=0;B<w;B++){const D=(b+B)*3;_[D]=M+E*B,_[D+1]=M+E*(B+1),_[D+2]=R}}function g(){return(self.performance||Date).now()}function y(){this.data=[]}const x=["glyphObj","x","width","charIndex"];return y.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/x.length)},glyphAt(_){let b=y.flyweight;return b.data=this.data,b.index=_,b},splitAt(_){let b=new y;return b.data=this.data.splice(_*x.length),b}},y.flyweight=x.reduce((_,b,w,M)=>(Object.defineProperty(_,b,{get(){return this.data[this.index*x.length+w]},set(C){this.data[this.index*x.length+w]=C}}),_),{data:null,index:0}),{typeset:f,measure:d,loadFont:u}}const d1=()=>(self.performance||Date).now(),OO=gpe();let WQ;function bNe(n,e,t,r,i,s,o,a,l,c,u=!0){return u?SNe(n,e,t,r,i,s,o,a,l,c).then(null,f=>(WQ||(console.warn("WebGL SDF generation failed, falling back to JS",f),WQ=!0),XQ(n,e,t,r,i,s,o,a,l,c))):XQ(n,e,t,r,i,s,o,a,l,c)}const JD=[],wNe=5;let zG=0;function ype(){const n=d1();for(;JD.length&&d1()-n<wNe;)JD.shift()();zG=JD.length?setTimeout(ype,0):0}const SNe=(...n)=>new Promise((e,t)=>{JD.push(()=>{const r=d1();try{OO.webgl.generateIntoCanvas(...n),e({timing:d1()-r})}catch(i){t(i)}}),zG||(zG=setTimeout(ype,0))}),ANe=4,MNe=2e3,$Q={};let ENe=0;function XQ(n,e,t,r,i,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+ENe++%ANe;let f=$Q[u];return f||(f=$Q[u]={workerModule:h3({name:u,workerId:u,dependencies:[gpe,d1],init(d,p){const m=d().javascript.generate;return function(...g){const y=p();return{textureData:m(...g),timing:p()-y}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(n,e,t,r,i,s).then(({textureData:d,timing:p})=>{const m=d1(),g=new Uint8Array(d.length*4);for(let y=0;y<d.length;y++)g[y*4+c]=d[y];return OO.webglUtils.renderImageData(o,g,a,l,n,e,1<<3-c),p+=d1()-m,--f.requests===0&&(f.idleTimer=setTimeout(()=>{uNe(u)},MNe)),{timing:p}})}function CNe(n){n._warm||(OO.webgl.isSupported(n),n._warm=!0)}const TNe=OO.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function RNe(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var f=s.readUint(o,a);a+=4,c.push(e._readFont(o,f))}return c}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:i,_offset:a},f={},d=0;d<l;d++){var p=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var m=o.readUint(i,s);s+=4;var g=o.readUint(i,s);s+=4,f[p]={offset:m,length:g}}for(d=0;d<c.length;d++){var y=c[d];f[y]&&(u[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,u))}return u},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),c=o+12,u=0;u<l;u++){var f=a.readASCII(i,c,4);c+=4,a.readUint(i,c),c+=4;var d=a.readUint(i,c);if(c+=4,a.readUint(i,c),c+=4,f==s)return d}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var c=i[s++]<<8|i[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var c=e._bin,u={},f=s;c.readFixed(i,s),s+=4;var d=c.readUshort(i,s);s+=2;var p=c.readUshort(i,s);s+=2;var m=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,f+d),u.featureList=e._lctf.readFeatureList(i,f+p),u.lookupList=e._lctf.readLookupList(i,f+m,l),u},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=a.readUshort(i,s);s+=2;var p=e._lctf.readLookupTable(i,l+d,o);c.push(p)}return c},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(i,s),s+=2,c.flag=a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;for(var f=c.ltype,d=0;d<u;d++){var p=a.readUshort(i,s);s+=2;var m=o(i,f,l+p,c);c.tabs.push(m)}return c},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var c=o.readUshort(i,s);s+=2;var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++)a.push(c+f),a.push(c+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var d=o.readUshort(i,s);for(s+=2,f=0;f<d;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2;var p=e._lctf.readFeatureTable(i,a+d);p.tag=f.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+d)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+c);var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(i,a+p)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(i,s+f[u],s+f[u+1]));s+=f[f.length-1];var p=d[0],m=[];s=e.CFF.readIndex(i,s,m);var g=[];for(u=0;u<m.length-1;u++)g.push(a.readASCII(i,s+m[u],m[u+1]-m[u]));if(s+=m[m.length-1],e.CFF.readSubrs(i,s,p),p.CharStrings){s=p.CharStrings,m=[],s=e.CFF.readIndex(i,s,m);var y=[];for(u=0;u<m.length-1;u++)y.push(a.readBytes(i,s+m[u],m[u+1]-m[u]));p.CharStrings=y}if(p.ROS){s=p.FDArray;var x=[];for(s=e.CFF.readIndex(i,s,x),p.FDArray=[],u=0;u<x.length-1;u++){var _=e.CFF.readDict(i,s+x[u],s+x[u+1]);e.CFF._readFDict(i,_,g),p.FDArray.push(_)}s+=x[x.length-1],s=p.FDSelect,p.FDSelect=[];var b=i[s];if(s++,b!=3)throw b;var w=a.readUshort(i,s);for(s+=2,u=0;u<w+1;u++)p.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(i,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(i,p.charset,p.CharStrings.length)),e.CFF._readFDict(i,p,g),p},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)a.push(i[s+u]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<o;u++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var d=0;for(c==1?(d=i[s],s++):(d=a.readUshort(i,s),s+=2),u=0;u<=d;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,f=null,d=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(d=a.readShort(i,s+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=a.readInt(i,s+1)/65535,u=5),o.val=d??"o"+f,o.size=u},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,m=null;u<=20&&(p=u,d=1),u==12&&(p=100*u+f,d=2),u!=19&&u!=20||(p=u,d=2),21<=u&&u<=27&&(p=u,d=1),u==28&&(m=l.readShort(i,s+1),d=3),29<=u&&u<=31&&(p=u,d=1),32<=u&&u<=246&&(m=u-139,d=1),247<=u&&u<=250&&(m=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(m=256*-(u-251)-f-108,d=2),u==255&&(m=l.readInt(i,s+1)/65535,d=5),c.push(m??"o"+p),s+=d}return c},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,m=null;if(u==28&&(m=a.readShort(i,s+1),d=3),u==29&&(m=a.readInt(i,s+1),d=5),32<=u&&u<=246&&(m=u-139,d=1),247<=u&&u<=250&&(m=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(m=256*-(u-251)-f-108,d=2),u==255)throw m=a.readInt(i,s+1)/65535,d=5,"unknown number";if(u==30){var g=[];for(d=1;;){var y=i[s+d];d++;var x=y>>4,_=15&y;if(x!=15&&g.push(x),_!=15&&g.push(_),_==15)break}for(var b="",w=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],M=0;M<g.length;M++)b+=w[g[M]];m=parseFloat(b)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),p!=null?(l[p]=c.length==1?c[0]:c,c=[]):c.push(m),s+=d}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var d=a.readUshort(i,s);s+=2;var p=a.readUshort(i,s);s+=2;var m=a.readUint(i,s);s+=4;var g="p"+d+"e"+p,y=u.indexOf(m);if(y==-1){var x;y=l.tables.length,u.push(m);var _=a.readUshort(i,m);_==0?x=e.cmap.parse0(i,m):_==4?x=e.cmap.parse4(i,m):_==6?x=e.cmap.parse6(i,m):_==12?x=e.cmap.parse12(i,m):console.debug("unknown format: "+_,d,p,m),l.tables.push(x)}if(l[g]!=null)throw"multiple tables for one platform+encoding";l[g]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(i[s+c]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;var f=u/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,f=o.readUint(i,u+0),d=o.readUint(i,u+4),p=o.readUint(i,u+8);a.groups.push([f,d,p])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;c.instructions=o.readBytes(a,l,f),l+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var p=a[l];if(l++,c.flags.push(p),(8&p)!=0){var m=a[l];l++;for(var g=0;g<m;g++)c.flags.push(p),u++}}for(c.xs=[],u=0;u<d;u++){var y=(2&c.flags[u])!=0,x=(16&c.flags[u])!=0;y?(c.xs.push(x?a[l]:-a[l]),l++):x?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)y=(4&c.flags[u])!=0,x=(32&c.flags[u])!=0,y?(c.ys.push(x?a[l]:-a[l]),l++):x?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var _=0,b=0;for(u=0;u<d;u++)_+=c.xs[u],b+=c.ys[u],c.xs[u]=_,c.ys[u]=b}else{var w;c.parts=[];do{w=o.readUshort(a,l),l+=2;var M={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(M),M.glyphIndex=o.readUshort(a,l),l+=2,1&w){var C=o.readShort(a,l);l+=2;var R=o.readShort(a,l);l+=2}else C=o.readInt8(a,l),l++,R=o.readInt8(a,l),l++;2&w?(M.m.tx=C,M.m.ty=R):(M.p1=C,M.p2=R),8&w?(M.m.a=M.m.d=o.readF2dot14(a,l),l+=2):64&w?(M.m.a=o.readF2dot14(a,l),l+=2,M.m.d=o.readF2dot14(a,l),l+=2):128&w&&(M.m.a=o.readF2dot14(a,l),l+=2,M.m.b=o.readF2dot14(a,l),l+=2,M.m.c=o.readF2dot14(a,l),l+=2,M.m.d=o.readF2dot14(a,l),l+=2)}while(32&w);if(256&w){var E=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<E;u++)c.instr.push(a[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(s==1&&u.fmt==1){var d=l.readUshort(i,o);o+=2;var p=e._lctf.numOfOnes(d);d!=0&&(u.pos=e.GPOS.readValueRecord(i,o,d))}else if(s==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(i,o),o+=2;var m=l.readUshort(i,o);o+=2,p=e._lctf.numOfOnes(d);var g=e._lctf.numOfOnes(m);if(u.fmt==1){u.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var x=0;x<y;x++){var _=c+l.readUshort(i,o);o+=2;var b=l.readUshort(i,_);_+=2;for(var w=[],M=0;M<b;M++){var C=l.readUshort(i,_);_+=2,d!=0&&(z=e.GPOS.readValueRecord(i,_,d),_+=2*p),m!=0&&(H=e.GPOS.readValueRecord(i,_,m),_+=2*g),w.push({gid2:C,val1:z,val2:H})}u.pairsets.push(w)}}if(u.fmt==2){var R=l.readUshort(i,o);o+=2;var E=l.readUshort(i,o);o+=2;var B=l.readUshort(i,o);o+=2;var D=l.readUshort(i,o);for(o+=2,u.classDef1=e._lctf.readClassDef(i,c+R),u.classDef2=e._lctf.readClassDef(i,c+E),u.matrix=[],x=0;x<B;x++){var N=[];for(M=0;M<D;M++){var z=null,H=null;d!=0&&(z=e.GPOS.readValueRecord(i,o,d),o+=2*p),m!=0&&(H=e.GPOS.readValueRecord(i,o,m),o+=2*g),N.push({val1:z,val2:H})}u.matrix.push(N)}}}else{if(s==9&&u.fmt==1){var U=l.readUshort(i,o);o+=2;var W=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=U;else if(a.ltype!=U)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,c+W)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,o),o+=2;else if(u.fmt==2){var d=l.readUshort(i,o);o+=2,u.newg=l.readUshorts(i,o,d),o+=2*u.newg.length}}else if(s==4){u.vals=[],d=l.readUshort(i,o),o+=2;for(var p=0;p<d;p++){var m=l.readUshort(i,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+m))}}else if(s==5&&u.fmt==2){if(u.fmt==2){var g=l.readUshort(i,o);o+=2,u.cDef=e._lctf.readClassDef(i,c+g),u.scset=[];var y=l.readUshort(i,o);for(o+=2,p=0;p<y;p++){var x=l.readUshort(i,o);o+=2,u.scset.push(x==0?null:e.GSUB.readSubClassSet(i,c+x))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){d=l.readUshort(i,o),o+=2;for(var _=[],b=0;b<d;b++)_.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*b)));o+=2*d,p==0&&(u.backCvg=_),p==1&&(u.inptCvg=_),p==2&&(u.ahedCvg=_)}d=l.readUshort(i,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,o,d)}}else{if(s==7&&u.fmt==1){var w=l.readUshort(i,o);o+=2;var M=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=w;else if(a.ltype!=w)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,c+M)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],c=o(i,s);s+=2;for(var u=0;u<c;u++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),c=o(i,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(i,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(i,s,u),s+=2*a[l[c]].length}return u=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,o,a);var u=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){s+=2,o=l.readUshort(i,s),s+=2;var p=l.readUshort(i,s);s+=2;var m=p>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,s),s+=4;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var p=d>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;var p=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var m=o.rval[o.rval.length-1];m.glyph2.push(d),m.vals.push(p),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(l.readUshort(i,s+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(l.readUint(i,s+(d<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},c=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,p=0;p<c;p++){var m=a.readUshort(i,s);s+=2;var g=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var b=a.readUshort(i,s);s+=2;var w,M=f[x],C=d+12*c+b;if(m==0)w=a.readUnicode(i,C,_/2);else if(m==3&&g==0)w=a.readUnicode(i,C,_/2);else if(g==0)w=a.readASCII(i,C,_);else if(g==1)w=a.readUnicode(i,C,_/2);else if(g==3)w=a.readUnicode(i,C,_/2);else{if(m!=1)throw"unknown encoding "+g+", platformID: "+m;w=a.readASCII(i,C,_),console.debug("reading unknown MAC encoding "+g+" as ASCII")}var R="p"+m+","+y.toString(16);l[R]==null&&(l[R]={}),l[R][M!==void 0?M:x]=w,l[R]._lang=y}for(var E in l)if(l[E].postScriptName!=null&&l[E]._lang==1033)return l[E];for(var E in l)if(l[E].postScriptName!=null&&l[E]._lang==0)return l[E];for(var E in l)if(l[E].postScriptName!=null&&l[E]._lang==3084)return l[E];for(var E in l)if(l[E].postScriptName!=null)return l[E];for(var E in l){u=E;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=s;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,f=c==l?a:c+1,d=1&i.flags[c],p=1&i.flags[u],m=1&i.flags[f],g=i.xs[c],y=i.ys[c];if(c==a)if(d){if(!p){e.U.P.moveTo(s,g,y);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else p?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+g)/2,(i.ys[u]+y)/2);d?p&&e.U.P.lineTo(s,g,y):m?e.U.P.qcurveTo(s,g,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,g,y,(g+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},c=i.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],p=l.crds[f+1];o.crds.push(d*u.a+p*u.b+u.tx),o.crds.push(d*u.c+p*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,c=l.lookupList,u=l.featureList,f=[],d=0;d<u.length;d++){var p=u[d];if(p.tag=="kern"){a=!0;for(var m=0;m<p.tab.length;m++)if(!f[p.tab[m]]){f[p.tab[m]]=!0;for(var g=c[p.tab[m]],y=0;y<g.tabs.length;y++)if(g.tabs[y]!=null){var x,_=g.tabs[y];if((!_.coverage||(x=e._lctf.coverageIndex(_.coverage,s))!=-1)&&g.ltype!=1&&g.ltype==2){var b=null;if(_.fmt==1){var w=_.pairsets[x];for(d=0;d<w.length;d++)w[d].gid2==o&&(b=w[d])}else if(_.fmt==2){var M=e.U._getGlyphClass(s,_.classDef1),C=e.U._getGlyphClass(o,_.classDef2);b=_.matrix[M][C]}if(b){var R=0;return b.val1&&b.val1[2]&&(R+=b.val1[2]),b.val2&&b.val2[0]&&(R+=b.val2[0]),R}}}}}}if(i.kern&&!a){var E=i.kern.glyph1.indexOf(s);if(E!=-1){var B=i.kern.rval[E].glyph2.indexOf(o);if(B!=-1)return i.kern.rval[E].vals[B]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,f=o.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[u];else if(o.ltype==4)for(var d=f.vals[u],p=0;p<d.length;p++){var m=d[p],g=m.chain.length;if(!(g>l)){for(var y=!0,x=0,_=0;_<g;_++){for(;i[s+x+(1+_)]==-1;)x++;m.chain[_]!=i[s+x+(1+_)]&&(y=!1)}if(y){for(i[s]=m.nglyph,_=0;_<g+x;_++)i[s+_+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var b=e._lctf.getInterval(f.cDef,i[s]),w=f.cDef[b+2],M=f.scset[w],C=0;C<M.length;C++){var R=M[C],E=R.input;if(!(E.length>l)){for(y=!0,_=0;_<E.length;_++){var B=e._lctf.getInterval(f.cDef,i[s+1+_]);if(b==-1&&f.cDef[B+2]!=E[_]){y=!1;break}}if(y){var D=R.substLookupRecords;for(p=0;p<D.length;p+=2)D[p],D[p+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var N=f.lookupRec;for(C=0;C<N.length;C+=2){b=N[C];var z=a[N[C+1]];e.U._applySubs(i,s+b,z,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var f=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,d=e.U.glyphToPath(i,u),p=0;p<d.crds.length;p+=2)a.crds.push(d.crds[p]+l),a.crds.push(d.crds[p+1]);for(o&&a.cmds.push(o),p=0;p<d.cmds.length;p++)a.cmds.push(d.cmds[p]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,c,u){i.cmds.push("C"),i.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var c=s.stack,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open,m=0,g=s.x,y=s.y,x=0,_=0,b=0,w=0,M=0,C=0,R=0,E=0,B=0,D=0,N={val:0,size:0};m<i.length;){e.CFF.getCharString(i,m,N);var z=N.val;if(m+=N.size,z=="o1"||z=="o18")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(z=="o3"||z=="o23")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(z=="o4")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),p&&e.U.P.closePath(l),y+=c.pop(),e.U.P.moveTo(l,g,y),p=!0;else if(z=="o5")for(;c.length>0;)g+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,g,y);else if(z=="o6"||z=="o7")for(var H=c.length,U=z=="o6",W=0;W<H;W++){var X=c.shift();U?g+=X:y+=X,U=!U,e.U.P.lineTo(l,g,y)}else if(z=="o8"||z=="o24"){H=c.length;for(var q=0;q+6<=H;)x=g+c.shift(),_=y+c.shift(),b=x+c.shift(),w=_+c.shift(),g=b+c.shift(),y=w+c.shift(),e.U.P.curveTo(l,x,_,b,w,g,y),q+=6;z=="o24"&&(g+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,g,y))}else{if(z=="o11")break;if(z=="o1234"||z=="o1235"||z=="o1236"||z=="o1237")z=="o1234"&&(_=y,b=(x=g+c.shift())+c.shift(),D=w=_+c.shift(),C=w,E=y,g=(R=(M=(B=b+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,x,_,b,w,B,D),e.U.P.curveTo(l,M,C,R,E,g,y)),z=="o1235"&&(x=g+c.shift(),_=y+c.shift(),b=x+c.shift(),w=_+c.shift(),B=b+c.shift(),D=w+c.shift(),M=B+c.shift(),C=D+c.shift(),R=M+c.shift(),E=C+c.shift(),g=R+c.shift(),y=E+c.shift(),c.shift(),e.U.P.curveTo(l,x,_,b,w,B,D),e.U.P.curveTo(l,M,C,R,E,g,y)),z=="o1236"&&(x=g+c.shift(),_=y+c.shift(),b=x+c.shift(),D=w=_+c.shift(),C=w,R=(M=(B=b+c.shift())+c.shift())+c.shift(),E=C+c.shift(),g=R+c.shift(),e.U.P.curveTo(l,x,_,b,w,B,D),e.U.P.curveTo(l,M,C,R,E,g,y)),z=="o1237"&&(x=g+c.shift(),_=y+c.shift(),b=x+c.shift(),w=_+c.shift(),B=b+c.shift(),D=w+c.shift(),M=B+c.shift(),C=D+c.shift(),R=M+c.shift(),E=C+c.shift(),Math.abs(R-g)>Math.abs(E-y)?g=R+c.shift():y=E+c.shift(),e.U.P.curveTo(l,x,_,b,w,B,D),e.U.P.curveTo(l,M,C,R,E,g,y));else if(z=="o14"){if(c.length>0&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),c.length==4){var L=c.shift(),I=c.shift(),O=c.shift(),F=c.shift(),j=e.CFF.glyphBySE(o,O),te=e.CFF.glyphBySE(o,F);e.U._drawCFF(o.CharStrings[j],s,o,a,l),s.x=L,s.y=I,e.U._drawCFF(o.CharStrings[te],s,o,a,l)}p&&(e.U.P.closePath(l),p=!1)}else if(z=="o19"||z=="o20")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,m+=u+7>>3;else if(z=="o21")c.length>2&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),y+=c.pop(),g+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,g,y),p=!0;else if(z=="o22")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),g+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,g,y),p=!0;else if(z=="o25"){for(;c.length>6;)g+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,g,y);x=g+c.shift(),_=y+c.shift(),b=x+c.shift(),w=_+c.shift(),g=b+c.shift(),y=w+c.shift(),e.U.P.curveTo(l,x,_,b,w,g,y)}else if(z=="o26")for(c.length%2&&(g+=c.shift());c.length>0;)x=g,_=y+c.shift(),g=b=x+c.shift(),y=(w=_+c.shift())+c.shift(),e.U.P.curveTo(l,x,_,b,w,g,y);else if(z=="o27")for(c.length%2&&(y+=c.shift());c.length>0;)_=y,b=(x=g+c.shift())+c.shift(),w=_+c.shift(),g=b+c.shift(),y=w,e.U.P.curveTo(l,x,_,b,w,g,y);else if(z=="o10"||z=="o29"){var re=z=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var se=c.pop(),K=re.Subrs[se+re.Bias];s.x=g,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p,e.U._drawCFF(K,s,o,a,l),g=s.x,y=s.y,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open}}else if(z=="o30"||z=="o31"){var le=c.length,he=(q=0,z=="o31");for(q+=le-(H=-3&le);q<H;)he?(_=y,b=(x=g+c.shift())+c.shift(),y=(w=_+c.shift())+c.shift(),H-q==5?(g=b+c.shift(),q++):g=b,he=!1):(x=g,_=y+c.shift(),b=x+c.shift(),w=_+c.shift(),g=b+c.shift(),H-q==5?(y=w+c.shift(),q++):y=w,he=!0),e.U.P.curveTo(l,x,_,b,w,g,y),q+=4}else{if((z+"").charAt(0)=="o")throw console.debug("Unknown operation: "+z,i),z;c.push(z)}}}s.x=g,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function PNe(){return function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(z,H){for(var U=new t(31),W=0;W<31;++W)U[W]=H+=1<<z[W-1];var X=new r(U[30]);for(W=1;W<30;++W)for(var q=U[W];q<U[W+1];++q)X[q]=q-U[W]<<5|W;return[U,X]},l=a(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=a(s,0)[0],d=new t(32768),p=0;p<32768;++p){var m=(43690&p)>>>1|(21845&p)<<1;m=(61680&(m=(52428&m)>>>2|(13107&m)<<2))>>>4|(3855&m)<<4,d[p]=((65280&m)>>>8|(255&m)<<8)>>>1}var g=function(z,H,U){for(var W=z.length,X=0,q=new t(H);X<W;++X)++q[z[X]-1];var L,I=new t(H);for(X=0;X<H;++X)I[X]=I[X-1]+q[X-1]<<1;{L=new t(1<<H);var O=15-H;for(X=0;X<W;++X)if(z[X])for(var F=X<<4|z[X],j=H-z[X],te=I[z[X]-1]++<<j,re=te|(1<<j)-1;te<=re;++te)L[d[te]>>>O]=F}return L},y=new e(288);for(p=0;p<144;++p)y[p]=8;for(p=144;p<256;++p)y[p]=9;for(p=256;p<280;++p)y[p]=7;for(p=280;p<288;++p)y[p]=8;var x=new e(32);for(p=0;p<32;++p)x[p]=5;var _=g(y,9),b=g(x,5),w=function(z){for(var H=z[0],U=1;U<z.length;++U)z[U]>H&&(H=z[U]);return H},M=function(z,H,U){var W=H/8|0;return(z[W]|z[W+1]<<8)>>(7&H)&U},C=function(z,H){var U=H/8|0;return(z[U]|z[U+1]<<8|z[U+2]<<16)>>(7&H)},R=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(z,H,U){var W=new Error(H||R[z]);if(W.code=z,Error.captureStackTrace&&Error.captureStackTrace(W,E),!U)throw W;return W},B=function(z,H,U){var W=z.length;if(!W||U&&!U.l&&W<5)return H||new e(0);var X=!H||U,q=!U||U.i;U||(U={}),H||(H=new e(3*W));var L,I=function(Oe){var qe=H.length;if(Oe>qe){var tt=new e(Math.max(2*qe,Oe));tt.set(H),H=tt}},O=U.f||0,F=U.p||0,j=U.b||0,te=U.l,re=U.d,se=U.m,K=U.n,le=8*W;do{if(!te){U.f=O=M(z,F,1);var he=M(z,F+1,3);if(F+=3,!he){var we=z[(Ve=((L=F)/8|0)+(7&L&&1)+4)-4]|z[Ve-3]<<8,ve=Ve+we;if(ve>W){q&&E(0);break}X&&I(j+we),H.set(z.subarray(Ve,ve),j),U.b=j+=we,U.p=F=8*ve;continue}if(he==1)te=_,re=b,se=9,K=5;else if(he==2){var fe=M(z,F,31)+257,ne=M(z,F+10,15)+4,oe=fe+M(z,F+5,31)+1;F+=14;for(var Te=new e(oe),be=new e(19),Ce=0;Ce<ne;++Ce)be[o[Ce]]=M(z,F+3*Ce,7);F+=3*ne;var We=w(be),Se=(1<<We)-1,ke=g(be,We);for(Ce=0;Ce<oe;){var Ve,Ee=ke[M(z,F,Se)];if(F+=15&Ee,(Ve=Ee>>>4)<16)Te[Ce++]=Ve;else{var V=0,k=0;for(Ve==16?(k=3+M(z,F,3),F+=2,V=Te[Ce-1]):Ve==17?(k=3+M(z,F,7),F+=3):Ve==18&&(k=11+M(z,F,127),F+=7);k--;)Te[Ce++]=V}}var Q=Te.subarray(0,fe),ce=Te.subarray(fe);se=w(Q),K=w(ce),te=g(Q,se),re=g(ce,K)}else E(1);if(F>le){q&&E(0);break}}X&&I(j+131072);for(var Me=(1<<se)-1,Re=(1<<K)-1,Ue=F;;Ue=F){var Pe=(V=te[C(z,F)&Me])>>>4;if((F+=15&V)>le){q&&E(0);break}if(V||E(2),Pe<256)H[j++]=Pe;else{if(Pe==256){Ue=F,te=null;break}var xe=Pe-254;if(Pe>264){var Xe=i[Ce=Pe-257];xe=M(z,F,(1<<Xe)-1)+c[Ce],F+=Xe}var Ge=re[C(z,F)&Re],je=Ge>>>4;if(Ge||E(3),F+=15&Ge,ce=f[je],je>3&&(Xe=s[je],ce+=C(z,F)&(1<<Xe)-1,F+=Xe),F>le){q&&E(0);break}X&&I(j+131072);for(var He=j+xe;j<He;j+=4)H[j]=H[j-ce],H[j+1]=H[j+1-ce],H[j+2]=H[j+2-ce],H[j+3]=H[j+3-ce];j=He}}U.l=te,U.p=Ue,U.b=j,te&&(O=1,U.m=se,U.d=re,U.n=K)}while(!O);return j==H.length?H:function(Oe,qe,tt){(tt==null||tt>Oe.length)&&(tt=Oe.length);var pt=new(Oe instanceof t?t:Oe instanceof r?r:e)(tt-qe);return pt.set(Oe.subarray(qe,tt)),pt}(H,0,j)},D=new e(0),N=typeof TextDecoder<"u"&&new TextDecoder;try{N.decode(D,{stream:!0})}catch{}return n.convert_streams=function(z){var H=new DataView(z),U=0;function W(){var fe=H.getUint16(U);return U+=2,fe}function X(){var fe=H.getUint32(U);return U+=4,fe}function q(fe){we.setUint16(ve,fe),ve+=2}function L(fe){we.setUint32(ve,fe),ve+=4}for(var I={signature:X(),flavor:X(),length:X(),numTables:W(),reserved:W(),totalSfntSize:X(),majorVersion:W(),minorVersion:W(),metaOffset:X(),metaLength:X(),metaOrigLength:X(),privOffset:X(),privLength:X()},O=0;Math.pow(2,O)<=I.numTables;)O++;O--;for(var F=16*Math.pow(2,O),j=16*I.numTables-F,te=12,re=[],se=0;se<I.numTables;se++)re.push({tag:X(),offset:X(),compLength:X(),origLength:X(),origChecksum:X()}),te+=16;var K,le=new Uint8Array(12+16*re.length+re.reduce(function(fe,ne){return fe+ne.origLength+4},0)),he=le.buffer,we=new DataView(he),ve=0;return L(I.flavor),q(I.numTables),q(F),q(O),q(j),re.forEach(function(fe){L(fe.tag),L(fe.origChecksum),L(te),L(fe.origLength),fe.outOffset=te,(te+=fe.origLength)%4!=0&&(te+=4-te%4)}),re.forEach(function(fe){var ne,oe=z.slice(fe.offset,fe.offset+fe.compLength);if(fe.compLength!=fe.origLength){var Te=new Uint8Array(fe.origLength);ne=new Uint8Array(oe,2),B(ne,Te)}else Te=new Uint8Array(oe);le.set(Te,fe.outOffset);var be=0;(te=fe.outOffset+fe.origLength)%4!=0&&(be=4-te%4),le.set(new Uint8Array(be).buffer,fe.outOffset+fe.origLength),K=te+be}),he.slice(0,K)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function BNe(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,c=32;let u;function f(M){if(!u){const C={R:s,L:i,D:o,C:l,U:c,T:a};u=new Map;for(let R in r){let E=0;r[R].split(",").forEach(B=>{let[D,N]=B.split("+");D=parseInt(D,36),N=N?parseInt(N,36):0,u.set(E+=D,C[R]);for(let z=N;z--;)u.set(++E,C[R])})}}return u.get(M)||c}const d=1,p=2,m=3,g=4,y=[null,"isol","init","fina","medi"];function x(M){const C=new Uint8Array(M.length);let R=c,E=d,B=-1;for(let D=0;D<M.length;D++){const N=M.codePointAt(D);let z=f(N)|0,H=d;z&a||(R&(i|o|l)?z&(s|o|l)?(H=m,(E===d||E===m)&&C[B]++):z&(i|c)&&(E===p||E===g)&&C[B]--:R&(s|c)&&(E===p||E===g)&&C[B]--,E=C[D]=H,R=z,B=D,N>65535&&D++)}return C}function _(M,C){const R=[];for(let B=0;B<C.length;B++){const D=C.codePointAt(B);D>65535&&B++,R.push(n.U.codeToGlyph(M,D))}const E=M.GSUB;if(E){const{lookupList:B,featureList:D}=E;let N;const z=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,H=[];D.forEach(U=>{if(z.test(U.tag))for(let W=0;W<U.tab.length;W++){if(H[U.tab[W]])continue;H[U.tab[W]]=!0;const X=B[U.tab[W]],q=/^(isol|init|fina|medi)$/.test(U.tag);q&&!N&&(N=x(C));for(let L=0;L<R.length;L++)(!N||!q||y[N[L]]===U.tag)&&n.U._applySubs(R,L,X,B)}})}return R}function b(...M){for(let C=0;C<M.length;C++)if(typeof M[C]=="number")return M[C]}function w(M){const C=Object.create(null),R=M["OS/2"],E=M.hhea,B=M.head.unitsPerEm,D=b(R&&R.sTypoAscender,E&&E.ascender,B),N={unitsPerEm:B,ascender:D,descender:b(R&&R.sTypoDescender,E&&E.descender,0),capHeight:b(R&&R.sCapHeight,D),xHeight:b(R&&R.sxHeight,D),lineGap:b(R&&R.sTypoLineGap,E&&E.lineGap),forEachGlyph(z,H,U,W){let X=0;const q=1/N.unitsPerEm*H,L=_(M,z);let I=0,O=-1;return L.forEach((F,j)=>{if(F!==-1){let te=C[F];if(!te){const{cmds:re,crds:se}=n.U.glyphToPath(M,F);let K="",le=0;for(let ne=0,oe=re.length;ne<oe;ne++){const Te=t[re[ne]];K+=re[ne];for(let be=1;be<=Te;be++)K+=(be>1?",":"")+se[le++]}let he,we,ve,fe;if(se.length){he=we=1/0,ve=fe=-1/0;for(let ne=0,oe=se.length;ne<oe;ne+=2){let Te=se[ne],be=se[ne+1];Te<he&&(he=Te),be<we&&(we=be),Te>ve&&(ve=Te),be>fe&&(fe=be)}}else he=ve=we=fe=0;te=C[F]={index:F,advanceWidth:M.hmtx.aWidth[F],xMin:he,yMin:we,xMax:ve,yMax:fe,path:K,pathCommandCount:re.length}}O!==-1&&(X+=n.U.getPairAdjustment(M,O,F)*q),W.call(null,te,X,I),te.advanceWidth&&(X+=te.advanceWidth*q),U&&(X+=U*H),O=F}I+=z.codePointAt(I)>65535?2:1}),X}};return N}return function(M){const C=new Uint8Array(M,0,4),R=n._bin.readASCII(C,0,4);if(R==="wOFF")M=e(M);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return w(n.parse(M)[0])}}const DNe=h3({name:"Typr Font Parser",dependencies:[RNe,PNe,BNe],init(n,e,t){const r=n(),i=e();return t(r,i)}}),Gb={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},kNe=new ft;function z_(){return(self.performance||Date).now()}const JQ=Object.create(null);function xpe(n,e){n=ONe({},n);const t=z_();if(n.font=FNe(n.font||Gb.defaultFontURL),n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||Gb.sdfGlyphSize,n.colorRanges!=null){let f={};for(let d in n.colorRanges)if(n.colorRanges.hasOwnProperty(d)){let p=n.colorRanges[d];typeof p!="number"&&(p=kNe.set(p).getHex()),f[d]=p}n.colorRanges=f}Object.freeze(n);const{textureWidth:r,sdfExponent:i}=Gb,{sdfGlyphSize:s}=n,o=r/s*4;let a=JQ[s];if(!a){const f=document.createElement("canvas");f.width=r,f.height=s*256/o,a=JQ[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new Kr(f,void 0,void 0,void 0,jr,jr),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,INe(a)}const{sdfTexture:l,sdfCanvas:c}=a;let u=a.glyphsByFont.get(n.font);u||a.glyphsByFont.set(n.font,u=new Map),UNe(n).then(f=>{const{glyphIds:d,glyphPositions:p,fontSize:m,unitsPerEm:g,timings:y}=f,x=[],_=new Float32Array(d.length*4),b=m/g;let w=0,M=0;const C=z_();d.forEach((N,z)=>{let H=u.get(N);if(!H){const{path:q,pathBounds:L}=f.glyphData[N],I=Math.max(L[2]-L[0],L[3]-L[1])/s*(Gb.sdfMargin*s+.5),O=a.glyphCount++,F=[L[0]-I,L[1]-I,L[2]+I,L[3]+I];u.set(N,H={path:q,atlasIndex:O,sdfViewBox:F}),x.push(H)}const{sdfViewBox:U}=H,W=p[M++],X=p[M++];_[w++]=W+U[0]*b,_[w++]=X+U[1]*b,_[w++]=W+U[2]*b,_[w++]=X+U[3]*b,d[z]=H.atlasIndex}),y.quads=(y.quads||0)+(z_()-C);const R=z_();y.sdf={};const E=c.height,B=Math.ceil(a.glyphCount/o),D=Math.pow(2,Math.ceil(Math.log2(B*s)));D>E&&(console.info(`Increasing SDF texture size ${E}->${D}`),TNe(c,r,D),l.dispose()),Promise.all(x.map(N=>_pe(N,a,n.gpuAccelerateSDF).then(({timing:z})=>{y.sdf[N.atlasIndex]=z}))).then(()=>{x.length&&!a.contextLost&&(bpe(a),l.needsUpdate=!0),y.sdfTotal=z_()-R,y.total=z_()-t,e(Object.freeze({parameters:n,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:_,glyphAtlasIndices:d,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||CNe(c)})}function _pe({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=Gb,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),f=u%(a/r)*r,d=Math.floor(u/(a/r))*r,p=e%4;return bNe(r,r,n,t,c,l,i,f,d,p,o)}function INe(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const r=[];n.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(_pe(s,n,!0))})}),Promise.all(r).then(()=>{bpe(n),n.sdfTexture.needsUpdate=!0})})}function LNe({font:n,characters:e,sdfGlyphSize:t},r){let i=Array.isArray(e)?e.join(`
`):""+e;xpe({font:n,sdfGlyphSize:t,text:i},r)}function ONe(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let DP;function FNe(n){return DP||(DP=typeof document>"u"?{}:document.createElement("a")),DP.href=n,DP.href}function bpe(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:r,height:i}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),t.image={width:r,height:i,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const NNe=h3({name:"Typesetter",dependencies:[Gb,DNe,_Ne,dNe],init(n,e,t,r){const{defaultFontURL:i}=n;return t(e,r(),{defaultFontURL:i})}}),UNe=h3({name:"Typesetter",dependencies:[NNe],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[n.glyphPositions.buffer,n.glyphIds.buffer];return n.caretPositions&&e.push(n.caretPositions.buffer),n.glyphColors&&e.push(n.glyphColors.buffer),e}}),YQ={};function zNe(n){let e=YQ[n];if(!e){const t=new px(1,1,n,n),r=t.clone(),i=t.attributes,s=r.attributes,o=new cn,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new It([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...t.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=YQ[n]=o}return e}const GNe="aTroikaGlyphBounds",KQ="aTroikaGlyphIndex",HNe="aTroikaGlyphColor";class VNe extends vW{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new fm,this.boundingBox=new um}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===Ha?t/2:0,e===Cu?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=zNe(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=t.attributes[r].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,s){WN(this,GNe,e,4),WN(this,KQ,t,1),WN(this,HNe,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:i,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=i/2,f=i*2,d=Math.abs(t),p=e[0]/d,m=e[2]/d,g=s((p+u)/f)!==s((m+u)/f)?-d:o(l(p)*d,l(m)*d),y=s((p-u)/f)!==s((m-u)/f)?d:a(l(p)*d,l(m)*d),x=s((p+i)/f)!==s((m+i)/f)?d*2:a(d-c(p)*d,d-c(m)*d);r.min.set(g,e[1],t<0?-x:0),r.max.set(y,e[3],t<0?0:x)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(KQ).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){t=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}}function WN(n,e,t,r){const i=n.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(n.setAttribute(e,new g0(t,r)),delete n._maxInstanceCount,n.dispose()):i&&n.deleteAttribute(e)}const jNe=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,WNe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,$Ne=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,XNe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function JNe(n){const e=UG(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new rt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new wn(0,0,0,0)},uTroikaClipRect:{value:new wn(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new rt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ft},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new sa},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:jNe,vertexTransform:WNe,fragmentDefs:$Ne,fragmentColorTransform:XNe,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(vpe,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const PW=new dl({color:16777215,side:Cu,transparent:!0}),qQ=8421504,QQ=new Ht,kP=new ge,$N=new ge,$M=[],YNe=new ge,XN="+x+y";function ZQ(n){return Array.isArray(n)?n[0]:n}let wpe=()=>{const n=new Oi(new px(1,1),PW);return wpe=()=>n,n},Spe=()=>{const n=new Oi(new px(1,1,32,1),PW);return Spe=()=>n,n};const KNe={type:"syncstart"},qNe={type:"synccomplete"},Ape=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],QNe=Ape.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Mpe=class extends Oi{constructor(){const n=new VNe;super(n,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=qQ,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=XN,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(n){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(n):(this._isSyncing=!0,this.dispatchEvent(KNe),xpe({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},e=>{this._isSyncing=!1,this._textRenderInfo=e,this.geometry.updateGlyphs(e.glyphBounds,e.glyphAtlasIndices,e.blockBounds,e.chunkedBounds,e.glyphColors);const t=this._queuedSyncs;t&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{t.forEach(r=>r&&r())})),this.dispatchEvent(qNe),n&&n()})))}onBeforeRender(n,e,t,r,i,s){this.sync(),i.isTroikaTextMaterial&&this._prepareForRender(i),i._hadOwnSide=i.hasOwnProperty("side"),this.geometry.setSide(i._actualSide=i.side),i.side=Gp}onAfterRender(n,e,t,r,i,s){i._hadOwnSide?i.side=i._actualSide:delete i.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let n=this._derivedMaterial;const e=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=PW.clone());if((!n||n.baseMaterial!==e)&&(n=this._derivedMaterial=JNe(e),e.addEventListener("dispose",function t(){e.removeEventListener("dispose",t),n.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let t=n._outlineMtl;return t||(t=n._outlineMtl=Object.create(n,{id:{value:n.id+.1}}),t.isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),t.dispose()})),[t,n]}else return n}set material(n){n&&n.isTroikaTextMaterial?(this._derivedMaterial=n,this._baseMaterial=n.baseMaterial):this._baseMaterial=n}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(n){this.geometry.detail=n}get curveRadius(){return this.geometry.curveRadius}set curveRadius(n){this.geometry.curveRadius=n}get customDepthMaterial(){return ZQ(this.material).getDepthMaterial()}get customDistanceMaterial(){return ZQ(this.material).getDistanceMaterial()}_prepareForRender(n){const e=n.isTextOutlineMaterial,t=n.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:o,blockBounds:a}=r;t.uTroikaSDFTexture.value=o,t.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),t.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,t.uTroikaSDFExponent.value=r.sdfExponent,t.uTroikaTotalBounds.value.fromArray(a),t.uTroikaUseGlyphColors.value=!e&&!!r.glyphColors;let l=0,c=0,u=0,f,d,p,m=0,g=0;if(e){let{outlineWidth:x,outlineOffsetX:_,outlineOffsetY:b,outlineBlur:w,outlineOpacity:M}=this;l=this._parsePercent(x)||0,c=Math.max(0,this._parsePercent(w)||0),f=M,m=this._parsePercent(_)||0,g=this._parsePercent(b)||0}else u=Math.max(0,this._parsePercent(this.strokeWidth)||0),u&&(p=this.strokeColor,t.uTroikaStrokeColor.value.set(p??qQ),d=this.strokeOpacity,d==null&&(d=1)),f=this.fillOpacity;t.uTroikaDistanceOffset.value=l,t.uTroikaPositionOffset.value.set(m,g),t.uTroikaBlurRadius.value=c,t.uTroikaStrokeWidth.value=u,t.uTroikaStrokeOpacity.value=d,t.uTroikaFillOpacity.value=f??1,t.uTroikaCurveRadius.value=this.curveRadius||0;let y=this.clipRect;if(y&&Array.isArray(y)&&y.length===4)t.uTroikaClipRect.value.fromArray(y);else{const x=(this.fontSize||.1)*100;t.uTroikaClipRect.value.set(a[0]-x,a[1]-x,a[2]+x,a[3]+x)}this.geometry.applyClipRect(t.uTroikaClipRect.value)}t.uTroikaSDFDebug.value=!!this.debugSDF,n.polygonOffset=!!this.depthOffset,n.polygonOffsetFactor=n.polygonOffsetUnits=this.depthOffset||0;const i=e?this.outlineColor||0:this.color;if(i==null)delete n.color;else{const o=n.hasOwnProperty("color")?n.color:n.color=new ft;(i!==o._input||typeof i=="object")&&o.set(o._input=i)}let s=this.orientation||XN;if(s!==n._orientation){let o=t.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let a=s!==XN&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(a){let[,l,c,u,f]=a;kP.set(0,0,0)[c]=l==="-"?1:-1,$N.set(0,0,0)[f]=u==="-"?-1:1,QQ.lookAt(YNe,kP.cross($N),$N),o.setFromMatrix4(QQ)}else o.identity();n._orientation=s}}_parsePercent(n){if(typeof n=="string"){let e=n.match(/^(-?[\d.]+)%$/),t=e?parseFloat(e[1]):NaN;n=(isNaN(t)?0:t/100)*this.fontSize}return n}localPositionToTextCoords(n,e=new rt){e.copy(n);const t=this.curveRadius;return t&&(e.x=Math.atan2(n.x,Math.abs(t)-Math.abs(n.z))*Math.abs(t)),e}worldPositionToTextCoords(n,e=new rt){return kP.copy(n),this.localPositionToTextCoords(this.worldToLocal(kP),e)}raycast(n,e){const{textRenderInfo:t,curveRadius:r}=this;if(t){const i=t.blockBounds,s=r?Spe():wpe(),o=s.geometry,{position:a,uv:l}=o.attributes;for(let c=0;c<l.count;c++){let u=i[0]+l.getX(c)*(i[2]-i[0]);const f=i[1]+l.getY(c)*(i[3]-i[1]);let d=0;r&&(d=r-Math.cos(u/r)*r,u=Math.sin(u/r)*r),a.setXYZ(c,u,f,d)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,$M.length=0,s.raycast(n,$M);for(let c=0;c<$M.length;c++)$M[c].object=this,e.push($M[c])}}copy(n){const e=this.geometry;return super.copy(n),this.geometry=e,QNe.forEach(t=>{this[t]=n[t]}),this}clone(){return new this.constructor().copy(this)}};Ape.forEach(n=>{const e="_private_"+n;Object.defineProperty(Mpe.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});const eZ=J.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const u=q0(({invalidate:m})=>m),[f]=J.useState(()=>new Mpe),[d,p]=J.useMemo(()=>{const m=[];let g="";return J.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?g+=y:m.push(y)}),[m,g]},[s]);return SW(()=>new Promise(m=>LNe({font:r,characters:o},m)),["troika-text",r,o]),J.useLayoutEffect(()=>void f.sync(()=>{u(),a&&a(f)})),J.useEffect(()=>()=>f.dispose(),[f]),J.createElement("primitive",Wa({object:f,ref:c,font:r,text:p,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},l),d)});function ZNe(n,e,t,r){const i=class extends Vf{constructor(s={}){const o=Object.entries(n);super({uniforms:o.reduce((a,[l,c])=>{const u=pO.clone({[l]:{value:c}});return{...a,...u}},{}),vertexShader:e,fragmentShader:t}),this.key="",o.forEach(([a])=>Object.defineProperty(this,a,{get:()=>this.uniforms[a].value,set:l=>this.uniforms[a].value=l})),Object.assign(this,s)}};return i.key=ll.generateUUID(),i}const tZ=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function FO(n,e){const t=q0(i=>i.gl),r=ed(QS,tZ(n)?Object.values(n):n);if(J.useLayoutEffect(()=>{e==null||e(r)},[e]),J.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),tZ(n)){const i=Object.keys(n),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}FO.preload=n=>ed.preload(QS,n);FO.clear=n=>ed.clear(QS,n);const eUe=ZNe({color:new ft("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0,opacity:1},`
  varying vec2 vUv;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity), grayscale);
    
    #include <tonemapping_fragment>
    #include <encodings_fragment>
  }
`),Epe=J.forwardRef(({children:n,color:e,segments:t=1,scale:r=1,zoom:i=1,grayscale:s=0,opacity:o=1,texture:a,toneMapped:l,transparent:c,...u},f)=>{Che({ImageMaterial:eUe});const d=Array.isArray(r)?[r[0],r[1]]:[r,r],p=[a.image.width,a.image.height];return J.createElement("mesh",Wa({ref:f,scale:Array.isArray(r)?[...r,1]:r},u),J.createElement("planeGeometry",{args:[1,1,t,t]}),J.createElement("imageMaterial",{color:e,map:a,zoom:i,grayscale:s,opacity:o,scale:d,imageBounds:p,toneMapped:l,transparent:c}),n)}),tUe=J.forwardRef(({url:n,...e},t)=>{const r=FO(n);return J.createElement(Epe,Wa({},e,{texture:r,ref:t}))}),nUe=J.forwardRef(({url:n,...e},t)=>J.createElement(Epe,Wa({},e,{ref:t}))),rUe=J.forwardRef((n,e)=>{if(n.url)return J.createElement(tUe,Wa({},n,{ref:e}));if(n.texture)return J.createElement(nUe,Wa({},n,{ref:e}));throw new Error("<Image /> requires a url or texture")});let IP=null;function Cpe(n,e,t){return r=>{t&&t(r),n&&(IP||(IP=new iNe),IP.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(IP)),e&&r.setMeshoptDecoder(typeof VN=="function"?VN():VN)}}function ZS(n,e=!0,t=!0,r){return ed(TW,n,Cpe(e,t,r))}ZS.preload=(n,e=!0,t=!0,r)=>ed.preload(TW,n,Cpe(e,t,r));ZS.clear=n=>ed.clear(TW,n);function iUe(n,e){const{unsuspend:t,start:r,crossOrigin:i,muted:s,loop:o,...a}={unsuspend:"loadedmetadata",crossOrigin:"Anonymous",muted:!0,loop:!0,start:!0,playsInline:!0,...e},l=q0(u=>u.gl),c=SW(()=>new Promise((u,f)=>{const d=Object.assign(document.createElement("video"),{src:n,srcObject:n instanceof MediaStream&&n||void 0,crossOrigin:i,loop:o,muted:s,...a}),p=new Ade(d);"colorSpace"in p?p.colorSpace=l.outputColorSpace:p.encoding=l.outputEncoding,d.addEventListener(t,()=>u(p))}),[n]);return J.useEffect(()=>void(r&&c.image.play()),[c,r]),c}function gE(n){return ed(RW,n)}gE.preload=n=>ed.preload(RW,n);gE.clear=n=>ed.clear(RW,n);function sUe(n,e){const t=J.useRef(),[r]=J.useState(()=>e?e instanceof Rn?{current:e}:e:t),[i]=J.useState(()=>new ghe(void 0));J.useLayoutEffect(()=>void(i._root=r.current),[i,e]);const s=J.useRef({}),[o]=J.useState(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:n,actions:a,names:n.map(l=>l.name),mixer:i}});return Pc((a,l)=>i.update(l)),J.useEffect(()=>{const a=r.current;return()=>{s.current={},Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[n]),J.useEffect(()=>()=>{i.stopAllAction()},[i]),o}var oUe=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class aUe extends Rc{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${oUe}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const nZ=J.forwardRef(({speed:n=1,...e},t)=>{const[r]=J.useState(()=>new aUe);return Pc(i=>r&&(r.time=i.clock.getElapsedTime()*n)),J.createElement("primitive",Wa({object:r,ref:t,attach:"material"},e))});class lUe extends v0{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._factor={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.factor=this._factor,e.vertexShader=`
      uniform float time;
      uniform float factor;
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`float theta = sin( time + position.y ) / 2.0 * factor;
        float c = cos( theta );
        float s = sin( theta );
        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );
        vec3 transformed = vec3( position ) * m;
        vNormal = vNormal * m;`)}get time(){return this._time.value}set time(e){this._time.value=e}get factor(){return this._factor.value}set factor(e){this._factor.value=e}}const cUe=J.forwardRef(({speed:n=1,...e},t)=>{const[r]=J.useState(()=>new lUe);return Pc(i=>r&&(r.time=i.clock.getElapsedTime()*n)),J.createElement("primitive",Wa({object:r,ref:t,attach:"material"},e))});function uUe(n,e){const t=n+"Geometry";return J.forwardRef(({args:r,children:i,...s},o)=>{const a=J.useRef(null);return J.useImperativeHandle(o,()=>a.current),J.useLayoutEffect(()=>{}),J.createElement("mesh",Wa({ref:a},s),J.createElement(t,{attach:"geometry",args:r}),i)})}const fUe=uUe("sphere"),JN=J.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=J.useRef(null),c=J.useRef(Math.random()*1e4);return Pc(u=>{var f,d;if(!e||t===0)return;const p=c.current+u.clock.getElapsedTime();l.current.rotation.x=Math.cos(p/4*t)/8*r,l.current.rotation.y=Math.sin(p/4*t)/8*r,l.current.rotation.z=Math.sin(p/4*t)/20*r;let m=Math.sin(p/4*t)/10;m=ll.mapLinear(m,-.1,.1,(f=s==null?void 0:s[0])!==null&&f!==void 0?f:-.1,(d=s==null?void 0:s[1])!==null&&d!==void 0?d:.1),l.current.position.y=m*i,l.current.updateMatrix()}),J.createElement("group",o,J.createElement("group",{ref:EW([l,a]),matrixAutoUpdate:!1},n))});var Tpe={exports:{}},dUe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hUe=dUe,pUe=hUe;function Rpe(){}function Ppe(){}Ppe.resetWarningCache=Rpe;var mUe=function(){function n(r,i,s,o,a,l){if(l!==pUe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Ppe,resetWarningCache:Rpe};return t.PropTypes=t,t};Tpe.exports=mUe();var gUe=Tpe.exports;const Mr=jS(gUe),NC=J.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),NO=J.createContext({}),BW=J.createContext(null),UO=typeof document<"u",vUe=UO?J.useLayoutEffect:J.useEffect,Bpe=J.createContext({strict:!1}),DW=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),yUe="framerAppearId",Dpe="data-"+DW(yUe);function xUe(n,e,t,r){const{visualElement:i}=J.useContext(NO),s=J.useContext(Bpe),o=J.useContext(BW),a=J.useContext(NC).reducedMotion,l=J.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;J.useInsertionEffect(()=>{c&&c.update(t,o)});const u=J.useRef(!!(t[Dpe]&&!window.HandoffComplete));return vUe(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),J.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function Hb(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function _Ue(n,e,t){return J.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Hb(t)&&(t.current=r))},[e])}function UC(n){return typeof n=="string"||Array.isArray(n)}function zO(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const kW=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IW=["initial",...kW];function GO(n){return zO(n.animate)||IW.some(e=>UC(n[e]))}function kpe(n){return!!(GO(n)||n.variants)}function bUe(n,e){if(GO(n)){const{initial:t,animate:r}=n;return{initial:t===!1||UC(t)?t:void 0,animate:UC(r)?r:void 0}}return n.inherit!==!1?e:{}}function wUe(n){const{initial:e,animate:t}=bUe(n,J.useContext(NO));return J.useMemo(()=>({initial:e,animate:t}),[rZ(e),rZ(t)])}function rZ(n){return Array.isArray(n)?n.join(" "):n}const iZ={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zC={};for(const n in iZ)zC[n]={isEnabled:e=>iZ[n].some(t=>!!e[t])};function SUe(n){for(const e in n)zC[e]={...zC[e],...n[e]}}const Ipe=J.createContext({}),Lpe=J.createContext({}),AUe=Symbol.for("motionComponentSymbol");function Ope({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&SUe(n);function s(a,l){let c;const u={...J.useContext(NC),...a,layoutId:MUe(a)},{isStatic:f}=u,d=wUe(a),p=r(a,f);if(!f&&UO){d.visualElement=xUe(i,p,u,e);const m=J.useContext(Lpe),g=J.useContext(Bpe).strict;d.visualElement&&(c=d.visualElement.loadFeatures(u,g,n,m))}return J.createElement(NO.Provider,{value:d},c&&d.visualElement?J.createElement(c,{visualElement:d.visualElement,...u}):null,t(i,a,_Ue(p,d.visualElement,l),p,f,d.visualElement))}const o=J.forwardRef(s);return o[AUe]=i,o}function MUe({layoutId:n}){const e=J.useContext(Ipe).id;return e&&n!==void 0?e+"-"+n:n}function EUe(n){function e(r,i={}){return Ope(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const CUe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LW(n){return typeof n!="string"||n.includes("-")?!1:!!(CUe.indexOf(n)>-1||/[A-Z]/.test(n))}const lI={};function TUe(n){Object.assign(lI,n)}const p3=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_x=new Set(p3);function Fpe(n,{layout:e,layoutId:t}){return _x.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!lI[n]||n==="opacity")}const Fi=n=>!!(n&&n.getVelocity),RUe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PUe=p3.length;function BUe(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<PUe;o++){const a=p3[o];if(n[a]!==void 0){const l=RUe[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const Npe=n=>e=>typeof e=="string"&&e.startsWith(n),Upe=Npe("--"),GG=Npe("var(--"),DUe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,kUe=(n,e)=>e&&typeof n=="number"?e.transform(n):n,_0=(n,e,t)=>Math.min(Math.max(t,n),e),bx={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},vE={...bx,transform:n=>_0(0,1,n)},LP={...bx,default:1},yE=n=>Math.round(n*1e5)/1e5,HO=/(-)?([\d]*\.?[\d])+/g,zpe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,IUe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function m3(n){return typeof n=="string"}const g3=n=>({test:e=>m3(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),lg=g3("deg"),Wd=g3("%"),rn=g3("px"),LUe=g3("vh"),OUe=g3("vw"),sZ={...Wd,parse:n=>Wd.parse(n)/100,transform:n=>Wd.transform(n*100)},oZ={...bx,transform:Math.round},Gpe={borderWidth:rn,borderTopWidth:rn,borderRightWidth:rn,borderBottomWidth:rn,borderLeftWidth:rn,borderRadius:rn,radius:rn,borderTopLeftRadius:rn,borderTopRightRadius:rn,borderBottomRightRadius:rn,borderBottomLeftRadius:rn,width:rn,maxWidth:rn,height:rn,maxHeight:rn,size:rn,top:rn,right:rn,bottom:rn,left:rn,padding:rn,paddingTop:rn,paddingRight:rn,paddingBottom:rn,paddingLeft:rn,margin:rn,marginTop:rn,marginRight:rn,marginBottom:rn,marginLeft:rn,rotate:lg,rotateX:lg,rotateY:lg,rotateZ:lg,scale:LP,scaleX:LP,scaleY:LP,scaleZ:LP,skew:lg,skewX:lg,skewY:lg,distance:rn,translateX:rn,translateY:rn,translateZ:rn,x:rn,y:rn,z:rn,perspective:rn,transformPerspective:rn,opacity:vE,originX:sZ,originY:sZ,originZ:rn,zIndex:oZ,fillOpacity:vE,strokeOpacity:vE,numOctaves:oZ};function OW(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const f in e){const d=e[f];if(Upe(f)){s[f]=d;continue}const p=Gpe[f],m=kUe(d,p);if(_x.has(f)){if(l=!0,o[f]=m,!u)continue;d!==(p.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=m):i[f]=m}if(e.transform||(l||r?i.transform=BUe(n.transform,t,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:p=0}=a;i.transformOrigin=`${f} ${d} ${p}`}}const FW=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Hpe(n,e,t){for(const r in e)!Fi(e[r])&&!Fpe(r,t)&&(n[r]=e[r])}function FUe({transformTemplate:n},e,t){return J.useMemo(()=>{const r=FW();return OW(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function NUe(n,e,t){const r=n.style||{},i={};return Hpe(i,r,n),Object.assign(i,FUe(n,e,t)),n.transformValues?n.transformValues(i):i}function UUe(n,e,t){const r={},i=NUe(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const zUe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cI(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||zUe.has(n)}let Vpe=n=>!cI(n);function jpe(n){n&&(Vpe=e=>e.startsWith("on")?!cI(e):n(e))}try{jpe(require("@emotion/is-prop-valid").default)}catch{}function Wpe(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(Vpe(i)||t===!0&&cI(i)||!e&&!cI(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function aZ(n,e,t){return typeof n=="string"?n:rn.transform(e+t*n)}function GUe(n,e,t){const r=aZ(e,n.x,n.width),i=aZ(t,n.y,n.height);return`${r} ${i}`}const HUe={offset:"stroke-dashoffset",array:"stroke-dasharray"},VUe={offset:"strokeDashoffset",array:"strokeDasharray"};function jUe(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?HUe:VUe;n[s.offset]=rn.transform(-r);const o=rn.transform(e),a=rn.transform(t);n[s.array]=`${o} ${a}`}function NW(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f,d){if(OW(n,c,u,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:g}=n;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=GUe(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),r!==void 0&&(p.scale=r),o!==void 0&&jUe(p,o,a,l,!1)}const $pe=()=>({...FW(),attrs:{}}),UW=n=>typeof n=="string"&&n.toLowerCase()==="svg";function WUe(n,e,t,r){const i=J.useMemo(()=>{const s=$pe();return NW(s,e,{enableHardwareAcceleration:!1},UW(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Hpe(s,n.style,n),i.style={...s,...i.style}}return i}function $Ue(n=!1){return(e,t,r,{latestValues:i},s)=>{const o=(LW(e)?WUe:UUe)(t,i,s,e),a={...Wpe(t,typeof e=="string",n),...o,ref:r},{children:l}=t,c=J.useMemo(()=>Fi(l)?l.get():l,[l]);return J.createElement(e,{...a,children:c})}}function Xpe(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const Jpe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ype(n,e,t,r){Xpe(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(Jpe.has(i)?i:DW(i),e.attrs[i])}function zW(n,e){const{style:t}=n,r={};for(const i in t)(Fi(t[i])||e.style&&Fi(e.style[i])||Fpe(i,n))&&(r[i]=t[i]);return r}function Kpe(n,e){const t=zW(n,e);for(const r in n)if(Fi(n[r])||Fi(e[r])){const i=p3.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function GW(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function HW(n){const e=J.useRef(null);return e.current===null&&(e.current=n()),e.current}const uI=n=>Array.isArray(n),XUe=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),JUe=n=>uI(n)?n[n.length-1]||0:n;function xE(n){const e=Fi(n)?n.get():n;return XUe(e)?e.toValue():e}function YUe({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:KUe(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const VW=n=>(e,t)=>{const r=J.useContext(NO),i=J.useContext(BW),s=()=>YUe(n,e,r,i);return t?s():HW(s)};function KUe(n,e,t,r){const i={},s=r(n,{});for(const d in s)i[d]=xE(s[d]);let{initial:o,animate:a}=n;const l=GO(n),c=kpe(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const f=u?a:o;return f&&typeof f!="boolean"&&!zO(f)&&(Array.isArray(f)?f:[f]).forEach(d=>{const p=GW(n,d);if(!p)return;const{transitionEnd:m,transition:g,...y}=p;for(const x in y){let _=y[x];if(Array.isArray(_)){const b=u?_.length-1:0;_=_[b]}_!==null&&(i[x]=_)}for(const x in m)i[x]=m[x]}),i}const as=n=>n;class lZ{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function qUe(n){let e=new lZ,t=new lZ,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,d=f?e:t;return c&&o.add(l),d.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const OP=["prepare","read","update","preRender","render","postRender"],QUe=40;function ZUe(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=OP.reduce((c,u)=>(c[u]=qUe(()=>t=!0),c),{}),o=c=>s[c].process(i),a=()=>{const c=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(c-i.timestamp,QUe),1),i.timestamp=c,i.isProcessing=!0,OP.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:OP.reduce((c,u)=>{const f=s[u];return c[u]=(d,p=!1,m=!1)=>(t||l(),f.schedule(d,p,m)),c},{}),cancel:c=>OP.forEach(u=>s[u].cancel(c)),state:i,steps:s}}const{schedule:Br,cancel:nh,state:Zo,steps:YN}=ZUe(typeof requestAnimationFrame<"u"?requestAnimationFrame:as,!0),e5e={useVisualState:VW({scrapeMotionValuesFromProps:Kpe,createRenderState:$pe,onMount:(n,e,{renderState:t,latestValues:r})=>{Br.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Br.render(()=>{NW(t,r,{enableHardwareAcceleration:!1},UW(e.tagName),n.transformTemplate),Ype(e,t)})}})},t5e={useVisualState:VW({scrapeMotionValuesFromProps:zW,createRenderState:FW})};function n5e(n,{forwardMotionProps:e=!1},t,r){return{...LW(n)?e5e:t5e,preloadedFeatures:t,useRender:$Ue(e),createVisualElement:r,Component:n}}function xp(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const qpe=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function VO(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const Qpe=n=>e=>qpe(e)&&n(e,VO(e));function Lf(n,e,t,r){return xp(n,e,Qpe(t),r)}const r5e=(n,e)=>t=>e(n(t)),Rp=(...n)=>n.reduce(r5e);function Zpe(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const cZ=Zpe("dragHorizontal"),uZ=Zpe("dragVertical");function eme(n){let e=!1;if(n==="y")e=uZ();else if(n==="x")e=cZ();else{const t=cZ(),r=uZ();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function jW(){const n=eme(!0);return n?(n(),!1):!0}let Q0=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};function fZ(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||jW())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&Br.update(()=>a[r](s,o))};return Lf(n.current,t,i,{passive:!n.getProps()[r]})}class i5e extends Q0{mount(){this.unmount=Rp(fZ(this.node,!0),fZ(this.node,!1))}unmount(){}}class s5e extends Q0{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rp(xp(this.node.current,"focus",()=>this.onFocus()),xp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const tme=(n,e)=>e?n===e?!0:tme(n,e.parentElement):!1;function KN(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,VO(t))}class o5e extends Q0{constructor(){super(...arguments),this.removeStartListeners=as,this.removeEndListeners=as,this.removeAccessibleListeners=as,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Lf(window,"pointerup",(o,a)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c,globalTapTarget:u}=this.node.getProps();Br.update(()=>{!u&&!tme(this.node.current,o.target)?c&&c(o,a):l&&l(o,a)})},{passive:!(r.onTap||r.onPointerUp)}),s=Lf(window,"pointercancel",(o,a)=>this.cancelPress(o,a),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Rp(i,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||KN("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Br.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=xp(this.node.current,"keyup",o),KN("down",(a,l)=>{this.startPress(a,l)})},t=xp(this.node.current,"keydown",e),r=()=>{this.isPressing&&KN("cancel",(s,o)=>this.cancelPress(s,o))},i=xp(this.node.current,"blur",r);this.removeAccessibleListeners=Rp(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Br.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!jW()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Br.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Lf(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=xp(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Rp(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const HG=new WeakMap,qN=new WeakMap,a5e=n=>{const e=HG.get(n.target);e&&e(n)},l5e=n=>{n.forEach(a5e)};function c5e({root:n,...e}){const t=n||document;qN.has(t)||qN.set(t,{});const r=qN.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(l5e,{root:n,...e})),r[i]}function u5e(n,e,t){const r=c5e(e);return HG.set(n,t),r.observe(n),()=>{HG.delete(n),r.unobserve(n)}}const f5e={some:0,all:1};class d5e extends Q0{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:f5e[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return u5e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(h5e(e,t))&&this.startObserver()}unmount(){}}function h5e({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const p5e={inView:{Feature:d5e},tap:{Feature:o5e},focus:{Feature:s5e},hover:{Feature:i5e}};function nme(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function m5e(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function g5e(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function jO(n,e,t){const r=n.getProps();return GW(r,e,t!==void 0?t:r.custom,m5e(n),g5e(n))}let fI=as;const Kg=n=>n*1e3,$d=n=>n/1e3,v5e={current:!1},rme=n=>Array.isArray(n)&&typeof n[0]=="number";function ime(n){return!!(!n||typeof n=="string"&&sme[n]||rme(n)||Array.isArray(n)&&n.every(ime))}const U2=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,sme={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:U2([0,.65,.55,1]),circOut:U2([.55,0,1,.45]),backIn:U2([.31,.01,.66,-.59]),backOut:U2([.33,1.53,.69,.99])};function ome(n){if(n)return rme(n)?U2(n):Array.isArray(n)?n.map(ome):sme[n]}function y5e(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=ome(a);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function x5e(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const ame=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,_5e=1e-7,b5e=12;function w5e(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=ame(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>_5e&&++a<b5e);return o}function v3(n,e,t,r){if(n===e&&t===r)return as;const i=s=>w5e(s,0,1,n,t);return s=>s===0||s===1?s:ame(i(s),e,r)}const S5e=v3(.42,0,1,1),A5e=v3(0,0,.58,1),lme=v3(.42,0,.58,1),cme=n=>Array.isArray(n)&&typeof n[0]!="number",ume=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,fme=n=>e=>1-n(1-e),WW=n=>1-Math.sin(Math.acos(n)),dme=fme(WW),M5e=ume(WW),hme=v3(.33,1.53,.69,.99),$W=fme(hme),E5e=ume($W),C5e=n=>(n*=2)<1?.5*$W(n):.5*(2-Math.pow(2,-10*(n-1))),dZ={linear:as,easeIn:S5e,easeInOut:lme,easeOut:A5e,circIn:WW,circInOut:M5e,circOut:dme,backIn:$W,backInOut:E5e,backOut:hme,anticipate:C5e},hZ=n=>{if(Array.isArray(n)){fI(n.length===4);const[e,t,r,i]=n;return v3(e,t,r,i)}else if(typeof n=="string")return fI(dZ[n]!==void 0),dZ[n];return n},XW=(n,e)=>t=>!!(m3(t)&&IUe.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),pme=(n,e,t)=>r=>{if(!m3(r))return r;const[i,s,o,a]=r.match(HO);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},T5e=n=>_0(0,255,n),QN={...bx,transform:n=>Math.round(T5e(n))},Gy={test:XW("rgb","red"),parse:pme("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+QN.transform(n)+", "+QN.transform(e)+", "+QN.transform(t)+", "+yE(vE.transform(r))+")"};function R5e(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const VG={test:XW("#"),parse:R5e,transform:Gy.transform},Vb={test:XW("hsl","hue"),parse:pme("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Wd.transform(yE(e))+", "+Wd.transform(yE(t))+", "+yE(vE.transform(r))+")"},Ba={test:n=>Gy.test(n)||VG.test(n)||Vb.test(n),parse:n=>Gy.test(n)?Gy.parse(n):Vb.test(n)?Vb.parse(n):VG.parse(n),transform:n=>m3(n)?n:n.hasOwnProperty("red")?Gy.transform(n):Vb.transform(n)},li=(n,e,t)=>-t*n+t*e+n;function ZN(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function P5e({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=ZN(l,a,n+1/3),s=ZN(l,a,n),o=ZN(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const eU=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},B5e=[VG,Gy,Vb],D5e=n=>B5e.find(e=>e.test(n));function pZ(n){const e=D5e(n);let t=e.parse(n);return e===Vb&&(t=P5e(t)),t}const mme=(n,e)=>{const t=pZ(n),r=pZ(e),i={...t};return s=>(i.red=eU(t.red,r.red,s),i.green=eU(t.green,r.green,s),i.blue=eU(t.blue,r.blue,s),i.alpha=li(t.alpha,r.alpha,s),Gy.transform(i))};function k5e(n){var e,t;return isNaN(n)&&m3(n)&&(((e=n.match(HO))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(zpe))===null||t===void 0?void 0:t.length)||0)>0}const gme={regex:DUe,countKey:"Vars",token:"${v}",parse:as},vme={regex:zpe,countKey:"Colors",token:"${c}",parse:Ba.parse},yme={regex:HO,countKey:"Numbers",token:"${n}",parse:bx.parse};function tU(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function dI(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&tU(t,gme),tU(t,vme),tU(t,yme),t}function xme(n){return dI(n).values}function _me(n){const{values:e,numColors:t,numVars:r,tokenised:i}=dI(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(gme.token,o[l]):l<r+t?a=a.replace(vme.token,Ba.transform(o[l])):a=a.replace(yme.token,yE(o[l]));return a}}const I5e=n=>typeof n=="number"?0:n;function L5e(n){const e=xme(n);return _me(n)(e.map(I5e))}const b0={test:k5e,parse:xme,createTransformer:_me,getAnimatableNone:L5e},bme=(n,e)=>t=>`${t>0?e:n}`;function wme(n,e){return typeof n=="number"?t=>li(n,e,t):Ba.test(n)?mme(n,e):n.startsWith("var(")?bme(n,e):Ame(n,e)}const Sme=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>wme(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},O5e=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=wme(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},Ame=(n,e)=>{const t=b0.createTransformer(e),r=dI(n),i=dI(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Rp(Sme(r.values,i.values),t):bme(n,e)},cS=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},mZ=(n,e)=>t=>li(n,e,t);function F5e(n){return typeof n=="number"?mZ:typeof n=="string"?Ba.test(n)?mme:Ame:Array.isArray(n)?Sme:typeof n=="object"?O5e:mZ}function N5e(n,e,t){const r=[],i=t||F5e(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||as:e;a=Rp(l,a)}r.push(a)}return r}function Mme(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(fI(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=N5e(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const f=cS(n[u],n[u+1],c);return o[u](f)};return t?c=>l(_0(n[0],n[s-1],c)):l}function Eme(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=cS(0,e,r);n.push(li(t,1,i))}}function Cme(n){const e=[0];return Eme(e,n.length-1),e}function U5e(n,e){return n.map(t=>t*e)}function z5e(n,e){return n.map(()=>e||lme).splice(0,n.length-1)}function hI({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=cme(r)?r.map(hZ):hZ(r),s={done:!1,value:e[0]},o=U5e(t&&t.length===e.length?t:Cme(e),n),a=Mme(o,e,{ease:Array.isArray(i)?i:z5e(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function Tme(n,e){return e?n*(1e3/e):0}const G5e=5;function Rme(n,e,t){const r=Math.max(e-G5e,0);return Tme(t-n(r),e-r)}const nU=.001,H5e=.01,V5e=10,j5e=.05,W5e=1;function $5e({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s,o=1-e;o=_0(j5e,W5e,o),n=_0(H5e,V5e,$d(n)),o<1?(i=c=>{const u=c*o,f=u*n,d=u-t,p=jG(c,o),m=Math.exp(-f);return nU-d/p*m},s=c=>{const u=c*o*n,f=u*t+t,d=Math.pow(o,2)*Math.pow(c,2)*n,p=Math.exp(-u),m=jG(Math.pow(c,2),o);return(-i(c)+nU>0?-1:1)*((f-d)*p)/m}):(i=c=>{const u=Math.exp(-c*n),f=(c-t)*n+1;return-nU+u*f},s=c=>{const u=Math.exp(-c*n),f=(t-c)*(n*n);return u*f});const a=5/n,l=J5e(i,s,a);if(n=Kg(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const X5e=12;function J5e(n,e,t){let r=t;for(let i=1;i<X5e;i++)r=r-n(r)/e(r);return r}function jG(n,e){return n*Math.sqrt(1-e*e)}const Y5e=["duration","bounce"],K5e=["stiffness","damping","mass"];function gZ(n,e){return e.some(t=>n[t]!==void 0)}function q5e(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!gZ(n,K5e)&&gZ(n,Y5e)){const t=$5e(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function JW({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:d}=q5e({...r,velocity:-$d(r.velocity||0)}),p=f||0,m=l/(2*Math.sqrt(a*c)),g=s-i,y=$d(Math.sqrt(a/c)),x=Math.abs(g)<5;t||(t=x?.01:2),e||(e=x?.005:.5);let _;if(m<1){const b=jG(y,m);_=w=>{const M=Math.exp(-m*y*w);return s-M*((p+m*y*g)/b*Math.sin(b*w)+g*Math.cos(b*w))}}else if(m===1)_=b=>s-Math.exp(-y*b)*(g+(p+y*g)*b);else{const b=y*Math.sqrt(m*m-1);_=w=>{const M=Math.exp(-m*y*w),C=Math.min(b*w,300);return s-M*((p+m*y*g)*Math.sinh(C)+b*g*Math.cosh(C))/b}}return{calculatedDuration:d&&u||null,next:b=>{const w=_(b);if(d)o.done=b>=u;else{let M=p;b!==0&&(m<1?M=Rme(_,b,w):M=0);const C=Math.abs(M)<=t,R=Math.abs(s-w)<=e;o.done=C&&R}return o.value=o.done?s:w,o}}}function vZ({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=n[0],d={done:!1,value:f},p=E=>a!==void 0&&E<a||l!==void 0&&E>l,m=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let g=t*e;const y=f+g,x=o===void 0?y:o(y);x!==y&&(g=x-f);const _=E=>-g*Math.exp(-E/r),b=E=>x+_(E),w=E=>{const B=_(E),D=b(E);d.done=Math.abs(B)<=c,d.value=d.done?x:D};let M,C;const R=E=>{p(d.value)&&(M=E,C=JW({keyframes:[d.value,m(d.value)],velocity:Rme(b,E,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:E=>{let B=!1;return!C&&M===void 0&&(B=!0,w(E),R(E)),M!==void 0&&E>M?C.next(E-M):(!B&&w(E),d)}}}const Q5e=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Br.update(e,!0),stop:()=>nh(e),now:()=>Zo.isProcessing?Zo.timestamp:performance.now()}},WG=2e4;function $G(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<WG;)e+=t,r=n.next(e);return e>=WG?1/0:e}const Z5e={decay:vZ,inertia:vZ,tween:hI,keyframes:hI,spring:JW};function pI({autoplay:n=!0,delay:e=0,driver:t=Q5e,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...d}){let p=1,m=!1,g,y;const x=()=>{y=new Promise(F=>{g=F})};x();let _;const b=Z5e[i]||hI;let w;b!==hI&&typeof r[0]!="number"&&(w=Mme([0,100],r,{clamp:!1}),r=[0,100]);const M=b({...d,keyframes:r});let C;a==="mirror"&&(C=b({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let R="idle",E=null,B=null,D=null;M.calculatedDuration===null&&s&&(M.calculatedDuration=$G(M));const{calculatedDuration:N}=M;let z=1/0,H=1/0;N!==null&&(z=N+o,H=z*(s+1)-o);let U=0;const W=F=>{if(B===null)return;p>0&&(B=Math.min(B,F)),p<0&&(B=Math.min(F-H/p,B)),E!==null?U=E:U=Math.round(F-B)*p;const j=U-e*(p>=0?1:-1),te=p>=0?j<0:j>H;U=Math.max(j,0),R==="finished"&&E===null&&(U=H);let re=U,se=M;if(s){const we=Math.min(U,H)/z;let ve=Math.floor(we),fe=we%1;!fe&&we>=1&&(fe=1),fe===1&&ve--,ve=Math.min(ve,s+1),ve%2&&(a==="reverse"?(fe=1-fe,o&&(fe-=o/z)):a==="mirror"&&(se=C)),re=_0(0,1,fe)*z}const K=te?{done:!1,value:r[0]}:se.next(re);w&&(K.value=w(K.value));let{done:le}=K;!te&&N!==null&&(le=p>=0?U>=H:U<=0);const he=E===null&&(R==="finished"||R==="running"&&le);return f&&f(K.value),he&&L(),K},X=()=>{_&&_.stop(),_=void 0},q=()=>{R="idle",X(),g(),x(),B=D=null},L=()=>{R="finished",u&&u(),X(),g()},I=()=>{if(m)return;_||(_=t(W));const F=_.now();l&&l(),E!==null?B=F-E:(!B||R==="finished")&&(B=F),R==="finished"&&x(),D=B,E=null,R="running",_.start()};n&&I();const O={then(F,j){return y.then(F,j)},get time(){return $d(U)},set time(F){F=Kg(F),U=F,E!==null||!_||p===0?E=F:B=_.now()-F/p},get duration(){const F=M.calculatedDuration===null?$G(M):M.calculatedDuration;return $d(F)},get speed(){return p},set speed(F){F===p||!_||(p=F,O.time=$d(U))},get state(){return R},play:I,pause:()=>{R="paused",E=U},stop:()=>{m=!0,R!=="idle"&&(R="idle",c&&c(),q())},cancel:()=>{D!==null&&W(D),q()},complete:()=>{R="finished"},sample:F=>(B=0,W(F))};return O}function Pme(n){let e;return()=>(e===void 0&&(e=n()),e)}const eze=Pme(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tze=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),FP=10,nze=2e4,rze=(n,e)=>e.type==="spring"||n==="backgroundColor"||!ime(e.ease);function ize(n,e,{onUpdate:t,onComplete:r,...i}){if(!(eze()&&tze.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,a,l=!1;const c=()=>{a=new Promise(x=>{o=x})};c();let{keyframes:u,duration:f=300,ease:d,times:p}=i;if(rze(e,i)){const x=pI({...i,repeat:0,delay:0});let _={done:!1,value:u[0]};const b=[];let w=0;for(;!_.done&&w<nze;)_=x.sample(w),b.push(_.value),w+=FP;p=void 0,u=b,f=w-FP,d="linear"}const m=y5e(n.owner.current,e,u,{...i,duration:f,ease:d,times:p}),g=()=>{l=!1,m.cancel()},y=()=>{l=!0,Br.update(g),o(),c()};return m.onfinish=()=>{l||(n.set(x5e(u,i)),r&&r(),y())},{then(x,_){return a.then(x,_)},attachTimeline(x){return m.timeline=x,m.onfinish=null,as},get time(){return $d(m.currentTime||0)},set time(x){m.currentTime=Kg(x)},get speed(){return m.playbackRate},set speed(x){m.playbackRate=x},get duration(){return $d(f)},play:()=>{s||(m.play(),nh(g))},pause:()=>m.pause(),stop:()=>{if(s=!0,m.playState==="idle")return;const{currentTime:x}=m;if(x){const _=pI({...i,autoplay:!1});n.setWithVelocity(_.sample(x-FP).value,_.sample(x).value,FP)}y()},complete:()=>{l||m.finish()},cancel:y}}function sze({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:as,pause:as,stop:as,then:s=>(s(),Promise.resolve()),cancel:as,complete:as});return e?pI({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const oze={type:"spring",stiffness:500,damping:25,restSpeed:10},aze=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),lze={type:"keyframes",duration:.8},cze={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uze=(n,{keyframes:e})=>e.length>2?lze:_x.has(n)?n.startsWith("scale")?aze(e[1]):oze:cze,XG=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(b0.test(e)||e==="0")&&!e.startsWith("url(")),fze=new Set(["brightness","contrast","saturate","opacity"]);function dze(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(HO)||[];if(!r)return n;const i=t.replace(r,"");let s=fze.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const hze=/([a-z-]*)\(.*?\)/g,JG={...b0,getAnimatableNone:n=>{const e=n.match(hze);return e?e.map(dze).join(" "):n}},pze={...Gpe,color:Ba,backgroundColor:Ba,outlineColor:Ba,fill:Ba,stroke:Ba,borderColor:Ba,borderTopColor:Ba,borderRightColor:Ba,borderBottomColor:Ba,borderLeftColor:Ba,filter:JG,WebkitFilter:JG},YW=n=>pze[n];function Bme(n,e){let t=YW(n);return t!==JG&&(t=b0),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Dme=n=>/^0[^.\s]+$/.test(n);function mze(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||Dme(n)}function gze(n,e,t,r){const i=XG(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),mze(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=Bme(e,a)}return s}function vze({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function KW(n,e){return n[e]||n.default||n}const yze={skipAnimations:!1},qW=(n,e,t,r={})=>i=>{const s=KW(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Kg(o);const l=gze(e,n,t,s),c=l[0],u=l[l.length-1],f=XG(n,c),d=XG(n,u);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(vze(s)||(p={...p,...uze(n,p)}),p.duration&&(p.duration=Kg(p.duration)),p.repeatDelay&&(p.repeatDelay=Kg(p.repeatDelay)),!f||!d||v5e.current||s.type===!1||yze.skipAnimations)return sze(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=ize(e,n,p);if(m)return m}return pI(p)};function mI(n){return!!(Fi(n)&&n.add)}const kme=n=>/^\-?\d*\.?\d+$/.test(n);function QW(n,e){n.indexOf(e)===-1&&n.push(e)}function WO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ZW{constructor(){this.subscriptions=[]}add(e){return QW(this.subscriptions,e),()=>WO(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xze=n=>!isNaN(parseFloat(n));class _ze{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Zo;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Br.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Br.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=xze(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ZW);const r=this.events[e].add(t);return e==="change"?()=>{r(),Br.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Tme(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function j1(n,e){return new _ze(n,e)}const Ime=n=>e=>e.test(n),bze={test:n=>n==="auto",parse:n=>n},Lme=[bx,rn,Wd,lg,OUe,LUe,bze],XM=n=>Lme.find(Ime(n)),wze=[...Lme,Ba,b0],Sze=n=>wze.find(Ime(n));function Aze(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,j1(t))}function Mze(n,e){const t=jO(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=JUe(s[o]);Aze(n,o,a)}}function Ome(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(kme(u)||Dme(u))?u=parseFloat(u):!Sze(u)&&b0.test(c)&&(u=Bme(l,c)),n.addValue(l,j1(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function Eze(n,e){return e?(e[n]||e.default||e).from:void 0}function Cze(n,e,t){const r={};for(const i in n){const s=Eze(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function Tze({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function Rze(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function e7(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const d=n.getValue(f),p=a[f];if(!d||p===void 0||u&&Tze(u,f))continue;const m={delay:t,elapsed:0,...KW(s||{},f)};if(window.HandoffAppearAnimations){const x=n.getProps()[Dpe];if(x){const _=window.HandoffAppearAnimations(x,f,d,Br);_!==null&&(m.elapsed=_,m.isHandoff=!0)}}let g=!m.isHandoff&&!Rze(d,p);if(m.type==="spring"&&(d.getVelocity()||m.velocity)&&(g=!1),d.animation&&(g=!1),g)continue;d.start(qW(f,d,p,n.shouldReduceMotion&&_x.has(f)?{type:!1}:m));const y=d.animation;mI(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return o&&Promise.all(c).then(()=>{o&&Mze(n,o)}),c}function YG(n,e,t={}){const r=jO(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(e7(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return Pze(n,e,c+l,u,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function Pze(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(Bze).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(YG(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Bze(n,e){return n.sortNodePosition(e)}function Dze(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>YG(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=YG(n,e,t);else{const i=typeof e=="function"?jO(n,e,t.custom):e;r=Promise.all(e7(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const kze=[...kW].reverse(),Ize=kW.length;function Lze(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Dze(n,t,r)))}function Oze(n){let e=Lze(n);const t=Nze();let r=!0;const i=(l,c)=>{const u=jO(n,c);if(u){const{transition:f,transitionEnd:d,...p}=u;l={...l,...p,...d}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),f=n.getVariantContext(!0)||{},d=[],p=new Set;let m={},g=1/0;for(let x=0;x<Ize;x++){const _=kze[x],b=t[_],w=u[_]!==void 0?u[_]:f[_],M=UC(w),C=_===c?b.isActive:null;C===!1&&(g=x);let R=w===f[_]&&w!==u[_]&&M;if(R&&r&&n.manuallyAnimateOnMount&&(R=!1),b.protectedKeys={...m},!b.isActive&&C===null||!w&&!b.prevProp||zO(w)||typeof w=="boolean")continue;let E=Fze(b.prevProp,w)||_===c&&b.isActive&&!R&&M||x>g&&M,B=!1;const D=Array.isArray(w)?w:[w];let N=D.reduce(i,{});C===!1&&(N={});const{prevResolvedValues:z={}}=b,H={...z,...N},U=W=>{E=!0,p.has(W)&&(B=!0,p.delete(W)),b.needsAnimating[W]=!0};for(const W in H){const X=N[W],q=z[W];if(m.hasOwnProperty(W))continue;let L=!1;uI(X)&&uI(q)?L=!nme(X,q):L=X!==q,L?X!==void 0?U(W):p.add(W):X!==void 0&&p.has(W)?U(W):b.protectedKeys[W]=!0}b.prevProp=w,b.prevResolvedValues=N,b.isActive&&(m={...m,...N}),r&&n.blockInitialAnimation&&(E=!1),E&&(!R||B)&&d.push(...D.map(W=>({animation:W,options:{type:_,...l}})))}if(p.size){const x={};p.forEach(_=>{const b=n.getBaseTarget(_);b!==void 0&&(x[_]=b)}),d.push({animation:x})}let y=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function a(l,c,u){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const d=o(u,l);for(const p in t)t[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Fze(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!nme(e,n):!1}function Kv(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nze(){return{animate:Kv(!0),whileInView:Kv(),whileHover:Kv(),whileTap:Kv(),whileDrag:Kv(),whileFocus:Kv(),exit:Kv()}}class Uze extends Q0{constructor(e){super(e),e.animationState||(e.animationState=Oze(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),zO(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let zze=0;class Gze extends Q0{constructor(){super(...arguments),this.id=zze++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Fme={animation:{Feature:Uze},exit:{Feature:Gze}},yZ=(n,e)=>Math.abs(n-e);function Hze(n,e){const t=yZ(n.x,e.x),r=yZ(n.y,e.y);return Math.sqrt(t**2+r**2)}class Nme{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=iU(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=Hze(f.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:m}=f,{timestamp:g}=Zo;this.history.push({...m,timestamp:g});const{onStart:y,onMove:x}=this.handlers;d||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=rU(d,this.transformPagePoint),Br.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=iU(f.type==="pointercancel"?this.lastMoveEventInfo:rU(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),m&&m(f,y)},!qpe(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=VO(e),a=rU(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Zo;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,iU(a,this.history)),this.removeListeners=Rp(Lf(this.contextWindow,"pointermove",this.handlePointerMove),Lf(this.contextWindow,"pointerup",this.handlePointerUp),Lf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),nh(this.updatePoint)}}function rU(n,e){return e?{point:e(n.point)}:n}function xZ(n,e){return{x:n.x-e.x,y:n.y-e.y}}function iU({point:n},e){return{point:n,delta:xZ(n,Ume(e)),offset:xZ(n,Vze(e)),velocity:jze(e,.1)}}function Vze(n){return n[0]}function Ume(n){return n[n.length-1]}function jze(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Ume(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Kg(e)));)t--;if(!r)return{x:0,y:0};const s=$d(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wc(n){return n.max-n.min}function KG(n,e=0,t=.01){return Math.abs(n-e)<=t}function _Z(n,e,t,r=.5){n.origin=r,n.originPoint=li(e.min,e.max,n.origin),n.scale=wc(t)/wc(e),(KG(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=li(t.min,t.max,n.origin)-n.originPoint,(KG(n.translate)||isNaN(n.translate))&&(n.translate=0)}function _E(n,e,t,r){_Z(n.x,e.x,t.x,r?r.originX:void 0),_Z(n.y,e.y,t.y,r?r.originY:void 0)}function bZ(n,e,t){n.min=t.min+e.min,n.max=n.min+wc(e)}function Wze(n,e,t){bZ(n.x,e.x,t.x),bZ(n.y,e.y,t.y)}function wZ(n,e,t){n.min=e.min-t.min,n.max=n.min+wc(e)}function bE(n,e,t){wZ(n.x,e.x,t.x),wZ(n.y,e.y,t.y)}function $ze(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?li(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?li(t,n,r.max):Math.min(n,t)),n}function SZ(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Xze(n,{top:e,left:t,bottom:r,right:i}){return{x:SZ(n.x,t,i),y:SZ(n.y,e,r)}}function AZ(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Jze(n,e){return{x:AZ(n.x,e.x),y:AZ(n.y,e.y)}}function Yze(n,e){let t=.5;const r=wc(n),i=wc(e);return i>r?t=cS(e.min,e.max-r,n.min):r>i&&(t=cS(n.min,n.max-i,e.min)),_0(0,1,t)}function Kze(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const qG=.35;function qze(n=qG){return n===!1?n=0:n===!0&&(n=qG),{x:MZ(n,"left","right"),y:MZ(n,"top","bottom")}}function MZ(n,e,t){return{min:EZ(n,e),max:EZ(n,t)}}function EZ(n,e){return typeof n=="number"?n:n[e]||0}const CZ=()=>({translate:0,scale:1,origin:0,originPoint:0}),jb=()=>({x:CZ(),y:CZ()}),TZ=()=>({min:0,max:0}),Yi=()=>({x:TZ(),y:TZ()});function ou(n){return[n("x"),n("y")]}function zme({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Qze({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Zze(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function sU(n){return n===void 0||n===1}function QG({scale:n,scaleX:e,scaleY:t}){return!sU(n)||!sU(e)||!sU(t)}function yy(n){return QG(n)||Gme(n)||n.z||n.rotate||n.rotateX||n.rotateY}function Gme(n){return RZ(n.x)||RZ(n.y)}function RZ(n){return n&&n!=="0%"}function gI(n,e,t){const r=n-t,i=e*r;return t+i}function PZ(n,e,t,r,i){return i!==void 0&&(n=gI(n,i,r)),gI(n,t,r)+e}function ZG(n,e=0,t=1,r,i){n.min=PZ(n.min,e,t,r,i),n.max=PZ(n.max,e,t,r,i)}function Hme(n,{x:e,y:t}){ZG(n.x,e.translate,e.scale,e.originPoint),ZG(n.y,t.translate,t.scale,t.originPoint)}function e6e(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Wb(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Hme(n,o)),r&&yy(s.latestValues)&&Wb(n,s.latestValues))}e.x=BZ(e.x),e.y=BZ(e.y)}function BZ(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function mg(n,e){n.min=n.min+e,n.max=n.max+e}function DZ(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=li(n.min,n.max,s);ZG(n,e[t],e[r],o,e.scale)}const t6e=["x","scaleX","originX"],n6e=["y","scaleY","originY"];function Wb(n,e){DZ(n.x,e,t6e),DZ(n.y,e,n6e)}function Vme(n,e){return zme(Zze(n.getBoundingClientRect(),e))}function r6e(n,e,t){const r=Vme(n,t),{scroll:i}=e;return i&&(mg(r.x,i.offset.x),mg(r.y,i.offset.y)),r}const jme=({current:n})=>n?n.ownerDocument.defaultView:null,i6e=new WeakMap;class s6e{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(VO(u,"page").point)},s=(u,f)=>{const{drag:d,dragPropagation:p,onDragStart:m}=this.getProps();if(d&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eme(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ou(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Wd.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const b=_.layout.layoutBox[y];b&&(x=wc(b)*(parseFloat(x)/100))}}this.originPoint[y]=x}),m&&Br.update(()=>m(u,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=o6e(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(u,f)},a=(u,f)=>this.stop(u,f),l=()=>ou(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Nme(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:jme(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Br.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!NP(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$ze(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Hb(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Xze(i.layoutBox,t):this.constraints=!1,this.elastic=qze(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ou(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Kze(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Hb(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=r6e(r,i.root,this.visualElement.getTransformPagePoint());let o=Jze(i.layout.layoutBox,s);if(t){const a=t(Qze(o));this.hasMutatedConstraints=!!a,a&&(o=zme(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ou(u=>{if(!NP(u,t,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(qW(e,r,0,t))}stopAnimation(){ou(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ou(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ou(t=>{const{drag:r}=this.getProps();if(!NP(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-li(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Hb(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ou(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Yze({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ou(o=>{if(!NP(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(li(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;i6e.set(this.visualElement,this);const e=this.visualElement.current,t=Lf(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Hb(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=xp(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ou(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=qG,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function NP(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function o6e(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class a6e extends Q0{constructor(e){super(e),this.removeGroupControls=as,this.removeListeners=as,this.controls=new s6e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||as}unmount(){this.removeGroupControls(),this.removeListeners()}}const kZ=n=>(e,t)=>{n&&Br.update(()=>n(e,t))};class l6e extends Q0{constructor(){super(...arguments),this.removePointerDownListener=as}onPointerDown(e){this.session=new Nme(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jme(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:kZ(e),onStart:kZ(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Br.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Lf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function c6e(){const n=J.useContext(BW);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=J.useId();return J.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const YD={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IZ(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const JM={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(rn.test(n))n=parseFloat(n);else return n;const t=IZ(n,e.target.x),r=IZ(n,e.target.y);return`${t}% ${r}%`}},u6e={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=b0.parse(n);if(i.length>5)return r;const s=b0.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=li(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class f6e extends Be.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;TUe(d6e),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),YD.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Br.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Wme(n){const[e,t]=c6e(),r=J.useContext(Ipe);return Be.createElement(f6e,{...n,layoutGroup:r,switchLayoutGroup:J.useContext(Lpe),isPresent:e,safeToRemove:t})}const d6e={borderRadius:{...JM,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:JM,borderTopRightRadius:JM,borderBottomLeftRadius:JM,borderBottomRightRadius:JM,boxShadow:u6e},$me=["TopLeft","TopRight","BottomLeft","BottomRight"],h6e=$me.length,LZ=n=>typeof n=="string"?parseFloat(n):n,OZ=n=>typeof n=="number"||rn.test(n);function p6e(n,e,t,r,i,s){i?(n.opacity=li(0,t.opacity!==void 0?t.opacity:1,m6e(r)),n.opacityExit=li(e.opacity!==void 0?e.opacity:1,0,g6e(r))):s&&(n.opacity=li(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<h6e;o++){const a=`border${$me[o]}Radius`;let l=FZ(e,a),c=FZ(t,a);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||OZ(l)===OZ(c)?(n[a]=Math.max(li(LZ(l),LZ(c),r),0),(Wd.test(c)||Wd.test(l))&&(n[a]+="%")):n[a]=c)}(e.rotate||t.rotate)&&(n.rotate=li(e.rotate||0,t.rotate||0,r))}function FZ(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const m6e=Xme(0,.5,dme),g6e=Xme(.5,.95,as);function Xme(n,e,t){return r=>r<n?0:r>e?1:t(cS(n,e,r))}function NZ(n,e){n.min=e.min,n.max=e.max}function eu(n,e){NZ(n.x,e.x),NZ(n.y,e.y)}function UZ(n,e,t,r,i){return n-=e,n=gI(n,1/t,r),i!==void 0&&(n=gI(n,1/i,r)),n}function v6e(n,e=0,t=1,r=.5,i,s=n,o=n){if(Wd.test(e)&&(e=parseFloat(e),e=li(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=li(s.min,s.max,r);n===s&&(a-=e),n.min=UZ(n.min,e,t,a,i),n.max=UZ(n.max,e,t,a,i)}function zZ(n,e,[t,r,i],s,o){v6e(n,e[t],e[r],e[i],e.scale,s,o)}const y6e=["x","scaleX","originX"],x6e=["y","scaleY","originY"];function GZ(n,e,t,r){zZ(n.x,e,y6e,t?t.x:void 0,r?r.x:void 0),zZ(n.y,e,x6e,t?t.y:void 0,r?r.y:void 0)}function HZ(n){return n.translate===0&&n.scale===1}function Jme(n){return HZ(n.x)&&HZ(n.y)}function _6e(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function Yme(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function VZ(n){return wc(n.x)/wc(n.y)}class b6e{constructor(){this.members=[]}add(e){QW(this.members,e),e.scheduleRender()}remove(e){if(WO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jZ(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const w6e=(n,e)=>n.depth-e.depth;class S6e{constructor(){this.children=[],this.isDirty=!1}add(e){QW(this.children,e),this.isDirty=!0}remove(e){WO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(w6e),this.isDirty=!1,this.children.forEach(e)}}function A6e(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(nh(r),n(s-e))};return Br.read(r,!0),()=>nh(r)}function M6e(n){window.MotionDebug&&window.MotionDebug.record(n)}function Kme(n){return n instanceof SVGElement&&n.tagName!=="svg"}function t7(n,e,t){const r=Fi(n)?n:j1(n);return r.start(qW("",r,e,t)),r.animation}const WZ=["","X","Y","Z"],E6e={visibility:"hidden"},$Z=1e3;let C6e=0;const xy={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function qme({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=C6e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xy.totalNodes=xy.resolvedTargetDeltas=xy.recalculatedProjection=0,this.nodes.forEach(P6e),this.nodes.forEach(L6e),this.nodes.forEach(O6e),this.nodes.forEach(B6e),M6e(xy)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new S6e)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new ZW),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const a=this.eventHandlers.get(s);a&&a.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Kme(s),this.instance=s;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||a)&&(this.isLayoutDirty=!0),n){let u;const f=()=>this.root.updateBlockedByResize=!1;n(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=A6e(f,250),YD.hasAnimatedSinceResize&&(YD.hasAnimatedSinceResize=!1,this.nodes.forEach(JZ))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeTargetChanged:d,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||G6e,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=c.getProps(),x=!this.targetLayout||!Yme(this.targetLayout,p)||d,_=!f&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,_);const b={...KW(m,"layout"),onPlay:g,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||JZ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(F6e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const u=this.path[c];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:o,layout:a}=this.options;if(o===void 0&&!a)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XZ);return}this.isUpdating||this.nodes.forEach(k6e),this.isUpdating=!1,this.nodes.forEach(I6e),this.nodes.forEach(T6e),this.nodes.forEach(R6e),this.clearAllSnapshots();const s=performance.now();Zo.delta=_0(0,1e3/60,s-Zo.timestamp),Zo.timestamp=s,Zo.isProcessing=!0,YN.update.process(Zo),YN.preRender.process(Zo),YN.render.process(Zo),Zo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(D6e),this.sharedNodes.forEach(N6e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Br.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Br.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!Jme(this.projectionDelta),a=this.getTransformTemplate(),l=a?a(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;s&&(o||yy(this.latestValues)||c)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let a=this.removeElementScroll(o);return s&&(a=this.removeTransform(a)),H6e(a),{animationId:this.root.animationId,measuredBox:o,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Yi();const o=s.measureViewportBox(),{scroll:a}=this.root;return a&&(mg(o.x,a.offset.x),mg(o.y,a.offset.y)),o}removeElementScroll(s){const o=Yi();eu(o,s);for(let a=0;a<this.path.length;a++){const l=this.path[a],{scroll:c,options:u}=l;if(l!==this.root&&c&&u.layoutScroll){if(c.isRoot){eu(o,s);const{scroll:f}=this.root;f&&(mg(o.x,-f.offset.x),mg(o.y,-f.offset.y))}mg(o.x,c.offset.x),mg(o.y,c.offset.y)}}return o}applyTransform(s,o=!1){const a=Yi();eu(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Wb(a,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),yy(c.latestValues)&&Wb(a,c.latestValues)}return yy(this.latestValues)&&Wb(a,this.latestValues),a}removeTransform(s){const o=Yi();eu(o,s);for(let a=0;a<this.path.length;a++){const l=this.path[a];if(!l.instance||!yy(l.latestValues))continue;QG(l.latestValues)&&l.updateSnapshot();const c=Yi(),u=l.measurePageBox();eu(c,u),GZ(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return yy(this.latestValues)&&GZ(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:u}=this.options;if(!(!this.layout||!(c||u))){if(this.resolvedRelativeTargetAt=Zo.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yi(),this.relativeTargetOrigin=Yi(),bE(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),eu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Yi(),this.targetWithTransforms=Yi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Wze(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):eu(this.target,this.layout.layoutBox),Hme(this.target,this.targetDelta)):eu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yi(),this.relativeTargetOrigin=Yi(),bE(this.relativeTargetOrigin,this.target,f.target),eu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xy.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||QG(this.parent.latestValues)||Gme(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Zo.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;eu(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;e6e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=jb(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=jb(),this.projectionDeltaWithTransform=jb());const m=this.projectionTransform;_E(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=jZ(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==f||this.treeScale.y!==d)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),xy.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const a=this.snapshot,l=a?a.latestValues:{},c={...this.latestValues},u=jb();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Yi(),d=a?a.source:void 0,p=this.layout?this.layout.source:void 0,m=d!==p,g=this.getStack(),y=!g||g.members.length<=1,x=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(z6e));this.animationProgress=0;let _;this.mixTargetDelta=b=>{const w=b/1e3;YZ(u.x,s.x,w),YZ(u.y,s.y,w),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bE(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U6e(this.relativeTarget,this.relativeTargetOrigin,f,w),_&&_6e(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Yi()),eu(_,this.relativeTarget)),m&&(this.animationValues=c,p6e(c,l,this.latestValues,w,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Br.update(()=>{YD.hasAnimatedSinceResize=!0,this.currentAnimation=t7(0,$Z,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($Z),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:a,layout:l,latestValues:c}=s;if(!(!o||!a||!l)){if(this!==s&&this.layout&&l&&Qme(this.options.animationType,this.layout.layoutBox,l.layoutBox)){a=this.target||Yi();const u=wc(this.layout.layoutBox.x);a.x.min=s.target.x.min,a.x.max=a.x.min+u;const f=wc(this.layout.layoutBox.y);a.y.min=s.target.y.min,a.y.max=a.y.min+f}eu(o,a),Wb(o,c),_E(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new b6e),this.sharedNodes.get(s).add(o);const a=o.options.initialPromotionConfig;o.promote({transition:a?a.transition:void 0,preserveFollowOpacity:a&&a.shouldPreserveFollowOpacity?a.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:a}={}){const l=this.getStack();l&&l.promote(this,a),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:a}=s;if((a.rotate||a.rotateX||a.rotateY||a.rotateZ)&&(o=!0),!o)return;const l={};for(let c=0;c<WZ.length;c++){const u="rotate"+WZ[c];a[u]&&(l[u]=a[u],s.setStaticValue(u,0))}s.render();for(const c in l)s.setStaticValue(c,l[c]);s.scheduleRender()}getProjectionStyles(s){var o,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return E6e;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=xE(s==null?void 0:s.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=xE(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!yy(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const f=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=jZ(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:d,y:p}=this.projectionDelta;l.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,u.animationValues?l.opacity=u===this?(a=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in lI){if(f[m]===void 0)continue;const{correct:g,applyTo:y}=lI[m],x=l.transform==="none"?f[m]:g(f[m],u);if(y){const _=y.length;for(let b=0;b<_;b++)l[y[b]]=x}else l[m]=x}return this.options.layoutId&&(l.pointerEvents=u===this?xE(s==null?void 0:s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(XZ),this.root.sharedNodes.clear()}}}function T6e(n){n.updateLayout()}function R6e(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?ou(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],p=wc(d);d.min=r[f].min,d.max=d.min+p}):Qme(s,t.layoutBox,r)&&ou(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],p=wc(r[f]);d.max=d.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+p)});const a=jb();_E(a,r,t.layoutBox);const l=jb();o?_E(l,n.applyTransform(i,!0),t.measuredBox):_E(l,r,t.layoutBox);const c=!Jme(a);let u=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const m=Yi();bE(m,t.layoutBox,d.layoutBox);const g=Yi();bE(g,r,p.layoutBox),Yme(m,g)||(u=!0),f.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=m,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function P6e(n){xy.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function B6e(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function D6e(n){n.clearSnapshot()}function XZ(n){n.clearMeasurements()}function k6e(n){n.isLayoutDirty=!1}function I6e(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function JZ(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function L6e(n){n.resolveTargetDelta()}function O6e(n){n.calcProjection()}function F6e(n){n.resetRotation()}function N6e(n){n.removeLeadSnapshot()}function YZ(n,e,t){n.translate=li(e.translate,0,t),n.scale=li(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function KZ(n,e,t,r){n.min=li(e.min,t.min,r),n.max=li(e.max,t.max,r)}function U6e(n,e,t,r){KZ(n.x,e.x,t.x,r),KZ(n.y,e.y,t.y,r)}function z6e(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const G6e={duration:.45,ease:[.4,0,.1,1]},qZ=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),QZ=qZ("applewebkit/")&&!qZ("chrome/")?Math.round:as;function ZZ(n){n.min=QZ(n.min),n.max=QZ(n.max)}function H6e(n){ZZ(n.x),ZZ(n.y)}function Qme(n,e,t){return n==="position"||n==="preserve-aspect"&&!KG(VZ(e),VZ(t),.2)}const V6e=qme({attachResizeListener:(n,e)=>xp(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oU={current:void 0},Zme=qme({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!oU.current){const n=new V6e({});n.mount(window),n.setOptions({layoutScroll:!0}),oU.current=n}return oU.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),j6e={pan:{Feature:l6e},drag:{Feature:a6e,ProjectionNode:Zme,MeasureLayout:Wme}},W6e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $6e(n){const e=W6e.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function e9(n,e,t=1){const[r,i]=$6e(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return kme(o)?parseFloat(o):o}else return GG(i)?e9(i,e,t+1):i}function X6e(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!GG(s))return;const o=e9(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!GG(s))continue;const o=e9(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const J6e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ege=n=>J6e.has(n),Y6e=n=>Object.keys(n).some(ege),eee=n=>n===bx||n===rn,tee=(n,e)=>parseFloat(n.split(", ")[e]),nee=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return tee(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?tee(s[1],n):0}},K6e=new Set(["x","y","z"]),q6e=p3.filter(n=>!K6e.has(n));function Q6e(n){const e=[];return q6e.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const uS={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:nee(4,13),y:nee(5,14)};uS.translateX=uS.x;uS.translateY=uS.y;const Z6e=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=uS[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=uS[c](l,s)}),n},eGe=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(ege);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],f=XM(u);const d=e[l];let p;if(uI(d)){const m=d.length,g=d[0]===null?1:0;u=d[g],f=XM(u);for(let y=g;y<m&&d[y]!==null;y++)p?fI(XM(d[y])===p):p=XM(d[y])}else p=XM(d);if(f!==p)if(eee(f)&&eee(p)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&p===rn&&(e[l]=d.map(parseFloat))}else f!=null&&f.transform&&p!=null&&p.transform&&(u===0||d===0)?u===0?c.set(p.transform(u)):e[l]=f.transform(d):(o||(s=Q6e(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Z6e(e,n,a);return s.length&&s.forEach(([u,f])=>{n.getValue(u).set(f)}),n.render(),UO&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function tGe(n,e,t,r){return Y6e(e)?eGe(n,e,t,r):{target:e,transitionEnd:r}}const nGe=(n,e,t,r)=>{const i=X6e(n,e,r);return e=i.target,r=i.transitionEnd,tGe(n,e,t,r)},t9={current:null},tge={current:!1};function rGe(){if(tge.current=!0,!!UO)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>t9.current=n.matches;n.addListener(e),e()}else t9.current=!1}function iGe(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(Fi(s))n.addValue(i,s),mI(r)&&r.add(i);else if(Fi(o))n.addValue(i,j1(s,{owner:n})),mI(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,j1(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const GC=new WeakMap,nge=Object.keys(zC),sGe=nge.length,ree=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],oGe=IW.length;class rge{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Br.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=GO(t),this.isVariantNode=kpe(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const f in u){const d=u[f];a[f]!==void 0&&Fi(d)&&(d.set(a[f],!1),mI(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,GC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),tge.current||rGe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:t9.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){GC.delete(this.current),this.projection&&this.projection.unmount(),nh(this.notifyUpdate),nh(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=_x.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Br.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<sGe;l++){const c=nge[l],{isEnabled:u,Feature:f,ProjectionNode:d,MeasureLayout:p}=zC[c];d&&(o=d),u(t)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:p}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&Hb(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<ree.length;r++){const i=ree[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=iGe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<oGe;r++){const i=IW[r],s=this.props[i];(UC(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=j1(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=GW(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Fi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ZW),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class ige extends rge{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Cze(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){Ome(this,r,o);const a=nGe(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function aGe(n){return window.getComputedStyle(n)}class sge extends ige{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(_x.has(t)){const r=YW(t);return r&&r.default||0}else{const r=aGe(e),i=(Upe(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Vme(e,t)}build(e,t,r,i){OW(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return zW(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){Xpe(e,t,r,i)}}class oge extends ige{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_x.has(t)){const r=YW(t);return r&&r.default||0}return t=Jpe.has(t)?t:DW(t),e.getAttribute(t)}measureInstanceViewportBox(){return Yi()}scrapeMotionValuesFromProps(e,t){return Kpe(e,t)}build(e,t,r,i){NW(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){Ype(e,t,r,i)}mount(e){this.isSVGTag=UW(e.tagName),super.mount(e)}}const lGe=(n,e)=>LW(n)?new oge(e,{enableHardwareAcceleration:!1}):new sge(e,{enableHardwareAcceleration:!0}),cGe={layout:{ProjectionNode:Zme,MeasureLayout:Wme}},uGe={...Fme,...p5e,...j6e,...cGe},wg=EUe((n,e)=>n5e(n,e,uGe,lGe));function fGe({children:n,isValidProp:e,...t}){e&&jpe(e),t={...J.useContext(NC),...t},t.isStatic=HW(()=>t.isStatic);const r=J.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return J.createElement(NC.Provider,{value:r},n)}function HC(n){const e=HW(()=>j1(n)),{isStatic:t}=J.useContext(NC);if(t){const[,r]=J.useState(n);J.useEffect(()=>e.on("change",r),[])}return e}function age(n,e,t){var r;if(typeof n=="string"){let i=document;t?((r=t[n])!==null&&r!==void 0||(t[n]=i.querySelectorAll(n)),n=t[n]):n=i.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}function dGe(n,e){let t;const r=()=>{const{currentTime:i}=e,s=(i===null?0:i.value)/100;t!==s&&n(s),t=s};return Br.update(r,!0),()=>nh(r)}const hGe=Pme(()=>window.ScrollTimeline!==void 0);class lge{constructor(e){this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e){const t=this.animations.map(r=>{if(hGe()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),dGe(i=>{r.time=r.duration*i},e)});return()=>{t.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function pGe(n){return typeof n=="object"&&!Array.isArray(n)}function mGe(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},t=Kme(n)?new oge(e,{enableHardwareAcceleration:!1}):new sge(e,{enableHardwareAcceleration:!0});t.mount(n),GC.set(n,t)}function gGe(n,e=100){const t=JW({keyframes:[0,e],...n}),r=Math.min($G(t),WG);return{type:"keyframes",ease:i=>t.next(r*i).value/e,duration:$d(r)}}function iee(n,e,t,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?t:(i=r.get(e))!==null&&i!==void 0?i:n}const vGe=(n,e,t)=>{const r=e-n;return((t-n)%r+r)%r+n};function yGe(n,e){return cme(n)?n[vGe(0,n.length,e)]:n}function xGe(n,e,t){for(let r=0;r<n.length;r++){const i=n[r];i.at>e&&i.at<t&&(WO(n,i),r--)}}function _Ge(n,e,t,r,i,s){xGe(n,i,s);for(let o=0;o<e.length;o++)n.push({value:e[o],at:li(i,s,r[o]),easing:yGe(t,o)})}function bGe(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const wGe="easeInOut";function SGe(n,{defaultTransition:e={},...t}={},r){const i=e.duration||.3,s=new Map,o=new Map,a={},l=new Map;let c=0,u=0,f=0;for(let d=0;d<n.length;d++){const p=n[d];if(typeof p=="string"){l.set(p,u);continue}else if(!Array.isArray(p)){l.set(p.name,iee(u,p.at,c,l));continue}let[m,g,y={}]=p;y.at!==void 0&&(u=iee(u,y.at,c,l));let x=0;const _=(b,w,M,C=0,R=0)=>{const E=AGe(b),{delay:B=0,times:D=Cme(E),type:N="keyframes",...z}=w;let{ease:H=e.ease||"easeOut",duration:U}=w;const W=typeof B=="function"?B(C,R):B,X=E.length;if(X<=2&&N==="spring"){let O=100;if(X===2&&CGe(E)){const te=E[1]-E[0];O=Math.abs(te)}const F={...z};U!==void 0&&(F.duration=Kg(U));const j=gGe(F,O);H=j.ease,U=j.duration}U??(U=i);const q=u+W,L=q+U;D.length===1&&D[0]===0&&(D[1]=1);const I=D.length-E.length;I>0&&Eme(D,I),E.length===1&&E.unshift(null),_Ge(M,E,H,D,q,L),x=Math.max(W+U,x),f=Math.max(L,f)};if(Fi(m)){const b=see(m,o);_(g,y,oee("default",b))}else{const b=age(m,r,a),w=b.length;for(let M=0;M<w;M++){g=g,y=y;const C=b[M],R=see(C,o);for(const E in g)_(g[E],MGe(y,E),oee(E,R),M,w)}}c=u,u+=x}return o.forEach((d,p)=>{for(const m in d){const g=d[m];g.sort(bGe);const y=[],x=[],_=[];for(let w=0;w<g.length;w++){const{at:M,value:C,easing:R}=g[w];y.push(C),x.push(cS(0,f,M)),_.push(R||"easeOut")}x[0]!==0&&(x.unshift(0),y.unshift(y[0]),_.unshift(wGe)),x[x.length-1]!==1&&(x.push(1),y.push(null)),s.has(p)||s.set(p,{keyframes:{},transition:{}});const b=s.get(p);b.keyframes[m]=y,b.transition[m]={...e,duration:f,ease:_,times:x,...t}}}),s}function see(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function oee(n,e){return e[n]||(e[n]=[]),e[n]}function AGe(n){return Array.isArray(n)?n:[n]}function MGe(n,e){return n[e]?{...n,...n[e]}:{...n}}const EGe=n=>typeof n=="number",CGe=n=>n.every(EGe);function cge(n,e,t,r){const i=age(n),s=i.length,o=[];for(let a=0;a<s;a++){const l=i[a];GC.has(l)||mGe(l);const c=GC.get(l),u={...t};typeof u.delay=="function"&&(u.delay=u.delay(a,s)),o.push(...e7(c,{...e,transition:u},{}))}return new lge(o)}const TGe=n=>Array.isArray(n)&&Array.isArray(n[0]);function RGe(n,e,t){const r=[];return SGe(n,e,t).forEach(({keyframes:i,transition:s},o)=>{let a;Fi(o)?a=t7(o,i.default,s.default):a=cge(o,i,s),r.push(a)}),new lge(r)}const PGe=n=>{function e(t,r,i){let s;return TGe(t)?s=RGe(t,r,n):pGe(r)?s=cge(t,r,i):s=t7(t,r,i),s}return e},VC=PGe();function BGe(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function uge(...n){return e=>n.forEach(t=>BGe(t,e))}function wx(...n){return J.useCallback(uge(...n),n)}var fge=J.forwardRef((n,e)=>{const{children:t,...r}=n,i=J.Children.toArray(t),s=i.find(DGe);if(s){const o=s.props.children,a=i.map(l=>l===s?J.Children.count(o)>1?J.Children.only(null):J.isValidElement(o)?o.props.children:null:l);return Fe.jsx(n9,{...r,ref:e,children:J.isValidElement(o)?J.cloneElement(o,void 0,a):null})}return Fe.jsx(n9,{...r,ref:e,children:t})});fge.displayName="Slot";var n9=J.forwardRef((n,e)=>{const{children:t,...r}=n;if(J.isValidElement(t)){const i=IGe(t);return J.cloneElement(t,{...kGe(r,t.props),ref:e?uge(e,i):i})}return J.Children.count(t)>1?J.Children.only(null):null});n9.displayName="SlotClone";var dge=({children:n})=>Fe.jsx(Fe.Fragment,{children:n});function DGe(n){return J.isValidElement(n)&&n.type===dge}function kGe(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...o)=>{s(...o),i(...o)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function IGe(n){var e,t;let r=(e=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:e.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?n.ref:(r=(t=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?n.props.ref:n.props.ref||n.ref)}var LGe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Z0=LGe.reduce((n,e)=>{const t=J.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?fge:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Fe.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function OGe(n,e){n&&ZT.flushSync(()=>n.dispatchEvent(e))}var W1=globalThis!=null&&globalThis.document?J.useLayoutEffect:()=>{},FGe="Portal",hge=J.forwardRef((n,e)=>{var t;const{container:r,...i}=n,[s,o]=J.useState(!1);W1(()=>o(!0),[]);const a=r||s&&((t=globalThis==null?void 0:globalThis.document)==null?void 0:t.body);return a?rfe.createPortal(Fe.jsx(Z0.div,{...i,ref:e}),a):null});hge.displayName=FGe;var NGe=hge,aee=Object.prototype.hasOwnProperty;function jC(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&jC(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(aee.call(n,t)&&++r&&!aee.call(e,t)||!(t in e)||!jC(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}var $O=function(n,e,t,r){this.name=n,this.fn=e,this.args=t,this.modifiers=r};$O.prototype._test=function(n){var e=this.fn;try{Tw(this.modifiers.slice(),e,this)(n)}catch{e=function(){return!1}}try{return Tw(this.modifiers.slice(),e,this)(n)}catch{return!1}};$O.prototype._check=function(n){try{Tw(this.modifiers.slice(),this.fn,this)(n)}catch{if(Tw(this.modifiers.slice(),function(e){return e},this)(!1))return}if(!Tw(this.modifiers.slice(),this.fn,this)(n))throw null};$O.prototype._testAsync=function(n){var e=this;return new Promise(function(t,r){mge(e.modifiers.slice(),e.fn,e)(n).then(function(i){i?t(n):r(null)}).catch(function(i){return r(i)})})};function pge(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Tw(n,e,t){if(n.length){var r=n.shift(),i=Tw(n,e,t);return r.perform(i,t)}else return pge(e)}function mge(n,e,t){if(n.length){var r=n.shift(),i=mge(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(pge(e,"async")(s))}}var UGe=function(n,e,t){this.name=n,this.perform=e,this.performAsync=t},n7=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),rh=function(n,e){n===void 0&&(n=[]),e===void 0&&(e=[]),this.chain=n,this.nextRuleModifiers=e};rh.prototype._applyRule=function(n,e){var t=this;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.chain.push(new $O(e,n.apply(t,r),r,t.nextRuleModifiers)),t.nextRuleModifiers=[],t}};rh.prototype._applyModifier=function(n,e){return this.nextRuleModifiers.push(new UGe(e,n.simple,n.async)),this};rh.prototype._clone=function(){return new rh(this.chain.slice(),this.nextRuleModifiers.slice())};rh.prototype.test=function(n){return this.chain.every(function(e){return e._test(n)})};rh.prototype.testAll=function(n){var e=[];return this.chain.forEach(function(t){try{t._check(n)}catch(r){e.push(new n7(t,n,r))}}),e};rh.prototype.check=function(n){this.chain.forEach(function(e){try{e._check(n)}catch(t){throw new n7(e,n,t)}})};rh.prototype.testAsync=function(n){var e=this;return new Promise(function(t,r){gge(n,e.chain.slice(),t,r)})};function gge(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){gge(n,e,t,r)},function(s){r(new n7(i,n,s))})}else t(n)}var lee=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function zGe(n,e){return e===void 0&&(e=!1),{simple:function(t){return lee(t,e)||n.check(t)===void 0},async:function(t){return lee(t,e)||n.testAsync(t)}}}function hl(){return typeof Proxy<"u"?vge(new rh):r9(new rh)}var WC={};hl.extend=function(n){Object.assign(WC,n)};hl.clearCustomRules=function(){WC={}};function vge(n){return new Proxy(n,{get:function(e,t){if(t in e)return e[t];var r=vge(n._clone());if(t in vI)return r._applyModifier(vI[t],t);if(t in WC)return r._applyRule(WC[t],t);if(t in i9)return r._applyRule(i9[t],t)}})}function r9(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=r9(s._clone()),u=c._applyRule(i[o],o).apply(void 0,a);return u}}),s},t=e(i9,n),r=e(WC,t);return Object.keys(vI).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=r9(r._clone());return s._applyModifier(vI[i],i)}})}),r}var vI={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return UP(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(UP(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&UP(e).every(n)}},async:function(n){return function(e){return Promise.all(UP(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return cee(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return cee(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function cee(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function UP(n){return typeof n=="string"?n.split(""):n}var i9={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||GGe;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return G_("string")},boolean:function(){return G_("boolean")},undefined:function(){return G_("undefined")},null:function(){return G_("null")},array:function(){return G_("array")},object:function(){return G_("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return HGe(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:zGe};function G_(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function GGe(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function HGe(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var cr="colors",Ea="sizes",jt="space",VGe={gap:jt,gridGap:jt,columnGap:jt,gridColumnGap:jt,rowGap:jt,gridRowGap:jt,inset:jt,insetBlock:jt,insetBlockEnd:jt,insetBlockStart:jt,insetInline:jt,insetInlineEnd:jt,insetInlineStart:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,marginBlock:jt,marginBlockEnd:jt,marginBlockStart:jt,marginInline:jt,marginInlineEnd:jt,marginInlineStart:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,paddingBlock:jt,paddingBlockEnd:jt,paddingBlockStart:jt,paddingInline:jt,paddingInlineEnd:jt,paddingInlineStart:jt,top:jt,right:jt,bottom:jt,left:jt,scrollMargin:jt,scrollMarginTop:jt,scrollMarginRight:jt,scrollMarginBottom:jt,scrollMarginLeft:jt,scrollMarginX:jt,scrollMarginY:jt,scrollMarginBlock:jt,scrollMarginBlockEnd:jt,scrollMarginBlockStart:jt,scrollMarginInline:jt,scrollMarginInlineEnd:jt,scrollMarginInlineStart:jt,scrollPadding:jt,scrollPaddingTop:jt,scrollPaddingRight:jt,scrollPaddingBottom:jt,scrollPaddingLeft:jt,scrollPaddingX:jt,scrollPaddingY:jt,scrollPaddingBlock:jt,scrollPaddingBlockEnd:jt,scrollPaddingBlockStart:jt,scrollPaddingInline:jt,scrollPaddingInlineEnd:jt,scrollPaddingInlineStart:jt,fontSize:"fontSizes",background:cr,backgroundColor:cr,backgroundImage:cr,borderImage:cr,border:cr,borderBlock:cr,borderBlockEnd:cr,borderBlockStart:cr,borderBottom:cr,borderBottomColor:cr,borderColor:cr,borderInline:cr,borderInlineEnd:cr,borderInlineStart:cr,borderLeft:cr,borderLeftColor:cr,borderRight:cr,borderRightColor:cr,borderTop:cr,borderTopColor:cr,caretColor:cr,color:cr,columnRuleColor:cr,fill:cr,outline:cr,outlineColor:cr,stroke:cr,textDecorationColor:cr,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Ea,minBlockSize:Ea,maxBlockSize:Ea,inlineSize:Ea,minInlineSize:Ea,maxInlineSize:Ea,width:Ea,minWidth:Ea,maxWidth:Ea,height:Ea,minHeight:Ea,maxHeight:Ea,flexBasis:Ea,gridTemplateColumns:Ea,gridTemplateRows:Ea,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},jGe=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,eA=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,jGe))(e);return i in n?n[i]:n[i]=t(e,...r)}},h1=Symbol.for("sxs.internal"),r7=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),uee=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:WGe}=Object.prototype,s9=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),$Ge=/\s+(?![^()]*\))/,H_=n=>e=>n(...typeof e=="string"?String(e).split($Ge):[e]),fee={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:H_((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:H_((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:H_((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:H_((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:H_((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:H_((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},aU=/([\d.]+)([^]*)/,XGe=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,JGe=(n,e)=>n in YGe&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${s9(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${s9(n)}:${r}fit-content`)+s):String(e),YGe={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},jp=n=>n?n+"-":"",yge=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?jp(e)+(a.includes("$")?"":jp(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),KGe=/\s*,\s*(?![^()]*\))/,qGe=Object.prototype.toString,$b=(n,e,t,r,i)=>{let s,o,a;const l=(c,u,f)=>{let d,p;const m=g=>{for(d in g){const _=d.charCodeAt(0)===64,b=_&&Array.isArray(g[d])?g[d]:[g[d]];for(p of b){const w=/[A-Z]/.test(x=d)?x:x.replace(/-[^]/g,C=>C[1].toUpperCase()),M=typeof p=="object"&&p&&p.toString===qGe&&(!r.utils[w]||!u.length);if(w in r.utils&&!M){const C=r.utils[w];if(C!==o){o=C,m(C(p)),o=null;continue}}else if(w in fee){const C=fee[w];if(C!==a){a=C,m(C(p)),a=null;continue}}if(_&&(y=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(C,R,E,B,D,N)=>{const z=aU.test(R),H=.0625*(z?-1:1),[U,W]=z?[B,R]:[R,B];return"("+(E[0]==="="?"":E[0]===">"===z?"max-":"min-")+U+":"+(E[0]!=="="&&E.length===1?W.replace(aU,(X,q,L)=>Number(q)+H*(E===">"?1:-1)+L):W)+(D?") and ("+(D[0]===">"?"min-":"max-")+U+":"+(D.length===1?N.replace(aU,(X,q,L)=>Number(q)+H*(D===">"?-1:1)+L):N):"")+")"})),M){const C=_?f.concat(d):[...f],R=_?[...u]:XGe(u,d.split(KGe));s!==void 0&&i(dee(...s)),s=void 0,l(p,R,C)}else s===void 0&&(s=[[],u,f]),d=_||d.charCodeAt(0)!==36?d:`--${jp(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,p=M?p:typeof p=="number"?p&&w in QGe?String(p)+"px":String(p):yge(JGe(w,p??""),r.prefix,r.themeMap[w]),s[0].push(`${_?`${d} `:`${s9(d)}:`}${p}`)}}var y,x};m(c),s!==void 0&&i(dee(...s)),s=void 0};l(n,e,t)},dee=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,QGe={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},hee=n=>String.fromCharCode(n+(n>25?39:97)),p1=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=hee(t%52)+r;return hee(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),z2=["themed","global","styled","onevar","resonevar","allvar","inline"],ZGe=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},e9e=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(ZGe(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const f=Object(c[l+1]);if(f.type!==4)continue;++l;const{cssText:d}=u;if(!d.startsWith("--sxs"))continue;const p=d.slice(14,-3).trim().split(/\s+/),m=z2[p[0]];m&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[m]={group:f,index:l,cache:new Set(p)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,f){this.cssRules.splice(f,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=z2.length-1;a>=0;--a){const l=z2[a];if(!o[l]){const c=z2[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}t9e(o[l])}};return r(),e},t9e=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},YM=Symbol(),n9e=eA(),pee=(n,e)=>n9e(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[h1]){r.type==null&&(r.type=i[h1].type);for(const s of i[h1].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(r9e(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),i9e(n,r,e)}),r9e=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${jp(i.prefix)}c-${p1(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const d in t)l[d]=String(t[d]);if(typeof n=="object"&&n)for(const d in n){u=l,f=d,WGe.call(u,f)||(l[d]="undefined");const p=n[d];for(const m in p){const g={[d]:String(m)};String(m)==="undefined"&&c.push(d);const y=p[m],x=[g,y,!uee(y)];o.push(x)}}var u,f;if(typeof e=="object"&&e)for(const d of e){let{css:p,...m}=d;p=typeof p=="object"&&p||{};for(const y in m)m[y]=String(m[y]);const g=[m,p,!uee(p)];a.push(g)}return[s,r,o,a,l,c]},i9e=(n,e,t)=>{const[r,i,s,o]=s9e(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function d(){for(let p=0;p<d[YM].length;p++){const[m,g]=d[YM][p];f.rules[m].apply(g)}return d[YM]=[],null}return d[YM]=[],d.rules={},z2.forEach(p=>d.rules[p]={apply:m=>d[YM].push([p,m])}),d})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=f=>{f=typeof f=="object"&&f||o9e;const{css:d,...p}=f,m={};for(const x in s)if(delete p[x],x in f){let _=f[x];typeof _=="object"&&_?m[x]={"@initial":s[x],..._}:(_=String(_),m[x]=_!=="undefined"||o.has(x)?_:s[x])}else m[x]=s[x];const g=new Set([...i]);for(const[x,_,b,w]of e.composers){t.rules.styled.cache.has(x)||(t.rules.styled.cache.add(x),$b(_,[`.${x}`],[],n,R=>{l.styled.apply(R)}));const M=mee(b,m,n.media),C=mee(w,m,n.media,!0);for(const R of M)if(R!==void 0)for(const[E,B,D]of R){const N=`${x}-${p1(B)}-${E}`;g.add(N);const z=(D?t.rules.resonevar:t.rules.onevar).cache,H=D?l.resonevar:l.onevar;z.has(N)||(z.add(N),$b(B,[`.${N}`],[],n,U=>{H.apply(U)}))}for(const R of C)if(R!==void 0)for(const[E,B]of R){const D=`${x}-${p1(B)}-${E}`;g.add(D),t.rules.allvar.cache.has(D)||(t.rules.allvar.cache.add(D),$b(B,[`.${D}`],[],n,N=>{l.allvar.apply(N)}))}}if(typeof d=="object"&&d){const x=`${r}-i${p1(d)}-css`;g.add(x),t.rules.inline.cache.has(x)||(t.rules.inline.cache.add(x),$b(d,[`.${x}`],[],n,_=>{l.inline.apply(_)}))}for(const x of String(f.className||"").trim().split(/\s+/))x&&g.add(x);const y=p.className=[...g].join(" ");return{type:e.type,className:y,selector:c,props:p,toString:()=>y,deferredInjector:a}};return r7(u,{className:r,selector:c,[h1]:e,toString:()=>(t.rules.styled.cache.has(r)||u(),r)})},s9e=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},mee=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const f=s[l];let d=e[l];if(d!==f){if(typeof d!="object"||!d)continue e;{let p,m,g=0;for(const y in d){if(f===String(d[y])){if(y!=="@initial"){const x=y.slice(1);(m=m||[]).push(x in t?t[x]:y.replace(/^@media ?/,"")),u=!0}c+=g,p=!0}++g}if(m&&m.length&&(o={["@media "+m.join(", ")]:o}),!p)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},o9e={},a9e=eA(),l9e=(n,e)=>a9e(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=p1(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}$b(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return r7(r,{toString:r})}),c9e=eA(),u9e=(n,e)=>c9e(n,()=>t=>{const r=`${jp(n.prefix)}k-${p1(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];$b(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return r7(i,{get name(){return i()},toString:i})}),f9e=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+jp(this.prefix)+jp(this.scale)+this.token}toString(){return this.computedValue}},d9e=eA(),h9e=(n,e)=>d9e(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${jp(n.prefix)}t-${p1(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${jp(n.prefix)}${l}-${c}`,f=yge(String(r[l][c]),n.prefix,l);s[l][c]=new f9e(c,f,l,n.prefix),o.push(`${u}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),p9e=eA(),m9e=eA(),g9e=n=>{const e=(t=>{let r=!1;const i=p9e(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...VGe},utils:typeof s.utils=="object"&&s.utils||{}},f=e9e(l),d={css:pee(u,f),globalCss:l9e(u,f),keyframes:u9e(u,f),createTheme:h9e(u,f),reset(){f.reset(),d.theme.toString()},theme:{},sheet:f,config:u,prefix:o,getCssText:f.toString,toString:f.toString};return String(d.theme=d.createTheme(c)),d});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>m9e(t,()=>{const i=pee(t,r);return(...s)=>{const o=i(...s),a=o[h1].type,l=Be.forwardRef((c,u)=>{const f=c&&c.as||a,{props:d,deferredInjector:p}=o(c);return delete d.as,d.ref=u,p?Be.createElement(Be.Fragment,null,Be.createElement(f,d),Be.createElement(p,null)):Be.createElement(f,d)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[h1]=o[h1],l}}))(e),e};function op(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function xge(n,e=[]){let t=[];function r(s,o){const a=J.createContext(o),l=t.length;t=[...t,o];function c(f){const{scope:d,children:p,...m}=f,g=(d==null?void 0:d[n][l])||a,y=J.useMemo(()=>m,Object.values(m));return Fe.jsx(g.Provider,{value:y,children:p})}function u(f,d){const p=(d==null?void 0:d[n][l])||a,m=J.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>J.createContext(o));return function(o){const a=(o==null?void 0:o[n])||s;return J.useMemo(()=>({[`__scope${n}`]:{...o,[n]:a}}),[o,a])}};return i.scopeName=n,[r,v9e(i,...e)]}function v9e(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const s=r.reduce((o,{useScope:a,scopeName:l})=>{const c=a(i)[`__scope${l}`];return{...o,...c}},{});return J.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}function tA(n){const e=J.useRef(n);return J.useEffect(()=>{e.current=n}),J.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function y9e(n,e=globalThis==null?void 0:globalThis.document){const t=tA(n);J.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var x9e="DismissableLayer",o9="dismissableLayer.update",_9e="dismissableLayer.pointerDownOutside",b9e="dismissableLayer.focusOutside",gee,_ge=J.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bge=J.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=J.useContext(_ge),[u,f]=J.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=J.useState({}),m=wx(e,R=>f(R)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),_=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=_>=x,M=A9e(R=>{const E=R.target,B=[...c.branches].some(D=>D.contains(E));!w||B||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},d),C=M9e(R=>{const E=R.target;[...c.branches].some(B=>B.contains(E))||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},d);return y9e(R=>{_===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},d),J.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(gee=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),vee(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=gee)}},[u,d,t,c]),J.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),vee())},[u,c]),J.useEffect(()=>{const R=()=>p({});return document.addEventListener(o9,R),()=>document.removeEventListener(o9,R)},[]),Fe.jsx(Z0.div,{...l,ref:m,style:{pointerEvents:b?w?"auto":"none":void 0,...n.style},onFocusCapture:op(n.onFocusCapture,C.onFocusCapture),onBlurCapture:op(n.onBlurCapture,C.onBlurCapture),onPointerDownCapture:op(n.onPointerDownCapture,M.onPointerDownCapture)})});bge.displayName=x9e;var w9e="DismissableLayerBranch",S9e=J.forwardRef((n,e)=>{const t=J.useContext(_ge),r=J.useRef(null),i=wx(e,r);return J.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),Fe.jsx(Z0.div,{...n,ref:i})});S9e.displayName=w9e;function A9e(n,e=globalThis==null?void 0:globalThis.document){const t=tA(n),r=J.useRef(!1),i=J.useRef(()=>{});return J.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){wge(_9e,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function M9e(n,e=globalThis==null?void 0:globalThis.document){const t=tA(n),r=J.useRef(!1);return J.useEffect(()=>{const i=s=>{s.target&&!r.current&&wge(b9e,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vee(){const n=new CustomEvent(o9);document.dispatchEvent(n)}function wge(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?OGe(i,s):i.dispatchEvent(s)}var E9e=SEe.useId||(()=>{}),C9e=0;function T9e(n){const[e,t]=J.useState(E9e());return W1(()=>{t(r=>r??String(C9e++))},[n]),e?`radix-${e}`:""}const R9e=["top","right","bottom","left"],Nd=Math.min,rc=Math.max,yI=Math.round,zP=Math.floor,w0=n=>({x:n,y:n}),P9e={left:"right",right:"left",bottom:"top",top:"bottom"},B9e={start:"end",end:"start"};function a9(n,e,t){return rc(n,Nd(e,t))}function Wp(n,e){return typeof n=="function"?n(e):n}function $p(n){return n.split("-")[0]}function nA(n){return n.split("-")[1]}function i7(n){return n==="x"?"y":"x"}function s7(n){return n==="y"?"height":"width"}function S0(n){return["top","bottom"].includes($p(n))?"y":"x"}function o7(n){return i7(S0(n))}function D9e(n,e,t){t===void 0&&(t=!1);const r=nA(n),i=o7(n),s=s7(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=xI(o)),[o,xI(o)]}function k9e(n){const e=xI(n);return[l9(n),e,l9(e)]}function l9(n){return n.replace(/start|end/g,e=>B9e[e])}function I9e(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function L9e(n,e,t,r){const i=nA(n);let s=I9e($p(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(l9)))),s}function xI(n){return n.replace(/left|right|bottom|top/g,e=>P9e[e])}function O9e(n){return{top:0,right:0,bottom:0,left:0,...n}}function Sge(n){return typeof n!="number"?O9e(n):{top:n,right:n,bottom:n,left:n}}function _I(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function yee(n,e,t){let{reference:r,floating:i}=n;const s=S0(e),o=o7(e),a=s7(o),l=$p(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(nA(e)){case"start":p[o]-=d*(t&&c?-1:1);break;case"end":p[o]+=d*(t&&c?-1:1);break}return p}const F9e=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=yee(c,r,l),d=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:y,fn:x}=a[g],{x:_,y:b,data:w,reset:M}=await x({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:n,floating:e}});u=_??u,f=b??f,p={...p,[y]:{...p[y],...w}},M&&m<=50&&(m++,typeof M=="object"&&(M.placement&&(d=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):M.rects),{x:u,y:f}=yee(c,d,l)),g=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:p}};async function $C(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Wp(e,n),m=Sge(p),g=a[d?f==="floating"?"reference":"floating":f],y=_I(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(g)))==null||t?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},w=_I(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:_,strategy:l}):x);return{top:(y.top-w.top+m.top)/b.y,bottom:(w.bottom-y.bottom+m.bottom)/b.y,left:(y.left-w.left+m.left)/b.x,right:(w.right-y.right+m.right)/b.x}}const N9e=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Wp(n,e)||{};if(c==null)return{};const f=Sge(u),d={x:t,y:r},p=o7(i),m=s7(p),g=await o.getDimensions(c),y=p==="y",x=y?"top":"left",_=y?"bottom":"right",b=y?"clientHeight":"clientWidth",w=s.reference[m]+s.reference[p]-d[p]-s.floating[m],M=d[p]-s.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=C?C[b]:0;(!R||!await(o.isElement==null?void 0:o.isElement(C)))&&(R=a.floating[b]||s.floating[m]);const E=w/2-M/2,B=R/2-g[m]/2-1,D=Nd(f[x],B),N=Nd(f[_],B),z=D,H=R-g[m]-N,U=R/2-g[m]/2+E,W=a9(z,U,H),X=!l.arrow&&nA(i)!=null&&U!==W&&s.reference[m]/2-(U<z?D:N)-g[m]/2<0,q=X?U<z?U-z:U-H:0;return{[p]:d[p]+q,data:{[p]:W,centerOffset:U-W-q,...X&&{alignmentOffset:q}},reset:X}}}),U9e=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=Wp(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=$p(i),_=S0(a),b=$p(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=d||(b||!g?[xI(a)]:k9e(a)),C=m!=="none";!d&&C&&M.push(...L9e(a,g,m,w));const R=[a,...M],E=await $C(e,y),B=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&B.push(E[x]),f){const U=D9e(i,o,w);B.push(E[U[0]],E[U[1]])}if(D=[...D,{placement:i,overflows:B}],!B.every(U=>U<=0)){var N,z;const U=(((N=s.flip)==null?void 0:N.index)||0)+1,W=R[U];if(W)return{data:{index:U,overflows:D},reset:{placement:W}};let X=(z=D.filter(q=>q.overflows[0]<=0).sort((q,L)=>q.overflows[1]-L.overflows[1])[0])==null?void 0:z.placement;if(!X)switch(p){case"bestFit":{var H;const q=(H=D.filter(L=>{if(C){const I=S0(L.placement);return I===_||I==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(I=>I>0).reduce((I,O)=>I+O,0)]).sort((L,I)=>L[1]-I[1])[0])==null?void 0:H[0];q&&(X=q);break}case"initialPlacement":X=a;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function xee(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function _ee(n){return R9e.some(e=>n[e]>=0)}const z9e=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Wp(n,e);switch(r){case"referenceHidden":{const s=await $C(e,{...i,elementContext:"reference"}),o=xee(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_ee(o)}}}case"escaped":{const s=await $C(e,{...i,altBoundary:!0}),o=xee(s,t.floating);return{data:{escapedOffsets:o,escaped:_ee(o)}}}default:return{}}}}};async function G9e(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=$p(t),a=nA(t),l=S0(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=Wp(e,n);let{mainAxis:d,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:d*c}:{x:d*c,y:p*u}}const H9e=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await G9e(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},V9e=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x,y:_}=y;return{x,y:_}}},...l}=Wp(n,e),c={x:t,y:r},u=await $C(e,l),f=S0($p(i)),d=i7(f);let p=c[d],m=c[f];if(s){const y=d==="y"?"top":"left",x=d==="y"?"bottom":"right",_=p+u[y],b=p-u[x];p=a9(_,p,b)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",_=m+u[y],b=m-u[x];m=a9(_,m,b)}const g=a.fn({...e,[d]:p,[f]:m});return{...g,data:{x:g.x-t,y:g.y-r}}}}},j9e=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Wp(n,e),u={x:t,y:r},f=S0(i),d=i7(f);let p=u[d],m=u[f];const g=Wp(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=d==="y"?"height":"width",w=s.reference[d]-s.floating[b]+y.mainAxis,M=s.reference[d]+s.reference[b]-y.mainAxis;p<w?p=w:p>M&&(p=M)}if(c){var x,_;const b=d==="y"?"width":"height",w=["top","left"].includes($p(i)),M=s.reference[f]-s.floating[b]+(w&&((x=o.offset)==null?void 0:x[f])||0)+(w?0:y.crossAxis),C=s.reference[f]+s.reference[b]+(w?0:((_=o.offset)==null?void 0:_[f])||0)-(w?y.crossAxis:0);m<M?m=M:m>C&&(m=C)}return{[d]:p,[f]:m}}}},W9e=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Wp(n,e),l=await $C(e,a),c=$p(t),u=nA(t),f=S0(t)==="y",{width:d,height:p}=r.floating;let m,g;c==="top"||c==="bottom"?(m=c,g=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=c,m=u==="end"?"top":"bottom");const y=p-l.top-l.bottom,x=d-l.left-l.right,_=Nd(p-l[m],y),b=Nd(d-l[g],x),w=!e.middlewareData.shift;let M=_,C=b;if(f?C=u||w?Nd(b,x):x:M=u||w?Nd(_,y):y,w&&!u){const E=rc(l.left,0),B=rc(l.right,0),D=rc(l.top,0),N=rc(l.bottom,0);f?C=d-2*(E!==0||B!==0?E+B:rc(l.left,l.right)):M=p-2*(D!==0||N!==0?D+N:rc(l.top,l.bottom))}await o({...e,availableWidth:C,availableHeight:M});const R=await i.getDimensions(s.floating);return d!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function rA(n){return Age(n)?(n.nodeName||"").toLowerCase():"#document"}function mc(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function dm(n){var e;return(e=(Age(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Age(n){return n instanceof Node||n instanceof mc(n).Node}function jf(n){return n instanceof Element||n instanceof mc(n).Element}function ih(n){return n instanceof HTMLElement||n instanceof mc(n).HTMLElement}function bee(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof mc(n).ShadowRoot}function y3(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Wf(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function $9e(n){return["table","td","th"].includes(rA(n))}function XO(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function a7(n){const e=l7(),t=jf(n)?Wf(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function X9e(n){let e=A0(n);for(;ih(e)&&!fS(e);){if(a7(e))return e;if(XO(e))return null;e=A0(e)}return null}function l7(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fS(n){return["html","body","#document"].includes(rA(n))}function Wf(n){return mc(n).getComputedStyle(n)}function JO(n){return jf(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function A0(n){if(rA(n)==="html")return n;const e=n.assignedSlot||n.parentNode||bee(n)&&n.host||dm(n);return bee(e)?e.host:e}function Mge(n){const e=A0(n);return fS(e)?n.ownerDocument?n.ownerDocument.body:n.body:ih(e)&&y3(e)?e:Mge(e)}function XC(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Mge(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=mc(i);if(s){const a=c9(o);return e.concat(o,o.visualViewport||[],y3(i)?i:[],a&&t?XC(a):[])}return e.concat(i,XC(i,[],t))}function c9(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Ege(n){const e=Wf(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ih(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=yI(t)!==s||yI(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function c7(n){return jf(n)?n:n.contextElement}function Rw(n){const e=c7(n);if(!ih(e))return w0(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=Ege(e);let o=(s?yI(t.width):t.width)/r,a=(s?yI(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const J9e=w0(0);function Cge(n){const e=mc(n);return!l7()||!e.visualViewport?J9e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Y9e(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==mc(n)?!1:e}function $1(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=c7(n);let o=w0(1);e&&(r?jf(r)&&(o=Rw(r)):o=Rw(n));const a=Y9e(s,t,r)?Cge(s):w0(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const d=mc(s),p=r&&jf(r)?mc(r):r;let m=d,g=c9(m);for(;g&&r&&p!==m;){const y=Rw(g),x=g.getBoundingClientRect(),_=Wf(g),b=x.left+(g.clientLeft+parseFloat(_.paddingLeft))*y.x,w=x.top+(g.clientTop+parseFloat(_.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,f*=y.y,l+=b,c+=w,m=mc(g),g=c9(m)}}return _I({width:u,height:f,x:l,y:c})}function K9e(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=dm(r),a=e?XO(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=w0(1);const u=w0(0),f=ih(r);if((f||!f&&!s)&&((rA(r)!=="body"||y3(o))&&(l=JO(r)),ih(r))){const d=$1(r);c=Rw(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x,y:t.y*c.y-l.scrollTop*c.y+u.y}}function q9e(n){return Array.from(n.getClientRects())}function Tge(n){return $1(dm(n)).left+JO(n).scrollLeft}function Q9e(n){const e=dm(n),t=JO(n),r=n.ownerDocument.body,i=rc(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=rc(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Tge(n);const a=-t.scrollTop;return Wf(r).direction==="rtl"&&(o+=rc(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Z9e(n,e){const t=mc(n),r=dm(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=l7();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function e8e(n,e){const t=$1(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=ih(n)?Rw(n):w0(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function wee(n,e,t){let r;if(e==="viewport")r=Z9e(n,t);else if(e==="document")r=Q9e(dm(n));else if(jf(e))r=e8e(e,t);else{const i=Cge(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return _I(r)}function Rge(n,e){const t=A0(n);return t===e||!jf(t)||fS(t)?!1:Wf(t).position==="fixed"||Rge(t,e)}function t8e(n,e){const t=e.get(n);if(t)return t;let r=XC(n,[],!1).filter(a=>jf(a)&&rA(a)!=="body"),i=null;const s=Wf(n).position==="fixed";let o=s?A0(n):n;for(;jf(o)&&!fS(o);){const a=Wf(o),l=a7(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&i&&["absolute","fixed"].includes(i.position)||y3(o)&&!l&&Rge(n,o))?r=r.filter(c=>c!==o):i=a,o=A0(o)}return e.set(n,r),r}function n8e(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?XO(e)?[]:t8e(e,this._c):[].concat(t),r],o=s[0],a=s.reduce((l,c)=>{const u=wee(e,c,i);return l.top=rc(u.top,l.top),l.right=Nd(u.right,l.right),l.bottom=Nd(u.bottom,l.bottom),l.left=rc(u.left,l.left),l},wee(e,o,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function r8e(n){const{width:e,height:t}=Ege(n);return{width:e,height:t}}function i8e(n,e,t){const r=ih(e),i=dm(e),s=t==="fixed",o=$1(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=w0(0);if(r||!r&&!s)if((rA(e)!=="body"||y3(i))&&(a=JO(e)),r){const f=$1(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=Tge(i));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function lU(n){return Wf(n).position==="static"}function See(n,e){return!ih(n)||Wf(n).position==="fixed"?null:e?e(n):n.offsetParent}function Pge(n,e){const t=mc(n);if(XO(n))return t;if(!ih(n)){let i=A0(n);for(;i&&!fS(i);){if(jf(i)&&!lU(i))return i;i=A0(i)}return t}let r=See(n,e);for(;r&&$9e(r)&&lU(r);)r=See(r,e);return r&&fS(r)&&lU(r)&&!a7(r)?t:r||X9e(n)||t}const s8e=async function(n){const e=this.getOffsetParent||Pge,t=this.getDimensions,r=await t(n.floating);return{reference:i8e(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function o8e(n){return Wf(n).direction==="rtl"}const a8e={convertOffsetParentRelativeRectToViewportRelativeRect:K9e,getDocumentElement:dm,getClippingRect:n8e,getOffsetParent:Pge,getElementRects:s8e,getClientRects:q9e,getDimensions:r8e,getScale:Rw,isElement:jf,isRTL:o8e};function l8e(n,e){let t=null,r;const i=dm(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:d}=n.getBoundingClientRect();if(a||e(),!f||!d)return;const p=zP(u),m=zP(i.clientWidth-(c+f)),g=zP(i.clientHeight-(u+d)),y=zP(c),x={rootMargin:-p+"px "+-m+"px "+-g+"px "+-y+"px",threshold:rc(0,Nd(1,l))||1};let _=!0;function b(w){const M=w[0].intersectionRatio;if(M!==l){if(!_)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{t=new IntersectionObserver(b,{...x,root:i.ownerDocument})}catch{t=new IntersectionObserver(b,x)}t.observe(n)}return o(!0),s}function c8e(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=c7(n),u=i||s?[...c?XC(c):[],...XC(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const f=c&&a?l8e(c,t):null;let d=-1,p=null;o&&(p=new ResizeObserver(x=>{let[_]=x;_&&_.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?$1(n):null;l&&y();function y(){const x=$1(n);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&t(),g=x,m=requestAnimationFrame(y)}return t(),()=>{var x;u.forEach(_=>{i&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const u8e=H9e,f8e=V9e,d8e=U9e,h8e=W9e,p8e=z9e,Aee=N9e,m8e=j9e,g8e=(n,e,t)=>{const r=new Map,i={platform:a8e,...t},s={...i.platform,_c:r};return F9e(n,e,{...i,platform:s})};var KD=typeof document<"u"?J.useLayoutEffect:J.useEffect;function bI(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!bI(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!bI(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function Bge(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Mee(n,e){const t=Bge(n);return Math.round(e*t)/t}function Eee(n){const e=J.useRef(n);return KD(()=>{e.current=n}),e}function v8e(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,f]=J.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=J.useState(r);bI(d,r)||p(r);const[m,g]=J.useState(null),[y,x]=J.useState(null),_=J.useCallback(q=>{q!==C.current&&(C.current=q,g(q))},[]),b=J.useCallback(q=>{q!==R.current&&(R.current=q,x(q))},[]),w=s||m,M=o||y,C=J.useRef(null),R=J.useRef(null),E=J.useRef(u),B=l!=null,D=Eee(l),N=Eee(i),z=J.useCallback(()=>{if(!C.current||!R.current)return;const q={placement:e,strategy:t,middleware:d};N.current&&(q.platform=N.current),g8e(C.current,R.current,q).then(L=>{const I={...L,isPositioned:!0};H.current&&!bI(E.current,I)&&(E.current=I,ZT.flushSync(()=>{f(I)}))})},[d,e,t,N]);KD(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[c]);const H=J.useRef(!1);KD(()=>(H.current=!0,()=>{H.current=!1}),[]),KD(()=>{if(w&&(C.current=w),M&&(R.current=M),w&&M){if(D.current)return D.current(w,M,z);z()}},[w,M,z,D,B]);const U=J.useMemo(()=>({reference:C,floating:R,setReference:_,setFloating:b}),[_,b]),W=J.useMemo(()=>({reference:w,floating:M}),[w,M]),X=J.useMemo(()=>{const q={position:t,left:0,top:0};if(!W.floating)return q;const L=Mee(W.floating,u.x),I=Mee(W.floating,u.y);return a?{...q,transform:"translate("+L+"px, "+I+"px)",...Bge(W.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:L,top:I}},[t,a,W.floating,u.x,u.y]);return J.useMemo(()=>({...u,update:z,refs:U,elements:W,floatingStyles:X}),[u,z,U,W,X])}const y8e=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Aee({element:r.current,padding:i}).fn(t):{}:r?Aee({element:r,padding:i}).fn(t):{}}}},x8e=(n,e)=>({...u8e(n),options:[n,e]}),_8e=(n,e)=>({...f8e(n),options:[n,e]}),b8e=(n,e)=>({...m8e(n),options:[n,e]}),w8e=(n,e)=>({...d8e(n),options:[n,e]}),S8e=(n,e)=>({...h8e(n),options:[n,e]}),A8e=(n,e)=>({...p8e(n),options:[n,e]}),M8e=(n,e)=>({...y8e(n),options:[n,e]});var E8e="Arrow",Dge=J.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return Fe.jsx(Z0.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:Fe.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dge.displayName=E8e;var C8e=Dge;function T8e(n){const[e,t]=J.useState(void 0);return W1(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var u7="Popper",[kge,Ige]=xge(u7),[R8e,Lge]=kge(u7),Oge=n=>{const{__scopePopper:e,children:t}=n,[r,i]=J.useState(null);return Fe.jsx(R8e,{scope:e,anchor:r,onAnchorChange:i,children:t})};Oge.displayName=u7;var Fge="PopperAnchor",Nge=J.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=Lge(Fge,t),o=J.useRef(null),a=wx(e,o);return J.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:Fe.jsx(Z0.div,{...i,ref:a})});Nge.displayName=Fge;var f7="PopperContent",[P8e,B8e]=kge(f7),Uge=J.forwardRef((n,e)=>{var t,r,i,s,o,a;const{__scopePopper:l,side:c="bottom",sideOffset:u=0,align:f="center",alignOffset:d=0,arrowPadding:p=0,avoidCollisions:m=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:_=!1,updatePositionStrategy:b="optimized",onPlaced:w,...M}=n,C=Lge(f7,l),[R,E]=J.useState(null),B=wx(e,oe=>E(oe)),[D,N]=J.useState(null),z=T8e(D),H=(z==null?void 0:z.width)??0,U=(z==null?void 0:z.height)??0,W=c+(f!=="center"?"-"+f:""),X=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},q=Array.isArray(g)?g:[g],L=q.length>0,I={padding:X,boundary:q.filter(k8e),altBoundary:L},{refs:O,floatingStyles:F,placement:j,isPositioned:te,middlewareData:re}=v8e({strategy:"fixed",placement:W,whileElementsMounted:(...oe)=>c8e(...oe,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[x8e({mainAxis:u+U,alignmentAxis:d}),m&&_8e({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?b8e():void 0,...I}),m&&w8e({...I}),S8e({...I,apply:({elements:oe,rects:Te,availableWidth:be,availableHeight:Ce})=>{const{width:We,height:Se}=Te.reference,ke=oe.floating.style;ke.setProperty("--radix-popper-available-width",`${be}px`),ke.setProperty("--radix-popper-available-height",`${Ce}px`),ke.setProperty("--radix-popper-anchor-width",`${We}px`),ke.setProperty("--radix-popper-anchor-height",`${Se}px`)}}),D&&M8e({element:D,padding:p}),I8e({arrowWidth:H,arrowHeight:U}),_&&A8e({strategy:"referenceHidden",...I})]}),[se,K]=Hge(j),le=tA(w);W1(()=>{te&&(le==null||le())},[te,le]);const he=(t=re.arrow)==null?void 0:t.x,we=(r=re.arrow)==null?void 0:r.y,ve=((i=re.arrow)==null?void 0:i.centerOffset)!==0,[fe,ne]=J.useState();return W1(()=>{R&&ne(window.getComputedStyle(R).zIndex)},[R]),Fe.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:te?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(s=re.transformOrigin)==null?void 0:s.x,(o=re.transformOrigin)==null?void 0:o.y].join(" "),...((a=re.hide)==null?void 0:a.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:Fe.jsx(P8e,{scope:l,placedSide:se,onArrowChange:N,arrowX:he,arrowY:we,shouldHideArrow:ve,children:Fe.jsx(Z0.div,{"data-side":se,"data-align":K,...M,ref:B,style:{...M.style,animation:te?void 0:"none"}})})})});Uge.displayName=f7;var zge="PopperArrow",D8e={top:"bottom",right:"left",bottom:"top",left:"right"},Gge=J.forwardRef(function(n,e){const{__scopePopper:t,...r}=n,i=B8e(zge,t),s=D8e[i.placedSide];return Fe.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:Fe.jsx(C8e,{...r,ref:e,style:{...r.style,display:"block"}})})});Gge.displayName=zge;function k8e(n){return n!==null}var I8e=n=>({name:"transformOrigin",options:n,fn(e){var t,r,i;const{placement:s,rects:o,middlewareData:a}=e,l=((t=a.arrow)==null?void 0:t.centerOffset)!==0,c=l?0:n.arrowWidth,u=l?0:n.arrowHeight,[f,d]=Hge(s),p={start:"0%",center:"50%",end:"100%"}[d],m=(((r=a.arrow)==null?void 0:r.x)??0)+c/2,g=(((i=a.arrow)==null?void 0:i.y)??0)+u/2;let y="",x="";return f==="bottom"?(y=l?p:`${m}px`,x=`${-u}px`):f==="top"?(y=l?p:`${m}px`,x=`${o.floating.height+u}px`):f==="right"?(y=`${-u}px`,x=l?p:`${g}px`):f==="left"&&(y=`${o.floating.width+u}px`,x=l?p:`${g}px`),{data:{x:y,y:x}}}});function Hge(n){const[e,t="center"]=n.split("-");return[e,t]}var L8e=Oge,O8e=Nge,F8e=Uge,N8e=Gge;function U8e(n,e){return J.useReducer((t,r)=>e[t][r]??t,n)}var Vge=n=>{const{present:e,children:t}=n,r=z8e(e),i=typeof t=="function"?t({present:r.isPresent}):J.Children.only(t),s=wx(r.ref,G8e(i));return typeof t=="function"||r.isPresent?J.cloneElement(i,{ref:s}):null};Vge.displayName="Presence";function z8e(n){const[e,t]=J.useState(),r=J.useRef({}),i=J.useRef(n),s=J.useRef("none"),o=n?"mounted":"unmounted",[a,l]=U8e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return J.useEffect(()=>{const c=GP(r.current);s.current=a==="mounted"?c:"none"},[a]),W1(()=>{const c=r.current,u=i.current;if(u!==n){const f=s.current,d=GP(c);n?l("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),W1(()=>{if(e){const c=f=>{const d=GP(r.current).includes(f.animationName);f.target===e&&d&&ZT.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=GP(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:J.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function GP(n){return(n==null?void 0:n.animationName)||"none"}function G8e(n){var e,t;let r=(e=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:e.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?n.ref:(r=(t=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?n.props.ref:n.props.ref||n.ref)}function H8e({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=V8e({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=tA(t),l=J.useCallback(c=>{if(s){const u=typeof c=="function"?c(n):c;u!==n&&a(u)}else i(c)},[s,n,i,a]);return[o,l]}function V8e({defaultProp:n,onChange:e}){const t=J.useState(n),[r]=t,i=J.useRef(r),s=tA(e);return J.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var j8e="VisuallyHidden",jge=J.forwardRef((n,e)=>Fe.jsx(Z0.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));jge.displayName=j8e;var W8e=jge,[YO,Lwt]=xge("Tooltip",[Ige]),KO=Ige(),$8e="TooltipProvider",u9="tooltip.open",[Owt,d7]=YO($8e),qO="Tooltip",[X8e,QO]=YO(qO),Wge=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=d7(qO,n.__scopeTooltip),c=KO(e),[u,f]=J.useState(null),d=T9e(),p=J.useRef(0),m=o??l.disableHoverableContent,g=a??l.delayDuration,y=J.useRef(!1),[x=!1,_]=H8e({prop:r,defaultProp:i,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(u9))):l.onClose(),s==null||s(R)}}),b=J.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),w=J.useCallback(()=>{window.clearTimeout(p.current),y.current=!1,_(!0)},[_]),M=J.useCallback(()=>{window.clearTimeout(p.current),_(!1)},[_]),C=J.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,_(!0)},g)},[g,_]);return J.useEffect(()=>()=>window.clearTimeout(p.current),[]),Fe.jsx(L8e,{...c,children:Fe.jsx(X8e,{scope:e,contentId:d,open:x,stateAttribute:b,trigger:u,onTriggerChange:f,onTriggerEnter:J.useCallback(()=>{l.isOpenDelayed?C():w()},[l.isOpenDelayed,C,w]),onTriggerLeave:J.useCallback(()=>{m?M():window.clearTimeout(p.current)},[M,m]),onOpen:w,onClose:M,disableHoverableContent:m,children:t})})};Wge.displayName=qO;var f9="TooltipTrigger",$ge=J.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=QO(f9,t),s=d7(f9,t),o=KO(t),a=J.useRef(null),l=wx(e,a,i.onTriggerChange),c=J.useRef(!1),u=J.useRef(!1),f=J.useCallback(()=>c.current=!1,[]);return J.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),Fe.jsx(O8e,{asChild:!0,...o,children:Fe.jsx(Z0.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:op(n.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:op(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:op(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:op(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:op(n.onBlur,i.onClose),onClick:op(n.onClick,i.onClose)})})});$ge.displayName=f9;var J8e="TooltipPortal",[Fwt,Y8e]=YO(J8e,{forceMount:void 0}),dS="TooltipContent",Xge=J.forwardRef((n,e)=>{const t=Y8e(dS,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=QO(dS,n.__scopeTooltip);return Fe.jsx(Vge,{present:r||o.open,children:o.disableHoverableContent?Fe.jsx(Jge,{side:i,...s,ref:e}):Fe.jsx(K8e,{side:i,...s,ref:e})})}),K8e=J.forwardRef((n,e)=>{const t=QO(dS,n.__scopeTooltip),r=d7(dS,n.__scopeTooltip),i=J.useRef(null),s=wx(e,i),[o,a]=J.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:f}=r,d=J.useCallback(()=>{a(null),f(!1)},[f]),p=J.useCallback((m,g)=>{const y=m.currentTarget,x={x:m.clientX,y:m.clientY},_=Z8e(x,y.getBoundingClientRect()),b=eHe(x,_),w=tHe(g.getBoundingClientRect()),M=rHe([...b,...w]);a(M),f(!0)},[f]);return J.useEffect(()=>()=>d(),[d]),J.useEffect(()=>{if(l&&u){const m=y=>p(y,u),g=y=>p(y,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,p,d]),J.useEffect(()=>{if(o){const m=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},_=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),b=!nHe(x,o);_?d():b&&(d(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,d]),Fe.jsx(Jge,{...n,ref:s})}),[q8e,Q8e]=YO(qO,{isInside:!1}),Jge=J.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=QO(dS,t),c=KO(t),{onClose:u}=l;return J.useEffect(()=>(document.addEventListener(u9,u),()=>document.removeEventListener(u9,u)),[u]),J.useEffect(()=>{if(l.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),Fe.jsx(bge,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:Fe.jsxs(F8e,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[Fe.jsx(dge,{children:r}),Fe.jsx(q8e,{scope:t,isInside:!0,children:Fe.jsx(W8e,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Xge.displayName=dS;var Yge="TooltipArrow",Kge=J.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=KO(t);return Q8e(Yge,t).isInside?null:Fe.jsx(N8e,{...i,...r,ref:e})});Kge.displayName=Yge;function Z8e(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function eHe(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function tHe(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function nHe(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function rHe(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),iHe(e)}function iHe(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var sHe=Wge,oHe=$ge,aHe=Xge,lHe=Kge;function cHe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function fr(n,e){if(n==null)return{};var t=cHe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let hi;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(hi||(hi={}));const uHe={[hi.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[hi.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[hi.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[hi.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[hi.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[hi.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[hi.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[hi.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[hi.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[hi.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[hi.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function qge(n,e,...t){const[r,...i]=uHe[e](...t);console[n]("LEVA: "+r,...i)}const dp=qge.bind(null,"warn"),fHe=qge.bind(null,"log"),dHe=["value"],hHe=["schema"],pHe=["value"],Qge=[],X1={};function Cee(n){let{value:e}=n,t=fr(n,dHe);for(let r of Qge){const i=r(e,t);if(i)return i}}function hm(n,e){let{schema:t}=e,r=fr(e,hHe);if(n in X1){dp(hi.ALREADY_REGISTERED_TYPE,n);return}Qge.push((i,s)=>t(i,s)&&n),X1[n]=r}function cU(n,e,t,r){const{normalize:i}=X1[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=fr(e,pHe);return{value:s,settings:o}}function mHe(n,e,t,r,i,s){const{sanitize:o}=X1[n];return o?o(e,t,r,i,s):e}function Tee(n,e,t){const{format:r}=X1[n];return r?r(e,t):e}function gHe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ree(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function on(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ree(Object(t),!0).forEach(function(r){gHe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ree(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const M0=(n,e,t)=>n>t?t:n<e?e:n,vHe=n=>{if(n===""||typeof n=="number")return n;try{const e=cg(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},yHe=Math.log(10);function Pee(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/yHe)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const wI=(n,e,t)=>t===e?0:(M0(n,e,t)-e)/(t-e),SI=(n,e,t)=>n*(t-e)+e,xHe=()=>"_"+Math.random().toString(36).substr(2,9),Bee=/\(([0-9+\-*/^ .]+)\)/,Dee=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,kee=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,Iee=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,Lee=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,Oee=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function cg(n){if(isNaN(Number(n)))if(Bee.test(n)){const e=n.replace(Bee,(t,r)=>String(cg(r)));return cg(e)}else if(Dee.test(n)){const e=n.replace(Dee,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return cg(e)}else if(kee.test(n)){const e=n.replace(kee,(t,r,i)=>String(Number(r)*Number(i)));return cg(e)}else if(Iee.test(n)){const e=n.replace(Iee,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return cg(e)}else if(Lee.test(n)){const e=n.replace(Lee,(t,r,i)=>String(Number(r)+Number(i)));return cg(e)}else if(Oee.test(n)){const e=n.replace(Oee,(t,r,i)=>String(Number(r)-Number(i)));return cg(e)}else return Number(n);return Number(n)}function _He(n,e){return e.reduce((t,r)=>(n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function bHe(n,e){const t=on({},n);return e.forEach(r=>r in n&&delete t[r]),t}function wHe(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function Zge(n){return Object.prototype.toString.call(n)==="[object Object]"}const SHe=n=>Zge(n)&&Object.keys(n).length===0;let Of;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(Of||(Of={}));let $f;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})($f||($f={}));const AHe=["type","__customInput"],MHe=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],EHe=["type"];function e0e(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:on({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:M,__customInput:C}=n,R=fr(n,AHe);return e0e(C,e,R,M)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:f,onChange:d,onEditStart:p,onEditEnd:m,transient:g}=n,y=fr(n,MHe),x=on({render:o,key:e,label:a??e,hint:f,transient:g??!!d,onEditStart:p,onEditEnd:m,disabled:u,optional:l,order:c},t);let{type:_}=y,b=fr(y,EHe);if(_=r??_,_ in Of)return{type:_,input:b,options:x};let w;return r&&Zge(b)&&"value"in b?w=b.value:w=SHe(b)?void 0:b,{type:_,input:w,options:on(on({},x),{},{onChange:d,optional:(i=x.optional)!==null&&i!==void 0?i:!1,disabled:(s=x.disabled)!==null&&s!==void 0?s:!1})}}function CHe(n,e,t,r){const i=e0e(n,e),{type:s,input:o,options:a}=i;if(s)return s in Of?i:{type:s,input:cU(s,o,t,r),options:a};let l=Cee(o);return l?{type:l,input:cU(l,o,t,r),options:a}:(l=Cee({value:o}),l?{type:l,input:cU(l,{value:o},t,r),options:a}:!1)}function Fee(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=t0e({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const THe=function(n,e,t){this.type="LEVA_ERROR",this.message="LEVA: "+n,this.previousValue=e,this.error=t};function t0e({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=mHe(n,o,t,e,i,s)}catch(l){throw new THe(`The value \`${r}\` did not result in a correct value.`,e,l)}return jC(a,e)?e:a}const n0e=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},r0e=n=>n.shiftKey?5:n.altKey?1/5:1;function RHe(n,e){const t=console.error;console.error=()=>{},rfe.render(n,e),console.error=t}const PHe=["value"],BHe=["min","max"],DHe=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},i0e=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=M0(i,e,t);return r?s+r:s},kHe=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},s0e=n=>{let{value:e}=n,t=fr(n,PHe);const{min:r=-1/0,max:i=1/0}=t,s=fr(t,BHe);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=M0(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?Pee(l)*10:Pee(o);l=l||c/10;const u=Math.round(M0(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:on({initialValue:o,step:l,pad:u,min:r,max:i,suffix:a},s)}},o0e=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var a0e=Object.freeze({__proto__:null,schema:DHe,sanitize:i0e,format:kHe,normalize:s0e,sanitizeStep:o0e});function Hi(){return Hi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hi.apply(this,arguments)}const l0e=J.createContext({});function ga(){return J.useContext(l0e)}const h7=J.createContext(null),c0e=J.createContext(null),u0e=J.createContext(null);function x3(){return J.useContext(c0e)}function IHe(){return J.useContext(u0e)}const f0e=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function HP(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const KM={$inputStyle:()=>n=>HP(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>HP(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>HP(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>HP(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Kt,css:Nwt,createTheme:LHe,globalCss:OHe,keyframes:Uwt}=g9e({prefix:"leva",theme:f0e(),utils:on(on({},KM),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":KM.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":KM.$focusStyle()(n)}),$hover:n=>({"&:hover":KM.$hoverStyle()(n)}),$active:n=>({"&:active":KM.$activeStyle()(n)})})}),FHe=OHe({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function NHe(n){const e=f0e();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=LHe(e);return{theme:e,className:t.className}}function Pp(n,e){const{theme:t}=J.useContext(h7);if(!(n in t)||!(e in t[n]))return dp(hi.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const d0e=Kt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),h0e=Kt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${d0e}`]:{paddingLeft:0}}),UHe=Kt(h0e,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),zHe=Kt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),GHe=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],HHe=["onUpdate"];function p7(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,u=fr(n,GHe);const{id:f,emitOnEditStart:d,emitOnEditEnd:p,disabled:m}=ga(),g=a||f,y=J.useRef(null),x=c>0,_=x?"textarea":"input",b=J.useCallback(C=>R=>{const E=R.currentTarget.value;C(E)},[]);Be.useEffect(()=>{const C=y.current,R=b(E=>{r(E),p()});return C==null||C.addEventListener("blur",R),()=>C==null?void 0:C.removeEventListener("blur",R)},[b,r,p]);const w=J.useCallback(C=>{C.key==="Enter"&&b(r)(C)},[b,r]),M=Object.assign({as:_},x?{rows:c}:{},u);return Be.createElement(zHe,{textArea:x},e&&typeof e=="string"?Be.createElement(h0e,null,e):e,Be.createElement(d0e,Hi({levaType:o,ref:y,id:g,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:b(i),onFocus:()=>d(),onKeyPress:w,onKeyDown:s,disabled:m},M)))}function VHe(n){let{onUpdate:e}=n,t=fr(n,HHe);const r=J.useCallback(s=>e(vHe(s)),[e]),i=J.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return Be.createElement(p7,Hi({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const AI=Kt("div",{}),d9=Kt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),jHe=Kt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${d9}::after`]:{opacity:.6},[`${AI}:hover > & + ${d9}::after`]:{opacity:.6},[`${AI}:hover > & > svg`]:{opacity:1}}),p0e=Kt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${AI}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),m0e=Kt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${p0e} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),g0e=Kt(m0e,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),WHe=Kt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),$He=Kt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),h9=Kt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),XHe=Kt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${h9}`]:{pointerEvents:"auto"}}}}}),v0e=Kt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),JHe=Kt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),YHe=Kt(lHe,{fill:"$toolTipBackground"});function m7({children:n}){const{className:e}=J.useContext(h7);return Be.createElement(NGe,{className:e},n)}const KHe=["align"];function qHe(){const{id:n,disable:e,disabled:t}=ga();return Be.createElement(Be.Fragment,null,Be.createElement($He,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),Be.createElement("label",{htmlFor:n+"__disable"}))}function QHe(n){const{id:e,optional:t,hint:r}=ga(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return Be.createElement(Be.Fragment,null,t&&Be.createElement(qHe,null),r!==void 0?Be.createElement(sHe,null,Be.createElement(oHe,{asChild:!0},Be.createElement(h9,Hi({},i,n))),Be.createElement(aHe,{side:"top",sideOffset:2},Be.createElement(JHe,null,r,Be.createElement(YHe,null)))):Be.createElement(h9,Hi({},i,s,n)))}function td(n){let{align:e}=n,t=fr(n,KHe);const{value:r,label:i,key:s,disabled:o}=ga(),{hideCopyButton:a}=IHe(),l=!a&&s!==void 0,[c,u]=J.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{dp(hi.CLIPBOARD_ERROR,{[s]:r})}};return Be.createElement(WHe,{align:e,onPointerLeave:()=>u(!1)},Be.createElement(QHe,t),l&&!o&&Be.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Be.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),Be.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):Be.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Be.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),Be.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const ZHe=["toggled"],eVe=Kt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function g7(n){let{toggled:e}=n,t=fr(n,ZHe);return Be.createElement(eVe,Hi({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),Be.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const tVe=["input"];function Xu(n){let{input:e}=n,t=fr(n,tVe);return e?Be.createElement(g0e,t):Be.createElement(m0e,t)}function y0e({value:n,type:e,settings:t,setValue:r}){const[i,s]=J.useState(Tee(e,n,t)),o=J.useRef(n),a=J.useRef(t);a.current=t;const l=J.useCallback(u=>s(Tee(e,u,a.current)),[e]),c=J.useCallback(u=>{try{r(u)}catch(f){const{type:d,previousValue:p}=f;if(d!=="LEVA_ERROR")throw f;l(p)}},[l,r]);return J.useEffect(()=>{jC(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:c}}function _3(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=ga();return HFe(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function nVe(n){const e=J.useRef(null),t=J.useRef(null),r=J.useRef(!1);return J.useEffect(()=>{const i=n0e(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),J.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function x0e(){const n=J.useRef(null),e=J.useRef({x:0,y:0}),t=J.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const rVe=["__refCount"],uU=(n,e)=>{if(!n[e])return null;const t=n[e];return fr(t,rVe)};function iVe(n){const e=x3(),[t,r]=J.useState(uU(e.getData(),n)),i=J.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=J.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=J.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=J.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=J.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return J.useEffect(()=>{r(uU(e.getData(),n));const c=e.useStore.subscribe(u=>uU(u.data,n),r,{equalityFn:LO});return()=>c()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const sVe=Kt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),_0e=Kt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),p9=Kt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),b0e=Kt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),w0e=Kt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function oVe({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=J.useRef(null),a=J.useRef(null),l=J.useRef(0),c=Pp("sizes","scrubberWidth"),u=_3(({event:d,first:p,xy:[m],movement:[g],memo:y})=>{if(p){const{width:_,left:b}=o.current.getBoundingClientRect();l.current=_-parseFloat(c),y=(d==null?void 0:d.target)===a.current?n:SI((m-b)/_,e,t)}const x=y+SI(g/l.current,0,t-e);return r(o0e(x,{step:i,initialValue:s})),y}),f=wI(n,e,t);return Be.createElement(b0e,Hi({ref:o},u()),Be.createElement(_0e,null,Be.createElement(w0e,{style:{left:0,right:`${(1-f)*100}%`}})),Be.createElement(p9,{ref:a,style:{left:`calc(${f} * (100% - ${c}))`}}))}const aVe=Be.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=J.useState(!1),o=_3(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*t*r0e(c)),u=0),u));return Be.createElement(UHe,Hi({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function S0e({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&Be.createElement(aVe,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return Be.createElement(VHe,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function lVe(){const n=ga(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return Be.createElement(Xu,{input:!0},Be.createElement(td,null,e),Be.createElement(sVe,{hasRange:l},l&&Be.createElement(oVe,Hi({value:parseFloat(t),onDrag:r},i)),Be.createElement(S0e,Hi({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:cVe}=a0e,uVe=fr(a0e,["sanitizeStep"]);var fVe=on({component:lVe},uVe);const dVe=(n,e)=>hl().schema({options:hl().passesAnyOf(hl().object(),hl().array())}).test(e),hVe=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},pVe=(n,{values:e})=>e.indexOf(n),mVe=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var gVe=Object.freeze({__proto__:null,schema:dVe,sanitize:hVe,format:pVe,normalize:mVe});const vVe=Kt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),m9=Kt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),yVe=Kt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${m9}:focus + &`]:{$focusStyle:""},[`${m9}:hover + &`]:{$hoverStyle:""}});function xVe({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=J.useRef();return e===a[n]&&(l.current=o[n]),Be.createElement(vVe,null,Be.createElement(m9,{id:r,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>Be.createElement("option",{key:c,value:u},c))),Be.createElement(yVe,null,l.current),Be.createElement(g7,{toggled:!0}))}function _Ve(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=ga();return Be.createElement(Xu,{input:!0},Be.createElement(td,null,n),Be.createElement(xVe,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var bVe=on({component:_Ve},gVe);const wVe=n=>hl().string().test(n),SVe=n=>{if(typeof n!="string")throw Error("Invalid string");return n},AVe=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var MVe=Object.freeze({__proto__:null,schema:wVe,sanitize:SVe,normalize:AVe});const EVe=["displayValue","onUpdate","onChange","editable"],CVe=Kt("div",{whiteSpace:"pre-wrap"});function TVe(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=fr(n,EVe);return i?Be.createElement(p7,Hi({value:e,onUpdate:t,onChange:r},s)):Be.createElement(CVe,null,e)}function RVe(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=ga();return Be.createElement(Xu,{input:!0},Be.createElement(td,null,n),Be.createElement(TVe,Hi({displayValue:t,onUpdate:r,onChange:i},e)))}var PVe=on({component:RVe},MVe);const BVe=n=>hl().boolean().test(n),DVe=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var kVe=Object.freeze({__proto__:null,schema:BVe,sanitize:DVe});const IVe=Kt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function LVe({value:n,onUpdate:e,id:t,disabled:r}){return Be.createElement(IVe,null,Be.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),Be.createElement("label",{htmlFor:t},Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Be.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function OVe(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=ga();return Be.createElement(Xu,{input:!0},Be.createElement(td,null,n),Be.createElement(LVe,{value:e,onUpdate:t,id:i,disabled:r}))}var FVe=on({component:OVe},kVe);const NVe=["locked"];function UVe({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=J.useRef(n[t]);o.current=n[t];const a=J.useCallback(c=>i({[t]:t0e({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,t]),l=y0e({type:"NUMBER",value:n[t],settings:r,setValue:a});return Be.createElement(S0e,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const zVe=Kt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function GVe(n){let{locked:e}=n,t=fr(n,NVe);return Be.createElement("svg",Hi({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?Be.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):Be.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function v7({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=ga(),{lock:o,locked:a}=t;return Be.createElement(zVe,{withLock:o},o&&Be.createElement(GVe,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>Be.createElement(UVe,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const A0e=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=s0e(on({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},HVe=["lock"],VVe=["value"];function jVe(n){const e=hl().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function WVe(n){return Array.isArray(n)?"array":"object"}function wE(n,e,t){return WVe(n)===e?n:e==="array"?Object.values(n):wHe(n,t)}const $Ve=(n,e,t)=>{const r=wE(n,"object",e.keys);for(let o in r)r[o]=i0e(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=wE(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],u=c!==0?l/c:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*u}else s=on(on({},o),r)}return wE(s,e.format,e.keys)},XVe=(n,e)=>wE(n,"object",e.keys),JVe=n=>!!n&&("step"in n||"min"in n||"max"in n);function YVe(n,e,t=[]){const{lock:r=!1}=e,i=fr(e,HVe),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=wE(n,"object",o),l=JVe(i)?o.reduce((u,f)=>Object.assign(u,{[f]:i}),{}):i,c=A0e(a,l);return{value:s==="array"?n:a,settings:on(on({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function M0e(n){return{schema:jVe(n.length),normalize:e=>{let{value:t}=e,r=fr(e,VVe);return YVe(t,r,n)},format:(e,t)=>XVe(e,t),sanitize:(e,t,r)=>$Ve(e,t,r)}}var KVe={grad:.9,turn:360,rad:360/(2*Math.PI)},jh=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},ho=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Tu=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},E0e=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Nee=function(n){return{r:Tu(n.r,0,255),g:Tu(n.g,0,255),b:Tu(n.b,0,255),a:Tu(n.a)}},fU=function(n){return{r:ho(n.r),g:ho(n.g),b:ho(n.b),a:ho(n.a,3)}},qVe=/^#([0-9a-f]{3,8})$/i,VP=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},C0e=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},T0e=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},Uee=function(n){return{h:E0e(n.h),s:Tu(n.s,0,100),l:Tu(n.l,0,100),a:Tu(n.a)}},zee=function(n){return{h:ho(n.h),s:ho(n.s),l:ho(n.l),a:ho(n.a,3)}},Gee=function(n){return T0e((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},SE=function(n){return{h:(e=C0e(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},QVe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ZVe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,eje=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tje=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g9={string:[[function(n){var e=qVe.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?ho(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?ho(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=eje.exec(n)||tje.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:Nee({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=QVe.exec(n)||ZVe.exec(n);if(!e)return null;var t,r,i=Uee({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(KVe[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Gee(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return jh(e)&&jh(t)&&jh(r)?Nee({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!jh(e)||!jh(t)||!jh(r))return null;var o=Uee({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return Gee(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!jh(e)||!jh(t)||!jh(r))return null;var o=function(a){return{h:E0e(a.h),s:Tu(a.s,0,100),v:Tu(a.v,0,100),a:Tu(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return T0e(o)},"hsv"]]},Hee=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},R0e=function(n){return typeof n=="string"?Hee(n.trim(),g9.string):typeof n=="object"&&n!==null?Hee(n,g9.object):[null,void 0]},nje=function(n){return R0e(n)[1]},dU=function(n,e){var t=SE(n);return{h:t.h,s:Tu(t.s+100*e,0,100),l:t.l,a:t.a}},hU=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},Vee=function(n,e){var t=SE(n);return{h:t.h,s:t.s,l:Tu(t.l+100*e,0,100),a:t.a}},v9=function(){function n(e){this.parsed=R0e(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return ho(hU(this.rgba),2)},n.prototype.isDark=function(){return hU(this.rgba)<.5},n.prototype.isLight=function(){return hU(this.rgba)>=.5},n.prototype.toHex=function(){return e=fU(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?VP(ho(255*s)):"","#"+VP(t)+VP(r)+VP(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return fU(this.rgba)},n.prototype.toRgbString=function(){return e=fU(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return zee(SE(this.rgba))},n.prototype.toHslString=function(){return e=zee(SE(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=C0e(this.rgba),{h:ho(e.h),s:ho(e.s),v:ho(e.v),a:ho(e.a,3)};var e},n.prototype.invert=function(){return Ia({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Ia(dU(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ia(dU(this.rgba,-e))},n.prototype.grayscale=function(){return Ia(dU(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Ia(Vee(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Ia(Vee(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Ia({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):ho(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=SE(this.rgba);return typeof e=="number"?Ia({h:e,s:t.s,l:t.l,a:t.a}):ho(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Ia(e).toHex()},n}(),Ia=function(n){return n instanceof v9?n:new v9(n)},jee=[],rje=function(n){n.forEach(function(e){jee.indexOf(e)<0&&(e(v9,g9),jee.push(e))})};function ije(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,d="black";if(!s.length)for(var p in t)s[p]=new n(t[p]).toRgb();for(var m in t){var g=(a=u,l=s[m],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));g<f&&(f=g,d=m)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function iA(){return(iA=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function y7(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function y9(n){var e=J.useRef(n),t=J.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var hS=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},AE=function(n){return"touches"in n},x9=function(n){return n&&n.ownerDocument.defaultView||self},Wee=function(n,e,t){var r=n.getBoundingClientRect(),i=AE(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:hS((i.pageX-(r.left+x9(n).pageXOffset))/r.width),top:hS((i.pageY-(r.top+x9(n).pageYOffset))/r.height)}},$ee=function(n){!AE(n)&&n.preventDefault()},x7=Be.memo(function(n){var e=n.onMove,t=n.onKey,r=y7(n,["onMove","onKey"]),i=J.useRef(null),s=y9(e),o=y9(t),a=J.useRef(null),l=J.useRef(!1),c=J.useMemo(function(){var p=function(y){$ee(y),(AE(y)?y.touches.length>0:y.buttons>0)&&i.current?s(Wee(i.current,y,a.current)):g(!1)},m=function(){return g(!1)};function g(y){var x=l.current,_=x9(i.current),b=y?_.addEventListener:_.removeEventListener;b(x?"touchmove":"mousemove",p),b(x?"touchend":"mouseup",m)}return[function(y){var x=y.nativeEvent,_=i.current;if(_&&($ee(x),!function(w,M){return M&&!AE(w)}(x,l.current)&&_)){if(AE(x)){l.current=!0;var b=x.changedTouches||[];b.length&&(a.current=b[0].identifier)}_.focus(),s(Wee(_,x,a.current)),g(!0)}},function(y){var x=y.which||y.keyCode;x<37||x>40||(y.preventDefault(),o({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},g]},[o,s]),u=c[0],f=c[1],d=c[2];return J.useEffect(function(){return d},[d]),Be.createElement("div",iA({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),b3=function(n){return n.filter(Boolean).join(" ")},_7=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=b3(["react-colorful__pointer",n.className]);return Be.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},Be.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Ua=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},P0e=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:Ua(n.h),s:Ua(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:Ua(i/2),a:Ua(r,2)}},_9=function(n){var e=P0e(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},pU=function(n){var e=P0e(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},B0e=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:Ua(255*[r,a,o,o,l,r][c]),g:Ua(255*[l,r,r,a,o,o][c]),b:Ua(255*[o,o,l,r,r,a][c]),a:Ua(i,2)}},D0e=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:Ua(60*(a<0?a+6:a)),s:Ua(s?o/s*100:0),v:Ua(s/255*100),a:i}},k0e=Be.memo(function(n){var e=n.hue,t=n.onChange,r=b3(["react-colorful__hue",n.className]);return Be.createElement("div",{className:r},Be.createElement(x7,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:hS(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ua(e),"aria-valuemax":"360","aria-valuemin":"0"},Be.createElement(_7,{className:"react-colorful__hue-pointer",left:e/360,color:_9({h:e,s:100,v:100,a:1})})))}),I0e=Be.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:_9({h:e.h,s:100,v:100,a:1})};return Be.createElement("div",{className:"react-colorful__saturation",style:r},Be.createElement(x7,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:hS(e.s+100*i.left,0,100),v:hS(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ua(e.s)+"%, Brightness "+Ua(e.v)+"%"},Be.createElement(_7,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:_9(e)})))}),b7=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function L0e(n,e,t){var r=y9(t),i=J.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=J.useRef({color:e,hsva:s});J.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),J.useEffect(function(){var c;b7(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,n,r]);var l=J.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var sje=typeof window<"u"?J.useLayoutEffect:J.useEffect,oje=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Xee=new Map,O0e=function(n){sje(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!Xee.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Xee.set(e,t);var r=oje();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},aje=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=y7(n,["className","colorModel","color","onChange"]),a=J.useRef(null);O0e(a);var l=L0e(t,i,s),c=l[0],u=l[1],f=b3(["react-colorful",e]);return Be.createElement("div",iA({},o,{ref:a,className:f}),Be.createElement(I0e,{hsva:c,onChange:u}),Be.createElement(k0e,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},lje=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+pU(Object.assign({},t,{a:0}))+", "+pU(Object.assign({},t,{a:1}))+")"},s=b3(["react-colorful__alpha",e]),o=Ua(100*t.a);return Be.createElement("div",{className:s},Be.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),Be.createElement(x7,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:hS(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},Be.createElement(_7,{className:"react-colorful__alpha-pointer",left:t.a,color:pU(t)})))},cje=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=y7(n,["className","colorModel","color","onChange"]),a=J.useRef(null);O0e(a);var l=L0e(t,i,s),c=l[0],u=l[1],f=b3(["react-colorful",e]);return Be.createElement("div",iA({},o,{ref:a,className:f}),Be.createElement(I0e,{hsva:c,onChange:u}),Be.createElement(k0e,{hue:c.h,onChange:u}),Be.createElement(lje,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},uje={defaultColor:{r:0,g:0,b:0,a:1},toHsva:D0e,fromHsva:B0e,equal:b7},fje=function(n){return Be.createElement(cje,iA({},n,{colorModel:uje}))},dje={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return D0e({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=B0e(n)).r,g:e.g,b:e.b};var e},equal:b7},hje=function(n){return Be.createElement(aje,iA({},n,{colorModel:dje}))};function pje(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function sA(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,[])).next())})}function oA(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function mje(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function gje(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(mje(arguments[e]));return n}var vje=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function w3(n,e){var t=yje(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function yje(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=vje.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var xje=[".DS_Store","Thumbs.db"];function _je(n){return sA(this,void 0,void 0,function(){return oA(this,function(e){return MI(n)&&bje(n)?[2,Mje(n.dataTransfer,n.type)]:wje(n)?[2,Sje(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Aje(n)]:[2,[]]})})}function bje(n){return MI(n.dataTransfer)}function wje(n){return MI(n)&&MI(n.target)}function MI(n){return typeof n=="object"&&n!==null}function Sje(n){return b9(n.target.files).map(function(e){return w3(e)})}function Aje(n){return sA(this,void 0,void 0,function(){var e;return oA(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return w3(r)})]}})})}function Mje(n,e){return sA(this,void 0,void 0,function(){var t,r;return oA(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=b9(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(Eje))]):[3,2];case 1:return r=i.sent(),[2,Jee(F0e(r))];case 2:return[2,Jee(b9(n.files).map(function(s){return w3(s)}))]}})})}function Jee(n){return n.filter(function(e){return xje.indexOf(e.name)===-1})}function b9(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function Eje(n){if(typeof n.webkitGetAsEntry!="function")return Yee(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?N0e(e):Yee(n)}function F0e(n){return n.reduce(function(e,t){return gje(e,Array.isArray(t)?F0e(t):[t])},[])}function Yee(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=w3(e);return Promise.resolve(t)}function Cje(n){return sA(this,void 0,void 0,function(){return oA(this,function(e){return[2,n.isDirectory?N0e(n):Tje(n)]})})}function N0e(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return sA(o,void 0,void 0,function(){var l,c,u;return oA(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),t(l),[3,4];case 3:return c=f.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(Cje)),i.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function Tje(n){return sA(this,void 0,void 0,function(){return oA(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=w3(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var Rje=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function Kee(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qee(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kee(Object(t),!0).forEach(function(r){U0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kee(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function U0e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qee(n,e){return kje(n)||Dje(n,e)||Bje(n,e)||Pje()}function Pje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bje(n,e){if(n){if(typeof n=="string")return Zee(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zee(n,e)}}function Zee(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Dje(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function kje(n){if(Array.isArray(n))return n}var Ije="file-invalid-type",Lje="file-too-large",Oje="file-too-small",Fje="too-many-files",Nje=function(n){n=Array.isArray(n)&&n.length===1?n[0]:n;var e=Array.isArray(n)?"one of ".concat(n.join(", ")):n;return{code:Ije,message:"File type must be ".concat(e)}},ete=function(n){return{code:Lje,message:"File is larger than ".concat(n," ").concat(n===1?"byte":"bytes")}},tte=function(n){return{code:Oje,message:"File is smaller than ".concat(n," ").concat(n===1?"byte":"bytes")}},Uje={code:Fje,message:"Too many files"};function z0e(n,e){var t=n.type==="application/x-moz-file"||Rje(n,e);return[t,t?null:Nje(e)]}function G0e(n,e,t){if(qM(n.size))if(qM(e)&&qM(t)){if(n.size>t)return[!1,ete(t)];if(n.size<e)return[!1,tte(e)]}else{if(qM(e)&&n.size<e)return[!1,tte(e)];if(qM(t)&&n.size>t)return[!1,ete(t)]}return[!0,null]}function qM(n){return n!=null}function zje(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=z0e(a,t),c=Qee(l,1),u=c[0],f=G0e(a,r,i),d=Qee(f,1),p=d[0];return u&&p})}function EI(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function jP(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function nte(n){n.preventDefault()}function Gje(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Hje(n){return n.indexOf("Edge/")!==-1}function Vje(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Gje(n)||Hje(n)}function Md(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!EI(r)&&a&&a.apply(void 0,[r].concat(s)),EI(r)})}}function jje(){return"showOpenFilePicker"in window}function Wje(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return qee(qee({},e),{},U0e({},t,[]))},{}):{}}]}function $je(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Xje(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var Jje=["children"],Yje=["open"],Kje=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],qje=["refKey","onChange","onClick"];function Qje(n){return tWe(n)||eWe(n)||H0e(n)||Zje()}function Zje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eWe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function tWe(n){if(Array.isArray(n))return w9(n)}function mU(n,e){return iWe(n)||rWe(n,e)||H0e(n,e)||nWe()}function nWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0e(n,e){if(n){if(typeof n=="string")return w9(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w9(n,e)}}function w9(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function rWe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function iWe(n){if(Array.isArray(n))return n}function rte(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rte(Object(t),!0).forEach(function(r){S9(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rte(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function S9(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CI(n,e){if(n==null)return{};var t=sWe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function sWe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var w7=J.forwardRef(function(n,e){var t=n.children,r=CI(n,Jje),i=j0e(r),s=i.open,o=CI(i,Yje);return J.useImperativeHandle(e,function(){return{open:s}},[s]),Be.createElement(J.Fragment,null,t(fi(fi({},o),{},{open:s})))});w7.displayName="Dropzone";var V0e={disabled:!1,getFilesFromEvent:_je,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};w7.defaultProps=V0e;w7.propTypes={children:Mr.func,accept:Mr.oneOfType([Mr.string,Mr.arrayOf(Mr.string)]),multiple:Mr.bool,preventDropOnDocument:Mr.bool,noClick:Mr.bool,noKeyboard:Mr.bool,noDrag:Mr.bool,noDragEventsBubbling:Mr.bool,minSize:Mr.number,maxSize:Mr.number,maxFiles:Mr.number,disabled:Mr.bool,getFilesFromEvent:Mr.func,onFileDialogCancel:Mr.func,onFileDialogOpen:Mr.func,useFsAccessApi:Mr.bool,onDragEnter:Mr.func,onDragLeave:Mr.func,onDragOver:Mr.func,onDrop:Mr.func,onDropAccepted:Mr.func,onDropRejected:Mr.func,validator:Mr.func};var A9={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function j0e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=fi(fi({},V0e),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,d=e.onDrop,p=e.onDropAccepted,m=e.onDropRejected,g=e.onFileDialogCancel,y=e.onFileDialogOpen,x=e.useFsAccessApi,_=e.preventDropOnDocument,b=e.noClick,w=e.noKeyboard,M=e.noDrag,C=e.noDragEventsBubbling,R=e.validator,E=J.useMemo(function(){return typeof y=="function"?y:ite},[y]),B=J.useMemo(function(){return typeof g=="function"?g:ite},[g]),D=J.useRef(null),N=J.useRef(null),z=J.useReducer(oWe,A9),H=mU(z,2),U=H[0],W=H[1],X=U.isFocused,q=U.isFileDialogActive,L=U.draggedFiles,I=J.useRef(typeof window<"u"&&window.isSecureContext&&x&&jje()),O=function(){!I.current&&q&&setTimeout(function(){if(N.current){var k=N.current.files;k.length||(W({type:"closeDialog"}),B())}},300)};J.useEffect(function(){return window.addEventListener("focus",O,!1),function(){window.removeEventListener("focus",O,!1)}},[N,q,B,I]);var F=J.useRef([]),j=function(k){D.current&&D.current.contains(k.target)||(k.preventDefault(),F.current=[])};J.useEffect(function(){return _&&(document.addEventListener("dragover",nte,!1),document.addEventListener("drop",j,!1)),function(){_&&(document.removeEventListener("dragover",nte),document.removeEventListener("drop",j))}},[D,_]);var te=J.useCallback(function(k){k.preventDefault(),k.persist(),Ce(k),F.current=[].concat(Qje(F.current),[k.target]),jP(k)&&Promise.resolve(i(k)).then(function(Q){EI(k)&&!C||(W({draggedFiles:Q,isDragActive:!0,type:"setDraggedFiles"}),c&&c(k))})},[i,c,C]),re=J.useCallback(function(k){k.preventDefault(),k.persist(),Ce(k);var Q=jP(k);if(Q&&k.dataTransfer)try{k.dataTransfer.dropEffect="copy"}catch{}return Q&&f&&f(k),!1},[f,C]),se=J.useCallback(function(k){k.preventDefault(),k.persist(),Ce(k);var Q=F.current.filter(function(Me){return D.current&&D.current.contains(Me)}),ce=Q.indexOf(k.target);ce!==-1&&Q.splice(ce,1),F.current=Q,!(Q.length>0)&&(W({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),jP(k)&&u&&u(k))},[D,u,C]),K=J.useCallback(function(k,Q){var ce=[],Me=[];k.forEach(function(Re){var Ue=z0e(Re,t),Pe=mU(Ue,2),xe=Pe[0],Xe=Pe[1],Ge=G0e(Re,o,s),je=mU(Ge,2),He=je[0],Oe=je[1],qe=R?R(Re):null;if(xe&&He&&!qe)ce.push(Re);else{var tt=[Xe,Oe];qe&&(tt=tt.concat(qe)),Me.push({file:Re,errors:tt.filter(function(pt){return pt})})}}),(!a&&ce.length>1||a&&l>=1&&ce.length>l)&&(ce.forEach(function(Re){Me.push({file:Re,errors:[Uje]})}),ce.splice(0)),W({acceptedFiles:ce,fileRejections:Me,type:"setFiles"}),d&&d(ce,Me,Q),Me.length>0&&m&&m(Me,Q),ce.length>0&&p&&p(ce,Q)},[W,a,t,o,s,l,d,p,m,R]),le=J.useCallback(function(k){k.preventDefault(),k.persist(),Ce(k),F.current=[],jP(k)&&Promise.resolve(i(k)).then(function(Q){EI(k)&&!C||K(Q,k)}),W({type:"reset"})},[i,K,C]),he=J.useCallback(function(){if(I.current){W({type:"openDialog"}),E();var k={multiple:a,types:Wje(t)};window.showOpenFilePicker(k).then(function(Q){return i(Q)}).then(function(Q){K(Q,null),W({type:"closeDialog"})}).catch(function(Q){$je(Q)?(B(Q),W({type:"closeDialog"})):Xje(Q)&&(I.current=!1,N.current&&(N.current.value=null,N.current.click()))});return}N.current&&(W({type:"openDialog"}),E(),N.current.value=null,N.current.click())},[W,E,B,x,K,t,a]),we=J.useCallback(function(k){!D.current||!D.current.isEqualNode(k.target)||(k.key===" "||k.key==="Enter"||k.keyCode===32||k.keyCode===13)&&(k.preventDefault(),he())},[D,he]),ve=J.useCallback(function(){W({type:"focus"})},[]),fe=J.useCallback(function(){W({type:"blur"})},[]),ne=J.useCallback(function(){b||(Vje()?setTimeout(he,0):he())},[b,he]),oe=function(k){return r?null:k},Te=function(k){return w?null:oe(k)},be=function(k){return M?null:oe(k)},Ce=function(k){C&&k.stopPropagation()},We=J.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=k.refKey,ce=Q===void 0?"ref":Q,Me=k.role,Re=k.onKeyDown,Ue=k.onFocus,Pe=k.onBlur,xe=k.onClick,Xe=k.onDragEnter,Ge=k.onDragOver,je=k.onDragLeave,He=k.onDrop,Oe=CI(k,Kje);return fi(fi(S9({onKeyDown:Te(Md(Re,we)),onFocus:Te(Md(Ue,ve)),onBlur:Te(Md(Pe,fe)),onClick:oe(Md(xe,ne)),onDragEnter:be(Md(Xe,te)),onDragOver:be(Md(Ge,re)),onDragLeave:be(Md(je,se)),onDrop:be(Md(He,le)),role:typeof Me=="string"&&Me!==""?Me:"button"},ce,D),!r&&!w?{tabIndex:0}:{}),Oe)}},[D,we,ve,fe,ne,te,re,se,le,w,M,r]),Se=J.useCallback(function(k){k.stopPropagation()},[]),ke=J.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=k.refKey,ce=Q===void 0?"ref":Q,Me=k.onChange,Re=k.onClick,Ue=CI(k,qje),Pe=S9({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:oe(Md(Me,le)),onClick:oe(Md(Re,Se)),tabIndex:-1},ce,N);return fi(fi({},Pe),Ue)}},[N,t,a,le,r]),Ve=L.length,Ee=Ve>0&&zje({files:L,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),V=Ve>0&&!Ee;return fi(fi({},U),{},{isDragAccept:Ee,isDragReject:V,isFocused:X&&!r,getRootProps:We,getInputProps:ke,rootRef:D,inputRef:N,open:oe(he)})}function oWe(n,e){switch(e.type){case"focus":return fi(fi({},n),{},{isFocused:!0});case"blur":return fi(fi({},n),{},{isFocused:!1});case"openDialog":return fi(fi({},A9),{},{isFileDialogActive:!0});case"closeDialog":return fi(fi({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return fi(fi({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return fi(fi({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return fi({},A9);default:return n}}function ite(){}/*!
* isobject <https://github.com/jonschlinkert/isobject>
*
* Copyright (c) 2014-2017, Jon Schlinkert.
* Released under the MIT License.
*/var aWe=function(n){return n!=null&&typeof n=="object"&&Array.isArray(n)===!1};/*!
* is-plain-object <https://github.com/jonschlinkert/is-plain-object>
*
* Copyright (c) 2014-2017, Jon Schlinkert.
* Released under the MIT License.
*/var lWe=aWe;function ste(n){return lWe(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var W0e=function(n){var e,t;return!(ste(n)===!1||(e=n.constructor,typeof e!="function")||(t=e.prototype,ste(t)===!1)||t.hasOwnProperty("isPrototypeOf")===!1)};/*!
* is-extendable <https://github.com/jonschlinkert/is-extendable>
*
* Copyright (c) 2015-2017, Jon Schlinkert.
* Released under the MIT License.
*/var cWe=W0e,S7=function(n){return cWe(n)||typeof n=="function"||Array.isArray(n)};/*!
* for-in <https://github.com/jonschlinkert/for-in>
*
* Copyright (c) 2014-2017, Jon Schlinkert.
* Released under the MIT License.
*/var uWe=function(n,e,t){for(var r in n)if(e.call(t,n[r],r,n)===!1)break},fWe=S7,dWe=uWe;function $0e(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];M9(i)&&dWe(i,hWe,n)}return n}function hWe(n,e){if(pWe(e)){var t=this[e];M9(n)&&M9(t)?$0e(t,n):this[e]=n}}function M9(n){return fWe(n)&&!Array.isArray(n)}function pWe(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var mWe=$0e;/*!
* get-value <https://github.com/jonschlinkert/get-value>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var gWe=function(n,e,t,r,i){if(!vWe(n)||!e)return n;if(e=WP(e),t&&(e+="."+WP(t)),r&&(e+="."+WP(r)),i&&(e+="."+WP(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function vWe(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function WP(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
* assign-symbols <https://github.com/jonschlinkert/assign-symbols>
*
* Copyright (c) 2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var yWe=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(r[c]=o[c])}return r},xWe=S7,_We=yWe,bWe=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");ote(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];SWe(t)&&(t=AWe(t)),ote(t)&&(wWe(n,t),_We(n,t))}return n};function wWe(n,e){for(var t in e)MWe(e,t)&&(n[t]=e[t])}function SWe(n){return n&&typeof n=="string"}function AWe(n){var e={};for(var t in n)e[t]=n[t];return e}function ote(n){return n&&typeof n=="object"||xWe(n)}function MWe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
* split-string <https://github.com/jonschlinkert/split-string>
*
* Copyright (c) 2015-2017, Jon Schlinkert.
* Released under the MIT License.
*/var EWe=bWe,CWe=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=EWe({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,u=n.length,f=-1,d;function p(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var m=n[f],g=n[f+1],y={val:m,idx:f,arr:l,str:n};if(o.push(y),m==="\\"){y.val=RWe(r,n,f)===!0?m+g:g,y.escaped=!0,typeof t=="function"&&t(y),l[l.length-1]+=y.val,f++;continue}if(s&&s[m]){a.push(m);var x=p(),_=f+1;if(n.indexOf(x,_+1)!==-1)for(;a.length&&_<u;){var b=n[++_];if(b==="\\"){b++;continue}if(i.indexOf(b)!==-1){_=E9(n,b,_+1);continue}if(x=p(),a.length&&n.indexOf(x,_+1)===-1)break;if(s[b]){a.push(b);continue}x===b&&a.pop()}if(d=_,d===-1){l[l.length-1]+=m;continue}m=n.slice(f,d+1),y.val=m,y.idx=f=d}if(i.indexOf(m)!==-1){if(d=E9(n,m,f+1),d===-1){l[l.length-1]+=m;continue}TWe(m,r)===!0?m=n.slice(f,d+1):m=n.slice(f+1,d),y.val=m,y.idx=f=d}if(typeof t=="function"&&(t(y,o),m=y.val,f=y.idx),y.val===c&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function E9(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?E9(n,e,i+1):i}function TWe(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function RWe(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
* is-extendable <https://github.com/jonschlinkert/is-extendable>
*
* Copyright (c) 2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var PWe=function(n){return typeof n<"u"&&n!==null&&(typeof n=="object"||typeof n=="function")},ate=PWe,BWe=function(n){ate(n)||(n={});for(var e=arguments.length,t=1;t<e;t++){var r=arguments[t];ate(r)&&DWe(n,r)}return n};function DWe(n,e){for(var t in e)kWe(e,t)&&(n[t]=e[t])}function kWe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
* is-extendable <https://github.com/jonschlinkert/is-extendable>
*
* Copyright (c) 2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var IWe=function(n){return typeof n<"u"&&n!==null&&(typeof n=="object"||typeof n=="function")};/*!
* set-value <https://github.com/jonschlinkert/set-value>
*
* Copyright (c) 2014-2015, 2017, Jon Schlinkert.
* Released under the MIT License.
*/var LWe=CWe,OWe=BWe,lte=W0e,cte=IWe,FWe=function(n,e,t){if(!cte(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=LWe(e,{sep:".",brackets:!0}).filter(NWe),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){cte(o[a])||(o[a]={}),o=o[a];continue}lte(o[a])&&lte(t)?o[a]=OWe({},o[a],t):o[a]=t}return n};function NWe(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var gU=S7,ute=mWe,UWe=gWe,fte=FWe,zWe=function(n,e,t){if(!gU(n))throw new TypeError("expected an object");if(typeof e!="string"||t==null)return ute.apply(null,arguments);if(typeof t=="string")return fte(n,e,t),n;var r=UWe(n,e);return gU(t)&&gU(r)&&(t=ute({},r,t)),fte(n,e,t),n};const GWe=jS(zWe),A7=(...n)=>n.filter(Boolean).join(".");function HWe(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function VWe(n,e){return Object.entries(_He(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function jWe(n,e){const t=J.useRef();return jC(n,t.current)||(t.current=n),t.current}function X0e(n,e){return J.useMemo(n,jWe(e))}function WWe(n){const e=J.useRef(null),t=J.useRef(null),r=J.useRef(!0);return J.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),J.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const $We=n=>{const[e,t]=J.useState(n.getVisiblePaths());return J.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:LO});return()=>r()},[n]),e};function XWe(n,e,t){return n.useStore(r=>{const i=on(on({},t),r.data);return VWe(i,e)},LO)}function J0e(n=3){const e=J.useRef(null),t=J.useRef(null),[r,i]=J.useState(!1),s=J.useCallback(()=>i(!0),[]),o=J.useCallback(()=>i(!1),[]);return J.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=t.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",f==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}rje([ije]);const JWe={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};hl.extend({color:()=>n=>Ia(n).isValid()});const YWe=n=>hl().color().test(n);function Y0e(n,{format:e,hasAlpha:t,isString:r}){const i=JWe[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?bHe(s,["a"]):s}const K0e=(n,e)=>{const t=Ia(n);if(!t.isValid())throw Error("Invalid color");return Y0e(t,e)},KWe=(n,e)=>Y0e(Ia(n),on(on({},e),{},{isString:!0,format:"hex"})),qWe=({value:n})=>{const e=nje(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:K0e(n,i),settings:i}};var QWe=Object.freeze({__proto__:null,schema:YWe,sanitize:K0e,format:KWe,normalize:qWe});const ZWe=Kt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),e7e=Kt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),t7e=Kt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function dte(n,e){return e!=="rgb"?Ia(n).toRgb():n}function n7e({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=ga(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:u,show:f,hide:d}=J0e(),p=J.useRef(0),[m,g]=J.useState(()=>dte(n,o)),y=a?fje:hje,x=()=>{g(dte(n,o)),f(),i()},_=()=>{d(),s(),window.clearTimeout(p.current)},b=()=>{p.current=window.setTimeout(_,500)};return J.useEffect(()=>()=>window.clearTimeout(p.current),[]),Be.createElement(Be.Fragment,null,Be.createElement(ZWe,{ref:l,active:u,onClick:()=>x(),style:{color:e}}),u&&Be.createElement(m7,null,Be.createElement(v0e,{onPointerUp:_}),Be.createElement(t7e,{ref:c,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:w=>w.buttons===0&&b()},Be.createElement(y,{color:m,onChange:r}))))}function r7e(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=ga();return Be.createElement(Xu,{input:!0},Be.createElement(td,null,t),Be.createElement(e7e,null,Be.createElement(n7e,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),Be.createElement(p7,{value:e,onChange:r,onUpdate:i})))}var i7e=on({component:r7e},QWe);function s7e(){const{label:n,displayValue:e,onUpdate:t,settings:r}=ga();return Be.createElement(Xu,{input:!0},Be.createElement(td,null,n),Be.createElement(v7,{value:e,settings:r,onUpdate:t}))}var o7e=on({component:s7e},M0e(["x","y","z"]));const a7e=Kt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),l7e=Kt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function c7e({value:n,settings:e,onUpdate:t}){const r=J.useRef(),i=J.useRef(0),s=J.useRef(0),o=J.useRef(1),[a,l]=J.useState(!1),[c,u]=J.useState(!1),[f,d]=x0e(),p=J.useRef(null),m=J.useRef(null);J.useLayoutEffect(()=>{if(a){const{top:z,left:H,width:U,height:W}=p.current.getBoundingClientRect();m.current.style.left=H+U/2+"px",m.current.style.top=z+W/2+"px"}},[a]);const{keys:[g,y],joystick:x}=e,_=x==="invertY"?1:-1,{[g]:{step:b},[y]:{step:w}}=e,M=Pp("sizes","joystickWidth"),C=Pp("sizes","joystickHeight"),R=parseFloat(M)*.8/2,E=parseFloat(C)*.8/2,B=J.useCallback(()=>{r.current||(u(!0),i.current&&d({x:i.current*R}),s.current&&d({y:s.current*-E}),r.current=window.setInterval(()=>{t(z=>{const H=b*i.current*o.current,U=_*w*s.current*o.current;return Array.isArray(z)?{[g]:z[0]+H,[y]:z[1]+U}:{[g]:z[g]+H,[y]:z[y]+U}})},16))},[R,E,t,d,b,w,g,y,_]),D=J.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);J.useEffect(()=>{function z(H){o.current=r0e(H)}return window.addEventListener("keydown",z),window.addEventListener("keyup",z),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",z),window.removeEventListener("keyup",z)}},[]);const N=_3(({first:z,active:H,delta:[U,W],movement:[X,q]})=>{z&&l(!0);const L=M0(X,-R,R),I=M0(q,-E,E);i.current=Math.abs(X)>Math.abs(L)?Math.sign(X-L):0,s.current=Math.abs(q)>Math.abs(I)?Math.sign(I-q):0;let O=n[g],F=n[y];H?(i.current||(O+=U*b*o.current,d({x:L})),s.current||(F-=_*W*w*o.current,d({y:I})),i.current||s.current?B():D(),t({[g]:O,[y]:F})):(l(!1),i.current=0,s.current=0,d({x:0,y:0}),D())});return Be.createElement(a7e,Hi({ref:p},N()),a&&Be.createElement(m7,null,Be.createElement(l7e,{ref:m,isOutOfBounds:c},Be.createElement("div",null),Be.createElement("span",{ref:f}))))}const u7e=Kt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function f7e(){const{label:n,displayValue:e,onUpdate:t,settings:r}=ga();return Be.createElement(Xu,{input:!0},Be.createElement(td,null,n),Be.createElement(u7e,{withJoystick:!!r.joystick},r.joystick&&Be.createElement(c7e,{value:e,settings:r,onUpdate:t}),Be.createElement(v7,{value:e,settings:r,onUpdate:t})))}const d7e=["joystick"],q0e=M0e(["x","y"]),h7e=n=>{let{joystick:e=!0}=n,t=fr(n,d7e);const{value:r,settings:i}=q0e.normalize(t);return{value:r,settings:on(on({},i),{},{joystick:e})}};var p7e=on(on({component:f7e},q0e),{},{normalize:h7e});const m7e=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |File].")}},g7e=(n,e)=>typeof e=="object"&&"image"in e,v7e=({image:n})=>({value:n});var y7e=Object.freeze({__proto__:null,sanitize:m7e,schema:g7e,normalize:v7e});const x7e=Kt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),_7e=Kt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),b7e=Kt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),w7e=Kt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),S7e=Kt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),A7e=Kt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function M7e(){const{label:n,value:e,onUpdate:t,disabled:r}=ga(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=J0e(),c=J.useCallback(m=>{m.length&&t(m[0])},[t]),u=J.useCallback(m=>{m.stopPropagation(),t(void 0)},[t]),{getRootProps:f,getInputProps:d,isDragAccept:p}=j0e({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return Be.createElement(Xu,{input:!0},Be.createElement(td,null,n),Be.createElement(x7e,null,Be.createElement(b7e,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&Be.createElement(m7,null,Be.createElement(v0e,{onPointerUp:l,style:{cursor:"pointer"}}),Be.createElement(w7e,{ref:s,style:{backgroundImage:`url(${e})`}})),Be.createElement(_7e,f({isDragAccept:p}),Be.createElement("input",d()),Be.createElement(S7e,null,p?"drop image":"click or drop")),Be.createElement(A7e,{onClick:u,disabled:!e})))}var E7e=on({component:M7e},y7e);const hte=hl().number(),C7e=(n,e)=>hl().array().length(2).every.number().test(n)&&hl().schema({min:hte,max:hte}).test(e),TI=n=>({min:n[0],max:n[1]}),Q0e=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?TI(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=on(on({},s),i);return[M0(Number(o),e,Math.max(e,a)),M0(Number(a),Math.min(t,o),t)]},T7e=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=A0e(TI(n),{min:r,max:r}),s=[e,t],o=on(on({},i),{},{bounds:s});return{value:Q0e(TI(n),o,n),settings:o}};var R7e=Object.freeze({__proto__:null,schema:C7e,format:TI,sanitize:Q0e,normalize:T7e});const P7e=["value","bounds","onDrag"],B7e=["bounds"],D7e=Kt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function k7e(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=fr(n,P7e);const o=J.useRef(null),a=J.useRef(null),l=J.useRef(null),c=J.useRef(0),u=Pp("sizes","scrubberWidth"),f=_3(({event:m,first:g,xy:[y],movement:[x],memo:_={}})=>{if(g){const{width:w,left:M}=o.current.getBoundingClientRect();c.current=w-parseFloat(u);const C=(m==null?void 0:m.target)===a.current||(m==null?void 0:m.target)===l.current;_.pos=SI((y-M)/w,t,r);const R=Math.abs(_.pos-e.min)-Math.abs(_.pos-e.max);_.key=R<0||R===0&&_.pos<=e.min?"min":"max",C&&(_.pos=e[_.key])}const b=_.pos+SI(x/c.current,0,r-t);return i({[_.key]:cVe(b,s[_.key])}),_}),d=`calc(${wI(e.min,t,r)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-wI(e.max,t,r)} * (100% - ${u} - 8px) + 4px)`;return Be.createElement(b0e,Hi({ref:o},f()),Be.createElement(_0e,null,Be.createElement(w0e,{style:{left:d,right:p}})),Be.createElement(p9,{position:"left",ref:a,style:{left:d}}),Be.createElement(p9,{position:"right",ref:l,style:{right:p}}))}function I7e(){const{label:n,displayValue:e,onUpdate:t,settings:r}=ga(),i=fr(r,B7e);return Be.createElement(Be.Fragment,null,Be.createElement(Xu,{input:!0},Be.createElement(td,null,n),Be.createElement(D7e,null,Be.createElement(k7e,Hi({value:e},r,{onDrag:t})),Be.createElement(v7,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var L7e=on({component:I7e},R7e);const O7e=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},F7e=["type","value"],N7e=["onChange","transient","onEditStart","onEditEnd"],U7e=function(){const n=bhe(VFe(()=>({data:{}}))),e=O7e();this.storeId=xHe(),this.useStore=n;const t={},r=new Set;this.getVisiblePaths=()=>{const s=this.getData(),o=Object.keys(s),a=[];Object.entries(t).forEach(([c,u])=>{u.render&&o.some(f=>f.indexOf(c)===0)&&!u.render(this.get)&&a.push(c+".")});const l=[];return r.forEach(c=>{c in s&&s[c].__refCount>0&&a.every(u=>c.indexOf(u)===-1)&&(!s[c].render||s[c].render(this.get))&&l.push(c)}),l},this.setOrderedPaths=s=>{s.forEach(o=>r.add(o))},this.orderPaths=s=>(this.setOrderedPaths(s),s),this.disposePaths=s=>{n.setState(o=>{const a=o.data;return s.forEach(l=>{if(l in a){const c=a[l];c.__refCount--,c.__refCount===0&&c.type in Of&&delete a[l]}}),{data:a}})},this.dispose=()=>{n.setState(()=>({data:{}}))},this.getFolderSettings=s=>t[s]||{},this.getData=()=>n.getState().data,this.addData=(s,o)=>{n.setState(a=>{const l=a.data;return Object.entries(s).forEach(([c,u])=>{let f=l[c];if(f){const{type:d,value:p}=u,m=fr(u,F7e);d!==f.type?dp(hi.INPUT_TYPE_OVERRIDE,d):((f.__refCount===0||o)&&Object.assign(f,m),f.__refCount++)}else l[c]=on(on({},u),{},{__refCount:1})}),{data:l}})},this.setValueAtPath=(s,o,a)=>{n.setState(l=>{const c=l.data;return Fee(c[s],o,s,this,a),{data:c}})},this.setSettingsAtPath=(s,o)=>{n.setState(a=>{const l=a.data;return l[s].settings=on(on({},l[s].settings),o),{data:l}})},this.disableInputAtPath=(s,o)=>{n.setState(a=>{const l=a.data;return l[s].disabled=o,{data:l}})},this.set=(s,o)=>{n.setState(a=>{const l=a.data;return Object.entries(s).forEach(([c,u])=>{try{Fee(l[c],u,void 0,void 0,o)}catch{}}),{data:l}})},this.getInput=s=>{try{return this.getData()[s]}catch{dp(hi.PATH_DOESNT_EXIST,s)}},this.get=s=>{var o;return(o=this.getInput(s))===null||o===void 0?void 0:o.value},this.emitOnEditStart=s=>{e.emit(`onEditStart:${s}`,this.get(s),s,on(on({},this.getInput(s)),{},{get:this.get}))},this.emitOnEditEnd=s=>{e.emit(`onEditEnd:${s}`,this.get(s),s,on(on({},this.getInput(s)),{},{get:this.get}))},this.subscribeToEditStart=(s,o)=>{const a=`onEditStart:${s}`;return e.on(a,o),()=>e.off(a,o)},this.subscribeToEditEnd=(s,o)=>{const a=`onEditEnd:${s}`;return e.on(a,o),()=>e.off(a,o)};const i=(s,o,a)=>{const l={};return Object.entries(s).forEach(([c,u])=>{if(c==="")return dp(hi.EMPTY_KEY);let f=A7(o,c);if(u.type===Of.FOLDER){const d=i(u.schema,f,a);Object.assign(l,d),f in t||(t[f]=u.settings)}else if(c in a)dp(hi.DUPLICATE_KEYS,c,f,a[c].path);else{const d=CHe(u,c,f,l);if(d){const{type:p,options:m,input:g}=d,{onChange:y,transient:x,onEditStart:_,onEditEnd:b}=m,w=fr(m,N7e);l[f]=on(on(on({type:p},w),g),{},{fromPanel:!0}),a[c]={path:f,onChange:y,transient:x,onEditStart:_,onEditEnd:b}}else dp(hi.UNKNOWN_INPUT,f,u)}}),l};this.getDataFromSchema=s=>{const o={};return[i(s,"",o),o]}},Z0e=new U7e,z7e={collapsed:!1};function G7e(n,e){return{type:Of.FOLDER,schema:n,settings:on(on({},z7e),e)}}const pte=n=>"__levaInput"in n,H7e=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=HWe(i);(!r||s.toLowerCase().indexOf(r)>-1)&&GWe(t,o,{[s]:{__levaInput:!0,path:i}})}),t},V7e=["type","label","path","valueKey","value","settings","setValue","disabled"];function j7e(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,c=fr(n,V7e);const{displayValue:u,onChange:f,onUpdate:d}=y0e({type:e,value:s,settings:o,setValue:a}),p=X1[e].component;return p?Be.createElement(l0e.Provider,{value:on({key:i,path:r,id:""+r,label:t,displayValue:u,value:s,onChange:f,onUpdate:d,settings:o,setValue:a,disabled:l},c)},Be.createElement(XHe,{disabled:l},Be.createElement(p,null))):(dp(hi.NO_COMPONENT_FOR_TYPE,e,r),null)}const W7e=Kt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function $7e({onClick:n,settings:e,label:t}){const r=x3();return Be.createElement(Xu,null,Be.createElement(W7e,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const X7e=Kt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),J7e=Kt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Y7e=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function K7e(n){const{label:e,opts:t}=Y7e(n),r=x3();return Be.createElement(Xu,{input:!!e},e&&Be.createElement(td,null,e),Be.createElement(X7e,null,Object.entries(t).map(([i,s])=>Be.createElement(J7e,{key:i,onClick:()=>s(r.get)},i))))}const q7e=Kt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),eve=100;function Q7e(n,e){n.push(e),n.length>eve&&n.shift()}const Z7e=J.forwardRef(function({initialValue:n},e){const t=Pp("colors","highlight3"),r=Pp("colors","elevation2"),i=Pp("colors","highlight1"),[s,o]=J.useMemo(()=>[Ia(i).alpha(.4).toRgbString(),Ia(i).alpha(.1).toRgbString()],[i]),a=J.useRef([n]),l=J.useRef(n),c=J.useRef(n),u=J.useRef(),f=J.useCallback((m,g)=>{if(!m)return;const{width:y,height:x}=m,_=new Path2D,b=y/eve,w=x*.05;for(let R=0;R<a.current.length;R++){const E=wI(a.current[R],l.current,c.current),B=b*R,D=x-E*(x-w*2)-w;_.lineTo(B,D)}g.clearRect(0,0,y,x);const M=new Path2D(_);M.lineTo(b*(a.current.length+1),x),M.lineTo(0,x),M.lineTo(0,0);const C=g.createLinearGradient(0,0,0,x);C.addColorStop(0,s),C.addColorStop(1,o),g.fillStyle=C,g.fill(M),g.strokeStyle=r,g.lineJoin="round",g.lineWidth=14,g.stroke(_),g.strokeStyle=t,g.lineWidth=2,g.stroke(_)},[t,r,s,o]),[d,p]=nVe(f);return J.useImperativeHandle(e,()=>({frame:m=>{(l.current===void 0||m<l.current)&&(l.current=m),(c.current===void 0||m>c.current)&&(c.current=m),Q7e(a.current,m),u.current=requestAnimationFrame(()=>f(d.current,p.current))}}),[d,p,f]),J.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),Be.createElement(q7e,{ref:d})}),mte=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),e$e=J.forwardRef(function({initialValue:n},e){const[t,r]=J.useState(mte(n));return J.useImperativeHandle(e,()=>({frame:i=>r(mte(i))}),[]),Be.createElement("div",null,t)});function gte(n){return typeof n=="function"?n():n.current}function t$e({label:n,objectOrFn:e,settings:t}){const r=J.useRef(),i=J.useRef(gte(e));return J.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(gte(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),Be.createElement(Xu,{input:!0},Be.createElement(td,{align:"top"},n),t.graph?Be.createElement(Z7e,{ref:r,initialValue:i.current}):Be.createElement(e$e,{ref:r,initialValue:i.current}))}const n$e=["type","label","key"],r$e={[Of.BUTTON]:$7e,[Of.BUTTON_GROUP]:K7e,[Of.MONITOR]:t$e},i$e=Be.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=iVe(n);if(!e)return null;const{type:l,label:c,key:u}=e,f=fr(e,n$e);if(l in Of){const d=r$e[l];return Be.createElement(d,Hi({label:c,path:n},f))}return l in X1?Be.createElement(j7e,Hi({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:u,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(fHe(hi.UNSUPPORTED_INPUT,l,n),null)});function s$e({toggle:n,toggled:e,name:t}){return Be.createElement(jHe,{onClick:()=>n()},Be.createElement(g7,{toggled:e}),Be.createElement("div",null,t))}const o$e=({name:n,path:e,tree:t})=>{const r=x3(),i=A7(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=J.useState(!s),c=J.useRef(null),u=Pp("colors","folderWidgetColor"),f=Pp("colors","folderTextColor");return J.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),Be.createElement(AI,{ref:c},Be.createElement(s$e,{name:n,toggled:a,toggle:()=>l(d=>!d)}),Be.createElement(tve,{parent:i,tree:t,toggled:a}))},tve=Be.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=WWe(s),l=x3(),c=([f,d])=>{var p;return(pte(d)?(p=l.getInput(d.path))===null||p===void 0?void 0:p.order:l.getFolderSettings(A7(r,f)).order)||0},u=Object.entries(i).sort((f,d)=>c(f)-c(d));return Be.createElement(d9,{ref:o,isRoot:n,fill:e,flat:t},Be.createElement(p0e,{ref:a,isRoot:n,toggled:s},u.map(([f,d])=>pte(d)?Be.createElement(i$e,{key:d.path,valueKey:d.valueKey,path:d.path}):Be.createElement(o$e,{key:f,name:f,path:r,tree:d}))))}),a$e=Kt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${g0e}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),nve=40,RI=Kt("i",{$flexCenter:"",width:nve,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),l$e=Kt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),c$e=Kt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${RI}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),u$e=Kt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),f$e=Kt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:nve}}}}),d$e=Be.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=J.useState(""),s=J.useMemo(()=>n0e(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return J.useEffect(()=>{s(r)},[r,s]),Be.createElement(Be.Fragment,null,Be.createElement(u$e,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),Be.createElement(RI,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},Be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function h$e({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,f]=J.useState(!1),d=J.useRef(null);J.useEffect(()=>{var m,g;u?(m=d.current)===null||m===void 0||m.focus():(g=d.current)===null||g===void 0||g.blur()},[u]);const p=_3(({offset:[m,g],first:y,last:x})=>{e({x:m,y:g}),y&&t({x:m,y:g}),x&&r({x:m,y:g})},{filterTaps:!0,from:({offset:[m,g]})=>[(c==null?void 0:c.x)||m,(c==null?void 0:c.y)||g]});return J.useEffect(()=>{const m=g=>{g.key==="L"&&g.shiftKey&&g.metaKey&&f(y=>!y)};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[]),Be.createElement(Be.Fragment,null,Be.createElement(l$e,{mode:a?"drag":void 0},Be.createElement(RI,{active:!s,onClick:()=>i()},Be.createElement(g7,{toggled:s,width:12,height:8})),Be.createElement(f$e,Hi({},a?p():{},{drag:a,filterEnabled:l}),o===void 0&&a?Be.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},Be.createElement("circle",{cx:"2",cy:"2",r:"2"}),Be.createElement("circle",{cx:"14",cy:"2",r:"2"}),Be.createElement("circle",{cx:"26",cy:"2",r:"2"}),Be.createElement("circle",{cx:"2",cy:"12",r:"2"}),Be.createElement("circle",{cx:"14",cy:"12",r:"2"}),Be.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&Be.createElement(RI,{active:u,onClick:()=>f(m=>!m)},Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},Be.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),Be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),Be.createElement(c$e,{toggled:u},Be.createElement(d$e,{ref:d,setFilter:n,toggle:i})))}const p$e=["store","hidden","theme","collapsed"];function m$e(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=fr(n,p$e);const o=X0e(()=>NHe(r),[r]),[a,l]=J.useState(!i),c=typeof i=="object"?!i.collapsed:a,u=J.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:l,[i]);return!e||t?null:Be.createElement(h7.Provider,{value:o},Be.createElement(g$e,Hi({store:e},s,{toggled:c,setToggle:u,rootClass:o.className})))}const g$e=Be.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,f;const d=$We(n),[p,m]=J.useState(""),g=J.useMemo(()=>H7e(d,p),[d,p]),[y,x]=x0e(),_=i||d.length>0,b=typeof o=="object"&&o.title||void 0,w=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,M=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,C=typeof o=="object"&&o.position||void 0,R=typeof o=="object"&&o.onDrag||void 0,E=typeof o=="object"&&o.onDragStart||void 0,B=typeof o=="object"&&o.onDragEnd||void 0;return Be.useEffect(()=>{x({x:C==null?void 0:C.x,y:C==null?void 0:C.y})},[C,x]),FHe(),Be.createElement(u0e.Provider,{value:{hideCopyButton:a}},Be.createElement(a$e,{ref:y,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:_?"block":"none"}},o&&Be.createElement(h$e,{onDrag:D=>{x(D),R==null||R(D)},onDragStart:D=>E==null?void 0:E(D),onDragEnd:D=>B==null?void 0:B(D),setFilter:m,toggle:D=>c(N=>D??!N),toggled:l,title:b,drag:w,filterEnabled:M,from:C}),_&&Be.createElement(c0e.Provider,{value:n},Be.createElement(tve,{isRoot:!0,fill:t,flat:r,tree:g,toggled:l}))))}),v$e=["isRoot"];let PI=!1,Hy=null;function rve(n){let{isRoot:e=!1}=n,t=fr(n,v$e);return J.useEffect(()=>(PI=!0,!e&&Hy&&(Hy.remove(),Hy=null),()=>{e||(PI=!1)}),[e]),Be.createElement(m$e,Hi({store:Z0e},t))}function y$e(n){J.useEffect(()=>{n&&!PI&&(Hy||(Hy=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Hy),RHe(Be.createElement(rve,{isRoot:!0}),Hy))),PI=!0)},[n])}function x$e(n,e,t,r,i){let s,o,a,l,c;return typeof n=="string"?(o=n,s=e,Array.isArray(t)&&(c=t)):(s=n,Array.isArray(e)?c=e:(l=e,c=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function _$e(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=x$e(n,e,t),u=typeof o=="function",f=J.useRef(!1),d=J.useRef(!0),p=X0e(()=>{f.current=!0;const N=typeof o=="function"?o():o;return s?{[s]:G7e(N,a)}:N},c),m=!(l!=null&&l.store);y$e(m);const[g]=J.useState(()=>(l==null?void 0:l.store)||Z0e),[y,x]=J.useMemo(()=>g.getDataFromSchema(p),[g,p]),[_,b,w,M,C]=J.useMemo(()=>{const N=[],z=[],H={},U={},W={};return Object.values(x).forEach(({path:X,onChange:q,onEditStart:L,onEditEnd:I,transient:O})=>{N.push(X),q?(H[X]=q,O||z.push(X)):z.push(X),L&&(U[X]=L),I&&(W[X]=I)}),[N,z,H,U,W]},[x]),R=J.useMemo(()=>g.orderPaths(_),[_,g]),E=XWe(g,b,y),B=J.useCallback(N=>{const z=Object.entries(N).reduce((H,[U,W])=>Object.assign(H,{[x[U].path]:W}),{});g.set(z,!1)},[g,x]),D=J.useCallback(N=>g.get(x[N].path),[g,x]);return J.useEffect(()=>{const N=!d.current&&f.current;return g.addData(y,N),d.current=!1,f.current=!1,()=>g.disposePaths(R)},[g,R,y]),J.useEffect(()=>{const N=[];return Object.entries(w).forEach(([z,H])=>{H(g.get(z),z,on({initial:!0,get:g.get},g.getInput(z)));const U=g.useStore.subscribe(W=>{const X=W.data[z];return[X.disabled?void 0:X.value,X]},([W,X])=>H(W,z,on({initial:!1,get:g.get},X)),{equalityFn:LO});N.push(U)}),()=>N.forEach(z=>z())},[g,w]),J.useEffect(()=>{const N=[];return Object.entries(M).forEach(([z,H])=>N.push(g.subscribeToEditStart(z,H))),Object.entries(C).forEach(([z,H])=>N.push(g.subscribeToEditEnd(z,H))),()=>N.forEach(z=>z())},[M,C,g]),u?[E,B,D]:E}hm($f.SELECT,bVe);hm($f.IMAGE,E7e);hm($f.NUMBER,fVe);hm($f.COLOR,i7e);hm($f.STRING,PVe);hm($f.BOOLEAN,FVe);hm($f.INTERVAL,L7e);hm($f.VECTOR3D,o7e);hm($f.VECTOR2D,p7e);const vte=.08;let yte=0,xte=0,$P=0,XP=0;const b$e=()=>{const n=J.useRef(),[e,t]=J.useState(!1),r=()=>{let i=yte-$P,s=xte-XP;$P=$P+i*vte,XP=XP+s*vte,n.current.style.left=`${$P}px`,n.current.style.top=`${XP}px`,requestAnimationFrame(r)};return J.useEffect(()=>{const i=document.addEventListener("mousemove",function(o){yte=o.pageX,xte=o.pageY}),s=requestAnimationFrame(r);return()=>{document.removeEventListener("mousemove",i),cancelAnimationFrame(s)}},[]),J.useEffect(()=>{const i=document.addEventListener("mouseover",function(s){s.target.tagName.toLowerCase()==="button"||s.target.parentElement.tagName.toLowerCase()==="button"||s.target.tagName.toLowerCase()==="input"||s.target.tagName.toLowerCase()==="textarea"?t(!0):t(!1)});return()=>{document.removeEventListener("mouseover",i)}},[]),Fe.jsx(Fe.Fragment,{children:Fe.jsx("div",{className:`z-50 fixed -translate-x-1/2 -translate-y-1/2 rounded-full pointer-events-none transition-transform
        ${e?"bg-transparent border-2 border-indigo-900 w-5 h-5":"bg-indigo-500 w-3 h-3"}`,ref:n})})};function w$e(n,{whileHover:e,onHoverStart:t,onHoverEnd:r,onPointerOver:i,onPointerOut:s},o){return n||!o||!(e||t||r)?{}:{onPointerOver:a=>{var l;(l=o.animationState)===null||l===void 0||l.setActive("whileHover",!0),i&&i(a)},onPointerOut:a=>{var l;(l=o.animationState)===null||l===void 0||l.setActive("whileHover",!1),s&&s(a)}}}function S$e(n,{whileTap:e,onTapStart:t,onTap:r,onTapCancel:i,onPointerDown:s},o){const a=r||t||i||e,l=J.useRef(!1),c=J.useRef(null);if(n||!o||!a)return{};function u(){var m;(m=c.current)===null||m===void 0||m.call(c),c.current=null}function f(){var m;return u(),l.current=!1,(m=o.animationState)===null||m===void 0||m.setActive("whileTap",!1),!jW()}function d(m,g){f()&&(r==null||r(m,g))}function p(m,g){f()&&(i==null||i(m,g))}return{onPointerDown:Qpe((m,g)=>{var y;if(u(),l.current)return;l.current=!0;const x={passive:!(t||r||i||s)};c.current=Rp(Lf(window,"pointerup",d,x),Lf(window,"pointercancel",p,x)),(y=o.animationState)===null||y===void 0||y.setActive("whileTap",!0),s==null||s(m),t==null||t(m,g)})}}const A$e=(n,e,t,r,i,s)=>{const o=M$e(e);return J.createElement(n,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ref:t},Wpe(e,!1,!1)),o),{onUpdate:e.onInstanceUpdate}),w$e(i,e,s)),S$e(i,e,s)))};function M$e(n){return J.useMemo(()=>{const e={};for(const t in n){const r=n[t];Fi(r)?e[t]=r.get():Array.isArray(r)&&r.includes(Fi)&&(e[t]=r.map(xE))}return e},[])}const ive=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new ge(e)),r[n].setComponent(t,i)},E$e=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new lc(e));const s=r[n];s[t]=i},_te=n=>(e,t)=>{e[n]===void 0&&(e[n]=new ft(t)),e[n].set(t)},vU=ive("scale",1),yU=ive("position",0),xU=E$e("rotation",0),bte={x:yU(0),y:yU(1),z:yU(2),scale:(n,e)=>{n.scale===void 0&&(n.scale=new ge(1)),n.scale.set(e,e,e)},scaleX:vU(0),scaleY:vU(1),scaleZ:vU(2),rotateX:xU("x"),rotateY:xU("y"),rotateZ:xU("z"),color:_te("color"),specular:_te("specular")};function C$e(n,e,t){bte[e]?bte[e](n,t[e]):(e==="opacity"&&!n.transparent&&(n.transparent=!0),n[e]=t[e])}const M7=(n,e)=>t=>r=>{const i=r[n];return i?i[t]:e},_U=M7("position",0),JP=M7("scale",1),bU=M7("rotation",0),wte={x:_U("x"),y:_U("y"),z:_U("z"),scale:JP("x"),scaleX:JP("x"),scaleY:JP("y"),scaleZ:JP("z"),rotateX:bU("x"),rotateY:bU("y"),rotateZ:bU("z")};function T$e(n){if(n!==void 0)return n instanceof ft?n.getStyle():n}function R$e(n,e){return wte[e]?wte[e](n):T$e(n[e])||0}const P$e=["x","y","z"],Ste={"position-x":"x","position-y":"y","position-z":"z","rotation-x":"rotateX","rotation-y":"rotateY","rotation-z":"rotateZ","scale-x":"scaleX","scale-y":"scaleY","scale-z":"scaleZ"},sve=(n,e)=>{const t={};for(const r in n){const i=n[r];if(Fi(i)||Fi(e[r]))t[Ste[r]||r]=i;else if(Array.isArray(i))for(let s=0;s<i.length;s++){const o=i[s];if(Fi(o)||Array.isArray(e[r])&&Fi(e[r][s])){const a=Ste[r+"-"+P$e[s]];t[a]=o}}}return t},B$e=()=>({});class D$e extends rge{constructor(){super(...arguments),this.type="three"}readValueFromInstance(e,t){return R$e(e,t)}getBaseTargetFromProps(){}sortInstanceNodePosition(e,t){return e.id-t.id}makeTargetAnimatableFromInstance(e){var{transition:t,transitionEnd:r}=e,i=pje(e,["transition","transitionEnd"]);return Ome(this,i,{}),Object.assign(Object.assign({},i),{transition:t,transitionEnd:r})}removeValueFromRenderState(){}measureInstanceViewportBox(){return Yi()}scrapeMotionValuesFromProps(e,t){return sve(e,t)}build(e,t){for(const r in t)e[r]=t[r]}renderInstance(e,t){for(const r in t)C$e(e,r,t)}}const k$e=(n,e)=>new D$e(e,{}),I$e=VW({scrapeMotionValuesFromProps:sve,createRenderState:B$e}),L$e=Object.assign({},Fme);function Ate(n){return Ope({Component:n,preloadedFeatures:L$e,useRender:A$e,useVisualState:I$e,createVisualElement:k$e})}const wU=new Map,hu=new Proxy(Ate,{get:(n,e)=>(!wU.has(e)&&wU.set(e,Ate(e)),wU.get(e))}),C9={type:"spring",mass:5,stiffness:500,damping:50,restDelta:1e-4};function O$e(n){const{animation:e}=n,{headFollow:t,cursorFollow:r,wireframe:i}=_$e({headFollow:!1,cursorFollow:!1,wireframe:!1}),s=J.useRef(),{nodes:o,materials:a}=ZS("models/66c2e6c8b8d58a94a834955a.glb"),{animations:l}=gE("animations/Typing.fbx"),{animations:c}=gE("animations/Standing Idle.fbx"),{animations:u}=gE("animations/Falling Idle.fbx");l[0].name="Typing",c[0].name="Standing",u[0].name="Falling";const{actions:f}=sUe([l[0],c[0],u[0]],s);return Pc(d=>{if(t&&s.current.getObjectByName("Head").lookAt(d.camera.position),r){const p=new ge(d.mouse.x,d.mouse.y,1);s.current.getObjectByName("Spine2").lookAt(p)}}),J.useEffect(()=>(f[e].reset().fadeIn(.5).play(),()=>{f[e].reset().fadeOut(.5)}),[e]),J.useEffect(()=>{Object.values(a).forEach(d=>{d.wireframe=i})},[i]),Fe.jsx("group",{...n,ref:s,dispose:null,children:Fe.jsxs("group",{children:[Fe.jsx("primitive",{object:o.Hips}),Fe.jsx("skinnedMesh",{geometry:o.Wolf3D_Hair.geometry,material:a.Wolf3D_Hair,skeleton:o.Wolf3D_Hair.skeleton}),Fe.jsx("skinnedMesh",{geometry:o.Wolf3D_Glasses.geometry,material:a.Wolf3D_Glasses,skeleton:o.Wolf3D_Glasses.skeleton}),Fe.jsx("skinnedMesh",{geometry:o.Wolf3D_Body.geometry,material:a.Wolf3D_Body,skeleton:o.Wolf3D_Body.skeleton}),Fe.jsx("skinnedMesh",{geometry:o.Wolf3D_Outfit_Bottom.geometry,material:a.Wolf3D_Outfit_Bottom,skeleton:o.Wolf3D_Outfit_Bottom.skeleton}),Fe.jsx("skinnedMesh",{geometry:o.Wolf3D_Outfit_Footwear.geometry,material:a.Wolf3D_Outfit_Footwear,skeleton:o.Wolf3D_Outfit_Footwear.skeleton}),Fe.jsx("skinnedMesh",{geometry:o.Wolf3D_Outfit_Top.geometry,material:a.Wolf3D_Outfit_Top,skeleton:o.Wolf3D_Outfit_Top.skeleton}),Fe.jsx("skinnedMesh",{name:"EyeLeft",geometry:o.EyeLeft.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeLeft.skeleton,morphTargetDictionary:o.EyeLeft.morphTargetDictionary,morphTargetInfluences:o.EyeLeft.morphTargetInfluences}),Fe.jsx("skinnedMesh",{name:"EyeRight",geometry:o.EyeRight.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeRight.skeleton,morphTargetDictionary:o.EyeRight.morphTargetDictionary,morphTargetInfluences:o.EyeRight.morphTargetInfluences}),Fe.jsx("skinnedMesh",{name:"Wolf3D_Head",geometry:o.Wolf3D_Head.geometry,material:a.Wolf3D_Skin,skeleton:o.Wolf3D_Head.skeleton,morphTargetDictionary:o.Wolf3D_Head.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Head.morphTargetInfluences}),Fe.jsx("skinnedMesh",{name:"Wolf3D_Teeth",geometry:o.Wolf3D_Teeth.geometry,material:a.Wolf3D_Teeth,skeleton:o.Wolf3D_Teeth.skeleton,morphTargetDictionary:o.Wolf3D_Teeth.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Teeth.morphTargetInfluences})]})})}ZS.preload("models/66c2e6c8b8d58a94a834955a.glb");function tp(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ove(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gc={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},pS={duration:.5,overwrite:!1,delay:0},E7,ca,si,Ru=1e8,Cr=1/Ru,T9=Math.PI*2,F$e=T9/4,N$e=0,ave=Math.sqrt,U$e=Math.cos,z$e=Math.sin,_o=function(n){return typeof n=="string"},Ni=function(n){return typeof n=="function"},Xp=function(n){return typeof n=="number"},C7=function(n){return typeof n>"u"},sh=function(n){return typeof n=="object"},_l=function(n){return n!==!1},T7=function(){return typeof window<"u"},YP=function(n){return Ni(n)||_o(n)},lve=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ua=Array.isArray,R9=/(?:-?\.?\d|\.)+/gi,cve=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Xb=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,SU=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,uve=/[+-]=-?[.\d]+/,fve=/[^,'"\[\]\s]+/gi,G$e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,gi,Bd,P9,R7,Sc={},BI={},dve,hve=function(n){return(BI=J1(n,Sc))&&Dl},P7=function(n,e){return console.warn("Invalid property",n,"set to",e,"Missing plugin? gsap.registerPlugin()")},JC=function(n,e){return!e&&console.warn(n)},pve=function(n,e){return n&&(Sc[n]=e)&&BI&&(BI[n]=e)||Sc},YC=function(){return 0},H$e={suppressEvents:!0,isStart:!0,kill:!1},qD={suppressEvents:!0,kill:!1},V$e={suppressEvents:!0},B7={},qg=[],B9={},mve,tc={},AU={},Mte=30,QD=[],D7="",k7=function(n){var e=n[0],t,r;if(sh(e)||Ni(e)||(n=[n]),!(t=(e._gsap||{}).harness)){for(r=QD.length;r--&&!QD[r].targetTest(e););t=QD[r]}for(r=n.length;r--;)n[r]&&(n[r]._gsap||(n[r]._gsap=new Uve(n[r],t)))||n.splice(r,1);return n},m1=function(n){return n._gsap||k7(Pu(n))[0]._gsap},gve=function(n,e,t){return(t=n[e])&&Ni(t)?n[e]():C7(t)&&n.getAttribute&&n.getAttribute(e)||t},bl=function(n,e){return(n=n.split(",")).forEach(e)||n},Zi=function(n){return Math.round(n*1e5)/1e5||0},go=function(n){return Math.round(n*1e7)/1e7||0},Pw=function(n,e){var t=e.charAt(0),r=parseFloat(e.substr(2));return n=parseFloat(n),t==="+"?n+r:t==="-"?n-r:t==="*"?n*r:n/r},j$e=function(n,e){for(var t=e.length,r=0;n.indexOf(e[r])<0&&++r<t;);return r<t},DI=function(){var n=qg.length,e=qg.slice(0),t,r;for(B9={},qg.length=0,t=0;t<n;t++)r=e[t],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},vve=function(n,e,t,r){qg.length&&!ca&&DI(),n.render(e,t,ca&&e<0&&(n._initted||n._startAt)),qg.length&&!ca&&DI()},yve=function(n){var e=parseFloat(n);return(e||e===0)&&(n+"").match(fve).length<2?e:_o(n)?n.trim():n},xve=function(n){return n},Gu=function(n,e){for(var t in e)t in n||(n[t]=e[t]);return n},W$e=function(n){return function(e,t){for(var r in t)r in e||r==="duration"&&n||r==="ease"||(e[r]=t[r])}},J1=function(n,e){for(var t in e)n[t]=e[t];return n},Ete=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=sh(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},kI=function(n,e){var t={},r;for(r in n)r in e||(t[r]=n[r]);return t},ME=function(n){var e=n.parent||gi,t=n.keyframes?W$e(ua(n.keyframes)):Gu;if(_l(n.inherit))for(;e;)t(n,e.vars.defaults),e=e.parent||e._dp;return n},$$e=function(n,e){for(var t=n.length,r=t===e.length;r&&t--&&n[t]===e[t];);return t<0},_ve=function(n,e,t,r,i){var s=n[r],o;if(i)for(o=e[i];s&&s[i]>o;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=n[t],n[t]=e),e._next?e._next._prev=e:n[r]=e,e._prev=s,e.parent=e._dp=n,e},ZO=function(n,e,t,r){t===void 0&&(t="_first"),r===void 0&&(r="_last");var i=e._prev,s=e._next;i?i._next=s:n[t]===e&&(n[t]=s),s?s._prev=i:n[r]===e&&(n[r]=i),e._next=e._prev=e.parent=null},E0=function(n,e){n.parent&&(!e||n.parent.autoRemoveChildren)&&n.parent.remove&&n.parent.remove(n),n._act=0},g1=function(n,e){if(n&&(!e||e._end>n._dur||e._start<0))for(var t=n;t;)t._dirty=1,t=t.parent;return n},X$e=function(n){for(var e=n.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return n},D9=function(n,e,t,r){return n._startAt&&(ca?n._startAt.revert(qD):n.vars.immediateRender&&!n.vars.autoRevert||n._startAt.render(e,!0,r))},J$e=function n(e){return!e||e._ts&&n(e.parent)},Cte=function(n){return n._repeat?mS(n._tTime,n=n.duration()+n._rDelay)*n:0},mS=function(n,e){var t=Math.floor(n/=e);return n&&t===n?t-1:t},II=function(n,e){return(n-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},eF=function(n){return n._end=go(n._start+(n._tDur/Math.abs(n._ts||n._rts||Cr)||0))},tF=function(n,e){var t=n._dp;return t&&t.smoothChildTiming&&n._ts&&(n._start=go(t._time-(n._ts>0?e/n._ts:((n._dirty?n.totalDuration():n._tDur)-e)/-n._ts)),eF(n),t._dirty||g1(t,n)),n},bve=function(n,e){var t;if((e._time||!e._dur&&e._initted||e._start<n._time&&(e._dur||!e.add))&&(t=II(n.rawTime(),e),(!e._dur||S3(0,e.totalDuration(),t)-e._tTime>Cr)&&e.render(t,!0)),g1(n,e)._dp&&n._initted&&n._time>=n._dur&&n._ts){if(n._dur<n.duration())for(t=n;t._dp;)t.rawTime()>=0&&t.totalTime(t._tTime),t=t._dp;n._zTime=-Cr}},Ld=function(n,e,t,r){return e.parent&&E0(e),e._start=go((Xp(t)?t:t||n!==gi?au(n,t,e):n._time)+e._delay),e._end=go(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),_ve(n,e,"_first","_last",n._sort?"_start":0),k9(e)||(n._recent=e),r||bve(n,e),n._ts<0&&tF(n,n._tTime),n},wve=function(n,e){return(Sc.ScrollTrigger||P7("scrollTrigger",e))&&Sc.ScrollTrigger.create(e,n)},Sve=function(n,e,t,r,i){if(L7(n,e,i),!n._initted)return 1;if(!t&&n._pt&&!ca&&(n._dur&&n.vars.lazy!==!1||!n._dur&&n.vars.lazy)&&mve!==sc.frame)return qg.push(n),n._lazy=[i,r],1},Y$e=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},k9=function(n){var e=n.data;return e==="isFromStart"||e==="isStart"},K$e=function(n,e,t,r){var i=n.ratio,s=e<0||!e&&(!n._start&&Y$e(n)&&!(!n._initted&&k9(n))||(n._ts<0||n._dp._ts<0)&&!k9(n))?0:1,o=n._rDelay,a=0,l,c,u;if(o&&n._repeat&&(a=S3(0,n._tDur,e),c=mS(a,o),n._yoyo&&c&1&&(s=1-s),c!==mS(n._tTime,o)&&(i=1-s,n.vars.repeatRefresh&&n._initted&&n.invalidate())),s!==i||ca||r||n._zTime===Cr||!e&&n._zTime){if(!n._initted&&Sve(n,e,r,t,a))return;for(u=n._zTime,n._zTime=e||(t?Cr:0),t||(t=e&&!u),n.ratio=s,n._from&&(s=1-s),n._time=0,n._tTime=a,l=n._pt;l;)l.r(s,l.d),l=l._next;e<0&&D9(n,e,t,!0),n._onUpdate&&!t&&cc(n,"onUpdate"),a&&n._repeat&&!t&&n.parent&&cc(n,"onRepeat"),(e>=n._tDur||e<0)&&n.ratio===s&&(s&&E0(n,1),!t&&!ca&&(cc(n,s?"onComplete":"onReverseComplete",!0),n._prom&&n._prom()))}else n._zTime||(n._zTime=e)},q$e=function(n,e,t){var r;if(t>e)for(r=n._first;r&&r._start<=t;){if(r.data==="isPause"&&r._start>e)return r;r=r._next}else for(r=n._last;r&&r._start>=t;){if(r.data==="isPause"&&r._start<e)return r;r=r._prev}},gS=function(n,e,t,r){var i=n._repeat,s=go(e)||0,o=n._tTime/n._tDur;return o&&!r&&(n._time*=s/n._dur),n._dur=s,n._tDur=i?i<0?1e10:go(s*(i+1)+n._rDelay*i):s,o>0&&!r&&tF(n,n._tTime=n._tDur*o),n.parent&&eF(n),t||g1(n.parent,n),n},Tte=function(n){return n instanceof Fa?g1(n):gS(n,n._dur)},Q$e={_start:0,endTime:YC,totalDuration:YC},au=function n(e,t,r){var i=e.labels,s=e._recent||Q$e,o=e.duration()>=Ru?s.endTime(!1):e._dur,a,l,c;return _o(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(ua(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},EE=function(n,e,t){var r=Xp(e[1]),i=(r?2:1)+(n<2?0:1),s=e[i],o,a;if(r&&(s.duration=e[1]),s.parent=t,n){for(o=s,a=t;a&&!("immediateRender"in o);)o=a.vars.defaults||{},a=_l(a.vars.inherit)&&a.parent;s.immediateRender=_l(o.immediateRender),n<2?s.runBackwards=1:s.startAt=e[i-1]}return new ws(e[0],s,e[i+1])},ev=function(n,e){return n||n===0?e(n):e},S3=function(n,e,t){return t<n?n:t>e?e:t},ra=function(n,e){return!_o(n)||!(e=G$e.exec(n))?"":e[1]},Z$e=function(n,e,t){return ev(t,function(r){return S3(n,e,r)})},I9=[].slice,Ave=function(n,e){return n&&sh(n)&&"length"in n&&(!e&&!n.length||n.length-1 in n&&sh(n[0]))&&!n.nodeType&&n!==Bd},eXe=function(n,e,t){return t===void 0&&(t=[]),n.forEach(function(r){var i;return _o(r)&&!e||Ave(r,1)?(i=t).push.apply(i,Pu(r)):t.push(r)})||t},Pu=function(n,e,t){return si&&!e&&si.selector?si.selector(n):_o(n)&&!t&&(P9||!vS())?I9.call((e||R7).querySelectorAll(n),0):ua(n)?eXe(n,t):Ave(n)?I9.call(n,0):n?[n]:[]},L9=function(n){return n=Pu(n)[0]||JC("Invalid scope")||{},function(e){var t=n.current||n.nativeElement||n;return Pu(e,t.querySelectorAll?t:t===n?JC("Invalid scope")||R7.createElement("div"):n)}},Mve=function(n){return n.sort(function(){return .5-Math.random()})},Eve=function(n){if(Ni(n))return n;var e=sh(n)?n:{each:n},t=v1(e.ease),r=e.from||0,i=parseFloat(e.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,l=e.axis,c=r,u=r;return _o(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(c=r[0],u=r[1]),function(f,d,p){var m=(p||e).length,g=s[m],y,x,_,b,w,M,C,R,E;if(!g){if(E=e.grid==="auto"?0:(e.grid||[1,Ru])[1],!E){for(C=-Ru;C<(C=p[E++].getBoundingClientRect().left)&&E<m;);E<m&&E--}for(g=s[m]=[],y=a?Math.min(E,m)*c-.5:r%E,x=E===Ru?0:a?m*u/E-.5:r/E|0,C=0,R=Ru,M=0;M<m;M++)_=M%E-y,b=x-(M/E|0),g[M]=w=l?Math.abs(l==="y"?b:_):ave(_*_+b*b),w>C&&(C=w),w<R&&(R=w);r==="random"&&Mve(g),g.max=C-R,g.min=R,g.v=m=(parseFloat(e.amount)||parseFloat(e.each)*(E>m?m-1:l?l==="y"?m/E:E:Math.max(E,m/E))||0)*(r==="edges"?-1:1),g.b=m<0?i-m:i,g.u=ra(e.amount||e.each)||0,t=t&&m<0?Ove(t):t}return m=(g[f]-g.min)/g.max||0,go(g.b+(t?t(m):m)*g.v)+g.u}},O9=function(n){var e=Math.pow(10,((n+"").split(".")[1]||"").length);return function(t){var r=go(Math.round(parseFloat(t)/n)*n*e);return(r-r%1)/e+(Xp(t)?0:ra(t))}},Cve=function(n,e){var t=ua(n),r,i;return!t&&sh(n)&&(r=t=n.radius||Ru,n.values?(n=Pu(n.values),(i=!Xp(n[0]))&&(r*=r)):n=O9(n.increment)),ev(e,t?Ni(n)?function(s){return i=n(s),Math.abs(i-s)<=r?i:s}:function(s){for(var o=parseFloat(i?s.x:s),a=parseFloat(i?s.y:0),l=Ru,c=0,u=n.length,f,d;u--;)i?(f=n[u].x-o,d=n[u].y-a,f=f*f+d*d):f=Math.abs(n[u]-o),f<l&&(l=f,c=u);return c=!r||l<=r?n[c]:s,i||c===s||Xp(s)?c:c+ra(s)}:O9(n))},Tve=function(n,e,t,r){return ev(ua(n)?!e:t===!0?!!(t=0):!r,function(){return ua(n)?n[~~(Math.random()*n.length)]:(t=t||1e-5)&&(r=t<1?Math.pow(10,(t+"").length-2):1)&&Math.floor(Math.round((n-t/2+Math.random()*(e-n+t*.99))/t)*t*r)/r})},tXe=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduce(function(i,s){return s(i)},r)}},nXe=function(n,e){return function(t){return n(parseFloat(t))+(e||ra(t))}},rXe=function(n,e,t){return Pve(n,e,0,1,t)},Rve=function(n,e,t){return ev(t,function(r){return n[~~e(r)]})},iXe=function n(e,t,r){var i=t-e;return ua(e)?Rve(e,n(0,e.length),t):ev(r,function(s){return(i+(s-e)%i)%i+e})},sXe=function n(e,t,r){var i=t-e,s=i*2;return ua(e)?Rve(e,n(0,e.length-1),t):ev(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},KC=function(n){for(var e=0,t="",r,i,s,o;~(r=n.indexOf("random(",e));)s=n.indexOf(")",r),o=n.charAt(r+7)==="[",i=n.substr(r+7,s-r-7).match(o?fve:R9),t+=n.substr(e,r-e)+Tve(o?i:+i[0],o?0:+i[1],+i[2]||1e-5),e=s+1;return t+n.substr(e,n.length-e)},Pve=function(n,e,t,r,i){var s=e-n,o=r-t;return ev(i,function(a){return t+((a-n)/s*o||0)})},oXe=function n(e,t,r,i){var s=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!s){var o=_o(e),a={},l,c,u,f,d;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(ua(e)&&!ua(t)){for(u=[],f=e.length,d=f-2,c=1;c<f;c++)u.push(n(e[c-1],e[c]));f--,s=function(p){p*=f;var m=Math.min(d,~~p);return u[m](p-m)},r=t}else i||(e=J1(ua(e)?[]:{},e));if(!u){for(l in t)I7.call(a,e,l,"get",t[l]);s=function(p){return N7(p,a)||(o?e.p:e)}}}return ev(r,s)},Rte=function(n,e,t){var r=n.labels,i=Ru,s,o,a;for(s in r)o=r[s]-e,o<0==!!t&&o&&i>(o=Math.abs(o))&&(a=s,i=o);return a},cc=function(n,e,t){var r=n.vars,i=r[e],s=si,o=n._ctx,a,l,c;if(i)return a=r[e+"Params"],l=r.callbackScope||n,t&&qg.length&&DI(),o&&(si=o),c=a?i.apply(l,a):i.call(l),si=s,c},G2=function(n){return E0(n),n.scrollTrigger&&n.scrollTrigger.kill(!!ca),n.progress()<1&&cc(n,"onInterrupt"),n},Jb,Bve=[],Dve=function(n){if(n)if(n=!n.name&&n.default||n,T7()||n.headless){var e=n.name,t=Ni(n),r=e&&!t&&n.init?function(){this._props=[]}:n,i={init:YC,render:N7,add:I7,kill:wXe,modifier:bXe,rawVars:0},s={targetTest:0,get:0,getSetter:F7,aliases:{},register:0};if(vS(),n!==r){if(tc[e])return;Gu(r,Gu(kI(n,i),s)),J1(r.prototype,J1(i,kI(n,s))),tc[r.prop=e]=r,n.targetTest&&(QD.push(r),B7[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}pve(e,r),n.register&&n.register(Dl,r,wl)}else Bve.push(n)},vr=255,H2={aqua:[0,vr,vr],lime:[0,vr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,vr],navy:[0,0,128],white:[vr,vr,vr],olive:[128,128,0],yellow:[vr,vr,0],orange:[vr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[vr,0,0],pink:[vr,192,203],cyan:[0,vr,vr],transparent:[vr,vr,vr,0]},MU=function(n,e,t){return n+=n<0?1:n>1?-1:0,(n*6<1?e+(t-e)*n*6:n<.5?t:n*3<2?e+(t-e)*(2/3-n)*6:e)*vr+.5|0},kve=function(n,e,t){var r=n?Xp(n)?[n>>16,n>>8&vr,n&vr]:0:H2.black,i,s,o,a,l,c,u,f,d,p;if(!r){if(n.substr(-1)===","&&(n=n.substr(0,n.length-1)),H2[n])r=H2[n];else if(n.charAt(0)==="#"){if(n.length<6&&(i=n.charAt(1),s=n.charAt(2),o=n.charAt(3),n="#"+i+i+s+s+o+o+(n.length===5?n.charAt(4)+n.charAt(4):"")),n.length===9)return r=parseInt(n.substr(1,6),16),[r>>16,r>>8&vr,r&vr,parseInt(n.substr(7),16)/255];n=parseInt(n.substr(1),16),r=[n>>16,n>>8&vr,n&vr]}else if(n.substr(0,3)==="hsl"){if(r=p=n.match(R9),!e)a=+r[0]%360/360,l=+r[1]/100,c=+r[2]/100,s=c<=.5?c*(l+1):c+l-c*l,i=c*2-s,r.length>3&&(r[3]*=1),r[0]=MU(a+1/3,i,s),r[1]=MU(a,i,s),r[2]=MU(a-1/3,i,s);else if(~n.indexOf("="))return r=n.match(cve),t&&r.length<4&&(r[3]=1),r}else r=n.match(R9)||H2.transparent;r=r.map(Number)}return e&&!p&&(i=r[0]/vr,s=r[1]/vr,o=r[2]/vr,u=Math.max(i,s,o),f=Math.min(i,s,o),c=(u+f)/2,u===f?a=l=0:(d=u-f,l=c>.5?d/(2-u-f):d/(u+f),a=u===i?(s-o)/d+(s<o?6:0):u===s?(o-i)/d+2:(i-s)/d+4,a*=60),r[0]=~~(a+.5),r[1]=~~(l*100+.5),r[2]=~~(c*100+.5)),t&&r.length<4&&(r[3]=1),r},Ive=function(n){var e=[],t=[],r=-1;return n.split(Qg).forEach(function(i){var s=i.match(Xb)||[];e.push.apply(e,s),t.push(r+=s.length+1)}),e.c=t,e},Pte=function(n,e,t){var r="",i=(n+r).match(Qg),s=e?"hsla(":"rgba(",o=0,a,l,c,u;if(!i)return n;if(i=i.map(function(f){return(f=kve(f,e,1))&&s+(e?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),t&&(c=Ive(n),a=t.c,a.join(r)!==c.c.join(r)))for(l=n.replace(Qg,"1").split(Xb),u=l.length-1;o<u;o++)r+=l[o]+(~a.indexOf(o)?i.shift()||s+"0,0,0,0)":(c.length?c:i.length?i:t).shift());if(!l)for(l=n.split(Qg),u=l.length-1;o<u;o++)r+=l[o]+i[o];return r+l[u]},Qg=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in H2)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),aXe=/hsl[a]?\(/,Lve=function(n){var e=n.join(" "),t;if(Qg.lastIndex=0,Qg.test(e))return t=aXe.test(e),n[1]=Pte(n[1],t),n[0]=Pte(n[0],t,Ive(n[1])),!0},qC,sc=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,u,f,d,p,m=function g(y){var x=n()-i,_=y===!0,b,w,M,C;if((x>e||x<0)&&(r+=x-t),i+=x,M=i-r,b=M-o,(b>0||_)&&(C=++f.frame,d=M-f.time*1e3,f.time=M=M/1e3,o+=b+(b>=s?4:s-b),w=1),_||(l=c(g)),w)for(p=0;p<a.length;p++)a[p](M,d,C,y)};return f={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(g){return d/(1e3/(g||60))},wake:function(){dve&&(!P9&&T7()&&(Bd=P9=window,R7=Bd.document||{},Sc.gsap=Dl,(Bd.gsapVersions||(Bd.gsapVersions=[])).push(Dl.version),hve(BI||Bd.GreenSockGlobals||!Bd.gsap&&Bd||{}),Bve.forEach(Dve)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),c=u||function(g){return setTimeout(g,o-f.time*1e3+1|0)},qC=1,m(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),qC=0,c=YC},lagSmoothing:function(g,y){e=g||1/0,t=Math.min(y||33,e)},fps:function(g){s=1e3/(g||240),o=f.time*1e3+s},add:function(g,y,x){var _=y?function(b,w,M,C){g(b,w,M,C),f.remove(_)}:g;return f.remove(g),a[x?"unshift":"push"](_),vS(),_},remove:function(g,y){~(y=a.indexOf(g))&&a.splice(y,1)&&p>=y&&p--},_listeners:a},f}(),vS=function(){return!qC&&sc.wake()},Vn={},lXe=/^[\d.\-M][\d.\-,\s]/,cXe=/["']/g,uXe=function(n){for(var e={},t=n.substr(1,n.length-3).split(":"),r=t[0],i=1,s=t.length,o,a,l;i<s;i++)a=t[i],o=i!==s-1?a.lastIndexOf(","):a.length,l=a.substr(0,o),e[r]=isNaN(l)?l.replace(cXe,"").trim():+l,r=a.substr(o+1).trim();return e},fXe=function(n){var e=n.indexOf("(")+1,t=n.indexOf(")"),r=n.indexOf("(",e);return n.substring(e,~r&&r<t?n.indexOf(")",t+1):t)},dXe=function(n){var e=(n+"").split("("),t=Vn[e[0]];return t&&e.length>1&&t.config?t.config.apply(null,~n.indexOf("{")?[uXe(e[1])]:fXe(n).split(",").map(yve)):Vn._CE&&lXe.test(n)?Vn._CE("",n):t},Ove=function(n){return function(e){return 1-n(1-e)}},Fve=function n(e,t){for(var r=e._first,i;r;)r instanceof Fa?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},v1=function(n,e){return n&&(Ni(n)?n:Vn[n]||dXe(n))||e},Sx=function(n,e,t,r){t===void 0&&(t=function(o){return 1-e(1-o)}),r===void 0&&(r=function(o){return o<.5?e(o*2)/2:1-e((1-o)*2)/2});var i={easeIn:e,easeOut:t,easeInOut:r},s;return bl(n,function(o){Vn[o]=Sc[o]=i,Vn[s=o.toLowerCase()]=t;for(var a in i)Vn[s+(a==="easeIn"?".in":a==="easeOut"?".out":".inOut")]=Vn[o+"."+a]=i[a]}),i},Nve=function(n){return function(e){return e<.5?(1-n(1-e*2))/2:.5+n((e-.5)*2)/2}},EU=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/T9*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*z$e((c-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:Nve(a);return s=T9/s,l.config=function(c,u){return n(e,c,u)},l},CU=function n(e,t){t===void 0&&(t=1.70158);var r=function(s){return s?--s*s*((t+1)*s+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:Nve(r);return i.config=function(s){return n(e,s)},i};bl("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Sx(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Vn.Linear.easeNone=Vn.none=Vn.Linear.easeIn;Sx("Elastic",EU("in"),EU("out"),EU());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(o){return o<t?n*o*o:o<r?n*Math.pow(o-1.5/e,2)+.75:o<i?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};Sx("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Sx("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});Sx("Circ",function(n){return-(ave(1-n*n)-1)});Sx("Sine",function(n){return n===1?1:-U$e(n*F$e)+1});Sx("Back",CU("in"),CU("out"),CU());Vn.SteppedEase=Vn.steps=Sc.SteppedEase={config:function(n,e){n===void 0&&(n=1);var t=1/n,r=n+(e?0:1),i=e?1:0,s=1-Cr;return function(o){return((r*S3(0,s,o)|0)+i)*t}}};pS.ease=Vn["quad.out"];bl("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return D7+=n+","+n+"Params,"});var Uve=function(n,e){this.id=N$e++,n._gsap=this,this.target=n,this.harness=e,this.get=e?e.get:gve,this.set=e?e.getSetter:F7},QC=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,gS(this,+t.duration,1,1),this.data=t.data,si&&(this._ctx=si,si.data.push(this)),qC||sc.wake()}var e=n.prototype;return e.delay=function(t){return t||t===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,gS(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,r){if(vS(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(tF(this,t),!i._dp||i.parent||bve(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Ld(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Cr||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),vve(this,t,r)),this},e.time=function(t,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Cte(this))%(this._dur+this._rDelay)||(t?this._dur:0),r):this._time},e.totalProgress=function(t,r){return arguments.length?this.totalTime(this.totalDuration()*t,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-t:t)+Cte(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,r){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,r):this._repeat?mS(this._tTime,i)+1:1},e.timeScale=function(t,r){if(!arguments.length)return this._rts===-Cr?0:this._rts;if(this._rts===t)return this;var i=this.parent&&this._ts?II(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-Cr?0:this._rts,this.totalTime(S3(-Math.abs(this._delay),this._tDur,i),r!==!1),eF(this),X$e(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(vS(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Cr&&(this._tTime-=Cr)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Ld(r,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(_l(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var r=this.parent||this._dp;return r?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?II(r.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){t===void 0&&(t=V$e);var r=ca;return ca=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),this.data!=="nested"&&t.kill!==!1&&this.kill(),ca=r,this},e.globalTime=function(t){for(var r=this,i=arguments.length?t:r.rawTime();r;)i=r._start+i/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(t):i},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Tte(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var r=this._time;return this._rDelay=t,Tte(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,r){return this.totalTime(au(this,t),_l(r))},e.restart=function(t,r){return this.play().totalTime(t?-this._delay:0,_l(r))},e.play=function(t,r){return t!=null&&this.seek(t,r),this.reversed(!1).paused(!1)},e.reverse=function(t,r){return t!=null&&this.seek(t||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(t,r){return t!=null&&this.seek(t,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-Cr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Cr,this},e.isActive=function(){var t=this.parent||this._dp,r=this._start,i;return!!(!t||this._ts&&this._initted&&t.isActive()&&(i=t.rawTime(!0))>=r&&i<this.endTime(!0)-Cr)},e.eventCallback=function(t,r,i){var s=this.vars;return arguments.length>1?(r?(s[t]=r,i&&(s[t+"Params"]=i),t==="onUpdate"&&(this._onUpdate=r)):delete s[t],this):s[t]},e.then=function(t){var r=this;return new Promise(function(i){var s=Ni(t)?t:xve,o=function(){var a=r.then;r.then=null,Ni(s)&&(s=s(r))&&(s.then||s===r)&&(r.then=a),i(s),r.then=a};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},e.kill=function(){G2(this)},n}();Gu(QC.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Cr,_prom:0,_ps:!1,_rts:1});var Fa=function(n){ove(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=_l(r.sortChildren),gi&&Ld(r.parent||gi,tp(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&wve(tp(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(r,i,s){return EE(0,arguments,this),this},t.from=function(r,i,s){return EE(1,arguments,this),this},t.fromTo=function(r,i,s,o){return EE(2,arguments,this),this},t.set=function(r,i,s){return i.duration=0,i.parent=this,ME(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new ws(r,i,au(this,s),1),this},t.call=function(r,i,s){return Ld(this,ws.delayedCall(0,r,i),s)},t.staggerTo=function(r,i,s,o,a,l,c){return s.duration=i,s.stagger=s.stagger||o,s.onComplete=l,s.onCompleteParams=c,s.parent=this,new ws(r,s,au(this,a)),this},t.staggerFrom=function(r,i,s,o,a,l,c){return s.runBackwards=1,ME(s).immediateRender=_l(s.immediateRender),this.staggerTo(r,i,s,o,a,l,c)},t.staggerFromTo=function(r,i,s,o,a,l,c,u){return o.startAt=s,ME(o).immediateRender=_l(o.immediateRender),this.staggerTo(r,i,o,a,l,c,u)},t.render=function(r,i,s){var o=this._time,a=this._dirty?this.totalDuration():this._tDur,l=this._dur,c=r<=0?0:go(r),u=this._zTime<0!=r<0&&(this._initted||!l),f,d,p,m,g,y,x,_,b,w,M,C;if(this!==gi&&c>a&&r>=0&&(c=a),c!==this._tTime||s||u){if(o!==this._time&&l&&(c+=this._time-o,r+=this._time-o),f=c,b=this._start,_=this._ts,y=!_,u&&(l||(o=this._zTime),(r||!i)&&(this._zTime=r)),this._repeat){if(M=this._yoyo,g=l+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(g*100+r,i,s);if(f=go(c%g),c===a?(m=this._repeat,f=l):(m=~~(c/g),m&&m===c/g&&(f=l,m--),f>l&&(f=l)),w=mS(this._tTime,g),!o&&this._tTime&&w!==m&&this._tTime-w*g-this._dur<=0&&(w=m),M&&m&1&&(f=l-f,C=1),m!==w&&!this._lock){var R=M&&w&1,E=R===(M&&m&1);if(m<w&&(R=!R),o=R?0:c%l?l:c,this._lock=1,this.render(o||(C?0:go(m*g)),i,!l)._lock=0,this._tTime=c,!i&&this.parent&&cc(this,"onRepeat"),this.vars.repeatRefresh&&!C&&(this.invalidate()._lock=1),o&&o!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,a=this._tDur,E&&(this._lock=2,o=R?l:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!C&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;Fve(this,C)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=q$e(this,go(o),go(f)),x&&(c-=f-(f=x._start))),this._tTime=c,this._time=f,this._act=!_,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&f&&!i&&!m&&(cc(this,"onStart"),this._tTime!==c))return this;if(f>=o&&r>=0)for(d=this._first;d;){if(p=d._next,(d._act||f>=d._start)&&d._ts&&x!==d){if(d.parent!==this)return this.render(r,i,s);if(d.render(d._ts>0?(f-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(f-d._start)*d._ts,i,s),f!==this._time||!this._ts&&!y){x=0,p&&(c+=this._zTime=-Cr);break}}d=p}else{d=this._last;for(var B=r<0?r:f;d;){if(p=d._prev,(d._act||B<=d._end)&&d._ts&&x!==d){if(d.parent!==this)return this.render(r,i,s);if(d.render(d._ts>0?(B-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(B-d._start)*d._ts,i,s||ca&&(d._initted||d._startAt)),f!==this._time||!this._ts&&!y){x=0,p&&(c+=this._zTime=B?-Cr:Cr);break}}d=p}}if(x&&!i&&(this.pause(),x.render(f>=o?0:-Cr)._zTime=f>=o?1:-1,this._ts))return this._start=b,eF(this),this.render(r,i,s);this._onUpdate&&!i&&cc(this,"onUpdate",!0),(c===a&&this._tTime>=this.totalDuration()||!c&&o)&&(b===this._start||Math.abs(_)!==Math.abs(this._ts))&&(this._lock||((r||!l)&&(c===a&&this._ts>0||!c&&this._ts<0)&&E0(this,1),!i&&!(r<0&&!o)&&(c||o||!a)&&(cc(this,c===a&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<a&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,i){var s=this;if(Xp(i)||(i=au(this,i,r)),!(r instanceof QC)){if(ua(r))return r.forEach(function(o){return s.add(o,i)}),this;if(_o(r))return this.addLabel(r,i);if(Ni(r))r=ws.delayedCall(0,r);else return this}return this!==r?Ld(this,r,i):this},t.getChildren=function(r,i,s,o){r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=-Ru);for(var a=[],l=this._first;l;)l._start>=o&&(l instanceof ws?i&&a.push(l):(s&&a.push(l),r&&a.push.apply(a,l.getChildren(!0,i,s)))),l=l._next;return a},t.getById=function(r){for(var i=this.getChildren(1,1,1),s=i.length;s--;)if(i[s].vars.id===r)return i[s]},t.remove=function(r){return _o(r)?this.removeLabel(r):Ni(r)?this.killTweensOf(r):(ZO(this,r),r===this._recent&&(this._recent=this._last),g1(this))},t.totalTime=function(r,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=go(sc.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,i),this._forcing=0,this):this._tTime},t.addLabel=function(r,i){return this.labels[r]=au(this,i),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,i,s){var o=ws.delayedCall(0,i||YC,s);return o.data="isPause",this._hasPause=1,Ld(this,o,au(this,r))},t.removePause=function(r){var i=this._first;for(r=au(this,r);i;)i._start===r&&i.data==="isPause"&&E0(i),i=i._next},t.killTweensOf=function(r,i,s){for(var o=this.getTweensOf(r,s),a=o.length;a--;)Pg!==o[a]&&o[a].kill(r,i);return this},t.getTweensOf=function(r,i){for(var s=[],o=Pu(r),a=this._first,l=Xp(i),c;a;)a instanceof ws?j$e(a._targets,o)&&(l?(!Pg||a._initted&&a._ts)&&a.globalTime(0)<=i&&a.globalTime(a.totalDuration())>i:!i||a.isActive())&&s.push(a):(c=a.getTweensOf(o,i)).length&&s.push.apply(s,c),a=a._next;return s},t.tweenTo=function(r,i){i=i||{};var s=this,o=au(s,r),a=i,l=a.startAt,c=a.onStart,u=a.onStartParams,f=a.immediateRender,d,p=ws.to(s,Gu({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:i.duration||Math.abs((o-(l&&"time"in l?l.time:s._time))/s.timeScale())||Cr,onStart:function(){if(s.pause(),!d){var m=i.duration||Math.abs((o-(l&&"time"in l?l.time:s._time))/s.timeScale());p._dur!==m&&gS(p,m,0,1).render(p._time,!0,!0),d=1}c&&c.apply(p,u||[])}},i));return f?p.render(0):p},t.tweenFromTo=function(r,i,s){return this.tweenTo(i,Gu({startAt:{time:au(this,r)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),Rte(this,au(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),Rte(this,au(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Cr)},t.shiftChildren=function(r,i,s){s===void 0&&(s=0);for(var o=this._first,a=this.labels,l;o;)o._start>=s&&(o._start+=r,o._end+=r),o=o._next;if(i)for(l in a)a[l]>=s&&(a[l]+=r);return g1(this)},t.invalidate=function(r){var i=this._first;for(this._lock=0;i;)i.invalidate(r),i=i._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var i=this._first,s;i;)s=i._next,this.remove(i),i=s;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),g1(this)},t.totalDuration=function(r){var i=0,s=this,o=s._last,a=Ru,l,c,u;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-r:r));if(s._dirty){for(u=s.parent;o;)l=o._prev,o._dirty&&o.totalDuration(),c=o._start,c>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,Ld(s,o,c-o._delay,1)._lock=0):a=c,c<0&&o._ts&&(i-=c,(!u&&!s._dp||u&&u.smoothChildTiming)&&(s._start+=c/s._ts,s._time-=c,s._tTime-=c),s.shiftChildren(-c,!1,-1/0),a=0),o._end>i&&o._ts&&(i=o._end),o=l;gS(s,s===gi&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(r){if(gi._ts&&(vve(gi,II(r,gi)),mve=sc.frame),sc.frame>=Mte){Mte+=gc.autoSleep||120;var i=gi._first;if((!i||!i._ts)&&gc.autoSleep&&sc._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||sc.sleep()}}},e}(QC);Gu(Fa.prototype,{_lock:0,_hasPause:0,_forcing:0});var hXe=function(n,e,t,r,i,s,o){var a=new wl(this._pt,n,e,0,1,Wve,null,i),l=0,c=0,u,f,d,p,m,g,y,x;for(a.b=t,a.e=r,t+="",r+="",(y=~r.indexOf("random("))&&(r=KC(r)),s&&(x=[t,r],s(x,n,e),t=x[0],r=x[1]),f=t.match(SU)||[];u=SU.exec(r);)p=u[0],m=r.substring(l,u.index),d?d=(d+1)%5:m.substr(-5)==="rgba("&&(d=1),p!==f[c++]&&(g=parseFloat(f[c-1])||0,a._pt={_next:a._pt,p:m||c===1?m:",",s:g,c:p.charAt(1)==="="?Pw(g,p)-g:parseFloat(p)-g,m:d&&d<4?Math.round:0},l=SU.lastIndex);return a.c=l<r.length?r.substring(l,r.length):"",a.fp=o,(uve.test(r)||y)&&(a.e=0),this._pt=a,a},I7=function(n,e,t,r,i,s,o,a,l,c){Ni(r)&&(r=r(i||0,n,s));var u=n[e],f=t!=="get"?t:Ni(u)?l?n[e.indexOf("set")||!Ni(n["get"+e.substr(3)])?e:"get"+e.substr(3)](l):n[e]():u,d=Ni(u)?l?yXe:Vve:O7,p;if(_o(r)&&(~r.indexOf("random(")&&(r=KC(r)),r.charAt(1)==="="&&(p=Pw(f,r)+(ra(f)||0),(p||p===0)&&(r=p))),!c||f!==r||F9)return!isNaN(f*r)&&r!==""?(p=new wl(this._pt,n,e,+f||0,r-(f||0),typeof u=="boolean"?_Xe:jve,0,d),l&&(p.fp=l),o&&p.modifier(o,this,n),this._pt=p):(!u&&!(e in n)&&P7(e,r),hXe.call(this,n,e,f,r,d,a||gc.stringFilter,l))},pXe=function(n,e,t,r,i){if(Ni(n)&&(n=CE(n,i,e,t,r)),!sh(n)||n.style&&n.nodeType||ua(n)||lve(n))return _o(n)?CE(n,i,e,t,r):n;var s={},o;for(o in n)s[o]=CE(n[o],i,e,t,r);return s},zve=function(n,e,t,r,i,s){var o,a,l,c;if(tc[n]&&(o=new tc[n]).init(i,o.rawVars?e[n]:pXe(e[n],r,i,s,t),t,r,s)!==!1&&(t._pt=a=new wl(t._pt,i,n,0,1,o.render,o,0,o.priority),t!==Jb))for(l=t._ptLookup[t._targets.indexOf(i)],c=o._props.length;c--;)l[o._props[c]]=a;return o},Pg,F9,L7=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.runBackwards,f=i.yoyoEase,d=i.keyframes,p=i.autoRevert,m=e._dur,g=e._startAt,y=e._targets,x=e.parent,_=x&&x.data==="nested"?x.vars.targets:y,b=e._overwrite==="auto"&&!E7,w=e.timeline,M,C,R,E,B,D,N,z,H,U,W,X,q;if(w&&(!d||!s)&&(s="none"),e._ease=v1(s,pS.ease),e._yEase=f?Ove(v1(f===!0?s:f,pS.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!w&&!!i.runBackwards,!w||d&&!i.stagger){if(z=y[0]?m1(y[0]).harness:0,X=z&&i[z.prop],M=kI(i,B7),g&&(g._zTime<0&&g.progress(1),t<0&&u&&a&&!p?g.render(-1,!0):g.revert(u&&m?qD:H$e),g._lazy=0),o){if(E0(e._startAt=ws.set(y,Gu({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!g&&_l(l),startAt:null,delay:0,onUpdate:c&&function(){return cc(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ca||!a&&!p)&&e._startAt.revert(qD),a&&m&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(u&&m&&!g){if(t&&(a=!1),R=Gu({overwrite:!1,data:"isFromStart",lazy:a&&!g&&_l(l),immediateRender:a,stagger:0,parent:x},M),X&&(R[z.prop]=X),E0(e._startAt=ws.set(y,R)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ca?e._startAt.revert(qD):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,Cr,Cr);else if(!t)return}for(e._pt=e._ptCache=0,l=m&&_l(l)||l&&!m,C=0;C<y.length;C++){if(B=y[C],N=B._gsap||k7(y)[C]._gsap,e._ptLookup[C]=U={},B9[N.id]&&qg.length&&DI(),W=_===y?C:_.indexOf(B),z&&(H=new z).init(B,X||M,e,W,_)!==!1&&(e._pt=E=new wl(e._pt,B,H.name,0,1,H.render,H,0,H.priority),H._props.forEach(function(L){U[L]=E}),H.priority&&(D=1)),!z||X)for(R in M)tc[R]&&(H=zve(R,M,e,W,B,_))?H.priority&&(D=1):U[R]=E=I7.call(e,B,R,"get",M[R],W,_,0,i.stringFilter);e._op&&e._op[C]&&e.kill(B,e._op[C]),b&&e._pt&&(Pg=e,gi.killTweensOf(B,U,e.globalTime(t)),q=!e.parent,Pg=0),e._pt&&l&&(B9[N.id]=1)}D&&$ve(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!q,d&&t<=0&&w.render(Ru,!0,!0)},mXe=function(n,e,t,r,i,s,o,a){var l=(n._pt&&n._ptCache||(n._ptCache={}))[e],c,u,f,d;if(!l)for(l=n._ptCache[e]=[],f=n._ptLookup,d=n._targets.length;d--;){if(c=f[d][e],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==e&&c.fp!==e;)c=c._next;if(!c)return F9=1,n.vars[e]="+=0",L7(n,o),F9=0,a?JC(e+" not eligible for reset"):1;l.push(c)}for(d=l.length;d--;)u=l[d],c=u._pt||u,c.s=(r||r===0)&&!i?r:c.s+(r||0)+s*c.c,c.c=t-c.s,u.e&&(u.e=Zi(t)+ra(u.e)),u.b&&(u.b=c.s+ra(u.b))},gXe=function(n,e){var t=n[0]?m1(n[0]).harness:0,r=t&&t.aliases,i,s,o,a;if(!r)return e;i=J1({},e);for(s in r)if(s in i)for(a=r[s].split(","),o=a.length;o--;)i[a[o]]=i[s];return i},vXe=function(n,e,t,r){var i=e.ease||r||"power1.inOut",s,o;if(ua(e))o=t[n]||(t[n]=[]),e.forEach(function(a,l){return o.push({t:l/(e.length-1)*100,v:a,e:i})});else for(s in e)o=t[s]||(t[s]=[]),s==="ease"||o.push({t:parseFloat(n),v:e[s],e:i})},CE=function(n,e,t,r,i){return Ni(n)?n.call(e,t,r,i):_o(n)&&~n.indexOf("random(")?KC(n):n},Gve=D7+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Hve={};bl(Gve+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return Hve[n]=1});var ws=function(n){ove(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:ME(i))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,d=l.stagger,p=l.overwrite,m=l.keyframes,g=l.defaults,y=l.scrollTrigger,x=l.yoyoEase,_=i.parent||gi,b=(ua(r)||lve(r)?Xp(r[0]):"length"in i)?[r]:Pu(r),w,M,C,R,E,B,D,N;if(a._targets=b.length?k7(b):JC("GSAP target "+r+" not found. https://gsap.com",!gc.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,m||d||YP(c)||YP(u)){if(i=a.vars,w=a.timeline=new Fa({data:"nested",defaults:g||{},targets:_&&_.data==="nested"?_.vars.targets:b}),w.kill(),w.parent=w._dp=tp(a),w._start=0,d||YP(c)||YP(u)){if(R=b.length,D=d&&Eve(d),sh(d))for(E in d)~Gve.indexOf(E)&&(N||(N={}),N[E]=d[E]);for(M=0;M<R;M++)C=kI(i,Hve),C.stagger=0,x&&(C.yoyoEase=x),N&&J1(C,N),B=b[M],C.duration=+CE(c,tp(a),M,B,b),C.delay=(+CE(u,tp(a),M,B,b)||0)-a._delay,!d&&R===1&&C.delay&&(a._delay=u=C.delay,a._start+=u,C.delay=0),w.to(B,C,D?D(M,B,b):0),w._ease=Vn.none;w.duration()?c=u=0:a.timeline=0}else if(m){ME(Gu(w.vars.defaults,{ease:"none"})),w._ease=v1(m.ease||i.ease||"none");var z=0,H,U,W;if(ua(m))m.forEach(function(X){return w.to(b,X,">")}),w.duration();else{C={};for(E in m)E==="ease"||E==="easeEach"||vXe(E,m[E],C,m.easeEach);for(E in C)for(H=C[E].sort(function(X,q){return X.t-q.t}),z=0,M=0;M<H.length;M++)U=H[M],W={ease:U.e,duration:(U.t-(M?H[M-1].t:0))/100*c},W[E]=U.v,w.to(b,W,z),z+=W.duration;w.duration()<c&&w.to({},{duration:c-w.duration()})}}c||a.duration(c=w.duration())}else a.timeline=0;return p===!0&&!E7&&(Pg=tp(a),gi.killTweensOf(b),Pg=0),Ld(_,tp(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!c&&!m&&a._start===go(_._time)&&_l(f)&&J$e(tp(a))&&_.data!=="nested")&&(a._tTime=-Cr,a.render(Math.max(0,-u)||0)),y&&wve(tp(a),y),a}var t=e.prototype;return t.render=function(r,i,s){var o=this._time,a=this._tDur,l=this._dur,c=r<0,u=r>a-Cr&&!c?a:r<Cr?0:r,f,d,p,m,g,y,x,_,b;if(!l)K$e(this,r,i,s);else if(u!==this._tTime||!r||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(f=u,_=this.timeline,this._repeat){if(m=l+this._rDelay,this._repeat<-1&&c)return this.totalTime(m*100+r,i,s);if(f=go(u%m),u===a?(p=this._repeat,f=l):(p=~~(u/m),p&&p===go(u/m)&&(f=l,p--),f>l&&(f=l)),y=this._yoyo&&p&1,y&&(b=this._yEase,f=l-f),g=mS(this._tTime,m),f===o&&!s&&this._initted&&p===g)return this._tTime=u,this;p!==g&&(_&&this._yEase&&Fve(_,y),this.vars.repeatRefresh&&!y&&!this._lock&&this._time!==m&&this._initted&&(this._lock=s=1,this.render(go(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(Sve(this,c?r:f,s,i,u))return this._tTime=0,this;if(o!==this._time&&!(s&&this.vars.repeatRefresh&&p!==g))return this;if(l!==this._dur)return this.render(r,i,s)}if(this._tTime=u,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(b||this._ease)(f/l),this._from&&(this.ratio=x=1-x),f&&!o&&!i&&!p&&(cc(this,"onStart"),this._tTime!==u))return this;for(d=this._pt;d;)d.r(x,d.d),d=d._next;_&&_.render(r<0?r:_._dur*_._ease(f/this._dur),i,s)||this._startAt&&(this._zTime=r),this._onUpdate&&!i&&(c&&D9(this,r,i,s),cc(this,"onUpdate")),this._repeat&&p!==g&&this.vars.onRepeat&&!i&&this.parent&&cc(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(c&&!this._onUpdate&&D9(this,r,!0,!0),(r||!l)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&E0(this,1),!i&&!(c&&!o)&&(u||o||y)&&(cc(this,u===a?"onComplete":"onReverseComplete",!0),this._prom&&!(u<a&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,i,s,o,a){qC||sc.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||L7(this,l),c=this._ease(l/this._dur),mXe(this,r,i,s,o,c,l,a)?this.resetTo(r,i,s,o,1):(tF(this,0),this.parent||_ve(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,i){if(i===void 0&&(i="all"),!r&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?G2(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(r,i,Pg&&Pg.vars.overwrite!==!0)._first||G2(this),this.parent&&s!==this.timeline.totalDuration()&&gS(this,this._dur*this.timeline._tDur/s,0,1),this}var o=this._targets,a=r?Pu(r):o,l=this._ptLookup,c=this._pt,u,f,d,p,m,g,y;if((!i||i==="all")&&$$e(o,a))return i==="all"&&(this._pt=0),G2(this);for(u=this._op=this._op||[],i!=="all"&&(_o(i)&&(m={},bl(i,function(x){return m[x]=1}),i=m),i=gXe(o,i)),y=o.length;y--;)if(~a.indexOf(o[y])){f=l[y],i==="all"?(u[y]=i,p=f,d={}):(d=u[y]=u[y]||{},p=i);for(m in p)g=f&&f[m],g&&((!("kill"in g.d)||g.d.kill(m)===!0)&&ZO(this,g,"_pt"),delete f[m]),d!=="all"&&(d[m]=1)}return this._initted&&!this._pt&&c&&G2(this),this},e.to=function(r,i){return new e(r,i,arguments[2])},e.from=function(r,i){return EE(1,arguments)},e.delayedCall=function(r,i,s,o){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:i,onReverseComplete:i,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:o})},e.fromTo=function(r,i,s){return EE(2,arguments)},e.set=function(r,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(r,i)},e.killTweensOf=function(r,i,s){return gi.killTweensOf(r,i,s)},e}(QC);Gu(ws.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});bl("staggerTo,staggerFrom,staggerFromTo",function(n){ws[n]=function(){var e=new Fa,t=I9.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var O7=function(n,e,t){return n[e]=t},Vve=function(n,e,t){return n[e](t)},yXe=function(n,e,t,r){return n[e](r.fp,t)},xXe=function(n,e,t){return n.setAttribute(e,t)},F7=function(n,e){return Ni(n[e])?Vve:C7(n[e])&&n.setAttribute?xXe:O7},jve=function(n,e){return e.set(e.t,e.p,Math.round((e.s+e.c*n)*1e6)/1e6,e)},_Xe=function(n,e){return e.set(e.t,e.p,!!(e.s+e.c*n),e)},Wve=function(n,e){var t=e._pt,r="";if(!n&&e.b)r=e.b;else if(n===1&&e.e)r=e.e;else{for(;t;)r=t.p+(t.m?t.m(t.s+t.c*n):Math.round((t.s+t.c*n)*1e4)/1e4)+r,t=t._next;r+=e.c}e.set(e.t,e.p,r,e)},N7=function(n,e){for(var t=e._pt;t;)t.r(n,t.d),t=t._next},bXe=function(n,e,t,r){for(var i=this._pt,s;i;)s=i._next,i.p===r&&i.modifier(n,e,t),i=s},wXe=function(n){for(var e=this._pt,t,r;e;)r=e._next,e.p===n&&!e.op||e.op===n?ZO(this,e,"_pt"):e.dep||(t=1),e=r;return!t},SXe=function(n,e,t,r){r.mSet(n,e,r.m.call(r.tween,t,r.mt),r)},$ve=function(n){for(var e=n._pt,t,r,i,s;e;){for(t=e._next,r=i;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:s)?e._prev._next=e:i=e,(e._next=r)?r._prev=e:s=e,e=t}n._pt=i},wl=function(){function n(t,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||jve,this.d=l||this,this.set=c||O7,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(t,r,i){this.mSet=this.mSet||this.set,this.set=SXe,this.m=t,this.mt=i,this.tween=r},n}();bl(D7+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return B7[n]=1});Sc.TweenMax=Sc.TweenLite=ws;Sc.TimelineLite=Sc.TimelineMax=Fa;gi=new Fa({sortChildren:!1,defaults:pS,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});gc.stringFilter=Lve;var y1=[],ZD={},AXe=[],Bte=0,MXe=0,TU=function(n){return(ZD[n]||AXe).map(function(e){return e()})},N9=function(){var n=Date.now(),e=[];n-Bte>2&&(TU("matchMediaInit"),y1.forEach(function(t){var r=t.queries,i=t.conditions,s,o,a,l;for(o in r)s=Bd.matchMedia(r[o]).matches,s&&(a=1),s!==i[o]&&(i[o]=s,l=1);l&&(t.revert(),a&&e.push(t))}),TU("matchMediaRevert"),e.forEach(function(t){return t.onMatch(t,function(r){return t.add(null,r)})}),Bte=n,TU("matchMedia"))},Xve=function(){function n(t,r){this.selector=r&&L9(r),this.data=[],this._r=[],this.isReverted=!1,this.id=MXe++,t&&this.add(t)}var e=n.prototype;return e.add=function(t,r,i){Ni(t)&&(i=r,r=t,t=Ni);var s=this,o=function(){var a=si,l=s.selector,c;return a&&a!==s&&a.data.push(s),i&&(s.selector=L9(i)),si=s,c=r.apply(s,arguments),Ni(c)&&s._r.push(c),si=a,s.selector=l,s.isReverted=!1,c};return s.last=o,t===Ni?o(s,function(a){return s.add(null,a)}):t?s[t]=o:o},e.ignore=function(t){var r=si;si=null,t(this),si=r},e.getTweens=function(){var t=[];return this.data.forEach(function(r){return r instanceof n?t.push.apply(t,r.getTweens()):r instanceof ws&&!(r.parent&&r.parent.data==="nested")&&t.push(r)}),t},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,r){var i=this;if(t?function(){for(var o=i.getTweens(),a=i.data.length,l;a--;)l=i.data[a],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}));for(o.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,u){return u.g-c.g||-1/0}).forEach(function(c){return c.t.revert(t)}),a=i.data.length;a--;)l=i.data[a],l instanceof Fa?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof ws)&&l.revert&&l.revert(t);i._r.forEach(function(c){return c(t,i)}),i.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var s=y1.length;s--;)y1[s].id===this.id&&y1.splice(s,1)},e.revert=function(t){this.kill(t||{})},n}(),EXe=function(){function n(t){this.contexts=[],this.scope=t,si&&si.data.push(this)}var e=n.prototype;return e.add=function(t,r,i){sh(t)||(t={matches:t});var s=new Xve(0,i||this.scope),o=s.conditions={},a,l,c;si&&!s.selector&&(s.selector=si.selector),this.contexts.push(s),r=s.add("onMatch",r),s.queries=t;for(l in t)l==="all"?c=1:(a=Bd.matchMedia(t[l]),a&&(y1.indexOf(s)<0&&y1.push(s),(o[l]=a.matches)&&(c=1),a.addListener?a.addListener(N9):a.addEventListener("change",N9)));return c&&r(s,function(u){return s.add(null,u)}),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach(function(r){return r.kill(t,!0)})},n}(),LI={registerPlugin:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e.forEach(function(r){return Dve(r)})},timeline:function(n){return new Fa(n)},getTweensOf:function(n,e){return gi.getTweensOf(n,e)},getProperty:function(n,e,t,r){_o(n)&&(n=Pu(n)[0]);var i=m1(n||{}).get,s=t?xve:yve;return t==="native"&&(t=""),n&&(e?s((tc[e]&&tc[e].get||i)(n,e,t,r)):function(o,a,l){return s((tc[o]&&tc[o].get||i)(n,o,a,l))})},quickSetter:function(n,e,t){if(n=Pu(n),n.length>1){var r=n.map(function(c){return Dl.quickSetter(c,e,t)}),i=r.length;return function(c){for(var u=i;u--;)r[u](c)}}n=n[0]||{};var s=tc[e],o=m1(n),a=o.harness&&(o.harness.aliases||{})[e]||e,l=s?function(c){var u=new s;Jb._pt=0,u.init(n,t?c+t:c,Jb,0,[n]),u.render(1,u),Jb._pt&&N7(1,Jb)}:o.set(n,a);return s?l:function(c){return l(n,a,t?c+t:c,o,1)}},quickTo:function(n,e,t){var r,i=Dl.to(n,J1((r={},r[e]="+=0.1",r.paused=!0,r),t||{})),s=function(o,a,l){return i.resetTo(e,o,a,l)};return s.tween=i,s},isTweening:function(n){return gi.getTweensOf(n,!0).length>0},defaults:function(n){return n&&n.ease&&(n.ease=v1(n.ease,pS.ease)),Ete(pS,n||{})},config:function(n){return Ete(gc,n||{})},registerEffect:function(n){var e=n.name,t=n.effect,r=n.plugins,i=n.defaults,s=n.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!tc[o]&&!Sc[o]&&JC(e+" effect requires "+o+" plugin.")}),AU[e]=function(o,a,l){return t(Pu(o),Gu(a||{},i),l)},s&&(Fa.prototype[e]=function(o,a,l){return this.add(AU[e](o,sh(a)?a:(l=a)&&{},this),l)})},registerEase:function(n,e){Vn[n]=v1(e)},parseEase:function(n,e){return arguments.length?v1(n,e):Vn},getById:function(n){return gi.getById(n)},exportRoot:function(n,e){n===void 0&&(n={});var t=new Fa(n),r,i;for(t.smoothChildTiming=_l(n.smoothChildTiming),gi.remove(t),t._dp=0,t._time=t._tTime=gi._time,r=gi._first;r;)i=r._next,(e||!(!r._dur&&r instanceof ws&&r.vars.onComplete===r._targets[0]))&&Ld(t,r,r._start-r._delay),r=i;return Ld(gi,t,0),t},context:function(n,e){return n?new Xve(n,e):si},matchMedia:function(n){return new EXe(n)},matchMediaRefresh:function(){return y1.forEach(function(n){var e=n.conditions,t,r;for(r in e)e[r]&&(e[r]=!1,t=1);t&&n.revert()})||N9()},addEventListener:function(n,e){var t=ZD[n]||(ZD[n]=[]);~t.indexOf(e)||t.push(e)},removeEventListener:function(n,e){var t=ZD[n],r=t&&t.indexOf(e);r>=0&&t.splice(r,1)},utils:{wrap:iXe,wrapYoyo:sXe,distribute:Eve,random:Tve,snap:Cve,normalize:rXe,getUnit:ra,clamp:Z$e,splitColor:kve,toArray:Pu,selector:L9,mapRange:Pve,pipe:tXe,unitize:nXe,interpolate:oXe,shuffle:Mve},install:hve,effects:AU,ticker:sc,updateRoot:Fa.updateRoot,plugins:tc,globalTimeline:gi,core:{PropTween:wl,globals:pve,Tween:ws,Timeline:Fa,Animation:QC,getCache:m1,_removeLinkedListItem:ZO,reverting:function(){return ca},context:function(n){return n&&si&&(si.data.push(n),n._ctx=si),si},suppressOverwrites:function(n){return E7=n}}};bl("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return LI[n]=ws[n]});sc.add(Fa.updateRoot);Jb=LI.to({},{duration:0});var CXe=function(n,e){for(var t=n._pt;t&&t.p!==e&&t.op!==e&&t.fp!==e;)t=t._next;return t},TXe=function(n,e){var t=n._targets,r,i,s;for(r in e)for(i=t.length;i--;)s=n._ptLookup[i][r],s&&(s=s.d)&&(s._pt&&(s=CXe(s,r)),s&&s.modifier&&s.modifier(e[r],n,t[i],r))},RU=function(n,e){return{name:n,rawVars:1,init:function(t,r,i){i._onInit=function(s){var o,a;if(_o(r)&&(o={},bl(r,function(l){return o[l]=1}),r=o),e){o={};for(a in r)o[a]=e(r[a]);r=o}TXe(s,r)}}}},Dl=LI.registerPlugin({name:"attr",init:function(n,e,t,r,i){var s,o,a;this.tween=t;for(s in e)a=n.getAttribute(s)||"",o=this.add(n,"setAttribute",(a||0)+"",e[s],r,i,0,0,s),o.op=s,o.b=a,this._props.push(s)},render:function(n,e){for(var t=e._pt;t;)ca?t.set(t.t,t.p,t.b,t):t.r(n,t.d),t=t._next}},{name:"endArray",init:function(n,e){for(var t=e.length;t--;)this.add(n,t,n[t]||0,e[t],0,0,0,0,0,1)}},RU("roundProps",O9),RU("modifiers"),RU("snap",Cve))||LI;ws.version=Fa.version=Dl.version="3.12.5";dve=1;T7()&&vS();Vn.Power0;Vn.Power1;Vn.Power2;Vn.Power3;Vn.Power4;Vn.Linear;Vn.Quad;Vn.Cubic;Vn.Quart;Vn.Quint;Vn.Strong;Vn.Elastic;Vn.Back;Vn.SteppedEase;Vn.Bounce;Vn.Sine;Vn.Expo;Vn.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Dte,Bg,Bw,U7,Vy,kte,z7,RXe=function(){return typeof window<"u"},Jp={},_y=180/Math.PI,Dw=Math.PI/180,V_=Math.atan2,Ite=1e8,G7=/([A-Z])/g,PXe=/(left|right|width|margin|padding|x)/i,BXe=/[\s,\(]\S/,Ud={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},U9=function(n,e){return e.set(e.t,e.p,Math.round((e.s+e.c*n)*1e4)/1e4+e.u,e)},DXe=function(n,e){return e.set(e.t,e.p,n===1?e.e:Math.round((e.s+e.c*n)*1e4)/1e4+e.u,e)},kXe=function(n,e){return e.set(e.t,e.p,n?Math.round((e.s+e.c*n)*1e4)/1e4+e.u:e.b,e)},IXe=function(n,e){var t=e.s+e.c*n;e.set(e.t,e.p,~~(t+(t<0?-.5:.5))+e.u,e)},Jve=function(n,e){return e.set(e.t,e.p,n?e.e:e.b,e)},Yve=function(n,e){return e.set(e.t,e.p,n!==1?e.b:e.e,e)},LXe=function(n,e,t){return n.style[e]=t},OXe=function(n,e,t){return n.style.setProperty(e,t)},FXe=function(n,e,t){return n._gsap[e]=t},NXe=function(n,e,t){return n._gsap.scaleX=n._gsap.scaleY=t},UXe=function(n,e,t,r,i){var s=n._gsap;s.scaleX=s.scaleY=t,s.renderTransform(i,s)},zXe=function(n,e,t,r,i){var s=n._gsap;s[e]=t,s.renderTransform(i,s)},_i="transform",Sl=_i+"Origin",GXe=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in Jp&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Ud[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=ap(i,a)}):this.tfm[e]=o.x?o[e]:ap(i,e),e===Sl&&(this.tfm.zOrigin=o.zOrigin);else return Ud.transform.split(",").forEach(function(a){return n.call(r,a,t)});if(this.props.indexOf(_i)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Sl,t,"")),e=_i}(s||t)&&this.props.push(e,t,s[e])},Kve=function(n){n.translate&&(n.removeProperty("translate"),n.removeProperty("scale"),n.removeProperty("rotate"))},HXe=function(){var n=this.props,e=this.target,t=e.style,r=e._gsap,i,s;for(i=0;i<n.length;i+=3)n[i+1]?e[n[i]]=n[i+2]:n[i+2]?t[n[i]]=n[i+2]:t.removeProperty(n[i].substr(0,2)==="--"?n[i]:n[i].replace(G7,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)r[s]=this.tfm[s];r.svg&&(r.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),i=z7(),(!i||!i.isStart)&&!t[_i]&&(Kve(t),r.zOrigin&&t[Sl]&&(t[Sl]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},qve=function(n,e){var t={target:n,props:[],revert:HXe,save:GXe};return n._gsap||Dl.core.getCache(n),e&&e.split(",").forEach(function(r){return t.save(r)}),t},Qve,z9=function(n,e){var t=Bg.createElementNS?Bg.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),n):Bg.createElement(n);return t&&t.style?t:Bg.createElement(n)},Xd=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(G7,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,yS(t)||t,1)||""},Lte="O,Moz,ms,Ms,Webkit".split(","),yS=function(n,e,t){var r=e||Vy,i=r.style,s=5;if(n in i&&!t)return n;for(n=n.charAt(0).toUpperCase()+n.substr(1);s--&&!(Lte[s]+n in i););return s<0?null:(s===3?"ms":s>=0?Lte[s]:"")+n},G9=function(){RXe()&&window.document&&(Dte=window,Bg=Dte.document,Bw=Bg.documentElement,Vy=z9("div")||{style:{}},z9("div"),_i=yS(_i),Sl=_i+"Origin",Vy.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Qve=!!yS("perspective"),z7=Dl.core.reverting,U7=1)},PU=function n(e){var t=z9("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Bw.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Bw.removeChild(t),this.style.cssText=s,o},Ote=function(n,e){for(var t=e.length;t--;)if(n.hasAttribute(e[t]))return n.getAttribute(e[t])},Zve=function(n){var e;try{e=n.getBBox()}catch{e=PU.call(n,!0)}return e&&(e.width||e.height)||n.getBBox===PU||(e=PU.call(n,!0)),e&&!e.width&&!e.x&&!e.y?{x:+Ote(n,["x","cx","x1"])||0,y:+Ote(n,["y","cy","y1"])||0,width:0,height:0}:e},eye=function(n){return!!(n.getCTM&&(!n.parentNode||n.ownerSVGElement)&&Zve(n))},Y1=function(n,e){if(e){var t=n.style,r;e in Jp&&e!==Sl&&(e=_i),t.removeProperty?(r=e.substr(0,2),(r==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),t.removeProperty(r==="--"?e:e.replace(G7,"-$1").toLowerCase())):t.removeAttribute(e)}},Dg=function(n,e,t,r,i,s){var o=new wl(n._pt,e,t,0,1,s?Yve:Jve);return n._pt=o,o.b=r,o.e=i,n._props.push(t),o},Fte={deg:1,rad:1,turn:1},VXe={grid:1,flex:1},C0=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Vy.style,l=PXe.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,d=i==="px",p=i==="%",m,g,y,x;if(i===o||!s||Fte[i]||Fte[o])return s;if(o!=="px"&&!d&&(s=n(e,t,r,"px")),x=e.getCTM&&eye(e),(p||o==="%")&&(Jp[t]||~t.indexOf("adius")))return m=x?e.getBBox()[l?"width":"height"]:e[u],Zi(p?s/m*f:s/100*m);if(a[l?"width":"height"]=f+(d?o:i),g=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,x&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===Bg||!g.appendChild)&&(g=Bg.body),y=g._gsap,y&&p&&y.width&&l&&y.time===sc.time&&!y.uncache)return Zi(s/y.width*f);if(p&&(t==="height"||t==="width")){var _=e.style[t];e.style[t]=f+i,m=e[u],_?e.style[t]=_:Y1(e,t)}else(p||o==="%")&&!VXe[Xd(g,"display")]&&(a.position=Xd(e,"position")),g===e&&(a.position="static"),g.appendChild(Vy),m=Vy[u],g.removeChild(Vy),a.position="absolute";return l&&p&&(y=m1(g),y.time=sc.time,y.width=g[u]),Zi(d?m*s/f:m&&s?f/m*s:0)},ap=function(n,e,t,r){var i;return U7||G9(),e in Ud&&e!=="transform"&&(e=Ud[e],~e.indexOf(",")&&(e=e.split(",")[0])),Jp[e]&&e!=="transform"?(i=eT(n,r),i=e!=="transformOrigin"?i[e]:i.svg?i.origin:FI(Xd(n,Sl))+" "+i.zOrigin+"px"):(i=n.style[e],(!i||i==="auto"||r||~(i+"").indexOf("calc("))&&(i=OI[e]&&OI[e](n,e,t)||Xd(n,e)||gve(n,e)||(e==="opacity"?1:0))),t&&!~(i+"").trim().indexOf(" ")?C0(n,e,i,t)+t:i},jXe=function(n,e,t,r){if(!t||t==="none"){var i=yS(e,n,1),s=i&&Xd(n,i,1);s&&s!==t?(e=i,t=s):e==="borderColor"&&(t=Xd(n,"borderTopColor"))}var o=new wl(this._pt,n.style,e,0,1,Wve),a=0,l=0,c,u,f,d,p,m,g,y,x,_,b,w;if(o.b=t,o.e=r,t+="",r+="",r==="auto"&&(m=n.style[e],n.style[e]=r,r=Xd(n,e)||r,m?n.style[e]=m:Y1(n,e)),c=[t,r],Lve(c),t=c[0],r=c[1],f=t.match(Xb)||[],w=r.match(Xb)||[],w.length){for(;u=Xb.exec(r);)g=u[0],x=r.substring(a,u.index),p?p=(p+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(p=1),g!==(m=f[l++]||"")&&(d=parseFloat(m)||0,b=m.substr((d+"").length),g.charAt(1)==="="&&(g=Pw(d,g)+b),y=parseFloat(g),_=g.substr((y+"").length),a=Xb.lastIndex-_.length,_||(_=_||gc.units[e]||b,a===r.length&&(r+=_,o.e+=_)),b!==_&&(d=C0(n,e,m,_)||0),o._pt={_next:o._pt,p:x||l===1?x:",",s:d,c:y-d,m:p&&p<4||e==="zIndex"?Math.round:0});o.c=a<r.length?r.substring(a,r.length):""}else o.r=e==="display"&&r==="none"?Yve:Jve;return uve.test(r)&&(o.e=0),this._pt=o,o},Nte={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},WXe=function(n){var e=n.split(" "),t=e[0],r=e[1]||"50%";return(t==="top"||t==="bottom"||r==="left"||r==="right")&&(n=t,t=r,r=n),e[0]=Nte[t]||t,e[1]=Nte[r]||r,e.join(" ")},$Xe=function(n,e){if(e.tween&&e.tween._time===e.tween._dur){var t=e.t,r=t.style,i=e.u,s=t._gsap,o,a,l;if(i==="all"||i===!0)r.cssText="",a=1;else for(i=i.split(","),l=i.length;--l>-1;)o=i[l],Jp[o]&&(a=1,o=o==="transformOrigin"?Sl:_i),Y1(t,o);a&&(Y1(t,_i),s&&(s.svg&&t.removeAttribute("transform"),eT(t,1),s.uncache=1,Kve(r)))}},OI={clearProps:function(n,e,t,r,i){if(i.data!=="isFromStart"){var s=n._pt=new wl(n._pt,e,t,0,0,$Xe);return s.u=r,s.pr=-10,s.tween=i,n._props.push(t),1}}},ZC=[1,0,0,1,0,0],tye={},nye=function(n){return n==="matrix(1, 0, 0, 1, 0, 0)"||n==="none"||!n},Ute=function(n){var e=Xd(n,_i);return nye(e)?ZC:e.substr(7).match(cve).map(Zi)},H7=function(n,e){var t=n._gsap||m1(n),r=n.style,i=Ute(n),s,o,a,l;return t.svg&&n.getAttribute("transform")?(a=n.transform.baseVal.consolidate().matrix,i=[a.a,a.b,a.c,a.d,a.e,a.f],i.join(",")==="1,0,0,1,0,0"?ZC:i):(i===ZC&&!n.offsetParent&&n!==Bw&&!t.svg&&(a=r.display,r.display="block",s=n.parentNode,(!s||!n.offsetParent)&&(l=1,o=n.nextElementSibling,Bw.appendChild(n)),i=Ute(n),a?r.display=a:Y1(n,"display"),l&&(o?s.insertBefore(n,o):s?s.appendChild(n):Bw.removeChild(n))),e&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},H9=function(n,e,t,r,i,s){var o=n._gsap,a=i||H7(n,!0),l=o.xOrigin||0,c=o.yOrigin||0,u=o.xOffset||0,f=o.yOffset||0,d=a[0],p=a[1],m=a[2],g=a[3],y=a[4],x=a[5],_=e.split(" "),b=parseFloat(_[0])||0,w=parseFloat(_[1])||0,M,C,R,E;t?a!==ZC&&(C=d*g-p*m)&&(R=b*(g/C)+w*(-m/C)+(m*x-g*y)/C,E=b*(-p/C)+w*(d/C)-(d*x-p*y)/C,b=R,w=E):(M=Zve(n),b=M.x+(~_[0].indexOf("%")?b/100*M.width:b),w=M.y+(~(_[1]||_[0]).indexOf("%")?w/100*M.height:w)),r||r!==!1&&o.smooth?(y=b-l,x=w-c,o.xOffset=u+(y*d+x*m)-y,o.yOffset=f+(y*p+x*g)-x):o.xOffset=o.yOffset=0,o.xOrigin=b,o.yOrigin=w,o.smooth=!!r,o.origin=e,o.originIsAbsolute=!!t,n.style[Sl]="0px 0px",s&&(Dg(s,o,"xOrigin",l,b),Dg(s,o,"yOrigin",c,w),Dg(s,o,"xOffset",u,o.xOffset),Dg(s,o,"yOffset",f,o.yOffset)),n.setAttribute("data-svg-origin",b+" "+w)},eT=function(n,e){var t=n._gsap||new Uve(n);if("x"in t&&!e&&!t.uncache)return t;var r=n.style,i=t.scaleX<0,s="px",o="deg",a=getComputedStyle(n),l=Xd(n,Sl)||"0",c,u,f,d,p,m,g,y,x,_,b,w,M,C,R,E,B,D,N,z,H,U,W,X,q,L,I,O,F,j,te,re;return c=u=f=m=g=y=x=_=b=0,d=p=1,t.svg=!!(n.getCTM&&eye(n)),a.translate&&((a.translate!=="none"||a.scale!=="none"||a.rotate!=="none")&&(r[_i]=(a.translate!=="none"?"translate3d("+(a.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(a.rotate!=="none"?"rotate("+a.rotate+") ":"")+(a.scale!=="none"?"scale("+a.scale.split(" ").join(",")+") ":"")+(a[_i]!=="none"?a[_i]:"")),r.scale=r.rotate=r.translate="none"),C=H7(n,t.svg),t.svg&&(t.uncache?(q=n.getBBox(),l=t.xOrigin-q.x+"px "+(t.yOrigin-q.y)+"px",X=""):X=!e&&n.getAttribute("data-svg-origin"),H9(n,X||l,!!X||t.originIsAbsolute,t.smooth!==!1,C)),w=t.xOrigin||0,M=t.yOrigin||0,C!==ZC&&(D=C[0],N=C[1],z=C[2],H=C[3],c=U=C[4],u=W=C[5],C.length===6?(d=Math.sqrt(D*D+N*N),p=Math.sqrt(H*H+z*z),m=D||N?V_(N,D)*_y:0,x=z||H?V_(z,H)*_y+m:0,x&&(p*=Math.abs(Math.cos(x*Dw))),t.svg&&(c-=w-(w*D+M*z),u-=M-(w*N+M*H))):(re=C[6],j=C[7],I=C[8],O=C[9],F=C[10],te=C[11],c=C[12],u=C[13],f=C[14],R=V_(re,F),g=R*_y,R&&(E=Math.cos(-R),B=Math.sin(-R),X=U*E+I*B,q=W*E+O*B,L=re*E+F*B,I=U*-B+I*E,O=W*-B+O*E,F=re*-B+F*E,te=j*-B+te*E,U=X,W=q,re=L),R=V_(-z,F),y=R*_y,R&&(E=Math.cos(-R),B=Math.sin(-R),X=D*E-I*B,q=N*E-O*B,L=z*E-F*B,te=H*B+te*E,D=X,N=q,z=L),R=V_(N,D),m=R*_y,R&&(E=Math.cos(R),B=Math.sin(R),X=D*E+N*B,q=U*E+W*B,N=N*E-D*B,W=W*E-U*B,D=X,U=q),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,y=180-y),d=Zi(Math.sqrt(D*D+N*N+z*z)),p=Zi(Math.sqrt(W*W+re*re)),R=V_(U,W),x=Math.abs(R)>2e-4?R*_y:0,b=te?1/(te<0?-te:te):0),t.svg&&(X=n.getAttribute("transform"),t.forceCSS=n.setAttribute("transform","")||!nye(Xd(n,_i)),X&&n.setAttribute("transform",X))),Math.abs(x)>90&&Math.abs(x)<270&&(i?(d*=-1,x+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,x+=x<=0?180:-180)),e=e||t.uncache,t.x=c-((t.xPercent=c&&(!e&&t.xPercent||(Math.round(n.offsetWidth/2)===Math.round(-c)?-50:0)))?n.offsetWidth*t.xPercent/100:0)+s,t.y=u-((t.yPercent=u&&(!e&&t.yPercent||(Math.round(n.offsetHeight/2)===Math.round(-u)?-50:0)))?n.offsetHeight*t.yPercent/100:0)+s,t.z=f+s,t.scaleX=Zi(d),t.scaleY=Zi(p),t.rotation=Zi(m)+o,t.rotationX=Zi(g)+o,t.rotationY=Zi(y)+o,t.skewX=x+o,t.skewY=_+o,t.transformPerspective=b+s,(t.zOrigin=parseFloat(l.split(" ")[2])||!e&&t.zOrigin||0)&&(r[Sl]=FI(l)),t.xOffset=t.yOffset=0,t.force3D=gc.force3D,t.renderTransform=t.svg?JXe:Qve?rye:XXe,t.uncache=0,t},FI=function(n){return(n=n.split(" "))[0]+" "+n[1]},BU=function(n,e,t){var r=ra(e);return Zi(parseFloat(e)+parseFloat(C0(n,"x",t+"px",r)))+r},XXe=function(n,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,rye(n,e)},qv="0deg",QM="0px",Qv=") ",rye=function(n,e){var t=e||this,r=t.xPercent,i=t.yPercent,s=t.x,o=t.y,a=t.z,l=t.rotation,c=t.rotationY,u=t.rotationX,f=t.skewX,d=t.skewY,p=t.scaleX,m=t.scaleY,g=t.transformPerspective,y=t.force3D,x=t.target,_=t.zOrigin,b="",w=y==="auto"&&n&&n!==1||y===!0;if(_&&(u!==qv||c!==qv)){var M=parseFloat(c)*Dw,C=Math.sin(M),R=Math.cos(M),E;M=parseFloat(u)*Dw,E=Math.cos(M),s=BU(x,s,C*E*-_),o=BU(x,o,-Math.sin(M)*-_),a=BU(x,a,R*E*-_+_)}g!==QM&&(b+="perspective("+g+Qv),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(w||s!==QM||o!==QM||a!==QM)&&(b+=a!==QM||w?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+Qv),l!==qv&&(b+="rotate("+l+Qv),c!==qv&&(b+="rotateY("+c+Qv),u!==qv&&(b+="rotateX("+u+Qv),(f!==qv||d!==qv)&&(b+="skew("+f+", "+d+Qv),(p!==1||m!==1)&&(b+="scale("+p+", "+m+Qv),x.style[_i]=b||"translate(0, 0)"},JXe=function(n,e){var t=e||this,r=t.xPercent,i=t.yPercent,s=t.x,o=t.y,a=t.rotation,l=t.skewX,c=t.skewY,u=t.scaleX,f=t.scaleY,d=t.target,p=t.xOrigin,m=t.yOrigin,g=t.xOffset,y=t.yOffset,x=t.forceCSS,_=parseFloat(s),b=parseFloat(o),w,M,C,R,E;a=parseFloat(a),l=parseFloat(l),c=parseFloat(c),c&&(c=parseFloat(c),l+=c,a+=c),a||l?(a*=Dw,l*=Dw,w=Math.cos(a)*u,M=Math.sin(a)*u,C=Math.sin(a-l)*-f,R=Math.cos(a-l)*f,l&&(c*=Dw,E=Math.tan(l-c),E=Math.sqrt(1+E*E),C*=E,R*=E,c&&(E=Math.tan(c),E=Math.sqrt(1+E*E),w*=E,M*=E)),w=Zi(w),M=Zi(M),C=Zi(C),R=Zi(R)):(w=u,R=f,M=C=0),(_&&!~(s+"").indexOf("px")||b&&!~(o+"").indexOf("px"))&&(_=C0(d,"x",s,"px"),b=C0(d,"y",o,"px")),(p||m||g||y)&&(_=Zi(_+p-(p*w+m*C)+g),b=Zi(b+m-(p*M+m*R)+y)),(r||i)&&(E=d.getBBox(),_=Zi(_+r/100*E.width),b=Zi(b+i/100*E.height)),E="matrix("+w+","+M+","+C+","+R+","+_+","+b+")",d.setAttribute("transform",E),x&&(d.style[_i]=E)},YXe=function(n,e,t,r,i){var s=360,o=_o(i),a=parseFloat(i)*(o&&~i.indexOf("rad")?_y:1),l=a-r,c=r+l+"deg",u,f;return o&&(u=i.split("_")[1],u==="short"&&(l%=s,l!==l%(s/2)&&(l+=l<0?s:-s)),u==="cw"&&l<0?l=(l+s*Ite)%s-~~(l/s)*s:u==="ccw"&&l>0&&(l=(l-s*Ite)%s-~~(l/s)*s)),n._pt=f=new wl(n._pt,e,t,r,l,DXe),f.e=c,f.u="deg",n._props.push(t),f},zte=function(n,e){for(var t in e)n[t]=e[t];return n},KXe=function(n,e,t){var r=zte({},t._gsap),i="perspective,force3D,transformOrigin,svgOrigin",s=t.style,o,a,l,c,u,f,d,p;r.svg?(l=t.getAttribute("transform"),t.setAttribute("transform",""),s[_i]=e,o=eT(t,1),Y1(t,_i),t.setAttribute("transform",l)):(l=getComputedStyle(t)[_i],s[_i]=e,o=eT(t,1),s[_i]=l);for(a in Jp)l=r[a],c=o[a],l!==c&&i.indexOf(a)<0&&(d=ra(l),p=ra(c),u=d!==p?C0(t,a,l,p):parseFloat(l),f=parseFloat(c),n._pt=new wl(n._pt,o,a,u,f-u,U9),n._pt.u=p||0,n._props.push(a));zte(o,r)};bl("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});OI[e>1?"border"+n:n]=function(a,l,c,u,f){var d,p;if(arguments.length<4)return d=o.map(function(m){return ap(a,m,c)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(u+"").split(" "),p={},o.forEach(function(m,g){return p[m]=d[g]=d[g]||d[(g-1)/2|0]}),a.init(l,p,f)}});var iye={name:"css",register:G9,targetTest:function(n){return n.style&&n.nodeType},init:function(n,e,t,r,i){var s=this._props,o=n.style,a=t.vars.startAt,l,c,u,f,d,p,m,g,y,x,_,b,w,M,C,R;U7||G9(),this.styles=this.styles||qve(n),R=this.styles.props,this.tween=t;for(m in e)if(m!=="autoRound"&&(c=e[m],!(tc[m]&&zve(m,e,t,r,n,i)))){if(d=typeof c,p=OI[m],d==="function"&&(c=c.call(t,r,n,i),d=typeof c),d==="string"&&~c.indexOf("random(")&&(c=KC(c)),p)p(this,n,m,c,t)&&(C=1);else if(m.substr(0,2)==="--")l=(getComputedStyle(n).getPropertyValue(m)+"").trim(),c+="",Qg.lastIndex=0,Qg.test(l)||(g=ra(l),y=ra(c)),y?g!==y&&(l=C0(n,m,l,y)+y):g&&(c+=g),this.add(o,"setProperty",l,c,r,i,0,0,m),s.push(m),R.push(m,0,o[m]);else if(d!=="undefined"){if(a&&m in a?(l=typeof a[m]=="function"?a[m].call(t,r,n,i):a[m],_o(l)&&~l.indexOf("random(")&&(l=KC(l)),ra(l+"")||l==="auto"||(l+=gc.units[m]||ra(ap(n,m))||""),(l+"").charAt(1)==="="&&(l=ap(n,m))):l=ap(n,m),f=parseFloat(l),x=d==="string"&&c.charAt(1)==="="&&c.substr(0,2),x&&(c=c.substr(2)),u=parseFloat(c),m in Ud&&(m==="autoAlpha"&&(f===1&&ap(n,"visibility")==="hidden"&&u&&(f=0),R.push("visibility",0,o.visibility),Dg(this,o,"visibility",f?"inherit":"hidden",u?"inherit":"hidden",!u)),m!=="scale"&&m!=="transform"&&(m=Ud[m],~m.indexOf(",")&&(m=m.split(",")[0]))),_=m in Jp,_){if(this.styles.save(m),b||(w=n._gsap,w.renderTransform&&!e.parseTransform||eT(n,e.parseTransform),M=e.smoothOrigin!==!1&&w.smooth,b=this._pt=new wl(this._pt,o,_i,0,1,w.renderTransform,w,0,-1),b.dep=1),m==="scale")this._pt=new wl(this._pt,w,"scaleY",w.scaleY,(x?Pw(w.scaleY,x+u):u)-w.scaleY||0,U9),this._pt.u=0,s.push("scaleY",m),m+="X";else if(m==="transformOrigin"){R.push(Sl,0,o[Sl]),c=WXe(c),w.svg?H9(n,c,0,M,0,this):(y=parseFloat(c.split(" ")[2])||0,y!==w.zOrigin&&Dg(this,w,"zOrigin",w.zOrigin,y),Dg(this,o,m,FI(l),FI(c)));continue}else if(m==="svgOrigin"){H9(n,c,1,M,0,this);continue}else if(m in tye){YXe(this,w,m,f,x?Pw(f,x+c):c);continue}else if(m==="smoothOrigin"){Dg(this,w,"smooth",w.smooth,c);continue}else if(m==="force3D"){w[m]=c;continue}else if(m==="transform"){KXe(this,c,n);continue}}else m in o||(m=yS(m)||m);if(_||(u||u===0)&&(f||f===0)&&!BXe.test(c)&&m in o)g=(l+"").substr((f+"").length),u||(u=0),y=ra(c)||(m in gc.units?gc.units[m]:g),g!==y&&(f=C0(n,m,l,y)),this._pt=new wl(this._pt,_?w:o,m,f,(x?Pw(f,x+u):u)-f,!_&&(y==="px"||m==="zIndex")&&e.autoRound!==!1?IXe:U9),this._pt.u=y||0,g!==y&&y!=="%"&&(this._pt.b=l,this._pt.r=kXe);else if(m in o)jXe.call(this,n,m,l,x?x+c:c);else if(m in n)this.add(n,m,l||n[m],x?x+c:c,r,i);else if(m!=="parseTransform"){P7(m,c);continue}_||(m in o?R.push(m,0,o[m]):R.push(m,1,l||n[m])),s.push(m)}}C&&$ve(this)},render:function(n,e){if(e.tween._time||!z7())for(var t=e._pt;t;)t.r(n,t.d),t=t._next;else e.styles.revert()},get:ap,aliases:Ud,getSetter:function(n,e,t){var r=Ud[e];return r&&r.indexOf(",")<0&&(e=r),e in Jp&&e!==Sl&&(n._gsap.x||ap(n,"x"))?t&&kte===t?e==="scale"?NXe:FXe:(kte=t||{})&&(e==="scale"?UXe:zXe):n.style&&!C7(n.style[e])?LXe:~e.indexOf("-")?OXe:F7(n,e)},core:{_removeProperty:Y1,_getMatrix:H7}};Dl.utils.checkPrefix=yS;Dl.core.getStyleSaver=qve;(function(n,e,t,r){var i=bl(n+","+e+","+t,function(s){Jp[s]=1});bl(e,function(s){gc.units[s]="deg",tye[s]=1}),Ud[i[13]]=n+","+e,bl(r,function(s){var o=s.split(":");Ud[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");bl("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){gc.units[n]="px"});Dl.registerPlugin(iye);var V7=Dl.registerPlugin(iye)||Dl;V7.core.Tween;const qXe=()=>{const n=J.useRef(),e=J.useRef({color:"#b9bcff"}),t=c3(),r=J.useRef();return Pc(()=>{r.current.progress(t.scroll.current),n.current.color=new ft(e.current.color)}),J.useEffect(()=>{r.current=V7.timeline(),r.current.to(e.current,{color:"#212121"}),r.current.to(e.current,{color:"#7a7ca5"}),r.current.to(e.current,{color:"#9b96dd"})},[]),Fe.jsx("group",{children:Fe.jsx(fUe,{scale:[30,30,30],children:Fe.jsx("meshBasicMaterial",{ref:n,side:Ha,toneMapped:!1})})})};function QXe(n){const{section:e}=n,{nodes:t,materials:r}=ZS("models/scene.gltf"),i=FO("textures/baked.jpg"),s=iUe("textures/vscode.mp4");i.flipY=!1,i.encoding=ni;const o=new v0({map:i,transparent:!0,opacity:1}),a=new v0({map:i,transparent:!0,opacity:.42}),l=HC(0),c=HC(0);return J.useEffect(()=>{VC(l,e===0?1:0),VC(c,e===0?.42:0)},[e]),Pc(()=>{o.opacity=l.get(),a.opacity=c.get()}),Fe.jsxs("group",{...n,dispose:null,children:[Fe.jsx("mesh",{name:"Screen",geometry:t.Screen.geometry,position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:Fe.jsx("meshBasicMaterial",{map:s,toneMapped:!1})}),Fe.jsxs("group",{name:"Desk",position:[-.07,0,-1.52],rotation:[0,-Math.PI/2,0],children:[Fe.jsx("mesh",{name:"Plane001_Plane002_BlackWood001",geometry:t.Plane001_Plane002_BlackWood001.geometry,material:o}),Fe.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_1",geometry:t.Plane001_Plane002_BlackWood001_1.geometry,material:o}),Fe.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_2",geometry:t.Plane001_Plane002_BlackWood001_2.geometry,material:o}),Fe.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_3",geometry:t.Plane001_Plane002_BlackWood001_3.geometry,material:o}),Fe.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_4",geometry:t.Plane001_Plane002_BlackWood001_4.geometry,material:o})]}),Fe.jsxs("group",{name:"SM_ShelfSM_Shelf1",position:[-.87,1.69,-2.04],children:[Fe.jsx("mesh",{name:"SM_ShelfSM_Shelf1_1",geometry:t.SM_ShelfSM_Shelf1_1.geometry,material:o}),Fe.jsx("mesh",{name:"SM_ShelfSM_Shelf1_1_1",geometry:t.SM_ShelfSM_Shelf1_1_1.geometry,material:o})]}),Fe.jsxs(hu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"LavaLamp",position:[-1.3,2.07,-1.99],children:[Fe.jsx("mesh",{name:"Node-Mesh001",geometry:t["Node-Mesh001"].geometry,material:o}),Fe.jsx("mesh",{name:"Node-Mesh001_1",geometry:t["Node-Mesh001_1"].geometry,material:o}),Fe.jsx("mesh",{name:"Node-Mesh001_2",geometry:t["Node-Mesh001_2"].geometry,material:o})]}),Fe.jsx(hu.mesh,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"WawaRug",geometry:t.WawaRug.geometry,material:o,position:[-.28,.01,.76]}),Fe.jsxs(hu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"salameche",position:[-.61,2.04,-1.96],rotation:[-Math.PI,.73,-Math.PI],children:[Fe.jsx("mesh",{name:"mesh434900071",geometry:t.mesh434900071.geometry,material:o}),Fe.jsx("mesh",{name:"mesh434900071_1",geometry:t.mesh434900071_1.geometry,material:o}),Fe.jsx("mesh",{name:"mesh434900071_2",geometry:t.mesh434900071_2.geometry,material:o}),Fe.jsx("mesh",{name:"mesh434900071_3",geometry:t.mesh434900071_3.geometry,material:o}),Fe.jsx("mesh",{name:"mesh434900071_4",geometry:t.mesh434900071_4.geometry,material:o}),Fe.jsx("mesh",{name:"mesh434900071_5",geometry:t.mesh434900071_5.geometry,material:o})]}),Fe.jsxs("group",{name:"keyboard",position:[.21,.98,-1.21],rotation:[0,-.22,0],scale:.63,children:[Fe.jsx("mesh",{name:"mesh425587018",geometry:t.mesh425587018.geometry,material:o}),Fe.jsx("mesh",{name:"mesh425587018_1",geometry:t.mesh425587018_1.geometry,material:o}),Fe.jsx("mesh",{name:"mesh425587018_2",geometry:t.mesh425587018_2.geometry,material:o}),Fe.jsx("mesh",{name:"mesh425587018_3",geometry:t.mesh425587018_3.geometry,material:o})]}),Fe.jsxs(hu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"iMac",position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:[Fe.jsx("mesh",{name:"iMac_1_1",geometry:t.iMac_1_1.geometry,material:o}),Fe.jsx("mesh",{name:"iMac_1_2",geometry:t.iMac_1_2.geometry,material:o})]}),Fe.jsx("mesh",{name:"Comp_Mouse",geometry:t.Comp_Mouse.geometry,material:o,position:[-.01,0,.08]}),Fe.jsxs(hu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"plant",position:[-.78,1.07,-1.61],children:[Fe.jsx("mesh",{name:"mesh24448074",geometry:t.mesh24448074.geometry,material:o}),Fe.jsx("mesh",{name:"mesh24448074_1",geometry:t.mesh24448074_1.geometry,material:o}),Fe.jsx("mesh",{name:"mesh24448074_2",geometry:t.mesh24448074_2.geometry,material:o})]}),Fe.jsxs(hu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"Houseplant_7",position:[-2.02,-.04,-1.53],rotation:[-Math.PI/2,0,0],children:[Fe.jsx("mesh",{name:"Houseplant_7_1",geometry:t.Houseplant_7_1.geometry,material:o}),Fe.jsx("mesh",{name:"Houseplant_7_2",geometry:t.Houseplant_7_2.geometry,material:o}),Fe.jsx("mesh",{name:"Houseplant_7_3",geometry:t.Houseplant_7_3.geometry,material:o})]}),Fe.jsxs(hu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"palm_tree_01",position:[2.13,-.08,-1.06],rotation:[-Math.PI,.67,-Math.PI],children:[Fe.jsx("mesh",{name:"palm_tree_01-Mesh",geometry:t["palm_tree_01-Mesh"].geometry,material:o}),Fe.jsx("mesh",{name:"palm_tree_01-Mesh_1",geometry:t["palm_tree_01-Mesh_1"].geometry,material:o}),Fe.jsx("mesh",{name:"palm_tree_01-Mesh_2",geometry:t["palm_tree_01-Mesh_2"].geometry,material:o})]}),Fe.jsxs(hu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"Chair",position:[.09,0,-.66],rotation:[0,-.35,0],children:[Fe.jsx("mesh",{name:"Node-Mesh",geometry:t["Node-Mesh"].geometry,material:o}),Fe.jsx("mesh",{name:"Node-Mesh_1",geometry:t["Node-Mesh_1"].geometry,material:o})]}),Fe.jsx("mesh",{name:"Plane001",geometry:t.Plane001.geometry,material:o}),Fe.jsx("mesh",{name:"Plane001_1",geometry:t.Plane001_1.geometry,material:o}),Fe.jsx("mesh",{name:"Plane001_2",geometry:t.Plane001_2.geometry,material:o}),Fe.jsx("mesh",{name:"Plane001_3",geometry:t.Plane001_3.geometry,material:a})]})}ZS.preload("models/scene.gltf");const Ef={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};let ZXe=0;function eJe(n,e){const t=`atom${++ZXe}`,r={toString(){return(Ef?"production":void 0)!=="production"&&this.debugLabel?t+":"+this.debugLabel:t}};return typeof n=="function"?r.read=n:(r.init=n,r.read=tJe,r.write=nJe),r}function tJe(n){return n(this)}function nJe(n,e,t){return e(this,typeof t=="function"?t(n(this)):t)}const Gte=(n,e)=>n.unstable_is?n.unstable_is(e):e===n,DU=n=>"init"in n,kU=n=>!!n.write,TE=Symbol((Ef?"production":void 0)!=="production"?"CONTINUE_PROMISE":""),j7="pending",rJe="fulfilled",iJe="rejected",sJe=n=>typeof n=="object"&&n!==null&&TE in n,KP=new WeakMap,oJe=(n,e,t)=>{if(!KP.has(n)){let r;const i=new Promise((s,o)=>{let a=n;const l=u=>f=>{a===u&&(i.status=rJe,i.value=f,s(f),t())},c=u=>f=>{a===u&&(i.status=iJe,i.reason=f,o(f),t())};n.then(l(n),c(n)),r=(u,f)=>{u&&(KP.set(u,i),a=u,u.then(l(u),c(u)),e(),e=f)}});i.status=j7,i[TE]=r,KP.set(n,i)}return KP.get(n)},aJe=n=>typeof(n==null?void 0:n.then)=="function",Hte=n=>"v"in n||"e"in n,qP=n=>{if("e"in n)throw n.e;if((Ef?"production":void 0)!=="production"&&!("v"in n))throw new Error("[Bug] atom state is not initialized");return n.v},ek=n=>{const e=n.v;return sJe(e)&&e.status===j7?e:null},sye=(n,e,t)=>{t.p.has(n)||(t.p.add(n),e.then(()=>{t.p.delete(n)},()=>{t.p.delete(n)}))},Vte=(n,e,t,r,i)=>{var s;if((Ef?"production":void 0)!=="production"&&r===e)throw new Error("[Bug] atom cannot depend on itself");t.d.set(r,i.n);const o=ek(t);o&&sye(e,o,i),(s=i.m)==null||s.t.add(e),n&&lJe(n,r,e)},j_=()=>[new Map,new Map,new Set],IU=(n,e,t)=>{n[0].has(e)||n[0].set(e,new Set),n[1].set(e,t)},lJe=(n,e,t)=>{const r=n[0].get(e);r&&r.add(t)},cJe=(n,e)=>n[0].get(e),jte=(n,e)=>{n[2].add(e)},Zv=n=>{for(;n[1].size||n[2].size;){n[0].clear();const e=new Set(n[1].values());n[1].clear();const t=new Set(n[2]);n[2].clear(),e.forEach(r=>{var i;return(i=r.m)==null?void 0:i.l.forEach(s=>s())}),t.forEach(r=>r())}},oye=n=>{let e;(Ef?"production":void 0)!=="production"&&(e=new Set);const t=(p,m,g,y=()=>{},x=()=>{})=>{const _="v"in m,b=m.v,w=ek(m);if(aJe(g))if(w)w!==g&&(w[TE](g,y),++m.n);else{const M=oJe(g,y,x);if(M.status===j7)for(const C of m.d.keys())sye(p,M,n(C,m));m.v=M,delete m.e}else w&&w[TE](Promise.resolve(g),y),m.v=g,delete m.e;(!_||!Object.is(b,m.v))&&++m.n},r=(p,m,g,y)=>{if(!(y!=null&&y(m))&&Hte(g)&&(g.m||Array.from(g.d).every(([C,R])=>r(p,C,n(C,g),y).n===R)))return g;g.d.clear();let x=!0;const _=C=>{if(Gte(m,C)){const E=n(C,g);if(!Hte(E))if(DU(C))t(C,E,C.init);else throw new Error("no atom init");return qP(E)}const R=r(p,C,n(C,g),y);if(x)Vte(p,m,g,C,R);else{const E=j_();Vte(E,m,g,C,R),c(E,m,g),Zv(E)}return qP(R)};let b,w;const M={get signal(){return b||(b=new AbortController),b.signal},get setSelf(){return(Ef?"production":void 0)!=="production"&&!kU(m)&&console.warn("setSelf function cannot be used with read-only atom"),!w&&kU(m)&&(w=(...C)=>{if((Ef?"production":void 0)!=="production"&&x&&console.warn("setSelf function cannot be called in sync"),!x)return l(m,...C)}),w}};try{const C=m.read(_,M);return t(m,g,C,()=>b==null?void 0:b.abort(),()=>{if(g.m){const R=j_();c(R,m,g),Zv(R)}}),g}catch(C){return delete g.v,g.e=C,++g.n,g}finally{x=!1}},i=p=>qP(r(void 0,p,n(p))),s=(p,m,g)=>{var y,x;const _=new Map;for(const b of((y=g.m)==null?void 0:y.t)||[])_.set(b,n(b,g));for(const b of g.p)_.set(b,n(b,g));return(x=cJe(p,m))==null||x.forEach(b=>{_.set(b,n(b,g))}),_},o=(p,m,g)=>{const y=[],x=new Set,_=(M,C)=>{if(!x.has(M)){x.add(M);for(const[R,E]of s(p,M,C))M!==R&&_(R,E);y.push([M,C,C.n])}};_(m,g);const b=new Set([m]),w=M=>x.has(M);for(let M=y.length-1;M>=0;--M){const[C,R,E]=y[M];let B=!1;for(const D of R.d.keys())if(D!==C&&b.has(D)){B=!0;break}B&&(r(p,C,R,w),c(p,C,R),E!==R.n&&(IU(p,C,R),b.add(C))),x.delete(C)}},a=(p,m,g,...y)=>{const x=b=>qP(r(p,b,n(b,g))),_=(b,...w)=>{const M=n(b,g);let C;if(Gte(m,b)){if(!DU(b))throw new Error("atom not writable");const R="v"in M,E=M.v,B=w[0];t(b,M,B),c(p,b,M),(!R||!Object.is(E,M.v))&&(IU(p,b,M),o(p,b,M))}else C=a(p,b,M,...w);return Zv(p),C};return m.write(x,_,...y)},l=(p,...m)=>{const g=j_(),y=a(g,p,n(p),...m);return Zv(g),y},c=(p,m,g)=>{if(g.m&&!ek(g)){for(const y of g.d.keys())g.m.d.has(y)||(u(p,y,n(y,g)).t.add(m),g.m.d.add(y));for(const y of g.m.d||[])if(!g.d.has(y)){g.m.d.delete(y);const x=f(p,y,n(y,g));x==null||x.t.delete(m)}}},u=(p,m,g)=>{if(!g.m){r(p,m,g);for(const y of g.d.keys())u(p,y,n(y,g)).t.add(m);if(g.m={l:new Set,d:new Set(g.d.keys()),t:new Set},(Ef?"production":void 0)!=="production"&&e.add(m),kU(m)&&m.onMount){const y=g.m,{onMount:x}=m;jte(p,()=>{const _=x((...b)=>a(p,m,g,...b));_&&(y.u=_)})}}return g.m},f=(p,m,g)=>{if(g.m&&!g.m.l.size&&!Array.from(g.m.t).some(y=>{var x;return(x=n(y,g).m)==null?void 0:x.d.has(m)})){const y=g.m.u;y&&jte(p,y),delete g.m,(Ef?"production":void 0)!=="production"&&e.delete(m);for(const _ of g.d.keys()){const b=f(p,_,n(_,g));b==null||b.t.delete(m)}const x=ek(g);x&&x[TE](void 0,()=>{});return}return g.m},d={get:i,set:l,sub:(p,m)=>{const g=j_(),y=n(p),x=u(g,p,y);Zv(g);const _=x.l;return _.add(m),()=>{_.delete(m);const b=j_();f(b,p,y),Zv(b)}},unstable_derive:p=>oye(...p(n))};return(Ef?"production":void 0)!=="production"&&Object.assign(d,{dev4_get_internal_weak_map:()=>({get:p=>{const m=n(p);if(m.n!==0)return m}}),dev4_get_mounted_atoms:()=>e,dev4_restore_atoms:p=>{const m=j_();for(const[g,y]of p)if(DU(g)){const x=n(g),_="v"in x,b=x.v;t(g,x,y),c(m,g,x),(!_||!Object.is(b,x.v))&&(IU(m,g,x),o(m,g,x))}Zv(m)}}),d},uJe=()=>{const n=new WeakMap;return oye(e=>{let t=n.get(e);return t||(t={d:new Map,p:new Set,n:0},n.set(e,t)),t})};let ZM;const fJe=()=>(ZM||(ZM=uJe(),(Ef?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ZM),globalThis.__JOTAI_DEFAULT_STORE__!==ZM&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ZM),dJe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},hJe=J.createContext(void 0),aye=n=>J.useContext(hJe)||fJe(),pJe=n=>typeof(n==null?void 0:n.then)=="function",mJe=Be.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(n.status="pending",n.then(e=>{n.status="fulfilled",n.value=e},e=>{n.status="rejected",n.reason=e}),n)});function gJe(n,e){const t=aye(),[[r,i,s],o]=J.useReducer(l=>{const c=t.get(n);return Object.is(l[0],c)&&l[1]===t&&l[2]===n?l:[c,t,n]},void 0,()=>[t.get(n),t,n]);let a=r;return(i!==t||s!==n)&&(o(),a=t.get(n)),J.useEffect(()=>{const l=t.sub(n,()=>{o()});return o(),l},[t,n,void 0]),J.useDebugValue(a),pJe(a)?mJe(a):a}function vJe(n,e){const t=aye();return J.useCallback((...r)=>{if((dJe?"production":void 0)!=="production"&&!("write"in n))throw new Error("not writable atom");return t.set(n,...r)},[t,n])}function lye(n,e){return[gJe(n),vJe(n)]}const RE=[{title:"Pizza Co.",url:"https://drive.google.com/drive/folders/1WJWhbQLfe34X3wMmwHkkEnaMTiWoMyme",image:"projects/project1.png",description:"My first React project"},{title:"SIS",url:"https://drive.google.com/drive/folders/1WJWhbQLfe34X3wMmwHkkEnaMTiWoMyme",image:"projects/project2.png",description:"Student Information System I developed using ASP.NET Core"},{title:"UMS ",url:"https://drive.google.com/drive/folders/1WJWhbQLfe34X3wMmwHkkEnaMTiWoMyme",image:"projects/project3.png",description:"The User Management System project that resulted from my internship at Jotform"},{title:"Artech",url:"https://drive.google.com/drive/folders/1WJWhbQLfe34X3wMmwHkkEnaMTiWoMyme",image:"projects/project4.png",description:"The website that resulted from my internship at Artech Global Software Inc"},{title:"Shooping Therapy",url:"https://drive.google.com/drive/folders/1WJWhbQLfe34X3wMmwHkkEnaMTiWoMyme",image:"projects/project5.png",description:"My graduation project developed with React Native technology"}],yJe=n=>{const{project:e,highlighted:t}=n,r=J.useRef(),i=HC(.4);return J.useEffect(()=>{VC(i,t?.7:.4)},[t]),Pc(()=>{r.current.material.opacity=i.get()}),Fe.jsxs("group",{...n,children:[Fe.jsxs("mesh",{"position-z":-.001,onClick:()=>window.open(e.url,"_blank"),ref:r,children:[Fe.jsx("planeGeometry",{args:[2.2,2]}),Fe.jsx("meshBasicMaterial",{color:"black",transparent:!0,opacity:.4})]}),Fe.jsx(rUe,{scale:[2,1.2,1],url:e.image,toneMapped:!1,"position-y":.3}),Fe.jsx(eZ,{maxWidth:2,anchorX:"left",anchorY:"top",fontSize:.2,position:[-1,-.4,0],children:e.title.toUpperCase()}),Fe.jsx(eZ,{maxWidth:2,anchorX:"left",anchorY:"top",fontSize:.1,position:[-1,-.6,0],children:e.description})]})},cye=eJe(Math.floor(RE.length/2)),xJe=()=>{const{viewport:n}=q0(),[e]=lye(cye);return Fe.jsx("group",{"position-y":-n.height*2+1,children:RE.map((t,r)=>Fe.jsx(hu.group,{position:[r*2.5,0,-3],animate:{x:0+(r-e)*2.5,y:e===r?0:-.1,z:e===r?-2:-3,rotateX:e===r?0:-Math.PI/3,rotateZ:e===r?0:-.1*Math.PI},children:Fe.jsx(yJe,{project:t,highlighted:r===e})},"project_"+r))})},_Je=n=>{const{menuOpened:e}=n,{viewport:t}=q0(),r=c3(),[i,s]=J.useState(0),o=HC(),a=HC();J.useEffect(()=>{VC(o,e?-5:0,{...C9}),VC(a,e?5:0,{...C9})},[e]);const l=J.useRef(),[c,u]=J.useState("Typing");return J.useEffect(()=>{u("Falling"),setTimeout(()=>{u(i===0?"Typing":"Standing")},600)},[i]),Pc(f=>{let d=Math.floor(r.scroll.current*r.pages);d>3&&(d=3),d!==i&&s(d),f.camera.position.x=o.get(),f.camera.lookAt(a.get(),0,0)}),Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(qXe,{}),Fe.jsx(hu.group,{position:[1.9072935059634513,.14400000000000002,2.681801948466054],rotation:[-3.141592653589793,1.2053981633974482,3.141592653589793],animate:""+i,transition:{duration:.6},variants:{0:{scaleX:.9,scaleY:.9,scaleZ:.9},1:{y:-t.height+.5,x:0,z:7,rotateX:0,rotateY:0,rotateZ:0},2:{x:-2,y:-t.height*2+.5,z:0,rotateX:0,rotateY:Math.PI/2,rotateZ:0},3:{y:-t.height*3+1,x:.3,z:8.5,rotateX:0,rotateY:-Math.PI/4,rotateZ:0}},children:Fe.jsx(O$e,{animation:c})}),Fe.jsx("ambientLight",{intensity:1}),Fe.jsxs(hu.group,{position:[1.5,2,3],scale:[.9,.9,.9],"rotation-y":-Math.PI/4,animate:{y:i===0?0:-1},children:[Fe.jsx(QXe,{section:i}),Fe.jsx("group",{ref:l,name:"CharacterSpot",position:[.07,.16,-.57],rotation:[-Math.PI,.42,-Math.PI]})]}),Fe.jsxs(hu.group,{position:[0,-1.5,-10],animate:{z:i===1?0:-10,y:i===1?-t.height:-1.5},children:[Fe.jsx("directionalLight",{position:[-5,3,5],intensity:.4}),Fe.jsx(JN,{children:Fe.jsxs("mesh",{position:[1,-3,-15],scale:[2,2,2],children:[Fe.jsx("sphereGeometry",{}),Fe.jsx(nZ,{opacity:.8,transparent:!0,distort:.4,speed:4,color:"red"})]})}),Fe.jsx(JN,{children:Fe.jsxs("mesh",{scale:[3,3,3],position:[3,1,-18],children:[Fe.jsx("sphereGeometry",{}),Fe.jsx(nZ,{opacity:.8,transparent:!0,distort:1,speed:5,color:"yellow"})]})}),Fe.jsx(JN,{children:Fe.jsxs("mesh",{scale:[1.4,1.4,1.4],position:[-3,-1,-11],children:[Fe.jsx("boxGeometry",{}),Fe.jsx(cUe,{opacity:.8,transparent:!0,factor:1,speed:5,color:"blue"})]})})]}),Fe.jsx(xJe,{})]})},nF=n=>{const{children:e}=n;return Fe.jsx(wg.section,{className:`
  h-screen w-screen p-8 max-w-screen-2xl mx-auto
  flex flex-col items-start justify-center
  `,initial:{opacity:0,y:50},whileInView:{opacity:1,y:0,transition:{duration:1,delay:.6}},children:e})},bJe=n=>{const{setSection:e}=n;return Fe.jsxs("div",{className:"flex flex-col items-center w-screen",children:[Fe.jsx(wJe,{setSection:e}),Fe.jsx(MJe,{}),Fe.jsx(EJe,{}),Fe.jsx(CJe,{})]})},wJe=n=>{const e=()=>{window.open("/public/cv/Fatma_Erciyas_CV.pdf","_blank")};return Fe.jsxs(nF,{children:[Fe.jsxs("h1",{className:"text-6xl font-extrabold leading-snug",children:["Hi, I'm",Fe.jsx("br",{}),Fe.jsx("span",{className:"bg-white px-1 italic",children:"Fatma Erciyas"})]}),Fe.jsxs(wg.p,{className:"text-lg text-gray-600 mt-4",initial:{opacity:0,y:25},whileInView:{opacity:1,y:0},transition:{duration:1,delay:1.5},children:["As a recent graduate in computer engineering,",Fe.jsx("br",{}),"I am developing websites using",Fe.jsx("br",{})," ",Fe.jsx("b",{children:".NET"})," and ",Fe.jsx("b",{children:"React.js"})," technologies"]}),Fe.jsx(wg.button,{onClick:e,className:`bg-indigo-600 text-white py-4 px-8 
      rounded-lg font-bold text-lg mt-16`,initial:{opacity:0,y:25},whileInView:{opacity:1,y:0},transition:{duration:1,delay:2},children:"Download Cv"})]})},SJe=[{title:"React.js",level:80},{title:"Tailwind CSS",level:60},{title:"Asp.Net Core",level:90},{title:"Entity Framework",level:80},{title:"SQL",level:80},{title:"Javascript",level:60}],AJe=[{title:"Turkish",level:100},{title:"English",level:60}],MJe=()=>Fe.jsx(nF,{children:Fe.jsxs(wg.div,{whileInView:"visible",children:[Fe.jsx("h2",{className:"text-5xl font-bold text-white",children:"Skills"}),Fe.jsx("div",{className:" mt-8 space-y-4",children:SJe.map((n,e)=>Fe.jsxs("div",{className:"w-64",children:[Fe.jsx(wg.h3,{className:"text-xl font-bold text-gray-100",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:1+e*.2}}},children:n.title}),Fe.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full mt-2",children:Fe.jsx(wg.div,{className:"h-full bg-indigo-500 rounded-full ",style:{width:`${n.level}%`},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:1+e*.2}}}})})]},e))}),Fe.jsxs("div",{children:[Fe.jsx("h2",{className:"text-5xl font-bold mt-10 text-white",children:"Languages"}),Fe.jsx("div",{className:" mt-8 space-y-4",children:AJe.map((n,e)=>Fe.jsxs("div",{className:"w-64",children:[Fe.jsx(wg.h3,{className:"text-xl font-bold text-gray-100",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:2+e*.2}}},children:n.title}),Fe.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full mt-2",children:Fe.jsx(wg.div,{className:"h-full bg-indigo-500 rounded-full ",style:{width:`${n.level}%`},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:2+e*.2}}}})})]},e))})]})]})}),EJe=()=>{const[n,e]=lye(cye),t=()=>{e((n+1)%RE.length)},r=()=>{e((n-1+RE.length)%RE.length)};return Fe.jsx(nF,{children:Fe.jsxs("div",{className:"flex w-full h-full gap-8 items-center justify-center",children:[Fe.jsx("button",{className:"hover:text-indigo-600 transition-colors",onClick:r,children:" Previous"}),Fe.jsx("h2",{className:"text-5xl font-bold",children:"Projects"}),Fe.jsx("button",{className:"hover:text-indigo-600 transition-colors",onClick:t,children:"Next "})]})})},CJe=()=>Fe.jsxs(nF,{children:[Fe.jsx("h2",{className:"text-5xl font-bold",children:"Contact me"}),Fe.jsx("div",{className:"mt-8 p-8 rounded-md bg-white w-96 max-w-full",children:Fe.jsxs("form",{id:"contact-form",action:"https://formsubmit.co/fatmaerciyas22@gmail.com",method:"POST",children:[Fe.jsx("label",{for:"name",className:"font-medium text-gray-900 block mb-1",children:"Name"}),Fe.jsx("input",{type:"text",name:"user_name",id:"name",className:"block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3",required:!0}),Fe.jsx("label",{for:"email",className:"font-medium text-gray-900 block mb-1 mt-8",children:"Email"}),Fe.jsx("input",{type:"email",name:"user_email",id:"email",className:"block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3",required:!0}),Fe.jsx("label",{for:"message",className:"font-medium text-gray-900 block mb-1 mt-8",children:"Message"}),Fe.jsx("textarea",{name:"user_message",id:"message",className:"h-32 block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3",required:!0}),Fe.jsx("button",{type:"submit",className:"bg-indigo-600 text-white py-4 px-8 rounded-lg font-bold text-lg mt-16",children:"Submit"})]})})]}),TJe=n=>{const{onSectionChange:e,menuOpened:t,setMenuOpened:r}=n,i=()=>{window.location.href="https://github.com/fatmaerciyas"};return Fe.jsxs(Fe.Fragment,{children:[Fe.jsxs("button",{onClick:()=>r(!t),className:"z-20 fixed top-12 right-12 p-3 bg-indigo-600 w-11 h-11 rounded-md",children:[Fe.jsx("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${t?"rotate-45  translate-y-0.5":""}`}),Fe.jsx("div",{className:`bg-white h-0.5 rounded-md w-full my-1 ${t?"hidden":""}`}),Fe.jsx("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${t?"-rotate-45":""}`})]}),Fe.jsx("div",{className:`z-10 fixed top-0 right-0 bottom-0 bg-white transition-all overflow-hidden flex flex-col
      ${t?"w-80":"w-0"}`,children:Fe.jsxs("div",{className:"flex-1 flex items-start justify-center flex-col gap-6 p-8",children:[Fe.jsx(e2,{label:"About",onClick:()=>e(0)}),Fe.jsx(e2,{label:"Skills",onClick:()=>e(1)}),Fe.jsx(e2,{label:"Projects",onClick:()=>e(2)}),Fe.jsx(e2,{label:"Contact",onClick:()=>e(3)}),Fe.jsx(e2,{label:"My Github",onClick:i})]})})]})},e2=n=>{const{label:e,onClick:t}=n;return Fe.jsx("button",{onClick:t,className:"text-2xl font-bold cursor-pointer hover:text-indigo-600 transition-colors",children:e})},RJe=n=>{const{section:e,onSectionChange:t}=n,r=c3(),i=J.useRef(0),s=J.useRef(!1);return r.fill.classList.add("top-0"),r.fill.classList.add("absolute"),J.useEffect(()=>{V7.to(r.el,{duration:1,scrollTop:e*r.el.clientHeight,onStart:()=>{s.current=!0},onComplete:()=>{s.current=!1}})},[e]),Pc(()=>{if(s.current){i.current=r.scroll.current;return}const o=Math.floor(r.scroll.current*r.pages);r.scroll.current>i.current&&o===0&&t(1),r.scroll.current<i.current&&r.scroll.current<1/(r.pages-1)&&t(0),i.current=r.scroll.current}),null};function PJe(){const[n,e]=J.useState(0),[t,r]=J.useState(!1);return J.useEffect(()=>{r(!1)},[n]),Fe.jsxs(Fe.Fragment,{children:[Fe.jsxs(fGe,{transition:{...C9},children:[Fe.jsxs(COe,{shadows:!0,camera:{position:[0,3,10],fov:42},children:[Fe.jsx("color",{attach:"background",args:["#e6e7ff"]}),Fe.jsxs(XOe,{pages:4,damping:.1,children:[Fe.jsx(RJe,{section:n,onSectionChange:e}),Fe.jsx(xQ,{children:Fe.jsx(_Je,{section:n,menuOpened:t})}),Fe.jsx(xQ,{html:!0,children:Fe.jsx(bJe,{setSection:e})})]})]}),Fe.jsx(TJe,{onSectionChange:e,menuOpened:t,setMenuOpened:r}),Fe.jsx(b$e,{})]}),Fe.jsx(rve,{hidden:!0})]})}Zz.createRoot(document.getElementById("root")).render(Fe.jsx(Be.StrictMode,{children:Fe.jsx(PJe,{})}));function aA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var uye={exports:{}},rF={},fye={exports:{}},Nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A3=Symbol.for("react.element"),BJe=Symbol.for("react.portal"),DJe=Symbol.for("react.fragment"),kJe=Symbol.for("react.strict_mode"),IJe=Symbol.for("react.profiler"),LJe=Symbol.for("react.provider"),OJe=Symbol.for("react.context"),FJe=Symbol.for("react.forward_ref"),NJe=Symbol.for("react.suspense"),UJe=Symbol.for("react.memo"),zJe=Symbol.for("react.lazy"),Wte=Symbol.iterator;function GJe(n){return n===null||typeof n!="object"?null:(n=Wte&&n[Wte]||n["@@iterator"],typeof n=="function"?n:null)}var dye={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hye=Object.assign,pye={};function lA(n,e,t){this.props=n,this.context=e,this.refs=pye,this.updater=t||dye}lA.prototype.isReactComponent={};lA.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};lA.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function mye(){}mye.prototype=lA.prototype;function W7(n,e,t){this.props=n,this.context=e,this.refs=pye,this.updater=t||dye}var $7=W7.prototype=new mye;$7.constructor=W7;hye($7,lA.prototype);$7.isPureReactComponent=!0;var $te=Array.isArray,gye=Object.prototype.hasOwnProperty,X7={current:null},vye={key:!0,ref:!0,__self:!0,__source:!0};function yye(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)gye.call(e,r)&&!vye.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:A3,type:n,key:s,ref:o,props:i,_owner:X7.current}}function HJe(n,e){return{$$typeof:A3,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function J7(n){return typeof n=="object"&&n!==null&&n.$$typeof===A3}function VJe(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Xte=/\/+/g;function LU(n,e){return typeof n=="object"&&n!==null&&n.key!=null?VJe(""+n.key):e.toString(36)}function tk(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case A3:case BJe:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+LU(o,0):r,$te(i)?(t="",n!=null&&(t=n.replace(Xte,"$&/")+"/"),tk(i,e,t,"",function(c){return c})):i!=null&&(J7(i)&&(i=HJe(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xte,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$te(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+LU(s,a);o+=tk(s,e,t,l,i)}else if(l=GJe(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+LU(s,a++),o+=tk(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function QP(n,e,t){if(n==null)return n;var r=[],i=0;return tk(n,r,"","",function(s){return e.call(t,s,i++)}),r}function jJe(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ya={current:null},nk={transition:null},WJe={ReactCurrentDispatcher:Ya,ReactCurrentBatchConfig:nk,ReactCurrentOwner:X7};function xye(){throw Error("act(...) is not supported in production builds of React.")}Nn.Children={map:QP,forEach:function(n,e,t){QP(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return QP(n,function(){e++}),e},toArray:function(n){return QP(n,function(e){return e})||[]},only:function(n){if(!J7(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Nn.Component=lA;Nn.Fragment=DJe;Nn.Profiler=IJe;Nn.PureComponent=W7;Nn.StrictMode=kJe;Nn.Suspense=NJe;Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WJe;Nn.act=xye;Nn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=hye({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=X7.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)gye.call(e,l)&&!vye.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:A3,type:n.type,key:i,ref:s,props:r,_owner:o}};Nn.createContext=function(n){return n={$$typeof:OJe,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:LJe,_context:n},n.Consumer=n};Nn.createElement=yye;Nn.createFactory=function(n){var e=yye.bind(null,n);return e.type=n,e};Nn.createRef=function(){return{current:null}};Nn.forwardRef=function(n){return{$$typeof:FJe,render:n}};Nn.isValidElement=J7;Nn.lazy=function(n){return{$$typeof:zJe,_payload:{_status:-1,_result:n},_init:jJe}};Nn.memo=function(n,e){return{$$typeof:UJe,type:n,compare:e===void 0?null:e}};Nn.startTransition=function(n){var e=nk.transition;nk.transition={};try{n()}finally{nk.transition=e}};Nn.unstable_act=xye;Nn.useCallback=function(n,e){return Ya.current.useCallback(n,e)};Nn.useContext=function(n){return Ya.current.useContext(n)};Nn.useDebugValue=function(){};Nn.useDeferredValue=function(n){return Ya.current.useDeferredValue(n)};Nn.useEffect=function(n,e){return Ya.current.useEffect(n,e)};Nn.useId=function(){return Ya.current.useId()};Nn.useImperativeHandle=function(n,e,t){return Ya.current.useImperativeHandle(n,e,t)};Nn.useInsertionEffect=function(n,e){return Ya.current.useInsertionEffect(n,e)};Nn.useLayoutEffect=function(n,e){return Ya.current.useLayoutEffect(n,e)};Nn.useMemo=function(n,e){return Ya.current.useMemo(n,e)};Nn.useReducer=function(n,e,t){return Ya.current.useReducer(n,e,t)};Nn.useRef=function(n){return Ya.current.useRef(n)};Nn.useState=function(n){return Ya.current.useState(n)};Nn.useSyncExternalStore=function(n,e,t){return Ya.current.useSyncExternalStore(n,e,t)};Nn.useTransition=function(){return Ya.current.useTransition()};Nn.version="18.3.1";fye.exports=Nn;var Y=fye.exports;const De=aA(Y),$Je=oEe({__proto__:null,default:De},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XJe=Y,JJe=Symbol.for("react.element"),YJe=Symbol.for("react.fragment"),KJe=Object.prototype.hasOwnProperty,qJe=XJe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QJe={key:!0,ref:!0,__self:!0,__source:!0};function _ye(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KJe.call(e,r)&&!QJe.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:JJe,type:n,key:s,ref:o,props:i,_owner:qJe.current}}rF.Fragment=YJe;rF.jsx=_ye;rF.jsxs=_ye;uye.exports=rF;var Ne=uye.exports,V9={},bye={exports:{}},Bc={},wye={exports:{}},Sye={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,I){var O=L.length;L.push(I);e:for(;0<O;){var F=O-1>>>1,j=L[F];if(0<i(j,I))L[F]=I,L[O]=j,O=F;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var I=L[0],O=L.pop();if(O!==I){L[0]=O;e:for(var F=0,j=L.length,te=j>>>1;F<te;){var re=2*(F+1)-1,se=L[re],K=re+1,le=L[K];if(0>i(se,O))K<j&&0>i(le,se)?(L[F]=le,L[K]=O,F=K):(L[F]=se,L[re]=O,F=re);else if(K<j&&0>i(le,O))L[F]=le,L[K]=O,F=K;else break e}}return I}function i(L,I){var O=L.sortIndex-I.sortIndex;return O!==0?O:L.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var I=t(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=L)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=t(c)}}function w(L){if(g=!1,b(L),!m)if(t(l)!==null)m=!0,X(M);else{var I=t(c);I!==null&&q(w,I.startTime-L)}}function M(L,I){m=!1,g&&(g=!1,x(E),E=-1),p=!0;var O=d;try{for(b(I),f=t(l);f!==null&&(!(f.expirationTime>I)||L&&!N());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var j=F(f.expirationTime<=I);I=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&r(l),b(I)}else r(l);f=t(l)}if(f!==null)var te=!0;else{var re=t(c);re!==null&&q(w,re.startTime-I),te=!1}return te}finally{f=null,d=O,p=!1}}var C=!1,R=null,E=-1,B=5,D=-1;function N(){return!(n.unstable_now()-D<B)}function z(){if(R!==null){var L=n.unstable_now();D=L;var I=!0;try{I=R(!0,L)}finally{I?H():(C=!1,R=null)}}else C=!1}var H;if(typeof _=="function")H=function(){_(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=z,H=function(){W.postMessage(null)}}else H=function(){y(z,0)};function X(L){R=L,C||(C=!0,H())}function q(L,I){E=y(function(){L(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,X(M))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var O=d;d=I;try{return L()}finally{d=O}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,I){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var O=d;d=L;try{return I()}finally{d=O}},n.unstable_scheduleCallback=function(L,I,O){var F=n.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?F+O:F):O=F,L){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=O+j,L={id:u++,callback:I,priorityLevel:L,startTime:O,expirationTime:j,sortIndex:-1},O>F?(L.sortIndex=O,e(c,L),t(l)===null&&L===t(c)&&(g?(x(E),E=-1):g=!0,q(w,O-F))):(L.sortIndex=j,e(l,L),m||p||(m=!0,X(M))),L},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(L){var I=d;return function(){var O=d;d=I;try{return L.apply(this,arguments)}finally{d=O}}}})(Sye);wye.exports=Sye;var ZJe=wye.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eYe=Y,Ac=ZJe;function ut(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Aye=new Set,tT={};function Ax(n,e){xS(n,e),xS(n+"Capture",e)}function xS(n,e){for(tT[n]=e,n=0;n<e.length;n++)Aye.add(e[n])}var Yp=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j9=Object.prototype.hasOwnProperty,tYe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jte={},Yte={};function nYe(n){return j9.call(Yte,n)?!0:j9.call(Jte,n)?!1:tYe.test(n)?Yte[n]=!0:(Jte[n]=!0,!1)}function rYe(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function iYe(n,e,t,r){if(e===null||typeof e>"u"||rYe(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ka(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ho={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ho[n]=new Ka(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ho[e]=new Ka(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ho[n]=new Ka(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ho[n]=new Ka(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ho[n]=new Ka(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ho[n]=new Ka(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ho[n]=new Ka(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ho[n]=new Ka(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ho[n]=new Ka(n,5,!1,n.toLowerCase(),null,!1,!1)});var Y7=/[\-:]([a-z])/g;function K7(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Y7,K7);Ho[e]=new Ka(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Y7,K7);Ho[e]=new Ka(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Y7,K7);Ho[e]=new Ka(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ho[n]=new Ka(n,1,!1,n.toLowerCase(),null,!1,!1)});Ho.xlinkHref=new Ka("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ho[n]=new Ka(n,1,!1,n.toLowerCase(),null,!0,!0)});function q7(n,e,t,r){var i=Ho.hasOwnProperty(e)?Ho[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iYe(e,t,i,r)&&(t=null),r||i===null?nYe(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var pm=eYe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ZP=Symbol.for("react.element"),Yb=Symbol.for("react.portal"),Kb=Symbol.for("react.fragment"),Q7=Symbol.for("react.strict_mode"),W9=Symbol.for("react.profiler"),Mye=Symbol.for("react.provider"),Eye=Symbol.for("react.context"),Z7=Symbol.for("react.forward_ref"),$9=Symbol.for("react.suspense"),X9=Symbol.for("react.suspense_list"),e$=Symbol.for("react.memo"),gg=Symbol.for("react.lazy"),Cye=Symbol.for("react.offscreen"),Kte=Symbol.iterator;function t2(n){return n===null||typeof n!="object"?null:(n=Kte&&n[Kte]||n["@@iterator"],typeof n=="function"?n:null)}var Pi=Object.assign,OU;function V2(n){if(OU===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);OU=e&&e[1]||""}return`
`+OU+n}var FU=!1;function NU(n,e){if(!n||FU)return"";FU=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{FU=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?V2(n):""}function sYe(n){switch(n.tag){case 5:return V2(n.type);case 16:return V2("Lazy");case 13:return V2("Suspense");case 19:return V2("SuspenseList");case 0:case 2:case 15:return n=NU(n.type,!1),n;case 11:return n=NU(n.type.render,!1),n;case 1:return n=NU(n.type,!0),n;default:return""}}function J9(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Kb:return"Fragment";case Yb:return"Portal";case W9:return"Profiler";case Q7:return"StrictMode";case $9:return"Suspense";case X9:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Eye:return(n.displayName||"Context")+".Consumer";case Mye:return(n._context.displayName||"Context")+".Provider";case Z7:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case e$:return e=n.displayName||null,e!==null?e:J9(n.type)||"Memo";case gg:e=n._payload,n=n._init;try{return J9(n(e))}catch{}}return null}function oYe(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J9(e);case 8:return e===Q7?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function T0(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Tye(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aYe(n){var e=Tye(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function eB(n){n._valueTracker||(n._valueTracker=aYe(n))}function Rye(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Tye(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function NI(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Y9(n,e){var t=e.checked;return Pi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function qte(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=T0(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pye(n,e){e=e.checked,e!=null&&q7(n,"checked",e,!1)}function K9(n,e){Pye(n,e);var t=T0(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?q9(n,e.type,t):e.hasOwnProperty("defaultValue")&&q9(n,e.type,T0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Qte(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function q9(n,e,t){(e!=="number"||NI(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var j2=Array.isArray;function kw(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+T0(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Q9(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ut(91));return Pi({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Zte(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ut(92));if(j2(t)){if(1<t.length)throw Error(ut(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:T0(t)}}function Bye(n,e){var t=T0(e.value),r=T0(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function ene(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Dye(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z9(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Dye(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tB,kye=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(tB=tB||document.createElement("div"),tB.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tB.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function nT(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var PE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lYe=["Webkit","ms","Moz","O"];Object.keys(PE).forEach(function(n){lYe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),PE[e]=PE[n]})});function Iye(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||PE.hasOwnProperty(n)&&PE[n]?(""+e).trim():e+"px"}function Lye(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=Iye(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var cYe=Pi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function e8(n,e){if(e){if(cYe[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ut(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ut(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ut(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ut(62))}}function t8(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n8=null;function t$(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var r8=null,Iw=null,Lw=null;function tne(n){if(n=C3(n)){if(typeof r8!="function")throw Error(ut(280));var e=n.stateNode;e&&(e=lF(e),r8(n.stateNode,n.type,e))}}function Oye(n){Iw?Lw?Lw.push(n):Lw=[n]:Iw=n}function Fye(){if(Iw){var n=Iw,e=Lw;if(Lw=Iw=null,tne(n),e)for(n=0;n<e.length;n++)tne(e[n])}}function Nye(n,e){return n(e)}function Uye(){}var UU=!1;function zye(n,e,t){if(UU)return n(e,t);UU=!0;try{return Nye(n,e,t)}finally{UU=!1,(Iw!==null||Lw!==null)&&(Uye(),Fye())}}function rT(n,e){var t=n.stateNode;if(t===null)return null;var r=lF(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ut(231,e,typeof t));return t}var i8=!1;if(Yp)try{var n2={};Object.defineProperty(n2,"passive",{get:function(){i8=!0}}),window.addEventListener("test",n2,n2),window.removeEventListener("test",n2,n2)}catch{i8=!1}function uYe(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var BE=!1,UI=null,zI=!1,s8=null,fYe={onError:function(n){BE=!0,UI=n}};function dYe(n,e,t,r,i,s,o,a,l){BE=!1,UI=null,uYe.apply(fYe,arguments)}function hYe(n,e,t,r,i,s,o,a,l){if(dYe.apply(this,arguments),BE){if(BE){var c=UI;BE=!1,UI=null}else throw Error(ut(198));zI||(zI=!0,s8=c)}}function Mx(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Gye(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function nne(n){if(Mx(n)!==n)throw Error(ut(188))}function pYe(n){var e=n.alternate;if(!e){if(e=Mx(n),e===null)throw Error(ut(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return nne(i),n;if(s===r)return nne(i),e;s=s.sibling}throw Error(ut(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(ut(189))}}if(t.alternate!==r)throw Error(ut(190))}if(t.tag!==3)throw Error(ut(188));return t.stateNode.current===t?n:e}function Hye(n){return n=pYe(n),n!==null?Vye(n):null}function Vye(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Vye(n);if(e!==null)return e;n=n.sibling}return null}var jye=Ac.unstable_scheduleCallback,rne=Ac.unstable_cancelCallback,mYe=Ac.unstable_shouldYield,gYe=Ac.unstable_requestPaint,is=Ac.unstable_now,vYe=Ac.unstable_getCurrentPriorityLevel,n$=Ac.unstable_ImmediatePriority,Wye=Ac.unstable_UserBlockingPriority,GI=Ac.unstable_NormalPriority,yYe=Ac.unstable_LowPriority,$ye=Ac.unstable_IdlePriority,iF=null,Jd=null;function xYe(n){if(Jd&&typeof Jd.onCommitFiberRoot=="function")try{Jd.onCommitFiberRoot(iF,n,void 0,(n.current.flags&128)===128)}catch{}}var Ff=Math.clz32?Math.clz32:wYe,_Ye=Math.log,bYe=Math.LN2;function wYe(n){return n>>>=0,n===0?32:31-(_Ye(n)/bYe|0)|0}var nB=64,rB=4194304;function W2(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function HI(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=W2(a):(s&=o,s!==0&&(r=W2(s)))}else o=t&~i,o!==0?r=W2(o):s!==0&&(r=W2(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ff(e),i=1<<t,r|=n[t],e&=~i;return r}function SYe(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AYe(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ff(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=SYe(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function o8(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Xye(){var n=nB;return nB<<=1,!(nB&4194240)&&(nB=64),n}function zU(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function M3(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ff(e),n[e]=t}function MYe(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ff(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function r$(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ff(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var ar=0;function Jye(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Yye,i$,Kye,qye,Qye,a8=!1,iB=[],Zg=null,e0=null,t0=null,iT=new Map,sT=new Map,Sg=[],EYe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ine(n,e){switch(n){case"focusin":case"focusout":Zg=null;break;case"dragenter":case"dragleave":e0=null;break;case"mouseover":case"mouseout":t0=null;break;case"pointerover":case"pointerout":iT.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sT.delete(e.pointerId)}}function r2(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=C3(e),e!==null&&i$(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function CYe(n,e,t,r,i){switch(e){case"focusin":return Zg=r2(Zg,n,e,t,r,i),!0;case"dragenter":return e0=r2(e0,n,e,t,r,i),!0;case"mouseover":return t0=r2(t0,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return iT.set(s,r2(iT.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,sT.set(s,r2(sT.get(s)||null,n,e,t,r,i)),!0}return!1}function Zye(n){var e=jy(n.target);if(e!==null){var t=Mx(e);if(t!==null){if(e=t.tag,e===13){if(e=Gye(t),e!==null){n.blockedOn=e,Qye(n.priority,function(){Kye(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rk(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=l8(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);n8=r,t.target.dispatchEvent(r),n8=null}else return e=C3(t),e!==null&&i$(e),n.blockedOn=t,!1;e.shift()}return!0}function sne(n,e,t){rk(n)&&t.delete(e)}function TYe(){a8=!1,Zg!==null&&rk(Zg)&&(Zg=null),e0!==null&&rk(e0)&&(e0=null),t0!==null&&rk(t0)&&(t0=null),iT.forEach(sne),sT.forEach(sne)}function i2(n,e){n.blockedOn===e&&(n.blockedOn=null,a8||(a8=!0,Ac.unstable_scheduleCallback(Ac.unstable_NormalPriority,TYe)))}function oT(n){function e(i){return i2(i,n)}if(0<iB.length){i2(iB[0],n);for(var t=1;t<iB.length;t++){var r=iB[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Zg!==null&&i2(Zg,n),e0!==null&&i2(e0,n),t0!==null&&i2(t0,n),iT.forEach(e),sT.forEach(e),t=0;t<Sg.length;t++)r=Sg[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Sg.length&&(t=Sg[0],t.blockedOn===null);)Zye(t),t.blockedOn===null&&Sg.shift()}var Ow=pm.ReactCurrentBatchConfig,VI=!0;function RYe(n,e,t,r){var i=ar,s=Ow.transition;Ow.transition=null;try{ar=1,s$(n,e,t,r)}finally{ar=i,Ow.transition=s}}function PYe(n,e,t,r){var i=ar,s=Ow.transition;Ow.transition=null;try{ar=4,s$(n,e,t,r)}finally{ar=i,Ow.transition=s}}function s$(n,e,t,r){if(VI){var i=l8(n,e,t,r);if(i===null)KU(n,e,r,jI,t),ine(n,r);else if(CYe(i,n,e,t,r))r.stopPropagation();else if(ine(n,r),e&4&&-1<EYe.indexOf(n)){for(;i!==null;){var s=C3(i);if(s!==null&&Yye(s),s=l8(n,e,t,r),s===null&&KU(n,e,r,jI,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else KU(n,e,r,null,t)}}var jI=null;function l8(n,e,t,r){if(jI=null,n=t$(r),n=jy(n),n!==null)if(e=Mx(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Gye(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return jI=n,null}function e1e(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vYe()){case n$:return 1;case Wye:return 4;case GI:case yYe:return 16;case $ye:return 536870912;default:return 16}default:return 16}}var kg=null,o$=null,ik=null;function t1e(){if(ik)return ik;var n,e=o$,t=e.length,r,i="value"in kg?kg.value:kg.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return ik=i.slice(n,1<r?1-r:void 0)}function sk(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function sB(){return!0}function one(){return!1}function Dc(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sB:one,this.isPropagationStopped=one,this}return Pi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=sB)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=sB)},persist:function(){},isPersistent:sB}),e}var cA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a$=Dc(cA),E3=Pi({},cA,{view:0,detail:0}),BYe=Dc(E3),GU,HU,s2,sF=Pi({},E3,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l$,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==s2&&(s2&&n.type==="mousemove"?(GU=n.screenX-s2.screenX,HU=n.screenY-s2.screenY):HU=GU=0,s2=n),GU)},movementY:function(n){return"movementY"in n?n.movementY:HU}}),ane=Dc(sF),DYe=Pi({},sF,{dataTransfer:0}),kYe=Dc(DYe),IYe=Pi({},E3,{relatedTarget:0}),VU=Dc(IYe),LYe=Pi({},cA,{animationName:0,elapsedTime:0,pseudoElement:0}),OYe=Dc(LYe),FYe=Pi({},cA,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),NYe=Dc(FYe),UYe=Pi({},cA,{data:0}),lne=Dc(UYe),zYe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GYe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HYe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VYe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=HYe[n])?!!e[n]:!1}function l$(){return VYe}var jYe=Pi({},E3,{key:function(n){if(n.key){var e=zYe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=sk(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?GYe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l$,charCode:function(n){return n.type==="keypress"?sk(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?sk(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),WYe=Dc(jYe),$Ye=Pi({},sF,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cne=Dc($Ye),XYe=Pi({},E3,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l$}),JYe=Dc(XYe),YYe=Pi({},cA,{propertyName:0,elapsedTime:0,pseudoElement:0}),KYe=Dc(YYe),qYe=Pi({},sF,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),QYe=Dc(qYe),ZYe=[9,13,27,32],c$=Yp&&"CompositionEvent"in window,DE=null;Yp&&"documentMode"in document&&(DE=document.documentMode);var eKe=Yp&&"TextEvent"in window&&!DE,n1e=Yp&&(!c$||DE&&8<DE&&11>=DE),une=" ",fne=!1;function r1e(n,e){switch(n){case"keyup":return ZYe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i1e(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qb=!1;function tKe(n,e){switch(n){case"compositionend":return i1e(e);case"keypress":return e.which!==32?null:(fne=!0,une);case"textInput":return n=e.data,n===une&&fne?null:n;default:return null}}function nKe(n,e){if(qb)return n==="compositionend"||!c$&&r1e(n,e)?(n=t1e(),ik=o$=kg=null,qb=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return n1e&&e.locale!=="ko"?null:e.data;default:return null}}var rKe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dne(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!rKe[n.type]:e==="textarea"}function s1e(n,e,t,r){Oye(r),e=WI(e,"onChange"),0<e.length&&(t=new a$("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var kE=null,aT=null;function iKe(n){g1e(n,0)}function oF(n){var e=ew(n);if(Rye(e))return n}function sKe(n,e){if(n==="change")return e}var o1e=!1;if(Yp){var jU;if(Yp){var WU="oninput"in document;if(!WU){var hne=document.createElement("div");hne.setAttribute("oninput","return;"),WU=typeof hne.oninput=="function"}jU=WU}else jU=!1;o1e=jU&&(!document.documentMode||9<document.documentMode)}function pne(){kE&&(kE.detachEvent("onpropertychange",a1e),aT=kE=null)}function a1e(n){if(n.propertyName==="value"&&oF(aT)){var e=[];s1e(e,aT,n,t$(n)),zye(iKe,e)}}function oKe(n,e,t){n==="focusin"?(pne(),kE=e,aT=t,kE.attachEvent("onpropertychange",a1e)):n==="focusout"&&pne()}function aKe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return oF(aT)}function lKe(n,e){if(n==="click")return oF(e)}function cKe(n,e){if(n==="input"||n==="change")return oF(e)}function uKe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Xf=typeof Object.is=="function"?Object.is:uKe;function lT(n,e){if(Xf(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!j9.call(e,i)||!Xf(n[i],e[i]))return!1}return!0}function mne(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gne(n,e){var t=mne(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=mne(t)}}function l1e(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?l1e(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function c1e(){for(var n=window,e=NI();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=NI(n.document)}return e}function u$(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function fKe(n){var e=c1e(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&l1e(t.ownerDocument.documentElement,t)){if(r!==null&&u$(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=gne(t,s);var o=gne(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var dKe=Yp&&"documentMode"in document&&11>=document.documentMode,Qb=null,c8=null,IE=null,u8=!1;function vne(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;u8||Qb==null||Qb!==NI(r)||(r=Qb,"selectionStart"in r&&u$(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),IE&&lT(IE,r)||(IE=r,r=WI(c8,"onSelect"),0<r.length&&(e=new a$("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Qb)))}function oB(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Zb={animationend:oB("Animation","AnimationEnd"),animationiteration:oB("Animation","AnimationIteration"),animationstart:oB("Animation","AnimationStart"),transitionend:oB("Transition","TransitionEnd")},$U={},u1e={};Yp&&(u1e=document.createElement("div").style,"AnimationEvent"in window||(delete Zb.animationend.animation,delete Zb.animationiteration.animation,delete Zb.animationstart.animation),"TransitionEvent"in window||delete Zb.transitionend.transition);function aF(n){if($U[n])return $U[n];if(!Zb[n])return n;var e=Zb[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in u1e)return $U[n]=e[t];return n}var f1e=aF("animationend"),d1e=aF("animationiteration"),h1e=aF("animationstart"),p1e=aF("transitionend"),m1e=new Map,yne="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tv(n,e){m1e.set(n,e),Ax(e,[n])}for(var XU=0;XU<yne.length;XU++){var JU=yne[XU],hKe=JU.toLowerCase(),pKe=JU[0].toUpperCase()+JU.slice(1);tv(hKe,"on"+pKe)}tv(f1e,"onAnimationEnd");tv(d1e,"onAnimationIteration");tv(h1e,"onAnimationStart");tv("dblclick","onDoubleClick");tv("focusin","onFocus");tv("focusout","onBlur");tv(p1e,"onTransitionEnd");xS("onMouseEnter",["mouseout","mouseover"]);xS("onMouseLeave",["mouseout","mouseover"]);xS("onPointerEnter",["pointerout","pointerover"]);xS("onPointerLeave",["pointerout","pointerover"]);Ax("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ax("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ax("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ax("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ax("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ax("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mKe=new Set("cancel close invalid load scroll toggle".split(" ").concat($2));function xne(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,hYe(r,e,void 0,n),n.currentTarget=null}function g1e(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;xne(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;xne(i,a,c),s=l}}}if(zI)throw n=s8,zI=!1,s8=null,n}function Gr(n,e){var t=e[m8];t===void 0&&(t=e[m8]=new Set);var r=n+"__bubble";t.has(r)||(v1e(e,n,2,!1),t.add(r))}function YU(n,e,t){var r=0;e&&(r|=4),v1e(t,n,r,e)}var aB="_reactListening"+Math.random().toString(36).slice(2);function cT(n){if(!n[aB]){n[aB]=!0,Aye.forEach(function(t){t!=="selectionchange"&&(mKe.has(t)||YU(t,!1,n),YU(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[aB]||(e[aB]=!0,YU("selectionchange",!1,e))}}function v1e(n,e,t,r){switch(e1e(e)){case 1:var i=RYe;break;case 4:i=PYe;break;default:i=s$}t=i.bind(null,e,t,n),i=void 0,!i8||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function KU(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=jy(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zye(function(){var c=s,u=t$(t),f=[];e:{var d=m1e.get(n);if(d!==void 0){var p=a$,m=n;switch(n){case"keypress":if(sk(t)===0)break e;case"keydown":case"keyup":p=WYe;break;case"focusin":m="focus",p=VU;break;case"focusout":m="blur",p=VU;break;case"beforeblur":case"afterblur":p=VU;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ane;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kYe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=JYe;break;case f1e:case d1e:case h1e:p=OYe;break;case p1e:p=KYe;break;case"scroll":p=BYe;break;case"wheel":p=QYe;break;case"copy":case"cut":case"paste":p=NYe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cne}var g=(e&4)!==0,y=!g&&n==="scroll",x=g?d!==null?d+"Capture":null:d;g=[];for(var _=c,b;_!==null;){b=_;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,x!==null&&(w=rT(_,x),w!=null&&g.push(uT(_,w,b)))),y)break;_=_.return}0<g.length&&(d=new p(d,m,null,t,u),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",d&&t!==n8&&(m=t.relatedTarget||t.fromElement)&&(jy(m)||m[Kp]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=c,m=m?jy(m):null,m!==null&&(y=Mx(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=ane,w="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(g=cne,w="onPointerLeave",x="onPointerEnter",_="pointer"),y=p==null?d:ew(p),b=m==null?d:ew(m),d=new g(w,_+"leave",p,t,u),d.target=y,d.relatedTarget=b,w=null,jy(u)===c&&(g=new g(x,_+"enter",m,t,u),g.target=b,g.relatedTarget=y,w=g),y=w,p&&m)t:{for(g=p,x=m,_=0,b=g;b;b=W_(b))_++;for(b=0,w=x;w;w=W_(w))b++;for(;0<_-b;)g=W_(g),_--;for(;0<b-_;)x=W_(x),b--;for(;_--;){if(g===x||x!==null&&g===x.alternate)break t;g=W_(g),x=W_(x)}g=null}else g=null;p!==null&&_ne(f,d,p,g,!1),m!==null&&y!==null&&_ne(f,y,m,g,!0)}}e:{if(d=c?ew(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var M=sKe;else if(dne(d))if(o1e)M=cKe;else{M=aKe;var C=oKe}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=lKe);if(M&&(M=M(n,c))){s1e(f,M,t,u);break e}C&&C(n,d,c),n==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&q9(d,"number",d.value)}switch(C=c?ew(c):window,n){case"focusin":(dne(C)||C.contentEditable==="true")&&(Qb=C,c8=c,IE=null);break;case"focusout":IE=c8=Qb=null;break;case"mousedown":u8=!0;break;case"contextmenu":case"mouseup":case"dragend":u8=!1,vne(f,t,u);break;case"selectionchange":if(dKe)break;case"keydown":case"keyup":vne(f,t,u)}var R;if(c$)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else qb?r1e(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(n1e&&t.locale!=="ko"&&(qb||E!=="onCompositionStart"?E==="onCompositionEnd"&&qb&&(R=t1e()):(kg=u,o$="value"in kg?kg.value:kg.textContent,qb=!0)),C=WI(c,E),0<C.length&&(E=new lne(E,n,null,t,u),f.push({event:E,listeners:C}),R?E.data=R:(R=i1e(t),R!==null&&(E.data=R)))),(R=eKe?tKe(n,t):nKe(n,t))&&(c=WI(c,"onBeforeInput"),0<c.length&&(u=new lne("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=R))}g1e(f,e)})}function uT(n,e,t){return{instance:n,listener:e,currentTarget:t}}function WI(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rT(n,t),s!=null&&r.unshift(uT(n,s,i)),s=rT(n,e),s!=null&&r.push(uT(n,s,i))),n=n.return}return r}function W_(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function _ne(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=rT(t,s),l!=null&&o.unshift(uT(t,l,a))):i||(l=rT(t,s),l!=null&&o.push(uT(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var gKe=/\r\n?/g,vKe=/\u0000|\uFFFD/g;function bne(n){return(typeof n=="string"?n:""+n).replace(gKe,`
`).replace(vKe,"")}function lB(n,e,t){if(e=bne(e),bne(n)!==e&&t)throw Error(ut(425))}function $I(){}var f8=null,d8=null;function h8(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var p8=typeof setTimeout=="function"?setTimeout:void 0,yKe=typeof clearTimeout=="function"?clearTimeout:void 0,wne=typeof Promise=="function"?Promise:void 0,xKe=typeof queueMicrotask=="function"?queueMicrotask:typeof wne<"u"?function(n){return wne.resolve(null).then(n).catch(_Ke)}:p8;function _Ke(n){setTimeout(function(){throw n})}function qU(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),oT(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);oT(e)}function n0(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Sne(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var uA=Math.random().toString(36).slice(2),Od="__reactFiber$"+uA,fT="__reactProps$"+uA,Kp="__reactContainer$"+uA,m8="__reactEvents$"+uA,bKe="__reactListeners$"+uA,wKe="__reactHandles$"+uA;function jy(n){var e=n[Od];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Kp]||t[Od]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Sne(n);n!==null;){if(t=n[Od])return t;n=Sne(n)}return e}n=t,t=n.parentNode}return null}function C3(n){return n=n[Od]||n[Kp],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ew(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ut(33))}function lF(n){return n[fT]||null}var g8=[],tw=-1;function nv(n){return{current:n}}function Yr(n){0>tw||(n.current=g8[tw],g8[tw]=null,tw--)}function Pr(n,e){tw++,g8[tw]=n.current,n.current=e}var R0={},pa=nv(R0),Al=nv(!1),K1=R0;function _S(n,e){var t=n.type.contextTypes;if(!t)return R0;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ml(n){return n=n.childContextTypes,n!=null}function XI(){Yr(Al),Yr(pa)}function Ane(n,e,t){if(pa.current!==R0)throw Error(ut(168));Pr(pa,e),Pr(Al,t)}function y1e(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ut(108,oYe(n)||"Unknown",i));return Pi({},t,r)}function JI(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||R0,K1=pa.current,Pr(pa,n),Pr(Al,Al.current),!0}function Mne(n,e,t){var r=n.stateNode;if(!r)throw Error(ut(169));t?(n=y1e(n,e,K1),r.__reactInternalMemoizedMergedChildContext=n,Yr(Al),Yr(pa),Pr(pa,n)):Yr(Al),Pr(Al,t)}var lp=null,cF=!1,QU=!1;function x1e(n){lp===null?lp=[n]:lp.push(n)}function SKe(n){cF=!0,x1e(n)}function rv(){if(!QU&&lp!==null){QU=!0;var n=0,e=ar;try{var t=lp;for(ar=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}lp=null,cF=!1}catch(i){throw lp!==null&&(lp=lp.slice(n+1)),jye(n$,rv),i}finally{ar=e,QU=!1}}return null}var nw=[],rw=0,YI=null,KI=0,xu=[],_u=0,q1=null,_p=1,bp="";function by(n,e){nw[rw++]=KI,nw[rw++]=YI,YI=n,KI=e}function _1e(n,e,t){xu[_u++]=_p,xu[_u++]=bp,xu[_u++]=q1,q1=n;var r=_p;n=bp;var i=32-Ff(r)-1;r&=~(1<<i),t+=1;var s=32-Ff(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_p=1<<32-Ff(e)+i|t<<i|r,bp=s+n}else _p=1<<s|t<<i|r,bp=n}function f$(n){n.return!==null&&(by(n,1),_1e(n,1,0))}function d$(n){for(;n===YI;)YI=nw[--rw],nw[rw]=null,KI=nw[--rw],nw[rw]=null;for(;n===q1;)q1=xu[--_u],xu[_u]=null,bp=xu[--_u],xu[_u]=null,_p=xu[--_u],xu[_u]=null}var vc=null,uc=null,oi=!1,Cf=null;function b1e(n,e){var t=Bu(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Ene(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,vc=n,uc=n0(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,vc=n,uc=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=q1!==null?{id:_p,overflow:bp}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Bu(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,vc=n,uc=null,!0):!1;default:return!1}}function v8(n){return(n.mode&1)!==0&&(n.flags&128)===0}function y8(n){if(oi){var e=uc;if(e){var t=e;if(!Ene(n,e)){if(v8(n))throw Error(ut(418));e=n0(t.nextSibling);var r=vc;e&&Ene(n,e)?b1e(r,t):(n.flags=n.flags&-4097|2,oi=!1,vc=n)}}else{if(v8(n))throw Error(ut(418));n.flags=n.flags&-4097|2,oi=!1,vc=n}}}function Cne(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vc=n}function cB(n){if(n!==vc)return!1;if(!oi)return Cne(n),oi=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!h8(n.type,n.memoizedProps)),e&&(e=uc)){if(v8(n))throw w1e(),Error(ut(418));for(;e;)b1e(n,e),e=n0(e.nextSibling)}if(Cne(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ut(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){uc=n0(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}uc=null}}else uc=vc?n0(n.stateNode.nextSibling):null;return!0}function w1e(){for(var n=uc;n;)n=n0(n.nextSibling)}function bS(){uc=vc=null,oi=!1}function h$(n){Cf===null?Cf=[n]:Cf.push(n)}var AKe=pm.ReactCurrentBatchConfig;function o2(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ut(309));var r=t.stateNode}if(!r)throw Error(ut(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(ut(284));if(!t._owner)throw Error(ut(290,n))}return n}function uB(n,e){throw n=Object.prototype.toString.call(e),Error(ut(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Tne(n){var e=n._init;return e(n._payload)}function S1e(n){function e(x,_){if(n){var b=x.deletions;b===null?(x.deletions=[_],x.flags|=16):b.push(_)}}function t(x,_){if(!n)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=o0(x,_),x.index=0,x.sibling=null,x}function s(x,_,b){return x.index=b,n?(b=x.alternate,b!==null?(b=b.index,b<_?(x.flags|=2,_):b):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,_,b,w){return _===null||_.tag!==6?(_=s5(b,x.mode,w),_.return=x,_):(_=i(_,b),_.return=x,_)}function l(x,_,b,w){var M=b.type;return M===Kb?u(x,_,b.props.children,w,b.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===gg&&Tne(M)===_.type)?(w=i(_,b.props),w.ref=o2(x,_,b),w.return=x,w):(w=dk(b.type,b.key,b.props,null,x.mode,w),w.ref=o2(x,_,b),w.return=x,w)}function c(x,_,b,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=o5(b,x.mode,w),_.return=x,_):(_=i(_,b.children||[]),_.return=x,_)}function u(x,_,b,w,M){return _===null||_.tag!==7?(_=_1(b,x.mode,w,M),_.return=x,_):(_=i(_,b),_.return=x,_)}function f(x,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=s5(""+_,x.mode,b),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ZP:return b=dk(_.type,_.key,_.props,null,x.mode,b),b.ref=o2(x,null,_),b.return=x,b;case Yb:return _=o5(_,x.mode,b),_.return=x,_;case gg:var w=_._init;return f(x,w(_._payload),b)}if(j2(_)||t2(_))return _=_1(_,x.mode,b,null),_.return=x,_;uB(x,_)}return null}function d(x,_,b,w){var M=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:a(x,_,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ZP:return b.key===M?l(x,_,b,w):null;case Yb:return b.key===M?c(x,_,b,w):null;case gg:return M=b._init,d(x,_,M(b._payload),w)}if(j2(b)||t2(b))return M!==null?null:u(x,_,b,w,null);uB(x,b)}return null}function p(x,_,b,w,M){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(b)||null,a(_,x,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ZP:return x=x.get(w.key===null?b:w.key)||null,l(_,x,w,M);case Yb:return x=x.get(w.key===null?b:w.key)||null,c(_,x,w,M);case gg:var C=w._init;return p(x,_,b,C(w._payload),M)}if(j2(w)||t2(w))return x=x.get(b)||null,u(_,x,w,M,null);uB(_,w)}return null}function m(x,_,b,w){for(var M=null,C=null,R=_,E=_=0,B=null;R!==null&&E<b.length;E++){R.index>E?(B=R,R=null):B=R.sibling;var D=d(x,R,b[E],w);if(D===null){R===null&&(R=B);break}n&&R&&D.alternate===null&&e(x,R),_=s(D,_,E),C===null?M=D:C.sibling=D,C=D,R=B}if(E===b.length)return t(x,R),oi&&by(x,E),M;if(R===null){for(;E<b.length;E++)R=f(x,b[E],w),R!==null&&(_=s(R,_,E),C===null?M=R:C.sibling=R,C=R);return oi&&by(x,E),M}for(R=r(x,R);E<b.length;E++)B=p(R,x,E,b[E],w),B!==null&&(n&&B.alternate!==null&&R.delete(B.key===null?E:B.key),_=s(B,_,E),C===null?M=B:C.sibling=B,C=B);return n&&R.forEach(function(N){return e(x,N)}),oi&&by(x,E),M}function g(x,_,b,w){var M=t2(b);if(typeof M!="function")throw Error(ut(150));if(b=M.call(b),b==null)throw Error(ut(151));for(var C=M=null,R=_,E=_=0,B=null,D=b.next();R!==null&&!D.done;E++,D=b.next()){R.index>E?(B=R,R=null):B=R.sibling;var N=d(x,R,D.value,w);if(N===null){R===null&&(R=B);break}n&&R&&N.alternate===null&&e(x,R),_=s(N,_,E),C===null?M=N:C.sibling=N,C=N,R=B}if(D.done)return t(x,R),oi&&by(x,E),M;if(R===null){for(;!D.done;E++,D=b.next())D=f(x,D.value,w),D!==null&&(_=s(D,_,E),C===null?M=D:C.sibling=D,C=D);return oi&&by(x,E),M}for(R=r(x,R);!D.done;E++,D=b.next())D=p(R,x,E,D.value,w),D!==null&&(n&&D.alternate!==null&&R.delete(D.key===null?E:D.key),_=s(D,_,E),C===null?M=D:C.sibling=D,C=D);return n&&R.forEach(function(z){return e(x,z)}),oi&&by(x,E),M}function y(x,_,b,w){if(typeof b=="object"&&b!==null&&b.type===Kb&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ZP:e:{for(var M=b.key,C=_;C!==null;){if(C.key===M){if(M=b.type,M===Kb){if(C.tag===7){t(x,C.sibling),_=i(C,b.props.children),_.return=x,x=_;break e}}else if(C.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===gg&&Tne(M)===C.type){t(x,C.sibling),_=i(C,b.props),_.ref=o2(x,C,b),_.return=x,x=_;break e}t(x,C);break}else e(x,C);C=C.sibling}b.type===Kb?(_=_1(b.props.children,x.mode,w,b.key),_.return=x,x=_):(w=dk(b.type,b.key,b.props,null,x.mode,w),w.ref=o2(x,_,b),w.return=x,x=w)}return o(x);case Yb:e:{for(C=b.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){t(x,_.sibling),_=i(_,b.children||[]),_.return=x,x=_;break e}else{t(x,_);break}else e(x,_);_=_.sibling}_=o5(b,x.mode,w),_.return=x,x=_}return o(x);case gg:return C=b._init,y(x,_,C(b._payload),w)}if(j2(b))return m(x,_,b,w);if(t2(b))return g(x,_,b,w);uB(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(t(x,_.sibling),_=i(_,b),_.return=x,x=_):(t(x,_),_=s5(b,x.mode,w),_.return=x,x=_),o(x)):t(x,_)}return y}var wS=S1e(!0),A1e=S1e(!1),qI=nv(null),QI=null,iw=null,p$=null;function m$(){p$=iw=QI=null}function g$(n){var e=qI.current;Yr(qI),n._currentValue=e}function x8(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Fw(n,e){QI=n,p$=iw=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(pl=!0),n.firstContext=null)}function Hu(n){var e=n._currentValue;if(p$!==n)if(n={context:n,memoizedValue:e,next:null},iw===null){if(QI===null)throw Error(ut(308));iw=n,QI.dependencies={lanes:0,firstContext:n}}else iw=iw.next=n;return e}var Wy=null;function v$(n){Wy===null?Wy=[n]:Wy.push(n)}function M1e(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,v$(e)):(t.next=i.next,i.next=t),e.interleaved=t,qp(n,r)}function qp(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var vg=!1;function y$(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E1e(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Bp(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function r0(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Yn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qp(n,t)}return i=r.interleaved,i===null?(e.next=e,v$(r)):(e.next=i.next,i.next=e),r.interleaved=e,qp(n,t)}function ok(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,r$(n,t)}}function Rne(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ZI(n,e,t,r){var i=n.updateQueue;vg=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,g=a;switch(d=e,p=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=Pi({},f,d);break e;case 2:vg=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Z1|=o,n.lanes=o,n.memoizedState=f}}function Pne(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(ut(191,i));i.call(r)}}}var T3={},Yd=nv(T3),dT=nv(T3),hT=nv(T3);function $y(n){if(n===T3)throw Error(ut(174));return n}function x$(n,e){switch(Pr(hT,e),Pr(dT,n),Pr(Yd,T3),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Z9(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Z9(e,n)}Yr(Yd),Pr(Yd,e)}function SS(){Yr(Yd),Yr(dT),Yr(hT)}function C1e(n){$y(hT.current);var e=$y(Yd.current),t=Z9(e,n.type);e!==t&&(Pr(dT,n),Pr(Yd,t))}function _$(n){dT.current===n&&(Yr(Yd),Yr(dT))}var vi=nv(0);function eL(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ZU=[];function b$(){for(var n=0;n<ZU.length;n++)ZU[n]._workInProgressVersionPrimary=null;ZU.length=0}var ak=pm.ReactCurrentDispatcher,e5=pm.ReactCurrentBatchConfig,Q1=0,Ti=null,Us=null,po=null,tL=!1,LE=!1,pT=0,MKe=0;function Ko(){throw Error(ut(321))}function w$(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Xf(n[t],e[t]))return!1;return!0}function S$(n,e,t,r,i,s){if(Q1=s,Ti=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ak.current=n===null||n.memoizedState===null?RKe:PKe,n=t(r,i),LE){s=0;do{if(LE=!1,pT=0,25<=s)throw Error(ut(301));s+=1,po=Us=null,e.updateQueue=null,ak.current=BKe,n=t(r,i)}while(LE)}if(ak.current=nL,e=Us!==null&&Us.next!==null,Q1=0,po=Us=Ti=null,tL=!1,e)throw Error(ut(300));return n}function A$(){var n=pT!==0;return pT=0,n}function Rd(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return po===null?Ti.memoizedState=po=n:po=po.next=n,po}function Vu(){if(Us===null){var n=Ti.alternate;n=n!==null?n.memoizedState:null}else n=Us.next;var e=po===null?Ti.memoizedState:po.next;if(e!==null)po=e,Us=n;else{if(n===null)throw Error(ut(310));Us=n,n={memoizedState:Us.memoizedState,baseState:Us.baseState,baseQueue:Us.baseQueue,queue:Us.queue,next:null},po===null?Ti.memoizedState=po=n:po=po.next=n}return po}function mT(n,e){return typeof e=="function"?e(n):e}function t5(n){var e=Vu(),t=e.queue;if(t===null)throw Error(ut(311));t.lastRenderedReducer=n;var r=Us,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Q1&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ti.lanes|=u,Z1|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Xf(r,e.memoizedState)||(pl=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Ti.lanes|=s,Z1|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function n5(n){var e=Vu(),t=e.queue;if(t===null)throw Error(ut(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Xf(s,e.memoizedState)||(pl=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function T1e(){}function R1e(n,e){var t=Ti,r=Vu(),i=e(),s=!Xf(r.memoizedState,i);if(s&&(r.memoizedState=i,pl=!0),r=r.queue,M$(D1e.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||po!==null&&po.memoizedState.tag&1){if(t.flags|=2048,gT(9,B1e.bind(null,t,r,i,e),void 0,null),xo===null)throw Error(ut(349));Q1&30||P1e(t,e,i)}return i}function P1e(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ti.updateQueue,e===null?(e={lastEffect:null,stores:null},Ti.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function B1e(n,e,t,r){e.value=t,e.getSnapshot=r,k1e(e)&&I1e(n)}function D1e(n,e,t){return t(function(){k1e(e)&&I1e(n)})}function k1e(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Xf(n,t)}catch{return!0}}function I1e(n){var e=qp(n,1);e!==null&&Nf(e,n,1,-1)}function Bne(n){var e=Rd();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mT,lastRenderedState:n},e.queue=n,n=n.dispatch=TKe.bind(null,Ti,n),[e.memoizedState,n]}function gT(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ti.updateQueue,e===null?(e={lastEffect:null,stores:null},Ti.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function L1e(){return Vu().memoizedState}function lk(n,e,t,r){var i=Rd();Ti.flags|=n,i.memoizedState=gT(1|e,t,void 0,r===void 0?null:r)}function uF(n,e,t,r){var i=Vu();r=r===void 0?null:r;var s=void 0;if(Us!==null){var o=Us.memoizedState;if(s=o.destroy,r!==null&&w$(r,o.deps)){i.memoizedState=gT(e,t,s,r);return}}Ti.flags|=n,i.memoizedState=gT(1|e,t,s,r)}function Dne(n,e){return lk(8390656,8,n,e)}function M$(n,e){return uF(2048,8,n,e)}function O1e(n,e){return uF(4,2,n,e)}function F1e(n,e){return uF(4,4,n,e)}function N1e(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function U1e(n,e,t){return t=t!=null?t.concat([n]):null,uF(4,4,N1e.bind(null,e,n),t)}function E$(){}function z1e(n,e){var t=Vu();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&w$(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function G1e(n,e){var t=Vu();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&w$(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function H1e(n,e,t){return Q1&21?(Xf(t,e)||(t=Xye(),Ti.lanes|=t,Z1|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,pl=!0),n.memoizedState=t)}function EKe(n,e){var t=ar;ar=t!==0&&4>t?t:4,n(!0);var r=e5.transition;e5.transition={};try{n(!1),e()}finally{ar=t,e5.transition=r}}function V1e(){return Vu().memoizedState}function CKe(n,e,t){var r=s0(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},j1e(n))W1e(e,t);else if(t=M1e(n,e,t,r),t!==null){var i=Va();Nf(t,n,r,i),$1e(t,e,r)}}function TKe(n,e,t){var r=s0(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(j1e(n))W1e(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Xf(a,o)){var l=e.interleaved;l===null?(i.next=i,v$(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=M1e(n,e,i,r),t!==null&&(i=Va(),Nf(t,n,r,i),$1e(t,e,r))}}function j1e(n){var e=n.alternate;return n===Ti||e!==null&&e===Ti}function W1e(n,e){LE=tL=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function $1e(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,r$(n,t)}}var nL={readContext:Hu,useCallback:Ko,useContext:Ko,useEffect:Ko,useImperativeHandle:Ko,useInsertionEffect:Ko,useLayoutEffect:Ko,useMemo:Ko,useReducer:Ko,useRef:Ko,useState:Ko,useDebugValue:Ko,useDeferredValue:Ko,useTransition:Ko,useMutableSource:Ko,useSyncExternalStore:Ko,useId:Ko,unstable_isNewReconciler:!1},RKe={readContext:Hu,useCallback:function(n,e){return Rd().memoizedState=[n,e===void 0?null:e],n},useContext:Hu,useEffect:Dne,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,lk(4194308,4,N1e.bind(null,e,n),t)},useLayoutEffect:function(n,e){return lk(4194308,4,n,e)},useInsertionEffect:function(n,e){return lk(4,2,n,e)},useMemo:function(n,e){var t=Rd();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Rd();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=CKe.bind(null,Ti,n),[r.memoizedState,n]},useRef:function(n){var e=Rd();return n={current:n},e.memoizedState=n},useState:Bne,useDebugValue:E$,useDeferredValue:function(n){return Rd().memoizedState=n},useTransition:function(){var n=Bne(!1),e=n[0];return n=EKe.bind(null,n[1]),Rd().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ti,i=Rd();if(oi){if(t===void 0)throw Error(ut(407));t=t()}else{if(t=e(),xo===null)throw Error(ut(349));Q1&30||P1e(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,Dne(D1e.bind(null,r,s,n),[n]),r.flags|=2048,gT(9,B1e.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Rd(),e=xo.identifierPrefix;if(oi){var t=bp,r=_p;t=(r&~(1<<32-Ff(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=pT++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=MKe++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},PKe={readContext:Hu,useCallback:z1e,useContext:Hu,useEffect:M$,useImperativeHandle:U1e,useInsertionEffect:O1e,useLayoutEffect:F1e,useMemo:G1e,useReducer:t5,useRef:L1e,useState:function(){return t5(mT)},useDebugValue:E$,useDeferredValue:function(n){var e=Vu();return H1e(e,Us.memoizedState,n)},useTransition:function(){var n=t5(mT)[0],e=Vu().memoizedState;return[n,e]},useMutableSource:T1e,useSyncExternalStore:R1e,useId:V1e,unstable_isNewReconciler:!1},BKe={readContext:Hu,useCallback:z1e,useContext:Hu,useEffect:M$,useImperativeHandle:U1e,useInsertionEffect:O1e,useLayoutEffect:F1e,useMemo:G1e,useReducer:n5,useRef:L1e,useState:function(){return n5(mT)},useDebugValue:E$,useDeferredValue:function(n){var e=Vu();return Us===null?e.memoizedState=n:H1e(e,Us.memoizedState,n)},useTransition:function(){var n=n5(mT)[0],e=Vu().memoizedState;return[n,e]},useMutableSource:T1e,useSyncExternalStore:R1e,useId:V1e,unstable_isNewReconciler:!1};function bf(n,e){if(n&&n.defaultProps){e=Pi({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function _8(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Pi({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var fF={isMounted:function(n){return(n=n._reactInternals)?Mx(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Va(),i=s0(n),s=Bp(r,i);s.payload=e,t!=null&&(s.callback=t),e=r0(n,s,i),e!==null&&(Nf(e,n,i,r),ok(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Va(),i=s0(n),s=Bp(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=r0(n,s,i),e!==null&&(Nf(e,n,i,r),ok(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Va(),r=s0(n),i=Bp(t,r);i.tag=2,e!=null&&(i.callback=e),e=r0(n,i,r),e!==null&&(Nf(e,n,r,t),ok(e,n,r))}};function kne(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!lT(t,r)||!lT(i,s):!0}function X1e(n,e,t){var r=!1,i=R0,s=e.contextType;return typeof s=="object"&&s!==null?s=Hu(s):(i=Ml(e)?K1:pa.current,r=e.contextTypes,s=(r=r!=null)?_S(n,i):R0),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fF,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function Ine(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&fF.enqueueReplaceState(e,e.state,null)}function b8(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},y$(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hu(s):(s=Ml(e)?K1:pa.current,i.context=_S(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_8(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fF.enqueueReplaceState(i,i.state,null),ZI(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function AS(n,e){try{var t="",r=e;do t+=sYe(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function r5(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function w8(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var DKe=typeof WeakMap=="function"?WeakMap:Map;function J1e(n,e,t){t=Bp(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){iL||(iL=!0,D8=r),w8(n,e)},t}function Y1e(n,e,t){t=Bp(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){w8(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){w8(n,e),typeof r!="function"&&(i0===null?i0=new Set([this]):i0.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Lne(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new DKe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=$Ke.bind(null,n,e,t),e.then(n,n))}function One(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Fne(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Bp(-1,1),e.tag=2,r0(t,e,1))),t.lanes|=1),n)}var kKe=pm.ReactCurrentOwner,pl=!1;function La(n,e,t,r){e.child=n===null?A1e(e,null,t,r):wS(e,n.child,t,r)}function Nne(n,e,t,r,i){t=t.render;var s=e.ref;return Fw(e,i),r=S$(n,e,t,r,s,i),t=A$(),n!==null&&!pl?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Qp(n,e,i)):(oi&&t&&f$(e),e.flags|=1,La(n,e,r,i),e.child)}function Une(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!I$(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,K1e(n,e,s,r,i)):(n=dk(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:lT,t(o,r)&&n.ref===e.ref)return Qp(n,e,i)}return e.flags|=1,n=o0(s,r),n.ref=e.ref,n.return=e,e.child=n}function K1e(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(lT(s,r)&&n.ref===e.ref)if(pl=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(pl=!0);else return e.lanes=n.lanes,Qp(n,e,i)}return S8(n,e,t,r,i)}function q1e(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pr(ow,ec),ec|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Pr(ow,ec),ec|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Pr(ow,ec),ec|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Pr(ow,ec),ec|=r;return La(n,e,i,t),e.child}function Q1e(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function S8(n,e,t,r,i){var s=Ml(t)?K1:pa.current;return s=_S(e,s),Fw(e,i),t=S$(n,e,t,r,s,i),r=A$(),n!==null&&!pl?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Qp(n,e,i)):(oi&&r&&f$(e),e.flags|=1,La(n,e,t,i),e.child)}function zne(n,e,t,r,i){if(Ml(t)){var s=!0;JI(e)}else s=!1;if(Fw(e,i),e.stateNode===null)ck(n,e),X1e(e,t,r),b8(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Hu(c):(c=Ml(t)?K1:pa.current,c=_S(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ine(e,o,r,c),vg=!1;var d=e.memoizedState;o.state=d,ZI(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Al.current||vg?(typeof u=="function"&&(_8(e,t,u,r),l=e.memoizedState),(a=vg||kne(e,t,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,E1e(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:bf(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Hu(l):(l=Ml(t)?K1:pa.current,l=_S(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Ine(e,o,r,l),vg=!1,d=e.memoizedState,o.state=d,ZI(e,r,o,i);var m=e.memoizedState;a!==f||d!==m||Al.current||vg?(typeof p=="function"&&(_8(e,t,p,r),m=e.memoizedState),(c=vg||kne(e,t,c,r,d,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return A8(n,e,t,r,s,i)}function A8(n,e,t,r,i,s){Q1e(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Mne(e,t,!1),Qp(n,e,s);r=e.stateNode,kKe.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=wS(e,n.child,null,s),e.child=wS(e,null,a,s)):La(n,e,a,s),e.memoizedState=r.state,i&&Mne(e,t,!0),e.child}function Z1e(n){var e=n.stateNode;e.pendingContext?Ane(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Ane(n,e.context,!1),x$(n,e.containerInfo)}function Gne(n,e,t,r,i){return bS(),h$(i),e.flags|=256,La(n,e,t,r),e.child}var M8={dehydrated:null,treeContext:null,retryLane:0};function E8(n){return{baseLanes:n,cachePool:null,transitions:null}}function exe(n,e,t){var r=e.pendingProps,i=vi.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Pr(vi,i&1),n===null)return y8(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pF(o,r,0,null),n=_1(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=E8(t),e.memoizedState=M8,n):C$(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IKe(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=o0(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=o0(a,s):(s=_1(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?E8(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=M8,r}return s=n.child,n=s.sibling,r=o0(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function C$(n,e){return e=pF({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function fB(n,e,t,r){return r!==null&&h$(r),wS(e,n.child,null,t),n=C$(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function IKe(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=r5(Error(ut(422))),fB(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pF({mode:"visible",children:r.children},i,0,null),s=_1(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wS(e,n.child,null,o),e.child.memoizedState=E8(o),e.memoizedState=M8,s);if(!(e.mode&1))return fB(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ut(419)),r=r5(s,r,void 0),fB(n,e,o,r)}if(a=(o&n.childLanes)!==0,pl||a){if(r=xo,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qp(n,i),Nf(r,n,i,-1))}return k$(),r=r5(Error(ut(421))),fB(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=XKe.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,uc=n0(i.nextSibling),vc=e,oi=!0,Cf=null,n!==null&&(xu[_u++]=_p,xu[_u++]=bp,xu[_u++]=q1,_p=n.id,bp=n.overflow,q1=e),e=C$(e,r.children),e.flags|=4096,e)}function Hne(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),x8(n.return,e,t)}function i5(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function txe(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(La(n,e,r.children,t),r=vi.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Hne(n,t,e);else if(n.tag===19)Hne(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Pr(vi,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&eL(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),i5(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&eL(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}i5(e,!0,t,null,s);break;case"together":i5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ck(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Qp(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Z1|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(ut(153));if(e.child!==null){for(n=e.child,t=o0(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=o0(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function LKe(n,e,t){switch(e.tag){case 3:Z1e(e),bS();break;case 5:C1e(e);break;case 1:Ml(e.type)&&JI(e);break;case 4:x$(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pr(qI,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pr(vi,vi.current&1),e.flags|=128,null):t&e.child.childLanes?exe(n,e,t):(Pr(vi,vi.current&1),n=Qp(n,e,t),n!==null?n.sibling:null);Pr(vi,vi.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return txe(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pr(vi,vi.current),r)break;return null;case 22:case 23:return e.lanes=0,q1e(n,e,t)}return Qp(n,e,t)}var nxe,C8,rxe,ixe;nxe=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};C8=function(){};rxe=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,$y(Yd.current);var s=null;switch(t){case"input":i=Y9(n,i),r=Y9(n,r),s=[];break;case"select":i=Pi({},i,{value:void 0}),r=Pi({},r,{value:void 0}),s=[];break;case"textarea":i=Q9(n,i),r=Q9(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=$I)}e8(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(tT.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(tT.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Gr("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ixe=function(n,e,t,r){t!==r&&(e.flags|=4)};function a2(n,e){if(!oi)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function qo(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function OKe(n,e,t){var r=e.pendingProps;switch(d$(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(e),null;case 1:return Ml(e.type)&&XI(),qo(e),null;case 3:return r=e.stateNode,SS(),Yr(Al),Yr(pa),b$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(cB(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cf!==null&&(L8(Cf),Cf=null))),C8(n,e),qo(e),null;case 5:_$(e);var i=$y(hT.current);if(t=e.type,n!==null&&e.stateNode!=null)rxe(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ut(166));return qo(e),null}if(n=$y(Yd.current),cB(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Od]=e,r[fT]=s,n=(e.mode&1)!==0,t){case"dialog":Gr("cancel",r),Gr("close",r);break;case"iframe":case"object":case"embed":Gr("load",r);break;case"video":case"audio":for(i=0;i<$2.length;i++)Gr($2[i],r);break;case"source":Gr("error",r);break;case"img":case"image":case"link":Gr("error",r),Gr("load",r);break;case"details":Gr("toggle",r);break;case"input":qte(r,s),Gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Gr("invalid",r);break;case"textarea":Zte(r,s),Gr("invalid",r)}e8(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lB(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lB(r.textContent,a,n),i=["children",""+a]):tT.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Gr("scroll",r)}switch(t){case"input":eB(r),Qte(r,s,!0);break;case"textarea":eB(r),ene(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$I)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Dye(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Od]=e,n[fT]=r,nxe(n,e,!1,!1),e.stateNode=n;e:{switch(o=t8(t,r),t){case"dialog":Gr("cancel",n),Gr("close",n),i=r;break;case"iframe":case"object":case"embed":Gr("load",n),i=r;break;case"video":case"audio":for(i=0;i<$2.length;i++)Gr($2[i],n);i=r;break;case"source":Gr("error",n),i=r;break;case"img":case"image":case"link":Gr("error",n),Gr("load",n),i=r;break;case"details":Gr("toggle",n),i=r;break;case"input":qte(n,r),i=Y9(n,r),Gr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Pi({},r,{value:void 0}),Gr("invalid",n);break;case"textarea":Zte(n,r),i=Q9(n,r),Gr("invalid",n);break;default:i=r}e8(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Lye(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kye(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&nT(n,l):typeof l=="number"&&nT(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(tT.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Gr("scroll",n):l!=null&&q7(n,s,l,o))}switch(t){case"input":eB(n),Qte(n,r,!1);break;case"textarea":eB(n),ene(n);break;case"option":r.value!=null&&n.setAttribute("value",""+T0(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?kw(n,!!r.multiple,s,!1):r.defaultValue!=null&&kw(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=$I)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qo(e),null;case 6:if(n&&e.stateNode!=null)ixe(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ut(166));if(t=$y(hT.current),$y(Yd.current),cB(e)){if(r=e.stateNode,t=e.memoizedProps,r[Od]=e,(s=r.nodeValue!==t)&&(n=vc,n!==null))switch(n.tag){case 3:lB(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&lB(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Od]=e,e.stateNode=r}return qo(e),null;case 13:if(Yr(vi),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(oi&&uc!==null&&e.mode&1&&!(e.flags&128))w1e(),bS(),e.flags|=98560,s=!1;else if(s=cB(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(ut(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ut(317));s[Od]=e}else bS(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qo(e),s=!1}else Cf!==null&&(L8(Cf),Cf=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||vi.current&1?js===0&&(js=3):k$())),e.updateQueue!==null&&(e.flags|=4),qo(e),null);case 4:return SS(),C8(n,e),n===null&&cT(e.stateNode.containerInfo),qo(e),null;case 10:return g$(e.type._context),qo(e),null;case 17:return Ml(e.type)&&XI(),qo(e),null;case 19:if(Yr(vi),s=e.memoizedState,s===null)return qo(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)a2(s,!1);else{if(js!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=eL(n),o!==null){for(e.flags|=128,a2(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Pr(vi,vi.current&1|2),e.child}n=n.sibling}s.tail!==null&&is()>MS&&(e.flags|=128,r=!0,a2(s,!1),e.lanes=4194304)}else{if(!r)if(n=eL(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),a2(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!oi)return qo(e),null}else 2*is()-s.renderingStartTime>MS&&t!==1073741824&&(e.flags|=128,r=!0,a2(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=is(),e.sibling=null,t=vi.current,Pr(vi,r?t&1|2:t&1),e):(qo(e),null);case 22:case 23:return D$(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ec&1073741824&&(qo(e),e.subtreeFlags&6&&(e.flags|=8192)):qo(e),null;case 24:return null;case 25:return null}throw Error(ut(156,e.tag))}function FKe(n,e){switch(d$(e),e.tag){case 1:return Ml(e.type)&&XI(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return SS(),Yr(Al),Yr(pa),b$(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return _$(e),null;case 13:if(Yr(vi),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ut(340));bS()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Yr(vi),null;case 4:return SS(),null;case 10:return g$(e.type._context),null;case 22:case 23:return D$(),null;case 24:return null;default:return null}}var dB=!1,na=!1,NKe=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function sw(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Li(n,e,r)}else t.current=null}function T8(n,e,t){try{t()}catch(r){Li(n,e,r)}}var Vne=!1;function UKe(n,e){if(f8=VI,n=c1e(),u$(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,d=null;t:for(;;){for(var p;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(d8={focusedElem:n,selectionRange:t},VI=!1,Gt=e;Gt!==null;)if(e=Gt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Gt=n;else for(;Gt!==null;){e=Gt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:bf(e.type,g),y);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ut(163))}}catch(w){Li(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,Gt=n;break}Gt=e.return}return m=Vne,Vne=!1,m}function OE(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&T8(e,t,s)}i=i.next}while(i!==r)}}function dF(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function R8(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function sxe(n){var e=n.alternate;e!==null&&(n.alternate=null,sxe(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Od],delete e[fT],delete e[m8],delete e[bKe],delete e[wKe])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function oxe(n){return n.tag===5||n.tag===3||n.tag===4}function jne(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||oxe(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function P8(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=$I));else if(r!==4&&(n=n.child,n!==null))for(P8(n,e,t),n=n.sibling;n!==null;)P8(n,e,t),n=n.sibling}function B8(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(B8(n,e,t),n=n.sibling;n!==null;)B8(n,e,t),n=n.sibling}var No=null,Sf=!1;function qm(n,e,t){for(t=t.child;t!==null;)axe(n,e,t),t=t.sibling}function axe(n,e,t){if(Jd&&typeof Jd.onCommitFiberUnmount=="function")try{Jd.onCommitFiberUnmount(iF,t)}catch{}switch(t.tag){case 5:na||sw(t,e);case 6:var r=No,i=Sf;No=null,qm(n,e,t),No=r,Sf=i,No!==null&&(Sf?(n=No,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):No.removeChild(t.stateNode));break;case 18:No!==null&&(Sf?(n=No,t=t.stateNode,n.nodeType===8?qU(n.parentNode,t):n.nodeType===1&&qU(n,t),oT(n)):qU(No,t.stateNode));break;case 4:r=No,i=Sf,No=t.stateNode.containerInfo,Sf=!0,qm(n,e,t),No=r,Sf=i;break;case 0:case 11:case 14:case 15:if(!na&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&T8(t,e,o),i=i.next}while(i!==r)}qm(n,e,t);break;case 1:if(!na&&(sw(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Li(t,e,a)}qm(n,e,t);break;case 21:qm(n,e,t);break;case 22:t.mode&1?(na=(r=na)||t.memoizedState!==null,qm(n,e,t),na=r):qm(n,e,t);break;default:qm(n,e,t)}}function Wne(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new NKe),e.forEach(function(r){var i=JKe.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function pf(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:No=a.stateNode,Sf=!1;break e;case 3:No=a.stateNode.containerInfo,Sf=!0;break e;case 4:No=a.stateNode.containerInfo,Sf=!0;break e}a=a.return}if(No===null)throw Error(ut(160));axe(s,o,i),No=null,Sf=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Li(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lxe(e,n),e=e.sibling}function lxe(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(pf(e,n),Ed(n),r&4){try{OE(3,n,n.return),dF(3,n)}catch(g){Li(n,n.return,g)}try{OE(5,n,n.return)}catch(g){Li(n,n.return,g)}}break;case 1:pf(e,n),Ed(n),r&512&&t!==null&&sw(t,t.return);break;case 5:if(pf(e,n),Ed(n),r&512&&t!==null&&sw(t,t.return),n.flags&32){var i=n.stateNode;try{nT(i,"")}catch(g){Li(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Pye(i,s),t8(a,o);var c=t8(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?Lye(i,f):u==="dangerouslySetInnerHTML"?kye(i,f):u==="children"?nT(i,f):q7(i,u,f,c)}switch(a){case"input":K9(i,s);break;case"textarea":Bye(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?kw(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?kw(i,!!s.multiple,s.defaultValue,!0):kw(i,!!s.multiple,s.multiple?[]:"",!1))}i[fT]=s}catch(g){Li(n,n.return,g)}}break;case 6:if(pf(e,n),Ed(n),r&4){if(n.stateNode===null)throw Error(ut(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){Li(n,n.return,g)}}break;case 3:if(pf(e,n),Ed(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{oT(e.containerInfo)}catch(g){Li(n,n.return,g)}break;case 4:pf(e,n),Ed(n);break;case 13:pf(e,n),Ed(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(P$=is())),r&4&&Wne(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(na=(c=na)||u,pf(e,n),na=c):pf(e,n),Ed(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(Gt=n,u=n.child;u!==null;){for(f=Gt=u;Gt!==null;){switch(d=Gt,p=d.child,d.tag){case 0:case 11:case 14:case 15:OE(4,d,d.return);break;case 1:sw(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Li(r,t,g)}}break;case 5:sw(d,d.return);break;case 22:if(d.memoizedState!==null){Xne(f);continue}}p!==null?(p.return=d,Gt=p):Xne(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Iye("display",o))}catch(g){Li(n,n.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Li(n,n.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pf(e,n),Ed(n),r&4&&Wne(n);break;case 21:break;default:pf(e,n),Ed(n)}}function Ed(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(oxe(t)){var r=t;break e}t=t.return}throw Error(ut(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nT(i,""),r.flags&=-33);var s=jne(n);B8(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jne(n);P8(n,a,o);break;default:throw Error(ut(161))}}catch(l){Li(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function zKe(n,e,t){Gt=n,cxe(n)}function cxe(n,e,t){for(var r=(n.mode&1)!==0;Gt!==null;){var i=Gt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dB;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||na;a=dB;var c=na;if(dB=o,(na=l)&&!c)for(Gt=i;Gt!==null;)o=Gt,l=o.child,o.tag===22&&o.memoizedState!==null?Jne(i):l!==null?(l.return=o,Gt=l):Jne(i);for(;s!==null;)Gt=s,cxe(s),s=s.sibling;Gt=i,dB=a,na=c}$ne(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Gt=s):$ne(n)}}function $ne(n){for(;Gt!==null;){var e=Gt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:na||dF(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!na)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:bf(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Pne(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Pne(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&oT(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ut(163))}na||e.flags&512&&R8(e)}catch(d){Li(e,e.return,d)}}if(e===n){Gt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Gt=t;break}Gt=e.return}}function Xne(n){for(;Gt!==null;){var e=Gt;if(e===n){Gt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Gt=t;break}Gt=e.return}}function Jne(n){for(;Gt!==null;){var e=Gt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{dF(4,e)}catch(l){Li(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Li(e,i,l)}}var s=e.return;try{R8(e)}catch(l){Li(e,s,l)}break;case 5:var o=e.return;try{R8(e)}catch(l){Li(e,o,l)}}}catch(l){Li(e,e.return,l)}if(e===n){Gt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Gt=a;break}Gt=e.return}}var GKe=Math.ceil,rL=pm.ReactCurrentDispatcher,T$=pm.ReactCurrentOwner,Fu=pm.ReactCurrentBatchConfig,Yn=0,xo=null,Cs=null,zo=0,ec=0,ow=nv(0),js=0,vT=null,Z1=0,hF=0,R$=0,FE=null,ol=null,P$=0,MS=1/0,np=null,iL=!1,D8=null,i0=null,hB=!1,Ig=null,sL=0,NE=0,k8=null,uk=-1,fk=0;function Va(){return Yn&6?is():uk!==-1?uk:uk=is()}function s0(n){return n.mode&1?Yn&2&&zo!==0?zo&-zo:AKe.transition!==null?(fk===0&&(fk=Xye()),fk):(n=ar,n!==0||(n=window.event,n=n===void 0?16:e1e(n.type)),n):1}function Nf(n,e,t,r){if(50<NE)throw NE=0,k8=null,Error(ut(185));M3(n,t,r),(!(Yn&2)||n!==xo)&&(n===xo&&(!(Yn&2)&&(hF|=t),js===4&&Ag(n,zo)),El(n,r),t===1&&Yn===0&&!(e.mode&1)&&(MS=is()+500,cF&&rv()))}function El(n,e){var t=n.callbackNode;AYe(n,e);var r=HI(n,n===xo?zo:0);if(r===0)t!==null&&rne(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&rne(t),e===1)n.tag===0?SKe(Yne.bind(null,n)):x1e(Yne.bind(null,n)),xKe(function(){!(Yn&6)&&rv()}),t=null;else{switch(Jye(r)){case 1:t=n$;break;case 4:t=Wye;break;case 16:t=GI;break;case 536870912:t=$ye;break;default:t=GI}t=vxe(t,uxe.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function uxe(n,e){if(uk=-1,fk=0,Yn&6)throw Error(ut(327));var t=n.callbackNode;if(Nw()&&n.callbackNode!==t)return null;var r=HI(n,n===xo?zo:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=oL(n,r);else{e=r;var i=Yn;Yn|=2;var s=dxe();(xo!==n||zo!==e)&&(np=null,MS=is()+500,x1(n,e));do try{jKe();break}catch(a){fxe(n,a)}while(!0);m$(),rL.current=s,Yn=i,Cs!==null?e=0:(xo=null,zo=0,e=js)}if(e!==0){if(e===2&&(i=o8(n),i!==0&&(r=i,e=I8(n,i))),e===1)throw t=vT,x1(n,0),Ag(n,r),El(n,is()),t;if(e===6)Ag(n,r);else{if(i=n.current.alternate,!(r&30)&&!HKe(i)&&(e=oL(n,r),e===2&&(s=o8(n),s!==0&&(r=s,e=I8(n,s))),e===1))throw t=vT,x1(n,0),Ag(n,r),El(n,is()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(ut(345));case 2:wy(n,ol,np);break;case 3:if(Ag(n,r),(r&130023424)===r&&(e=P$+500-is(),10<e)){if(HI(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Va(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=p8(wy.bind(null,n,ol,np),e);break}wy(n,ol,np);break;case 4:if(Ag(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ff(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=is()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GKe(r/1960))-r,10<r){n.timeoutHandle=p8(wy.bind(null,n,ol,np),r);break}wy(n,ol,np);break;case 5:wy(n,ol,np);break;default:throw Error(ut(329))}}}return El(n,is()),n.callbackNode===t?uxe.bind(null,n):null}function I8(n,e){var t=FE;return n.current.memoizedState.isDehydrated&&(x1(n,e).flags|=256),n=oL(n,e),n!==2&&(e=ol,ol=t,e!==null&&L8(e)),n}function L8(n){ol===null?ol=n:ol.push.apply(ol,n)}function HKe(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Xf(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ag(n,e){for(e&=~R$,e&=~hF,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ff(e),r=1<<t;n[t]=-1,e&=~r}}function Yne(n){if(Yn&6)throw Error(ut(327));Nw();var e=HI(n,0);if(!(e&1))return El(n,is()),null;var t=oL(n,e);if(n.tag!==0&&t===2){var r=o8(n);r!==0&&(e=r,t=I8(n,r))}if(t===1)throw t=vT,x1(n,0),Ag(n,e),El(n,is()),t;if(t===6)throw Error(ut(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,wy(n,ol,np),El(n,is()),null}function B$(n,e){var t=Yn;Yn|=1;try{return n(e)}finally{Yn=t,Yn===0&&(MS=is()+500,cF&&rv())}}function ex(n){Ig!==null&&Ig.tag===0&&!(Yn&6)&&Nw();var e=Yn;Yn|=1;var t=Fu.transition,r=ar;try{if(Fu.transition=null,ar=1,n)return n()}finally{ar=r,Fu.transition=t,Yn=e,!(Yn&6)&&rv()}}function D$(){ec=ow.current,Yr(ow)}function x1(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,yKe(t)),Cs!==null)for(t=Cs.return;t!==null;){var r=t;switch(d$(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&XI();break;case 3:SS(),Yr(Al),Yr(pa),b$();break;case 5:_$(r);break;case 4:SS();break;case 13:Yr(vi);break;case 19:Yr(vi);break;case 10:g$(r.type._context);break;case 22:case 23:D$()}t=t.return}if(xo=n,Cs=n=o0(n.current,null),zo=ec=e,js=0,vT=null,R$=hF=Z1=0,ol=FE=null,Wy!==null){for(e=0;e<Wy.length;e++)if(t=Wy[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Wy=null}return n}function fxe(n,e){do{var t=Cs;try{if(m$(),ak.current=nL,tL){for(var r=Ti.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tL=!1}if(Q1=0,po=Us=Ti=null,LE=!1,pT=0,T$.current=null,t===null||t.return===null){js=1,vT=e,Cs=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=zo,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=One(o);if(p!==null){p.flags&=-257,Fne(p,o,a,s,e),p.mode&1&&Lne(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Lne(s,c,e),k$();break e}l=Error(ut(426))}}else if(oi&&a.mode&1){var y=One(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Fne(y,o,a,s,e),h$(AS(l,a));break e}}s=l=AS(l,a),js!==4&&(js=2),FE===null?FE=[s]:FE.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=J1e(s,l,e);Rne(s,x);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(i0===null||!i0.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Y1e(s,a,e);Rne(s,w);break e}}s=s.return}while(s!==null)}pxe(t)}catch(M){e=M,Cs===t&&t!==null&&(Cs=t=t.return);continue}break}while(!0)}function dxe(){var n=rL.current;return rL.current=nL,n===null?nL:n}function k$(){(js===0||js===3||js===2)&&(js=4),xo===null||!(Z1&268435455)&&!(hF&268435455)||Ag(xo,zo)}function oL(n,e){var t=Yn;Yn|=2;var r=dxe();(xo!==n||zo!==e)&&(np=null,x1(n,e));do try{VKe();break}catch(i){fxe(n,i)}while(!0);if(m$(),Yn=t,rL.current=r,Cs!==null)throw Error(ut(261));return xo=null,zo=0,js}function VKe(){for(;Cs!==null;)hxe(Cs)}function jKe(){for(;Cs!==null&&!mYe();)hxe(Cs)}function hxe(n){var e=gxe(n.alternate,n,ec);n.memoizedProps=n.pendingProps,e===null?pxe(n):Cs=e,T$.current=null}function pxe(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=FKe(t,e),t!==null){t.flags&=32767,Cs=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{js=6,Cs=null;return}}else if(t=OKe(t,e,ec),t!==null){Cs=t;return}if(e=e.sibling,e!==null){Cs=e;return}Cs=e=n}while(e!==null);js===0&&(js=5)}function wy(n,e,t){var r=ar,i=Fu.transition;try{Fu.transition=null,ar=1,WKe(n,e,t,r)}finally{Fu.transition=i,ar=r}return null}function WKe(n,e,t,r){do Nw();while(Ig!==null);if(Yn&6)throw Error(ut(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ut(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(MYe(n,s),n===xo&&(Cs=xo=null,zo=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||hB||(hB=!0,vxe(GI,function(){return Nw(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Fu.transition,Fu.transition=null;var o=ar;ar=1;var a=Yn;Yn|=4,T$.current=null,UKe(n,t),lxe(t,n),fKe(d8),VI=!!f8,d8=f8=null,n.current=t,zKe(t),gYe(),Yn=a,ar=o,Fu.transition=s}else n.current=t;if(hB&&(hB=!1,Ig=n,sL=i),s=n.pendingLanes,s===0&&(i0=null),xYe(t.stateNode),El(n,is()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(iL)throw iL=!1,n=D8,D8=null,n;return sL&1&&n.tag!==0&&Nw(),s=n.pendingLanes,s&1?n===k8?NE++:(NE=0,k8=n):NE=0,rv(),null}function Nw(){if(Ig!==null){var n=Jye(sL),e=Fu.transition,t=ar;try{if(Fu.transition=null,ar=16>n?16:n,Ig===null)var r=!1;else{if(n=Ig,Ig=null,sL=0,Yn&6)throw Error(ut(331));var i=Yn;for(Yn|=4,Gt=n.current;Gt!==null;){var s=Gt,o=s.child;if(Gt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Gt=c;Gt!==null;){var u=Gt;switch(u.tag){case 0:case 11:case 15:OE(8,u,s)}var f=u.child;if(f!==null)f.return=u,Gt=f;else for(;Gt!==null;){u=Gt;var d=u.sibling,p=u.return;if(sxe(u),u===c){Gt=null;break}if(d!==null){d.return=p,Gt=d;break}Gt=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Gt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Gt=o;else e:for(;Gt!==null;){if(s=Gt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:OE(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Gt=x;break e}Gt=s.return}}var _=n.current;for(Gt=_;Gt!==null;){o=Gt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Gt=b;else e:for(o=_;Gt!==null;){if(a=Gt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dF(9,a)}}catch(M){Li(a,a.return,M)}if(a===o){Gt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Gt=w;break e}Gt=a.return}}if(Yn=i,rv(),Jd&&typeof Jd.onPostCommitFiberRoot=="function")try{Jd.onPostCommitFiberRoot(iF,n)}catch{}r=!0}return r}finally{ar=t,Fu.transition=e}}return!1}function Kne(n,e,t){e=AS(t,e),e=J1e(n,e,1),n=r0(n,e,1),e=Va(),n!==null&&(M3(n,1,e),El(n,e))}function Li(n,e,t){if(n.tag===3)Kne(n,n,t);else for(;e!==null;){if(e.tag===3){Kne(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(i0===null||!i0.has(r))){n=AS(t,n),n=Y1e(e,n,1),e=r0(e,n,1),n=Va(),e!==null&&(M3(e,1,n),El(e,n));break}}e=e.return}}function $Ke(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Va(),n.pingedLanes|=n.suspendedLanes&t,xo===n&&(zo&t)===t&&(js===4||js===3&&(zo&130023424)===zo&&500>is()-P$?x1(n,0):R$|=t),El(n,e)}function mxe(n,e){e===0&&(n.mode&1?(e=rB,rB<<=1,!(rB&130023424)&&(rB=4194304)):e=1);var t=Va();n=qp(n,e),n!==null&&(M3(n,e,t),El(n,t))}function XKe(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),mxe(n,t)}function JKe(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(ut(314))}r!==null&&r.delete(e),mxe(n,t)}var gxe;gxe=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Al.current)pl=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return pl=!1,LKe(n,e,t);pl=!!(n.flags&131072)}else pl=!1,oi&&e.flags&1048576&&_1e(e,KI,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ck(n,e),n=e.pendingProps;var i=_S(e,pa.current);Fw(e,t),i=S$(null,e,r,n,i,t);var s=A$();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ml(r)?(s=!0,JI(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y$(e),i.updater=fF,e.stateNode=i,i._reactInternals=e,b8(e,r,n,t),e=A8(null,e,r,!0,s,t)):(e.tag=0,oi&&s&&f$(e),La(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(ck(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KKe(r),n=bf(r,n),i){case 0:e=S8(null,e,r,n,t);break e;case 1:e=zne(null,e,r,n,t);break e;case 11:e=Nne(null,e,r,n,t);break e;case 14:e=Une(null,e,r,bf(r.type,n),t);break e}throw Error(ut(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bf(r,i),S8(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bf(r,i),zne(n,e,r,i,t);case 3:e:{if(Z1e(e),n===null)throw Error(ut(387));r=e.pendingProps,s=e.memoizedState,i=s.element,E1e(n,e),ZI(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=AS(Error(ut(423)),e),e=Gne(n,e,r,t,i);break e}else if(r!==i){i=AS(Error(ut(424)),e),e=Gne(n,e,r,t,i);break e}else for(uc=n0(e.stateNode.containerInfo.firstChild),vc=e,oi=!0,Cf=null,t=A1e(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(bS(),r===i){e=Qp(n,e,t);break e}La(n,e,r,t)}e=e.child}return e;case 5:return C1e(e),n===null&&y8(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,h8(r,i)?o=null:s!==null&&h8(r,s)&&(e.flags|=32),Q1e(n,e),La(n,e,o,t),e.child;case 6:return n===null&&y8(e),null;case 13:return exe(n,e,t);case 4:return x$(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=wS(e,null,r,t):La(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bf(r,i),Nne(n,e,r,i,t);case 7:return La(n,e,e.pendingProps,t),e.child;case 8:return La(n,e,e.pendingProps.children,t),e.child;case 12:return La(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pr(qI,r._currentValue),r._currentValue=o,s!==null)if(Xf(s.value,o)){if(s.children===i.children&&!Al.current){e=Qp(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Bp(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),x8(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ut(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),x8(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}La(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fw(e,t),i=Hu(i),r=r(i),e.flags|=1,La(n,e,r,t),e.child;case 14:return r=e.type,i=bf(r,e.pendingProps),i=bf(r.type,i),Une(n,e,r,i,t);case 15:return K1e(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bf(r,i),ck(n,e),e.tag=1,Ml(r)?(n=!0,JI(e)):n=!1,Fw(e,t),X1e(e,r,i),b8(e,r,i,t),A8(null,e,r,!0,n,t);case 19:return txe(n,e,t);case 22:return q1e(n,e,t)}throw Error(ut(156,e.tag))};function vxe(n,e){return jye(n,e)}function YKe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bu(n,e,t,r){return new YKe(n,e,t,r)}function I$(n){return n=n.prototype,!(!n||!n.isReactComponent)}function KKe(n){if(typeof n=="function")return I$(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Z7)return 11;if(n===e$)return 14}return 2}function o0(n,e){var t=n.alternate;return t===null?(t=Bu(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function dk(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")I$(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Kb:return _1(t.children,i,s,e);case Q7:o=8,i|=8;break;case W9:return n=Bu(12,t,e,i|2),n.elementType=W9,n.lanes=s,n;case $9:return n=Bu(13,t,e,i),n.elementType=$9,n.lanes=s,n;case X9:return n=Bu(19,t,e,i),n.elementType=X9,n.lanes=s,n;case Cye:return pF(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Mye:o=10;break e;case Eye:o=9;break e;case Z7:o=11;break e;case e$:o=14;break e;case gg:o=16,r=null;break e}throw Error(ut(130,n==null?n:typeof n,""))}return e=Bu(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function _1(n,e,t,r){return n=Bu(7,n,r,e),n.lanes=t,n}function pF(n,e,t,r){return n=Bu(22,n,r,e),n.elementType=Cye,n.lanes=t,n.stateNode={isHidden:!1},n}function s5(n,e,t){return n=Bu(6,n,null,e),n.lanes=t,n}function o5(n,e,t){return e=Bu(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function qKe(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zU(0),this.expirationTimes=zU(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zU(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function L$(n,e,t,r,i,s,o,a,l){return n=new qKe(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Bu(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},y$(s),n}function QKe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yb,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function yxe(n){if(!n)return R0;n=n._reactInternals;e:{if(Mx(n)!==n||n.tag!==1)throw Error(ut(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ml(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ut(171))}if(n.tag===1){var t=n.type;if(Ml(t))return y1e(n,t,e)}return e}function xxe(n,e,t,r,i,s,o,a,l){return n=L$(t,r,!0,n,i,s,o,a,l),n.context=yxe(null),t=n.current,r=Va(),i=s0(t),s=Bp(r,i),s.callback=e??null,r0(t,s,i),n.current.lanes=i,M3(n,i,r),El(n,r),n}function mF(n,e,t,r){var i=e.current,s=Va(),o=s0(i);return t=yxe(t),e.context===null?e.context=t:e.pendingContext=t,e=Bp(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=r0(i,e,o),n!==null&&(Nf(n,i,o,s),ok(n,i,o)),o}function aL(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function qne(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function O$(n,e){qne(n,e),(n=n.alternate)&&qne(n,e)}function ZKe(){return null}var _xe=typeof reportError=="function"?reportError:function(n){console.error(n)};function F$(n){this._internalRoot=n}gF.prototype.render=F$.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ut(409));mF(n,e,null,null)};gF.prototype.unmount=F$.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ex(function(){mF(null,n,null,null)}),e[Kp]=null}};function gF(n){this._internalRoot=n}gF.prototype.unstable_scheduleHydration=function(n){if(n){var e=qye();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Sg.length&&e!==0&&e<Sg[t].priority;t++);Sg.splice(t,0,n),t===0&&Zye(n)}};function N$(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function vF(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Qne(){}function eqe(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=aL(o);s.call(c)}}var o=xxe(e,r,n,0,null,!1,!1,"",Qne);return n._reactRootContainer=o,n[Kp]=o.current,cT(n.nodeType===8?n.parentNode:n),ex(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=aL(l);a.call(c)}}var l=L$(n,0,!1,null,null,!1,!1,"",Qne);return n._reactRootContainer=l,n[Kp]=l.current,cT(n.nodeType===8?n.parentNode:n),ex(function(){mF(e,l,t,r)}),l}function yF(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=aL(o);a.call(l)}}mF(e,o,n,i)}else o=eqe(t,e,n,i,r);return aL(o)}Yye=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=W2(e.pendingLanes);t!==0&&(r$(e,t|1),El(e,is()),!(Yn&6)&&(MS=is()+500,rv()))}break;case 13:ex(function(){var r=qp(n,1);if(r!==null){var i=Va();Nf(r,n,1,i)}}),O$(n,1)}};i$=function(n){if(n.tag===13){var e=qp(n,134217728);if(e!==null){var t=Va();Nf(e,n,134217728,t)}O$(n,134217728)}};Kye=function(n){if(n.tag===13){var e=s0(n),t=qp(n,e);if(t!==null){var r=Va();Nf(t,n,e,r)}O$(n,e)}};qye=function(){return ar};Qye=function(n,e){var t=ar;try{return ar=n,e()}finally{ar=t}};r8=function(n,e,t){switch(e){case"input":if(K9(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=lF(r);if(!i)throw Error(ut(90));Rye(r),K9(r,i)}}}break;case"textarea":Bye(n,t);break;case"select":e=t.value,e!=null&&kw(n,!!t.multiple,e,!1)}};Nye=B$;Uye=ex;var tqe={usingClientEntryPoint:!1,Events:[C3,ew,lF,Oye,Fye,B$]},l2={findFiberByHostInstance:jy,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nqe={bundleType:l2.bundleType,version:l2.version,rendererPackageName:l2.rendererPackageName,rendererConfig:l2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pm.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Hye(n),n===null?null:n.stateNode},findFiberByHostInstance:l2.findFiberByHostInstance||ZKe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pB=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pB.isDisabled&&pB.supportsFiber)try{iF=pB.inject(nqe),Jd=pB}catch{}}Bc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tqe;Bc.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N$(e))throw Error(ut(200));return QKe(n,e,null,t)};Bc.createRoot=function(n,e){if(!N$(n))throw Error(ut(299));var t=!1,r="",i=_xe;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=L$(n,1,!1,null,null,t,!1,r,i),n[Kp]=e.current,cT(n.nodeType===8?n.parentNode:n),new F$(e)};Bc.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ut(188)):(n=Object.keys(n).join(","),Error(ut(268,n)));return n=Hye(e),n=n===null?null:n.stateNode,n};Bc.flushSync=function(n){return ex(n)};Bc.hydrate=function(n,e,t){if(!vF(e))throw Error(ut(200));return yF(null,n,e,!0,t)};Bc.hydrateRoot=function(n,e,t){if(!N$(n))throw Error(ut(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=_xe;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=xxe(e,null,n,1,t??null,i,!1,s,o),n[Kp]=e.current,cT(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new gF(e)};Bc.render=function(n,e,t){if(!vF(e))throw Error(ut(200));return yF(null,n,e,!1,t)};Bc.unmountComponentAtNode=function(n){if(!vF(n))throw Error(ut(40));return n._reactRootContainer?(ex(function(){yF(null,null,n,!1,function(){n._reactRootContainer=null,n[Kp]=null})}),!0):!1};Bc.unstable_batchedUpdates=B$;Bc.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!vF(t))throw Error(ut(200));if(n==null||n._reactInternals===void 0)throw Error(ut(38));return yF(n,e,t,!1,r)};Bc.version="18.3.1-next-f1338f8080-20240426";function bxe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bxe)}catch(n){console.error(n)}}bxe(),bye.exports=Bc;var R3=bye.exports;const wxe=aA(R3);var Sxe,Zne=R3;Sxe=V9.createRoot=Zne.createRoot,V9.hydrateRoot=Zne.hydrateRoot;function $a(){return $a=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$a.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const P3="146",rqe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},iqe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Axe=0,O8=1,Mxe=2,sqe=3,Exe=0,xF=1,UE=2,Xy=3,Zp=0,ja=1,Du=2,Dp=0,b1=1,F8=2,N8=3,U8=4,Cxe=5,Ry=100,Txe=101,Rxe=102,z8=103,G8=104,Pxe=200,Bxe=201,Dxe=202,kxe=203,U$=204,z$=205,Ixe=206,Lxe=207,Oxe=208,Fxe=209,Nxe=210,Uxe=0,zxe=1,Gxe=2,lL=3,Hxe=4,Vxe=5,jxe=6,Wxe=7,B3=0,$xe=1,Xxe=2,Uf=0,Jxe=1,Yxe=2,Kxe=3,G$=4,qxe=5,_F=300,P0=301,B0=302,ES=303,yT=304,fA=306,oh=1e3,Gs=1001,CS=1002,ss=1003,xT=1004,oqe=1004,_T=1005,aqe=1005,Wr=1006,bF=1007,lqe=1007,mm=1008,cqe=1008,em=1009,Qxe=1010,Zxe=1011,H$=1012,e_e=1013,Lg=1014,wp=1015,TS=1016,t_e=1017,n_e=1018,w1=1020,r_e=1021,i_e=1022,cl=1023,s_e=1024,o_e=1025,a0=1026,tx=1027,a_e=1028,l_e=1029,c_e=1030,u_e=1031,f_e=1033,hk=33776,pk=33777,mk=33778,gk=33779,H8=35840,V8=35841,j8=35842,W8=35843,d_e=36196,$8=37492,X8=37496,J8=37808,Y8=37809,K8=37810,q8=37811,Q8=37812,Z8=37813,eH=37814,tH=37815,nH=37816,rH=37817,iH=37818,sH=37819,oH=37820,aH=37821,lH=36492,h_e=2200,p_e=2201,m_e=2202,RS=2300,nx=2301,vk=2302,Jy=2400,Yy=2401,bT=2402,wF=2500,V$=2501,g_e=0,j$=1,cL=2,D0=3e3,ri=3001,v_e=3200,W$=3201,iv=0,y_e=1,uqe="",Dd="srgb",Og="srgb-linear",fqe=0,yk=7680,dqe=7681,hqe=7682,pqe=7683,mqe=34055,gqe=34056,vqe=5386,yqe=512,xqe=513,_qe=514,bqe=515,wqe=516,Sqe=517,Aqe=518,x_e=519,wT=35044,Mqe=35048,Eqe=35040,Cqe=35045,Tqe=35049,Rqe=35041,Pqe=35046,Bqe=35050,Dqe=35042,kqe="100",cH="300 es",uL=1035;class gm{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Qo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ere=1234567;const S1=Math.PI/180,ST=180/Math.PI;function yc(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Qo[n&255]+Qo[n>>8&255]+Qo[n>>16&255]+Qo[n>>24&255]+"-"+Qo[e&255]+Qo[e>>8&255]+"-"+Qo[e>>16&15|64]+Qo[e>>24&255]+"-"+Qo[t&63|128]+Qo[t>>8&255]+"-"+Qo[t>>16&255]+Qo[t>>24&255]+Qo[r&255]+Qo[r>>8&255]+Qo[r>>16&255]+Qo[r>>24&255]).toLowerCase()}function os(n,e,t){return Math.max(e,Math.min(t,n))}function $$(n,e){return(n%e+e)%e}function Iqe(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function Lqe(n,e,t){return n!==e?(t-n)/(e-n):0}function zE(n,e,t){return(1-t)*n+t*e}function Oqe(n,e,t,r){return zE(n,e,1-Math.exp(-t*r))}function Fqe(n,e=1){return e-Math.abs($$(n,e*2)-e)}function Nqe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Uqe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function zqe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Gqe(n,e){return n+Math.random()*(e-n)}function Hqe(n){return n*(.5-Math.random())}function Vqe(n){n!==void 0&&(ere=n);let e=ere+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function jqe(n){return n*S1}function Wqe(n){return n*ST}function uH(n){return(n&n-1)===0&&n!==0}function __e(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function fL(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function $qe(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),d=o((e-r)/2),p=s((r-e)/2),m=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*d,a*c);break;case"YZY":n.set(l*d,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*d,a*u,a*c);break;case"XZX":n.set(a*u,l*m,l*p,a*c);break;case"YXY":n.set(l*p,a*u,l*m,a*c);break;case"ZYZ":n.set(l*m,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Sp(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function _r(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var ul=Object.freeze({__proto__:null,DEG2RAD:S1,RAD2DEG:ST,generateUUID:yc,clamp:os,euclideanModulo:$$,mapLinear:Iqe,inverseLerp:Lqe,lerp:zE,damp:Oqe,pingpong:Fqe,smoothstep:Nqe,smootherstep:Uqe,randInt:zqe,randFloat:Gqe,randFloatSpread:Hqe,seededRandom:Vqe,degToRad:jqe,radToDeg:Wqe,isPowerOfTwo:uH,ceilPowerOfTwo:__e,floorPowerOfTwo:fL,setQuaternionFromProperEuler:$qe,normalize:_r,denormalize:Sp});class nt{constructor(e=0,t=0){nt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class aa{constructor(){aa.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],p=r[5],m=r[8],g=i[0],y=i[3],x=i[6],_=i[1],b=i[4],w=i[7],M=i[2],C=i[5],R=i[8];return s[0]=o*g+a*_+l*M,s[3]=o*y+a*b+l*C,s[6]=o*x+a*w+l*R,s[1]=c*g+u*_+f*M,s[4]=c*y+u*b+f*C,s[7]=c*x+u*w+f*R,s[2]=d*g+p*_+m*M,s[5]=d*y+p*b+m*C,s[8]=d*x+p*w+m*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,d=a*l-u*s,p=c*s-o*l,m=t*f+r*d+i*p;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return e[0]=f*g,e[1]=(i*c-u*r)*g,e[2]=(a*r-i*o)*g,e[3]=d*g,e[4]=(u*t-i*l)*g,e[5]=(i*s-a*t)*g,e[6]=p*g,e[7]=(r*l-c*t)*g,e[8]=(o*t-r*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*c,i[6]=t*a+r*u,i[1]=-r*s+t*l,i[4]=-r*o+t*c,i[7]=-r*a+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function b_e(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Xqe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function aw(n,e){return new Xqe[n](e)}function AT(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function A1(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function xk(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const a5={[Dd]:{[Og]:A1},[Og]:{[Dd]:xk}},su={legacyMode:!0,get workingColorSpace(){return Og},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(a5[e]&&a5[e][t]!==void 0){const r=a5[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},w_e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fs={r:0,g:0,b:0},mf={h:0,s:0,l:0},mB={h:0,s:0,l:0};function l5(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function gB(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let dt=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Dd){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,su.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Og){return this.r=e,this.g=t,this.b=r,su.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Og){if(e=$$(e,1),t=os(t,0,1),r=os(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=l5(o,s,e+1/3),this.g=l5(o,s,e),this.b=l5(o,s,e-1/3)}return su.toWorkingColorSpace(this,i),this}setStyle(e,t=Dd){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,su.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,su.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,su.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,su.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Dd){const r=w_e[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=A1(e.r),this.g=A1(e.g),this.b=A1(e.b),this}copyLinearToSRGB(e){return this.r=xk(e.r),this.g=xk(e.g),this.b=xk(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Dd){return su.fromWorkingColorSpace(gB(this,Fs),e),os(Fs.r*255,0,255)<<16^os(Fs.g*255,0,255)<<8^os(Fs.b*255,0,255)<<0}getHexString(e=Dd){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Og){su.fromWorkingColorSpace(gB(this,Fs),t);const r=Fs.r,i=Fs.g,s=Fs.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Og){return su.fromWorkingColorSpace(gB(this,Fs),t),e.r=Fs.r,e.g=Fs.g,e.b=Fs.b,e}getStyle(e=Dd){return su.fromWorkingColorSpace(gB(this,Fs),e),e!==Dd?`color(${e} ${Fs.r} ${Fs.g} ${Fs.b})`:`rgb(${Fs.r*255|0},${Fs.g*255|0},${Fs.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(mf),mf.h+=e,mf.s+=t,mf.l+=r,this.setHSL(mf.h,mf.s,mf.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(mf),e.getHSL(mB);const r=zE(mf.h,mB.h,t),i=zE(mf.s,mB.s,t),s=zE(mf.l,mB.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};dt.NAMES=w_e;let $_;class X${static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{$_===void 0&&($_=AT("canvas")),$_.width=e.width,$_.height=e.height;const r=$_.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=$_}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=AT("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=A1(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(A1(t[r]/255)*255):t[r]=A1(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Ky{constructor(e=null){this.isSource=!0,this.uuid=yc(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(c5(i[o].image)):s.push(c5(i[o]))}else s=c5(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function c5(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?X$.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Jqe=0;class qr extends gm{constructor(e=qr.DEFAULT_IMAGE,t=qr.DEFAULT_MAPPING,r=Gs,i=Gs,s=Wr,o=mm,a=cl,l=em,c=1,u=D0){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Jqe++}),this.uuid=yc(),this.name="",this.source=new Ky(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new nt(0,0),this.repeat=new nt(1,1),this.center=new nt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new aa,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_F)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case oh:e.x=e.x-Math.floor(e.x);break;case Gs:e.x=e.x<0?0:1;break;case CS:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case oh:e.y=e.y-Math.floor(e.y);break;case Gs:e.y=e.y<0?0:1;break;case CS:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}qr.DEFAULT_IMAGE=null;qr.DEFAULT_MAPPING=_F;class Sn{constructor(e=0,t=0,r=0,i=1){Sn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],p=l[5],m=l[9],g=l[2],y=l[6],x=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-g)<.01&&Math.abs(m-y)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+g)<.1&&Math.abs(m+y)<.1&&Math.abs(c+p+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,w=(p+1)/2,M=(x+1)/2,C=(u+d)/4,R=(f+g)/4,E=(m+y)/4;return b>w&&b>M?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=C/r,s=R/r):w>M?w<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(w),r=C/i,s=E/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=R/s,i=E/s),this.set(r,i,s,t),this}let _=Math.sqrt((y-m)*(y-m)+(f-g)*(f-g)+(d-u)*(d-u));return Math.abs(_)<.001&&(_=1),this.x=(y-m)/_,this.y=(f-g)/_,this.z=(d-u)/_,this.w=Math.acos((c+p+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ju extends gm{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Sn(0,0,e,t),this.scissorTest=!1,this.viewport=new Sn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new qr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Wr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ky(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class D3 extends qr{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ss,this.minFilter=ss,this.wrapR=Gs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Yqe extends ju{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new D3(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class SF extends qr{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ss,this.minFilter=ss,this.wrapR=Gs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Kqe extends ju{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new SF(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class qqe extends ju{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Mi{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=s[o+0],p=s[o+1],m=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=m,e[t+3]=g;return}if(f!==g||l!==d||c!==p||u!==m){let y=1-a;const x=l*d+c*p+u*m+f*g,_=x>=0?1:-1,b=1-x*x;if(b>Number.EPSILON){const M=Math.sqrt(b),C=Math.atan2(M,x*_);y=Math.sin(y*C)/M,a=Math.sin(a*C)/M}const w=a*_;if(l=l*y+d*w,c=c*y+p*w,u=u*y+m*w,f=f*y+g*w,y===1-a){const M=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=M,c*=M,u*=M,f*=M}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],d=s[o+1],p=s[o+2],m=s[o+3];return e[t]=a*m+u*f+l*p-c*d,e[t+1]=l*m+u*d+c*f-a*p,e[t+2]=c*m+u*p+a*d-l*f,e[t+3]=u*m-a*f-l*d-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),d=l(r/2),p=l(i/2),m=l(s/2);switch(o){case"XYZ":this._x=d*u*f+c*p*m,this._y=c*p*f-d*u*m,this._z=c*u*m+d*p*f,this._w=c*u*f-d*p*m;break;case"YXZ":this._x=d*u*f+c*p*m,this._y=c*p*f-d*u*m,this._z=c*u*m-d*p*f,this._w=c*u*f+d*p*m;break;case"ZXY":this._x=d*u*f-c*p*m,this._y=c*p*f+d*u*m,this._z=c*u*m+d*p*f,this._w=c*u*f-d*p*m;break;case"ZYX":this._x=d*u*f-c*p*m,this._y=c*p*f+d*u*m,this._z=c*u*m-d*p*f,this._w=c*u*f+d*p*m;break;case"YZX":this._x=d*u*f+c*p*m,this._y=c*p*f+d*u*m,this._z=c*u*m-d*p*f,this._w=c*u*f-d*p*m;break;case"XZY":this._x=d*u*f-c*p*m,this._y=c*p*f-d*u*m,this._z=c*u*m+d*p*f,this._w=c*u*f+d*p*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],d=r+a+f;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-i)*p}else if(r>a&&r>f){const p=2*Math.sqrt(1+r-a-f);this._w=(u-l)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+c)/p}else if(a>f){const p=2*Math.sqrt(1+a-r-f);this._w=(s-c)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+f-r-a);this._w=(o-i)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(os(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*r+t*this._x,this._y=p*i+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class me{constructor(e=0,t=0,r=0){me.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(tre.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(tre.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,f=l*i+s*r-o*t,d=-s*t-o*r-a*i;return this.x=c*l+d*-s+u*-a-f*-o,this.y=u*l+d*-o+f*-s-c*-a,this.z=f*l+d*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return u5.copy(this).projectOnVector(e),this.sub(u5)}reflect(e){return this.sub(u5.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(os(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const u5=new me,tre=new Mi;class vm{constructor(e=new me(1/0,1/0,1/0),t=new me(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],f=e[l+1],d=e[l+2];u<t&&(t=u),f<r&&(r=f),d<i&&(i=d),u>s&&(s=u),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),f=e.getY(l),d=e.getZ(l);u<t&&(t=u),f<r&&(r=f),d<i&&(i=d),u>s&&(s=u),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=ey.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)ey.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ey)}else r.boundingBox===null&&r.computeBoundingBox(),f5.copy(r.boundingBox),f5.applyMatrix4(e.matrixWorld),this.union(f5);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ey),ey.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(c2),vB.subVectors(this.max,c2),X_.subVectors(e.a,c2),J_.subVectors(e.b,c2),Y_.subVectors(e.c,c2),Qm.subVectors(J_,X_),Zm.subVectors(Y_,J_),ty.subVectors(X_,Y_);let t=[0,-Qm.z,Qm.y,0,-Zm.z,Zm.y,0,-ty.z,ty.y,Qm.z,0,-Qm.x,Zm.z,0,-Zm.x,ty.z,0,-ty.x,-Qm.y,Qm.x,0,-Zm.y,Zm.x,0,-ty.y,ty.x,0];return!d5(t,X_,J_,Y_,vB)||(t=[1,0,0,0,1,0,0,0,1],!d5(t,X_,J_,Y_,vB))?!1:(yB.crossVectors(Qm,Zm),t=[yB.x,yB.y,yB.z],d5(t,X_,J_,Y_,vB))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ey.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ey).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Wh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Wh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Wh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Wh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Wh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Wh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Wh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Wh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Wh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Wh=[new me,new me,new me,new me,new me,new me,new me,new me],ey=new me,f5=new vm,X_=new me,J_=new me,Y_=new me,Qm=new me,Zm=new me,ty=new me,c2=new me,vB=new me,yB=new me,ny=new me;function d5(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){ny.fromArray(n,s);const a=i.x*Math.abs(ny.x)+i.y*Math.abs(ny.y)+i.z*Math.abs(ny.z),l=e.dot(ny),c=t.dot(ny),u=r.dot(ny);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Qqe=new vm,u2=new me,h5=new me;let ym=class{constructor(e=new me,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Qqe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;u2.subVectors(e,this.center);const t=u2.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(u2,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(h5.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(u2.copy(e.center).add(h5)),this.expandByPoint(u2.copy(e.center).sub(h5))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const $h=new me,p5=new me,xB=new me,eg=new me,m5=new me,_B=new me,g5=new me;class k3{constructor(e=new me,t=new me(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,$h)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=$h.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):($h.copy(this.direction).multiplyScalar(t).add(this.origin),$h.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){p5.copy(e).add(t).multiplyScalar(.5),xB.copy(t).sub(e).normalize(),eg.copy(this.origin).sub(p5);const s=e.distanceTo(t)*.5,o=-this.direction.dot(xB),a=eg.dot(this.direction),l=-eg.dot(xB),c=eg.lengthSq(),u=Math.abs(1-o*o);let f,d,p,m;if(u>0)if(f=o*l-a,d=o*a-l,m=s*u,f>=0)if(d>=-m)if(d<=m){const g=1/u;f*=g,d*=g,p=f*(f+o*d+2*a)+d*(o*f+d+2*l)+c}else d=s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;else d=-s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;else d<=-m?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c):d<=m?(f=0,d=Math.min(Math.max(-s,-l),s),p=d*(d+2*l)+c):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(f).add(this.origin),i&&i.copy(xB).multiplyScalar(d).add(p5),p}intersectSphere(e,t){$h.subVectors(e.center,this.origin);const r=$h.dot(this.direction),i=$h.dot($h)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,$h)!==null}intersectTriangle(e,t,r,i,s){m5.subVectors(t,e),_B.subVectors(r,e),g5.crossVectors(m5,_B);let o=this.direction.dot(g5),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;eg.subVectors(this.origin,e);const l=a*this.direction.dot(_B.crossVectors(eg,_B));if(l<0)return null;const c=a*this.direction.dot(m5.cross(eg));if(c<0||l+c>o)return null;const u=-a*eg.dot(g5);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Bt{constructor(){Bt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,f,d,p,m,g,y){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=f,x[14]=d,x[3]=p,x[7]=m,x[11]=g,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Bt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/K_.setFromMatrixColumn(e,0).length(),s=1/K_.setFromMatrixColumn(e,1).length(),o=1/K_.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*u,p=o*f,m=a*u,g=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=p+m*c,t[5]=d-g*c,t[9]=-a*l,t[2]=g-d*c,t[6]=m+p*c,t[10]=o*l}else if(e.order==="YXZ"){const d=l*u,p=l*f,m=c*u,g=c*f;t[0]=d+g*a,t[4]=m*a-p,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=p*a-m,t[6]=g+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*u,p=l*f,m=c*u,g=c*f;t[0]=d-g*a,t[4]=-o*f,t[8]=m+p*a,t[1]=p+m*a,t[5]=o*u,t[9]=g-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*u,p=o*f,m=a*u,g=a*f;t[0]=l*u,t[4]=m*c-p,t[8]=d*c+g,t[1]=l*f,t[5]=g*c+d,t[9]=p*c-m,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,p=o*c,m=a*l,g=a*c;t[0]=l*u,t[4]=g-d*f,t[8]=m*f+p,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=p*f+m,t[10]=d-g*f}else if(e.order==="XZY"){const d=o*l,p=o*c,m=a*l,g=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=d*f+g,t[5]=o*u,t[9]=p*f-m,t[2]=m*f-p,t[6]=a*u,t[10]=g*f+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Zqe,e,eQe)}lookAt(e,t,r){const i=this.elements;return ql.subVectors(e,t),ql.lengthSq()===0&&(ql.z=1),ql.normalize(),tg.crossVectors(r,ql),tg.lengthSq()===0&&(Math.abs(r.z)===1?ql.x+=1e-4:ql.z+=1e-4,ql.normalize(),tg.crossVectors(r,ql)),tg.normalize(),bB.crossVectors(ql,tg),i[0]=tg.x,i[4]=bB.x,i[8]=ql.x,i[1]=tg.y,i[5]=bB.y,i[9]=ql.y,i[2]=tg.z,i[6]=bB.z,i[10]=ql.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],p=r[13],m=r[2],g=r[6],y=r[10],x=r[14],_=r[3],b=r[7],w=r[11],M=r[15],C=i[0],R=i[4],E=i[8],B=i[12],D=i[1],N=i[5],z=i[9],H=i[13],U=i[2],W=i[6],X=i[10],q=i[14],L=i[3],I=i[7],O=i[11],F=i[15];return s[0]=o*C+a*D+l*U+c*L,s[4]=o*R+a*N+l*W+c*I,s[8]=o*E+a*z+l*X+c*O,s[12]=o*B+a*H+l*q+c*F,s[1]=u*C+f*D+d*U+p*L,s[5]=u*R+f*N+d*W+p*I,s[9]=u*E+f*z+d*X+p*O,s[13]=u*B+f*H+d*q+p*F,s[2]=m*C+g*D+y*U+x*L,s[6]=m*R+g*N+y*W+x*I,s[10]=m*E+g*z+y*X+x*O,s[14]=m*B+g*H+y*q+x*F,s[3]=_*C+b*D+w*U+M*L,s[7]=_*R+b*N+w*W+M*I,s[11]=_*E+b*z+w*X+M*O,s[15]=_*B+b*H+w*q+M*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],p=e[14],m=e[3],g=e[7],y=e[11],x=e[15];return m*(+s*l*f-i*c*f-s*a*d+r*c*d+i*a*p-r*l*p)+g*(+t*l*p-t*c*d+s*o*d-i*o*p+i*c*u-s*l*u)+y*(+t*c*f-t*a*p-s*o*f+r*o*p+s*a*u-r*c*u)+x*(-i*a*u-t*l*f+t*a*d+i*o*f-r*o*d+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],p=e[11],m=e[12],g=e[13],y=e[14],x=e[15],_=f*y*c-g*d*c+g*l*p-a*y*p-f*l*x+a*d*x,b=m*d*c-u*y*c-m*l*p+o*y*p+u*l*x-o*d*x,w=u*g*c-m*f*c+m*a*p-o*g*p-u*a*x+o*f*x,M=m*f*l-u*g*l-m*a*d+o*g*d+u*a*y-o*f*y,C=t*_+r*b+i*w+s*M;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/C;return e[0]=_*R,e[1]=(g*d*s-f*y*s-g*i*p+r*y*p+f*i*x-r*d*x)*R,e[2]=(a*y*s-g*l*s+g*i*c-r*y*c-a*i*x+r*l*x)*R,e[3]=(f*l*s-a*d*s-f*i*c+r*d*c+a*i*p-r*l*p)*R,e[4]=b*R,e[5]=(u*y*s-m*d*s+m*i*p-t*y*p-u*i*x+t*d*x)*R,e[6]=(m*l*s-o*y*s-m*i*c+t*y*c+o*i*x-t*l*x)*R,e[7]=(o*d*s-u*l*s+u*i*c-t*d*c-o*i*p+t*l*p)*R,e[8]=w*R,e[9]=(m*f*s-u*g*s-m*r*p+t*g*p+u*r*x-t*f*x)*R,e[10]=(o*g*s-m*a*s+m*r*c-t*g*c-o*r*x+t*a*x)*R,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*p-t*a*p)*R,e[12]=M*R,e[13]=(u*g*i-m*f*i+m*r*d-t*g*d-u*r*y+t*f*y)*R,e[14]=(m*a*i-o*g*i-m*r*l+t*g*l+o*r*y-t*a*y)*R,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*d+t*a*d)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,d=s*c,p=s*u,m=s*f,g=o*u,y=o*f,x=a*f,_=l*c,b=l*u,w=l*f,M=r.x,C=r.y,R=r.z;return i[0]=(1-(g+x))*M,i[1]=(p+w)*M,i[2]=(m-b)*M,i[3]=0,i[4]=(p-w)*C,i[5]=(1-(d+x))*C,i[6]=(y+_)*C,i[7]=0,i[8]=(m+b)*R,i[9]=(y-_)*R,i[10]=(1-(d+g))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=K_.set(i[0],i[1],i[2]).length();const o=K_.set(i[4],i[5],i[6]).length(),a=K_.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],gf.copy(this);const c=1/s,u=1/o,f=1/a;return gf.elements[0]*=c,gf.elements[1]*=c,gf.elements[2]*=c,gf.elements[4]*=u,gf.elements[5]*=u,gf.elements[6]*=u,gf.elements[8]*=f,gf.elements[9]*=f,gf.elements[10]*=f,t.setFromRotationMatrix(gf),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),f=(r+i)/(r-i),d=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),f=(t+e)*l,d=(r+i)*c,p=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const K_=new me,gf=new Bt,Zqe=new me(0,0,0),eQe=new me(1,1,1),tg=new me,bB=new me,ql=new me,nre=new Bt,rre=new Mi;class fc{constructor(e=0,t=0,r=0,i=fc.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],p=i[10];switch(t){case"XYZ":this._y=Math.asin(os(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-os(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(os(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-os(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(os(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-os(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return nre.makeRotationFromQuaternion(e),this.setFromRotationMatrix(nre,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return rre.setFromEuler(this),this.setFromQuaternion(rre,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}fc.DefaultOrder="XYZ";fc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class M1{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let tQe=0;const ire=new me,q_=new Mi,Xh=new Bt,wB=new me,f2=new me,nQe=new me,rQe=new Mi,sre=new me(1,0,0),ore=new me(0,1,0),are=new me(0,0,1),iQe={type:"added"},lre={type:"removed"};class Pn extends gm{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:tQe++}),this.uuid=yc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Pn.DefaultUp.clone();const e=new me,t=new fc,r=new Mi,i=new me(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Bt},normalMatrix:{value:new aa}}),this.matrix=new Bt,this.matrixWorld=new Bt,this.matrixAutoUpdate=Pn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Pn.DefaultMatrixWorldAutoUpdate,this.layers=new M1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return q_.setFromAxisAngle(e,t),this.quaternion.multiply(q_),this}rotateOnWorldAxis(e,t){return q_.setFromAxisAngle(e,t),this.quaternion.premultiply(q_),this}rotateX(e){return this.rotateOnAxis(sre,e)}rotateY(e){return this.rotateOnAxis(ore,e)}rotateZ(e){return this.rotateOnAxis(are,e)}translateOnAxis(e,t){return ire.copy(e).applyQuaternion(this.quaternion),this.position.add(ire.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(sre,e)}translateY(e){return this.translateOnAxis(ore,e)}translateZ(e){return this.translateOnAxis(are,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Xh.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?wB.copy(e):wB.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),f2.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Xh.lookAt(f2,wB,this.up):Xh.lookAt(wB,f2,this.up),this.quaternion.setFromRotationMatrix(Xh),i&&(Xh.extractRotation(i.matrixWorld),q_.setFromRotationMatrix(Xh),this.quaternion.premultiply(q_.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(iQe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(lre)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(lre)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Xh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Xh.multiply(e.parent.matrixWorld)),e.applyMatrix4(Xh),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(f2,e,nQe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(f2,rQe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),d=o(e.skeletons),p=o(e.animations),m=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Pn.DefaultUp=new me(0,1,0);Pn.DefaultMatrixAutoUpdate=!0;Pn.DefaultMatrixWorldAutoUpdate=!0;const vf=new me,Jh=new me,v5=new me,Yh=new me,Q_=new me,Z_=new me,cre=new me,y5=new me,x5=new me,_5=new me;class Au{constructor(e=new me,t=new me,r=new me){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),vf.subVectors(e,t),i.cross(vf);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){vf.subVectors(i,t),Jh.subVectors(r,t),v5.subVectors(e,t);const o=vf.dot(vf),a=vf.dot(Jh),l=vf.dot(v5),c=Jh.dot(Jh),u=Jh.dot(v5),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,p=(c*l-a*u)*d,m=(o*u-a*l)*d;return s.set(1-p-m,m,p)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Yh),Yh.x>=0&&Yh.y>=0&&Yh.x+Yh.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Yh),l.set(0,0),l.addScaledVector(s,Yh.x),l.addScaledVector(o,Yh.y),l.addScaledVector(a,Yh.z),l}static isFrontFacing(e,t,r,i){return vf.subVectors(r,t),Jh.subVectors(e,t),vf.cross(Jh).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return vf.subVectors(this.c,this.b),Jh.subVectors(this.a,this.b),vf.cross(Jh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Au.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Au.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Au.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Au.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Au.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Q_.subVectors(i,r),Z_.subVectors(s,r),y5.subVectors(e,r);const l=Q_.dot(y5),c=Z_.dot(y5);if(l<=0&&c<=0)return t.copy(r);x5.subVectors(e,i);const u=Q_.dot(x5),f=Z_.dot(x5);if(u>=0&&f<=u)return t.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(Q_,o);_5.subVectors(e,s);const p=Q_.dot(_5),m=Z_.dot(_5);if(m>=0&&p<=m)return t.copy(s);const g=p*c-l*m;if(g<=0&&c>=0&&m<=0)return a=c/(c-m),t.copy(r).addScaledVector(Z_,a);const y=u*m-p*f;if(y<=0&&f-u>=0&&p-m>=0)return cre.subVectors(s,i),a=(f-u)/(f-u+(p-m)),t.copy(i).addScaledVector(cre,a);const x=1/(y+g+d);return o=g*x,a=d*x,t.copy(r).addScaledVector(Q_,o).addScaledVector(Z_,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let sQe=0;class Rs extends gm{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:sQe++}),this.uuid=yc(),this.name="",this.type="Material",this.blending=b1,this.side=Zp,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=U$,this.blendDst=z$,this.blendEquation=Ry,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=lL,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=x_e,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yk,this.stencilZFail=yk,this.stencilZPass=yk,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==b1&&(r.blending=this.blending),this.side!==Zp&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ml extends Rs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new dt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=B3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const bs=new me,SB=new nt;class Qn{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=wT,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)SB.fromBufferAttribute(this,t),SB.applyMatrix3(e),this.setXY(t,SB.x,SB.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)bs.fromBufferAttribute(this,t),bs.applyMatrix3(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)bs.fromBufferAttribute(this,t),bs.applyMatrix4(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)bs.fromBufferAttribute(this,t),bs.applyNormalMatrix(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)bs.fromBufferAttribute(this,t),bs.transformDirection(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Sp(t,this.array)),t}setX(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Sp(t,this.array)),t}setY(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Sp(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Sp(t,this.array)),t}setW(e,t){return this.normalized&&(t=_r(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=_r(t,this.array),r=_r(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=_r(t,this.array),r=_r(r,this.array),i=_r(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=_r(t,this.array),r=_r(r,this.array),i=_r(i,this.array),s=_r(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==wT&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class oQe extends Qn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class aQe extends Qn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class lQe extends Qn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class cQe extends Qn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class AF extends Qn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class uQe extends Qn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class J$ extends Qn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class fQe extends Qn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class Lt extends Qn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class dQe extends Qn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let hQe=0;const tu=new Bt,b5=new Pn,eb=new me,Ql=new vm,d2=new vm,uo=new me;class un extends gm{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:hQe++}),this.uuid=yc(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(b_e(e)?J$:AF)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new aa().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return tu.makeRotationFromQuaternion(e),this.applyMatrix4(tu),this}rotateX(e){return tu.makeRotationX(e),this.applyMatrix4(tu),this}rotateY(e){return tu.makeRotationY(e),this.applyMatrix4(tu),this}rotateZ(e){return tu.makeRotationZ(e),this.applyMatrix4(tu),this}translate(e,t,r){return tu.makeTranslation(e,t,r),this.applyMatrix4(tu),this}scale(e,t,r){return tu.makeScale(e,t,r),this.applyMatrix4(tu),this}lookAt(e){return b5.lookAt(e),b5.updateMatrix(),this.applyMatrix4(b5.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(eb).negate(),this.translate(eb.x,eb.y,eb.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Lt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vm);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new me(-1/0,-1/0,-1/0),new me(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Ql.setFromBufferAttribute(s),this.morphTargetsRelative?(uo.addVectors(this.boundingBox.min,Ql.min),this.boundingBox.expandByPoint(uo),uo.addVectors(this.boundingBox.max,Ql.max),this.boundingBox.expandByPoint(uo)):(this.boundingBox.expandByPoint(Ql.min),this.boundingBox.expandByPoint(Ql.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ym);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new me,1/0);return}if(e){const r=this.boundingSphere.center;if(Ql.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];d2.setFromBufferAttribute(a),this.morphTargetsRelative?(uo.addVectors(Ql.min,d2.min),Ql.expandByPoint(uo),uo.addVectors(Ql.max,d2.max),Ql.expandByPoint(uo)):(Ql.expandByPoint(d2.min),Ql.expandByPoint(d2.max))}Ql.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)uo.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(uo));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)uo.fromBufferAttribute(a,c),l&&(eb.fromBufferAttribute(e,c),uo.add(eb)),i=Math.max(i,r.distanceToSquared(uo))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let D=0;D<a;D++)c[D]=new me,u[D]=new me;const f=new me,d=new me,p=new me,m=new nt,g=new nt,y=new nt,x=new me,_=new me;function b(D,N,z){f.fromArray(i,D*3),d.fromArray(i,N*3),p.fromArray(i,z*3),m.fromArray(o,D*2),g.fromArray(o,N*2),y.fromArray(o,z*2),d.sub(f),p.sub(f),g.sub(m),y.sub(m);const H=1/(g.x*y.y-y.x*g.y);isFinite(H)&&(x.copy(d).multiplyScalar(y.y).addScaledVector(p,-g.y).multiplyScalar(H),_.copy(p).multiplyScalar(g.x).addScaledVector(d,-y.x).multiplyScalar(H),c[D].add(x),c[N].add(x),c[z].add(x),u[D].add(_),u[N].add(_),u[z].add(_))}let w=this.groups;w.length===0&&(w=[{start:0,count:r.length}]);for(let D=0,N=w.length;D<N;++D){const z=w[D],H=z.start,U=z.count;for(let W=H,X=H+U;W<X;W+=3)b(r[W+0],r[W+1],r[W+2])}const M=new me,C=new me,R=new me,E=new me;function B(D){R.fromArray(s,D*3),E.copy(R);const N=c[D];M.copy(N),M.sub(R.multiplyScalar(R.dot(N))).normalize(),C.crossVectors(E,N);const H=C.dot(u[D])<0?-1:1;l[D*4]=M.x,l[D*4+1]=M.y,l[D*4+2]=M.z,l[D*4+3]=H}for(let D=0,N=w.length;D<N;++D){const z=w[D],H=z.start,U=z.count;for(let W=H,X=H+U;W<X;W+=3)B(r[W+0]),B(r[W+1]),B(r[W+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Qn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,p=r.count;d<p;d++)r.setXYZ(d,0,0,0);const i=new me,s=new me,o=new me,a=new me,l=new me,c=new me,u=new me,f=new me;if(e)for(let d=0,p=e.count;d<p;d+=3){const m=e.getX(d+0),g=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,y),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,m),l.fromBufferAttribute(r,g),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(m,a.x,a.y,a.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let d=0,p=t.count;d<p;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)uo.fromBufferAttribute(e,t),uo.normalize(),e.setXYZ(t,uo.x,uo.y,uo.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,d=new c.constructor(l.length*u);let p=0,m=0;for(let g=0,y=l.length;g<y;g++){a.isInterleavedBufferAttribute?p=l[g]*a.data.stride+a.offset:p=l[g]*u;for(let x=0;x<u;x++)d[m++]=c[p++]}return new Qn(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new un,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const d=c[u],p=e(d,r);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f];u.push(p.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let d=0,p=f.length;d<p;d++)u.push(f[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const ure=new Bt,tb=new k3,w5=new ym,ng=new me,rg=new me,ig=new me,S5=new me,A5=new me,M5=new me,AB=new me,MB=new me,EB=new me,CB=new nt,TB=new nt,RB=new nt,E5=new me,PB=new me;class Ui extends Pn{constructor(e=new un,t=new ml){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),w5.copy(r.boundingSphere),w5.applyMatrix4(s),e.ray.intersectsSphere(w5)===!1)||(ure.copy(s).invert(),tb.copy(e.ray).applyMatrix4(ure),r.boundingBox!==null&&tb.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,f=r.attributes.uv,d=r.attributes.uv2,p=r.groups,m=r.drawRange;if(a!==null)if(Array.isArray(i))for(let g=0,y=p.length;g<y;g++){const x=p[g],_=i[x.materialIndex],b=Math.max(x.start,m.start),w=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let M=b,C=w;M<C;M+=3){const R=a.getX(M),E=a.getX(M+1),B=a.getX(M+2);o=BB(this,_,e,tb,l,c,u,f,d,R,E,B),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const g=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let x=g,_=y;x<_;x+=3){const b=a.getX(x),w=a.getX(x+1),M=a.getX(x+2);o=BB(this,i,e,tb,l,c,u,f,d,b,w,M),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let g=0,y=p.length;g<y;g++){const x=p[g],_=i[x.materialIndex],b=Math.max(x.start,m.start),w=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let M=b,C=w;M<C;M+=3){const R=M,E=M+1,B=M+2;o=BB(this,_,e,tb,l,c,u,f,d,R,E,B),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let x=g,_=y;x<_;x+=3){const b=x,w=x+1,M=x+2;o=BB(this,i,e,tb,l,c,u,f,d,b,w,M),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}}}function pQe(n,e,t,r,i,s,o,a){let l;if(e.side===ja?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==Du,a),l===null)return null;PB.copy(a),PB.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(PB);return c<t.near||c>t.far?null:{distance:c,point:PB.clone(),object:n}}function BB(n,e,t,r,i,s,o,a,l,c,u,f){ng.fromBufferAttribute(i,c),rg.fromBufferAttribute(i,u),ig.fromBufferAttribute(i,f);const d=n.morphTargetInfluences;if(s&&d){AB.set(0,0,0),MB.set(0,0,0),EB.set(0,0,0);for(let m=0,g=s.length;m<g;m++){const y=d[m],x=s[m];y!==0&&(S5.fromBufferAttribute(x,c),A5.fromBufferAttribute(x,u),M5.fromBufferAttribute(x,f),o?(AB.addScaledVector(S5,y),MB.addScaledVector(A5,y),EB.addScaledVector(M5,y)):(AB.addScaledVector(S5.sub(ng),y),MB.addScaledVector(A5.sub(rg),y),EB.addScaledVector(M5.sub(ig),y)))}ng.add(AB),rg.add(MB),ig.add(EB)}n.isSkinnedMesh&&(n.boneTransform(c,ng),n.boneTransform(u,rg),n.boneTransform(f,ig));const p=pQe(n,e,t,r,ng,rg,ig,E5);if(p){a&&(CB.fromBufferAttribute(a,c),TB.fromBufferAttribute(a,u),RB.fromBufferAttribute(a,f),p.uv=Au.getUV(E5,ng,rg,ig,CB,TB,RB,new nt)),l&&(CB.fromBufferAttribute(l,c),TB.fromBufferAttribute(l,u),RB.fromBufferAttribute(l,f),p.uv2=Au.getUV(E5,ng,rg,ig,CB,TB,RB,new nt));const m={a:c,b:u,c:f,normal:new me,materialIndex:0};Au.getNormal(ng,rg,ig,m.normal),p.face=m}return p}class sv extends un{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let d=0,p=0;m("z","y","x",-1,-1,r,t,e,o,s,0),m("z","y","x",1,-1,r,t,-e,o,s,1),m("x","z","y",1,1,e,r,t,i,o,2),m("x","z","y",1,-1,e,r,-t,i,o,3),m("x","y","z",1,-1,e,t,r,i,s,4),m("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Lt(c,3)),this.setAttribute("normal",new Lt(u,3)),this.setAttribute("uv",new Lt(f,2));function m(g,y,x,_,b,w,M,C,R,E,B){const D=w/R,N=M/E,z=w/2,H=M/2,U=C/2,W=R+1,X=E+1;let q=0,L=0;const I=new me;for(let O=0;O<X;O++){const F=O*N-H;for(let j=0;j<W;j++){const te=j*D-z;I[g]=te*_,I[y]=F*b,I[x]=U,c.push(I.x,I.y,I.z),I[g]=0,I[y]=0,I[x]=C>0?1:-1,u.push(I.x,I.y,I.z),f.push(j/R),f.push(1-O/E),q+=1}}for(let O=0;O<E;O++)for(let F=0;F<R;F++){const j=d+F+W*O,te=d+F+W*(O+1),re=d+(F+1)+W*(O+1),se=d+(F+1)+W*O;l.push(j,te,se),l.push(te,re,se),L+=6}a.addGroup(p,L,B),p+=L,d+=q}}static fromJSON(e){return new sv(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function PS(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Pa(n){const e={};for(let t=0;t<n.length;t++){const r=PS(n[t]);for(const i in r)e[i]=r[i]}return e}function mQe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const MF={clone:PS,merge:Pa};var gQe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,vQe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Jf extends Rs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=gQe,this.fragmentShader=vQe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=PS(e.uniforms),this.uniformsGroups=mQe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class I3 extends Pn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Bt,this.projectionMatrix=new Bt,this.projectionMatrixInverse=new Bt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Ms extends I3{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ST*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(S1*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ST*2*Math.atan(Math.tan(S1*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(S1*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const nb=90,rb=1;class S_e extends Pn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new Ms(nb,rb,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new me(1,0,0)),this.add(i);const s=new Ms(nb,rb,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new me(-1,0,0)),this.add(s);const o=new Ms(nb,rb,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new me(0,1,0)),this.add(o);const a=new Ms(nb,rb,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new me(0,-1,0)),this.add(a);const l=new Ms(nb,rb,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new me(0,0,1)),this.add(l);const c=new Ms(nb,rb,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new me(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=Uf,e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class L3 extends qr{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:P0,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class A_e extends ju{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new L3(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Wr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new sv(5,5,5),s=new Jf({name:"CubemapFromEquirect",uniforms:PS(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ja,blending:Dp});s.uniforms.tEquirect.value=t;const o=new Ui(i,s),a=t.minFilter;return t.minFilter===mm&&(t.minFilter=Wr),new S_e(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const C5=new me,yQe=new me,xQe=new aa;class yg{constructor(e=new me(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=C5.subVectors(r,t).cross(yQe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(C5),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||xQe.getNormalMatrix(e),i=this.coplanarPoint(C5).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ib=new ym,DB=new me;class EF{constructor(e=new yg,t=new yg,r=new yg,i=new yg,s=new yg,o=new yg){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],f=r[7],d=r[8],p=r[9],m=r[10],g=r[11],y=r[12],x=r[13],_=r[14],b=r[15];return t[0].setComponents(a-i,f-l,g-d,b-y).normalize(),t[1].setComponents(a+i,f+l,g+d,b+y).normalize(),t[2].setComponents(a+s,f+c,g+p,b+x).normalize(),t[3].setComponents(a-s,f-c,g-p,b-x).normalize(),t[4].setComponents(a-o,f-u,g-m,b-_).normalize(),t[5].setComponents(a+o,f+u,g+m,b+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),ib.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ib)}intersectsSprite(e){return ib.center.set(0,0,0),ib.radius=.7071067811865476,ib.applyMatrix4(e.matrixWorld),this.intersectsSphere(ib)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(DB.x=i.normal.x>0?e.max.x:e.min.x,DB.y=i.normal.y>0?e.max.y:e.min.y,DB.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(DB)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function M_e(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function _Qe(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,d=c.usage,p=n.createBuffer();n.bindBuffer(u,p),n.bufferData(u,f,d),c.onUploadCallback();let m;if(f instanceof Float32Array)m=5126;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(f instanceof Int16Array)m=5122;else if(f instanceof Uint32Array)m=5125;else if(f instanceof Int32Array)m=5124;else if(f instanceof Int8Array)m=5120;else if(f instanceof Uint8Array)m=5121;else if(f instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:m,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const d=u.array,p=u.updateRange;n.bindBuffer(f,c),p.count===-1?n.bufferSubData(f,0,d):(t?n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class xm extends un{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,d=t/l,p=[],m=[],g=[],y=[];for(let x=0;x<u;x++){const _=x*d-o;for(let b=0;b<c;b++){const w=b*f-s;m.push(w,-_,0),g.push(0,0,1),y.push(b/a),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<a;_++){const b=_+c*x,w=_+c*(x+1),M=_+1+c*(x+1),C=_+1+c*x;p.push(b,w,C),p.push(w,M,C)}this.setIndex(p),this.setAttribute("position",new Lt(m,3)),this.setAttribute("normal",new Lt(g,3)),this.setAttribute("uv",new Lt(y,2))}static fromJSON(e){return new xm(e.width,e.height,e.widthSegments,e.heightSegments)}}var bQe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,wQe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,SQe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,AQe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,MQe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,EQe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,CQe="vec3 transformed = vec3( position );",TQe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,RQe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,PQe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,BQe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,DQe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,kQe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,IQe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,LQe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,OQe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,FQe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,NQe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,UQe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,zQe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,GQe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,HQe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,VQe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,jQe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,WQe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,$Qe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,XQe="gl_FragColor = linearToOutputTexel( gl_FragColor );",JQe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,YQe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,KQe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,qQe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,QQe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ZQe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,eZe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,tZe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,nZe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,rZe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,iZe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,sZe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,oZe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,aZe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lZe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,cZe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,uZe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,fZe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,dZe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,hZe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,pZe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,mZe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,gZe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,vZe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,yZe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,xZe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,_Ze=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,bZe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wZe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,SZe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,AZe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,MZe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,EZe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,CZe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,TZe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,RZe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,PZe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,BZe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,DZe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,kZe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,IZe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,LZe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,OZe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,FZe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,NZe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,UZe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,zZe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,GZe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,HZe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,VZe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,jZe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,WZe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,$Ze=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,XZe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,JZe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,YZe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,KZe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,qZe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,QZe=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,ZZe=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,eet=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,tet=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,net=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ret=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,iet=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,set=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,oet=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,aet=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,cet=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,uet=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,fet=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,det=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,het=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,pet=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,met=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,get=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,vet=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,yet=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,xet=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const _et=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,bet=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wet=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Aet=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Met=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Eet=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Cet=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Tet=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Ret=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Pet=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Bet=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Det=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ket=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Iet=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Let=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Oet=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fet=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Net=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uet=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,zet=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Get=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Het=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Vet=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jet=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wet=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$et=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xet=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jet=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yet=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Ket=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qet=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qet=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Zet=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ett=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,xn={alphamap_fragment:bQe,alphamap_pars_fragment:wQe,alphatest_fragment:SQe,alphatest_pars_fragment:AQe,aomap_fragment:MQe,aomap_pars_fragment:EQe,begin_vertex:CQe,beginnormal_vertex:TQe,bsdfs:RQe,iridescence_fragment:PQe,bumpmap_pars_fragment:BQe,clipping_planes_fragment:DQe,clipping_planes_pars_fragment:kQe,clipping_planes_pars_vertex:IQe,clipping_planes_vertex:LQe,color_fragment:OQe,color_pars_fragment:FQe,color_pars_vertex:NQe,color_vertex:UQe,common:zQe,cube_uv_reflection_fragment:GQe,defaultnormal_vertex:HQe,displacementmap_pars_vertex:VQe,displacementmap_vertex:jQe,emissivemap_fragment:WQe,emissivemap_pars_fragment:$Qe,encodings_fragment:XQe,encodings_pars_fragment:JQe,envmap_fragment:YQe,envmap_common_pars_fragment:KQe,envmap_pars_fragment:qQe,envmap_pars_vertex:QQe,envmap_physical_pars_fragment:uZe,envmap_vertex:ZQe,fog_vertex:eZe,fog_pars_vertex:tZe,fog_fragment:nZe,fog_pars_fragment:rZe,gradientmap_pars_fragment:iZe,lightmap_fragment:sZe,lightmap_pars_fragment:oZe,lights_lambert_fragment:aZe,lights_lambert_pars_fragment:lZe,lights_pars_begin:cZe,lights_toon_fragment:fZe,lights_toon_pars_fragment:dZe,lights_phong_fragment:hZe,lights_phong_pars_fragment:pZe,lights_physical_fragment:mZe,lights_physical_pars_fragment:gZe,lights_fragment_begin:vZe,lights_fragment_maps:yZe,lights_fragment_end:xZe,logdepthbuf_fragment:_Ze,logdepthbuf_pars_fragment:bZe,logdepthbuf_pars_vertex:wZe,logdepthbuf_vertex:SZe,map_fragment:AZe,map_pars_fragment:MZe,map_particle_fragment:EZe,map_particle_pars_fragment:CZe,metalnessmap_fragment:TZe,metalnessmap_pars_fragment:RZe,morphcolor_vertex:PZe,morphnormal_vertex:BZe,morphtarget_pars_vertex:DZe,morphtarget_vertex:kZe,normal_fragment_begin:IZe,normal_fragment_maps:LZe,normal_pars_fragment:OZe,normal_pars_vertex:FZe,normal_vertex:NZe,normalmap_pars_fragment:UZe,clearcoat_normal_fragment_begin:zZe,clearcoat_normal_fragment_maps:GZe,clearcoat_pars_fragment:HZe,iridescence_pars_fragment:VZe,output_fragment:jZe,packing:WZe,premultiplied_alpha_fragment:$Ze,project_vertex:XZe,dithering_fragment:JZe,dithering_pars_fragment:YZe,roughnessmap_fragment:KZe,roughnessmap_pars_fragment:qZe,shadowmap_pars_fragment:QZe,shadowmap_pars_vertex:ZZe,shadowmap_vertex:eet,shadowmask_pars_fragment:tet,skinbase_vertex:net,skinning_pars_vertex:ret,skinning_vertex:iet,skinnormal_vertex:set,specularmap_fragment:oet,specularmap_pars_fragment:aet,tonemapping_fragment:cet,tonemapping_pars_fragment:uet,transmission_fragment:fet,transmission_pars_fragment:det,uv_pars_fragment:het,uv_pars_vertex:pet,uv_vertex:met,uv2_pars_fragment:get,uv2_pars_vertex:vet,uv2_vertex:yet,worldpos_vertex:xet,background_vert:_et,background_frag:bet,backgroundCube_vert:wet,backgroundCube_frag:Aet,cube_vert:Met,cube_frag:Eet,depth_vert:Cet,depth_frag:Tet,distanceRGBA_vert:Ret,distanceRGBA_frag:Pet,equirect_vert:Bet,equirect_frag:Det,linedashed_vert:ket,linedashed_frag:Iet,meshbasic_vert:Let,meshbasic_frag:Oet,meshlambert_vert:Fet,meshlambert_frag:Net,meshmatcap_vert:Uet,meshmatcap_frag:zet,meshnormal_vert:Get,meshnormal_frag:Het,meshphong_vert:Vet,meshphong_frag:jet,meshphysical_vert:Wet,meshphysical_frag:$et,meshtoon_vert:Xet,meshtoon_frag:Jet,points_vert:Yet,points_frag:Ket,shadow_vert:qet,shadow_frag:Qet,sprite_vert:Zet,sprite_frag:ett},St={common:{diffuse:{value:new dt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new aa},uv2Transform:{value:new aa},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new nt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new dt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new dt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new aa}},sprite:{diffuse:{value:new dt(16777215)},opacity:{value:1},center:{value:new nt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new aa}}},Tf={basic:{uniforms:Pa([St.common,St.specularmap,St.envmap,St.aomap,St.lightmap,St.fog]),vertexShader:xn.meshbasic_vert,fragmentShader:xn.meshbasic_frag},lambert:{uniforms:Pa([St.common,St.specularmap,St.envmap,St.aomap,St.lightmap,St.emissivemap,St.bumpmap,St.normalmap,St.displacementmap,St.fog,St.lights,{emissive:{value:new dt(0)}}]),vertexShader:xn.meshlambert_vert,fragmentShader:xn.meshlambert_frag},phong:{uniforms:Pa([St.common,St.specularmap,St.envmap,St.aomap,St.lightmap,St.emissivemap,St.bumpmap,St.normalmap,St.displacementmap,St.fog,St.lights,{emissive:{value:new dt(0)},specular:{value:new dt(1118481)},shininess:{value:30}}]),vertexShader:xn.meshphong_vert,fragmentShader:xn.meshphong_frag},standard:{uniforms:Pa([St.common,St.envmap,St.aomap,St.lightmap,St.emissivemap,St.bumpmap,St.normalmap,St.displacementmap,St.roughnessmap,St.metalnessmap,St.fog,St.lights,{emissive:{value:new dt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xn.meshphysical_vert,fragmentShader:xn.meshphysical_frag},toon:{uniforms:Pa([St.common,St.aomap,St.lightmap,St.emissivemap,St.bumpmap,St.normalmap,St.displacementmap,St.gradientmap,St.fog,St.lights,{emissive:{value:new dt(0)}}]),vertexShader:xn.meshtoon_vert,fragmentShader:xn.meshtoon_frag},matcap:{uniforms:Pa([St.common,St.bumpmap,St.normalmap,St.displacementmap,St.fog,{matcap:{value:null}}]),vertexShader:xn.meshmatcap_vert,fragmentShader:xn.meshmatcap_frag},points:{uniforms:Pa([St.points,St.fog]),vertexShader:xn.points_vert,fragmentShader:xn.points_frag},dashed:{uniforms:Pa([St.common,St.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xn.linedashed_vert,fragmentShader:xn.linedashed_frag},depth:{uniforms:Pa([St.common,St.displacementmap]),vertexShader:xn.depth_vert,fragmentShader:xn.depth_frag},normal:{uniforms:Pa([St.common,St.bumpmap,St.normalmap,St.displacementmap,{opacity:{value:1}}]),vertexShader:xn.meshnormal_vert,fragmentShader:xn.meshnormal_frag},sprite:{uniforms:Pa([St.sprite,St.fog]),vertexShader:xn.sprite_vert,fragmentShader:xn.sprite_frag},background:{uniforms:{uvTransform:{value:new aa},t2D:{value:null}},vertexShader:xn.background_vert,fragmentShader:xn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:xn.backgroundCube_vert,fragmentShader:xn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xn.cube_vert,fragmentShader:xn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xn.equirect_vert,fragmentShader:xn.equirect_frag},distanceRGBA:{uniforms:Pa([St.common,St.displacementmap,{referencePosition:{value:new me},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xn.distanceRGBA_vert,fragmentShader:xn.distanceRGBA_frag},shadow:{uniforms:Pa([St.lights,St.fog,{color:{value:new dt(0)},opacity:{value:1}}]),vertexShader:xn.shadow_vert,fragmentShader:xn.shadow_frag}};Tf.physical={uniforms:Pa([Tf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new nt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new dt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new nt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new dt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new dt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:xn.meshphysical_vert,fragmentShader:xn.meshphysical_frag};function ttt(n,e,t,r,i,s,o){const a=new dt(0);let l=s===!0?0:1,c,u,f=null,d=0,p=null;function m(y,x){let _=!1,b=x.isScene===!0?x.background:null;b&&b.isTexture&&(b=(x.backgroundBlurriness>0?t:e).get(b));const w=n.xr,M=w.getSession&&w.getSession();M&&M.environmentBlendMode==="additive"&&(b=null),b===null?g(a,l):b&&b.isColor&&(g(b,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===fA)?(u===void 0&&(u=new Ui(new sv(1,1,1),new Jf({name:"BackgroundCubeMaterial",uniforms:PS(Tf.backgroundCube.uniforms),vertexShader:Tf.backgroundCube.vertexShader,fragmentShader:Tf.backgroundCube.fragmentShader,side:ja,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,R,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,(f!==b||d!==b.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,f=b,d=b.version,p=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new Ui(new xm(2,2),new Jf({name:"BackgroundMaterial",uniforms:PS(Tf.background.uniforms),vertexShader:Tf.background.vertexShader,fragmentShader:Tf.background.fragmentShader,side:Zp,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||d!==b.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=b,d=b.version,p=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function g(y,x){r.buffers.color.setClear(y.r,y.g,y.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(y,x=1){a.set(y),l=x,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,g(a,l)},render:m}}function ntt(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function f(U,W,X,q,L){let I=!1;if(o){const O=g(q,X,W);c!==O&&(c=O,p(c.object)),I=x(U,q,X,L),I&&_(U,q,X,L)}else{const O=W.wireframe===!0;(c.geometry!==q.id||c.program!==X.id||c.wireframe!==O)&&(c.geometry=q.id,c.program=X.id,c.wireframe=O,I=!0)}L!==null&&t.update(L,34963),(I||u)&&(u=!1,E(U,W,X,q),L!==null&&n.bindBuffer(34963,t.get(L).buffer))}function d(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(U){return r.isWebGL2?n.bindVertexArray(U):s.bindVertexArrayOES(U)}function m(U){return r.isWebGL2?n.deleteVertexArray(U):s.deleteVertexArrayOES(U)}function g(U,W,X){const q=X.wireframe===!0;let L=a[U.id];L===void 0&&(L={},a[U.id]=L);let I=L[W.id];I===void 0&&(I={},L[W.id]=I);let O=I[q];return O===void 0&&(O=y(d()),I[q]=O),O}function y(U){const W=[],X=[],q=[];for(let L=0;L<i;L++)W[L]=0,X[L]=0,q[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:X,attributeDivisors:q,object:U,attributes:{},index:null}}function x(U,W,X,q){const L=c.attributes,I=W.attributes;let O=0;const F=X.getAttributes();for(const j in F)if(F[j].location>=0){const re=L[j];let se=I[j];if(se===void 0&&(j==="instanceMatrix"&&U.instanceMatrix&&(se=U.instanceMatrix),j==="instanceColor"&&U.instanceColor&&(se=U.instanceColor)),re===void 0||re.attribute!==se||se&&re.data!==se.data)return!0;O++}return c.attributesNum!==O||c.index!==q}function _(U,W,X,q){const L={},I=W.attributes;let O=0;const F=X.getAttributes();for(const j in F)if(F[j].location>=0){let re=I[j];re===void 0&&(j==="instanceMatrix"&&U.instanceMatrix&&(re=U.instanceMatrix),j==="instanceColor"&&U.instanceColor&&(re=U.instanceColor));const se={};se.attribute=re,re&&re.data&&(se.data=re.data),L[j]=se,O++}c.attributes=L,c.attributesNum=O,c.index=q}function b(){const U=c.newAttributes;for(let W=0,X=U.length;W<X;W++)U[W]=0}function w(U){M(U,0)}function M(U,W){const X=c.newAttributes,q=c.enabledAttributes,L=c.attributeDivisors;X[U]=1,q[U]===0&&(n.enableVertexAttribArray(U),q[U]=1),L[U]!==W&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](U,W),L[U]=W)}function C(){const U=c.newAttributes,W=c.enabledAttributes;for(let X=0,q=W.length;X<q;X++)W[X]!==U[X]&&(n.disableVertexAttribArray(X),W[X]=0)}function R(U,W,X,q,L,I){r.isWebGL2===!0&&(X===5124||X===5125)?n.vertexAttribIPointer(U,W,X,L,I):n.vertexAttribPointer(U,W,X,q,L,I)}function E(U,W,X,q){if(r.isWebGL2===!1&&(U.isInstancedMesh||q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const L=q.attributes,I=X.getAttributes(),O=W.defaultAttributeValues;for(const F in I){const j=I[F];if(j.location>=0){let te=L[F];if(te===void 0&&(F==="instanceMatrix"&&U.instanceMatrix&&(te=U.instanceMatrix),F==="instanceColor"&&U.instanceColor&&(te=U.instanceColor)),te!==void 0){const re=te.normalized,se=te.itemSize,K=t.get(te);if(K===void 0)continue;const le=K.buffer,he=K.type,we=K.bytesPerElement;if(te.isInterleavedBufferAttribute){const ve=te.data,fe=ve.stride,ne=te.offset;if(ve.isInstancedInterleavedBuffer){for(let oe=0;oe<j.locationSize;oe++)M(j.location+oe,ve.meshPerAttribute);U.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let oe=0;oe<j.locationSize;oe++)w(j.location+oe);n.bindBuffer(34962,le);for(let oe=0;oe<j.locationSize;oe++)R(j.location+oe,se/j.locationSize,he,re,fe*we,(ne+se/j.locationSize*oe)*we)}else{if(te.isInstancedBufferAttribute){for(let ve=0;ve<j.locationSize;ve++)M(j.location+ve,te.meshPerAttribute);U.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let ve=0;ve<j.locationSize;ve++)w(j.location+ve);n.bindBuffer(34962,le);for(let ve=0;ve<j.locationSize;ve++)R(j.location+ve,se/j.locationSize,he,re,se*we,se/j.locationSize*ve*we)}}else if(O!==void 0){const re=O[F];if(re!==void 0)switch(re.length){case 2:n.vertexAttrib2fv(j.location,re);break;case 3:n.vertexAttrib3fv(j.location,re);break;case 4:n.vertexAttrib4fv(j.location,re);break;default:n.vertexAttrib1fv(j.location,re)}}}}C()}function B(){z();for(const U in a){const W=a[U];for(const X in W){const q=W[X];for(const L in q)m(q[L].object),delete q[L];delete W[X]}delete a[U]}}function D(U){if(a[U.id]===void 0)return;const W=a[U.id];for(const X in W){const q=W[X];for(const L in q)m(q[L].object),delete q[L];delete W[X]}delete a[U.id]}function N(U){for(const W in a){const X=a[W];if(X[U.id]===void 0)continue;const q=X[U.id];for(const L in q)m(q[L].object),delete q[L];delete X[U.id]}}function z(){H(),u=!0,c!==l&&(c=l,p(c.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:z,resetDefaultState:H,dispose:B,releaseStatesOfGeometry:D,releaseStatesOfProgram:N,initAttributes:b,enableAttribute:w,disableUnusedAttributes:C}}function rtt(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let d,p;if(i)d=n,p="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function itt(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),d=n.getParameter(35660),p=n.getParameter(3379),m=n.getParameter(34076),g=n.getParameter(34921),y=n.getParameter(36347),x=n.getParameter(36348),_=n.getParameter(36349),b=d>0,w=o||e.has("OES_texture_float"),M=b&&w,C=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:w,floatVertexTextures:M,maxSamples:C}}function stt(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new yg,a=new aa,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d,p){const m=f.length!==0||d||r!==0||i;return i=d,t=u(f,p,0),r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(f,d,p){const m=f.clippingPlanes,g=f.clipIntersection,y=f.clipShadows,x=n.get(f);if(!i||m===null||m.length===0||s&&!y)s?u(null):c();else{const _=s?0:r,b=_*4;let w=x.clippingState||null;l.value=w,w=u(m,d,b,p);for(let M=0;M!==b;++M)w[M]=t[M];x.clippingState=w,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,p,m){const g=f!==null?f.length:0;let y=null;if(g!==0){if(y=l.value,m!==!0||y===null){const x=p+g*4,_=d.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<x)&&(y=new Float32Array(x));for(let b=0,w=p;b!==g;++b,w+=4)o.copy(f[b]).applyMatrix4(_,a),o.normal.toArray(y,w),y[w+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,y}}function ott(n){let e=new WeakMap;function t(o,a){return a===ES?o.mapping=P0:a===yT&&(o.mapping=B0),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===ES||a===yT)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new A_e(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Ex extends I3{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const lw=4,fre=[.125,.215,.35,.446,.526,.582],Py=20,T5=new Ex,dre=new dt;let R5=null;const Sy=(1+Math.sqrt(5))/2,sb=1/Sy,hre=[new me(1,1,1),new me(-1,1,1),new me(1,1,-1),new me(-1,1,-1),new me(0,Sy,sb),new me(0,Sy,-sb),new me(sb,0,Sy),new me(-sb,0,Sy),new me(Sy,sb,0),new me(-Sy,sb,0)];class fH{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){R5=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=gre(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=mre(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(R5),e.scissorTest=!1,kB(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===P0||e.mapping===B0?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),R5=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Wr,minFilter:Wr,generateMipmaps:!1,type:TS,format:cl,encoding:D0,depthBuffer:!1},i=pre(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=pre(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=att(s)),this._blurMaterial=ltt(s,e,t)}return i}_compileMaterial(e){const t=new Ui(this._lodPlanes[0],e);this._renderer.compile(t,T5)}_sceneToCubeUV(e,t,r,i){const a=new Ms(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(dre),u.toneMapping=Uf,u.autoClear=!1;const p=new ml({name:"PMREM.Background",side:ja,depthWrite:!1,depthTest:!1}),m=new Ui(new sv,p);let g=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,g=!0):(p.color.copy(dre),g=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):_===1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x]));const b=this._cubeSize;kB(i,_*b,x>2?b:0,b,b),u.setRenderTarget(i),g&&u.render(m,a),u.render(e,a)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===P0||e.mapping===B0;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=gre()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=mre());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Ui(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;kB(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,T5)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=hre[(i-1)%hre.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Ui(this._lodPlanes[i],c),d=c.uniforms,p=this._sizeLods[r]-1,m=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*Py-1),g=s/m,y=isFinite(s)?1+Math.floor(u*g):Py;y>Py&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Py}`);const x=[];let _=0;for(let R=0;R<Py;++R){const E=R/g,B=Math.exp(-E*E/2);x.push(B),R===0?_+=B:R<y&&(_+=2*B)}for(let R=0;R<x.length;R++)x[R]=x[R]/_;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=x,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:b}=this;d.dTheta.value=m,d.mipInt.value=b-r;const w=this._sizeLods[i],M=3*w*(i>b-lw?i-b+lw:0),C=4*(this._cubeSize-w);kB(t,M,C,3*w,2*w),l.setRenderTarget(t),l.render(f,T5)}}function att(n){const e=[],t=[],r=[];let i=n;const s=n-lw+1+fre.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-lw?l=fre[o-n+lw-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],p=6,m=6,g=3,y=2,x=1,_=new Float32Array(g*m*p),b=new Float32Array(y*m*p),w=new Float32Array(x*m*p);for(let C=0;C<p;C++){const R=C%3*2/3-1,E=C>2?0:-1,B=[R,E,0,R+2/3,E,0,R+2/3,E+1,0,R,E,0,R+2/3,E+1,0,R,E+1,0];_.set(B,g*m*C),b.set(d,y*m*C);const D=[C,C,C,C,C,C];w.set(D,x*m*C)}const M=new un;M.setAttribute("position",new Qn(_,g)),M.setAttribute("uv",new Qn(b,y)),M.setAttribute("faceIndex",new Qn(w,x)),e.push(M),i>lw&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function pre(n,e,t){const r=new ju(n,e,t);return r.texture.mapping=fA,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function kB(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function ltt(n,e,t){const r=new Float32Array(Py),i=new me(0,1,0);return new Jf({name:"SphericalGaussianBlur",defines:{n:Py,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Y$(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Dp,depthTest:!1,depthWrite:!1})}function mre(){return new Jf({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Y$(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Dp,depthTest:!1,depthWrite:!1})}function gre(){return new Jf({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Y$(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Dp,depthTest:!1,depthWrite:!1})}function Y$(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ctt(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===ES||l===yT,u=l===P0||l===B0;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new fH(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new fH(n));const d=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function utt(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function ftt(n,e,t,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const m in d.attributes)e.remove(d.attributes[m]);d.removeEventListener("dispose",o),delete i[d.id];const p=s.get(d);p&&(e.remove(p),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,t.memory.geometries++),d}function l(f){const d=f.attributes;for(const m in d)e.update(d[m],34962);const p=f.morphAttributes;for(const m in p){const g=p[m];for(let y=0,x=g.length;y<x;y++)e.update(g[y],34962)}}function c(f){const d=[],p=f.index,m=f.attributes.position;let g=0;if(p!==null){const _=p.array;g=p.version;for(let b=0,w=_.length;b<w;b+=3){const M=_[b+0],C=_[b+1],R=_[b+2];d.push(M,C,C,R,R,M)}}else{const _=m.array;g=m.version;for(let b=0,w=_.length/3-1;b<w;b+=3){const M=b+0,C=b+1,R=b+2;d.push(M,C,C,R,R,M)}}const y=new(b_e(d)?J$:AF)(d,1);y.version=g;const x=s.get(f);x&&e.remove(x),s.set(f,y)}function u(f){const d=s.get(f);if(d){const p=f.index;p!==null&&d.version<p.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function dtt(n,e,t,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function u(d,p){n.drawElements(s,p,a,d*l),t.update(p,s,1)}function f(d,p,m){if(m===0)return;let g,y;if(i)g=n,y="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](s,p,a,d*l,m),t.update(p,s,m)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function htt(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function ptt(n,e){return n[0]-e[0]}function mtt(n,e){return Math.abs(e[1])-Math.abs(n[1])}function gtt(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Sn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f,d){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=g!==void 0?g.length:0;let x=s.get(u);if(x===void 0||x.count!==y){let X=function(){U.dispose(),s.delete(u),u.removeEventListener("dispose",X)};var m=X;x!==void 0&&x.texture.dispose();const w=u.morphAttributes.position!==void 0,M=u.morphAttributes.normal!==void 0,C=u.morphAttributes.color!==void 0,R=u.morphAttributes.position||[],E=u.morphAttributes.normal||[],B=u.morphAttributes.color||[];let D=0;w===!0&&(D=1),M===!0&&(D=2),C===!0&&(D=3);let N=u.attributes.position.count*D,z=1;N>e.maxTextureSize&&(z=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const H=new Float32Array(N*z*4*y),U=new D3(H,N,z,y);U.type=wp,U.needsUpdate=!0;const W=D*4;for(let q=0;q<y;q++){const L=R[q],I=E[q],O=B[q],F=N*z*4*q;for(let j=0;j<L.count;j++){const te=j*W;w===!0&&(o.fromBufferAttribute(L,j),H[F+te+0]=o.x,H[F+te+1]=o.y,H[F+te+2]=o.z,H[F+te+3]=0),M===!0&&(o.fromBufferAttribute(I,j),H[F+te+4]=o.x,H[F+te+5]=o.y,H[F+te+6]=o.z,H[F+te+7]=0),C===!0&&(o.fromBufferAttribute(O,j),H[F+te+8]=o.x,H[F+te+9]=o.y,H[F+te+10]=o.z,H[F+te+11]=O.itemSize===4?o.w:1)}}x={count:y,texture:U,size:new nt(N,z)},s.set(u,x),u.addEventListener("dispose",X)}let _=0;for(let w=0;w<p.length;w++)_+=p[w];const b=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",b),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const g=p===void 0?0:p.length;let y=r[u.id];if(y===void 0||y.length!==g){y=[];for(let M=0;M<g;M++)y[M]=[M,0];r[u.id]=y}for(let M=0;M<g;M++){const C=y[M];C[0]=M,C[1]=p[M]}y.sort(mtt);for(let M=0;M<8;M++)M<g&&y[M][1]?(a[M][0]=y[M][0],a[M][1]=y[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(ptt);const x=u.morphAttributes.position,_=u.morphAttributes.normal;let b=0;for(let M=0;M<8;M++){const C=a[M],R=C[0],E=C[1];R!==Number.MAX_SAFE_INTEGER&&E?(x&&u.getAttribute("morphTarget"+M)!==x[R]&&u.setAttribute("morphTarget"+M,x[R]),_&&u.getAttribute("morphNormal"+M)!==_[R]&&u.setAttribute("morphNormal"+M,_[R]),i[M]=E,b+=E):(x&&u.hasAttribute("morphTarget"+M)===!0&&u.deleteAttribute("morphTarget"+M),_&&u.hasAttribute("morphNormal"+M)===!0&&u.deleteAttribute("morphNormal"+M),i[M]=0)}const w=u.morphTargetsRelative?1:1-b;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function vtt(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);return i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const E_e=new qr,C_e=new D3,T_e=new SF,R_e=new L3,vre=[],yre=[],xre=new Float32Array(16),_re=new Float32Array(9),bre=new Float32Array(4);function dA(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=vre[i];if(s===void 0&&(s=new Float32Array(i),vre[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Js(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ys(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function CF(n,e){let t=yre[e];t===void 0&&(t=new Int32Array(e),yre[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function ytt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function xtt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Js(t,e))return;n.uniform2fv(this.addr,e),Ys(t,e)}}function _tt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Js(t,e))return;n.uniform3fv(this.addr,e),Ys(t,e)}}function btt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Js(t,e))return;n.uniform4fv(this.addr,e),Ys(t,e)}}function wtt(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Js(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ys(t,e)}else{if(Js(t,r))return;bre.set(r),n.uniformMatrix2fv(this.addr,!1,bre),Ys(t,r)}}function Stt(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Js(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ys(t,e)}else{if(Js(t,r))return;_re.set(r),n.uniformMatrix3fv(this.addr,!1,_re),Ys(t,r)}}function Att(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Js(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ys(t,e)}else{if(Js(t,r))return;xre.set(r),n.uniformMatrix4fv(this.addr,!1,xre),Ys(t,r)}}function Mtt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Ett(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Js(t,e))return;n.uniform2iv(this.addr,e),Ys(t,e)}}function Ctt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Js(t,e))return;n.uniform3iv(this.addr,e),Ys(t,e)}}function Ttt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Js(t,e))return;n.uniform4iv(this.addr,e),Ys(t,e)}}function Rtt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Ptt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Js(t,e))return;n.uniform2uiv(this.addr,e),Ys(t,e)}}function Btt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Js(t,e))return;n.uniform3uiv(this.addr,e),Ys(t,e)}}function Dtt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Js(t,e))return;n.uniform4uiv(this.addr,e),Ys(t,e)}}function ktt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||E_e,i)}function Itt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||T_e,i)}function Ltt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||R_e,i)}function Ott(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||C_e,i)}function Ftt(n){switch(n){case 5126:return ytt;case 35664:return xtt;case 35665:return _tt;case 35666:return btt;case 35674:return wtt;case 35675:return Stt;case 35676:return Att;case 5124:case 35670:return Mtt;case 35667:case 35671:return Ett;case 35668:case 35672:return Ctt;case 35669:case 35673:return Ttt;case 5125:return Rtt;case 36294:return Ptt;case 36295:return Btt;case 36296:return Dtt;case 35678:case 36198:case 36298:case 36306:case 35682:return ktt;case 35679:case 36299:case 36307:return Itt;case 35680:case 36300:case 36308:case 36293:return Ltt;case 36289:case 36303:case 36311:case 36292:return Ott}}function Ntt(n,e){n.uniform1fv(this.addr,e)}function Utt(n,e){const t=dA(e,this.size,2);n.uniform2fv(this.addr,t)}function ztt(n,e){const t=dA(e,this.size,3);n.uniform3fv(this.addr,t)}function Gtt(n,e){const t=dA(e,this.size,4);n.uniform4fv(this.addr,t)}function Htt(n,e){const t=dA(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Vtt(n,e){const t=dA(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function jtt(n,e){const t=dA(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Wtt(n,e){n.uniform1iv(this.addr,e)}function $tt(n,e){n.uniform2iv(this.addr,e)}function Xtt(n,e){n.uniform3iv(this.addr,e)}function Jtt(n,e){n.uniform4iv(this.addr,e)}function Ytt(n,e){n.uniform1uiv(this.addr,e)}function Ktt(n,e){n.uniform2uiv(this.addr,e)}function qtt(n,e){n.uniform3uiv(this.addr,e)}function Qtt(n,e){n.uniform4uiv(this.addr,e)}function Ztt(n,e,t){const r=this.cache,i=e.length,s=CF(t,i);Js(r,s)||(n.uniform1iv(this.addr,s),Ys(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||E_e,s[o])}function ent(n,e,t){const r=this.cache,i=e.length,s=CF(t,i);Js(r,s)||(n.uniform1iv(this.addr,s),Ys(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||T_e,s[o])}function tnt(n,e,t){const r=this.cache,i=e.length,s=CF(t,i);Js(r,s)||(n.uniform1iv(this.addr,s),Ys(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||R_e,s[o])}function nnt(n,e,t){const r=this.cache,i=e.length,s=CF(t,i);Js(r,s)||(n.uniform1iv(this.addr,s),Ys(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||C_e,s[o])}function rnt(n){switch(n){case 5126:return Ntt;case 35664:return Utt;case 35665:return ztt;case 35666:return Gtt;case 35674:return Htt;case 35675:return Vtt;case 35676:return jtt;case 5124:case 35670:return Wtt;case 35667:case 35671:return $tt;case 35668:case 35672:return Xtt;case 35669:case 35673:return Jtt;case 5125:return Ytt;case 36294:return Ktt;case 36295:return qtt;case 36296:return Qtt;case 35678:case 36198:case 36298:case 36306:case 35682:return Ztt;case 35679:case 36299:case 36307:return ent;case 35680:case 36300:case 36308:case 36293:return tnt;case 36289:case 36303:case 36311:case 36292:return nnt}}class int{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=Ftt(t.type)}}class snt{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=rnt(t.type)}}class ont{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const P5=/(\w+)(\])?(\[|\.)?/g;function wre(n,e){n.seq.push(e),n.map[e.id]=e}function ant(n,e,t){const r=n.name,i=r.length;for(P5.lastIndex=0;;){const s=P5.exec(r),o=P5.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){wre(t,c===void 0?new int(a,n,e):new snt(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new ont(a),wre(t,f)),t=f}}}class _k{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);ant(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function Sre(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let lnt=0;function cnt(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function unt(n){switch(n){case D0:return["Linear","( value )"];case ri:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function Are(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+cnt(n.getShaderSource(e),o)}else return i}function fnt(n,e){const t=unt(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function dnt(n,e){let t;switch(e){case Jxe:t="Linear";break;case Yxe:t="Reinhard";break;case Kxe:t="OptimizedCineon";break;case G$:t="ACESFilmic";break;case qxe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function hnt(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(X2).join(`
`)}function pnt(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function mnt(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function X2(n){return n!==""}function Mre(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ere(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const gnt=/^[ \t]*#include +<([\w\d./]+)>/gm;function dH(n){return n.replace(gnt,vnt)}function vnt(n,e){const t=xn[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return dH(t)}const ynt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Cre(n){return n.replace(ynt,xnt)}function xnt(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Tre(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function _nt(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===xF?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===UE?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Xy&&(e="SHADOWMAP_TYPE_VSM"),e}function bnt(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case P0:case B0:e="ENVMAP_TYPE_CUBE";break;case fA:e="ENVMAP_TYPE_CUBE_UV";break}return e}function wnt(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case B0:e="ENVMAP_MODE_REFRACTION";break}return e}function Snt(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case B3:e="ENVMAP_BLENDING_MULTIPLY";break;case $xe:e="ENVMAP_BLENDING_MIX";break;case Xxe:e="ENVMAP_BLENDING_ADD";break}return e}function Ant(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Mnt(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=_nt(t),c=bnt(t),u=wnt(t),f=Snt(t),d=Ant(t),p=t.isWebGL2?"":hnt(t),m=pnt(s),g=i.createProgram();let y,x,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[m].filter(X2).join(`
`),y.length>0&&(y+=`
`),x=[p,m].filter(X2).join(`
`),x.length>0&&(x+=`
`)):(y=[Tre(t),"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(X2).join(`
`),x=[p,Tre(t),"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Uf?"#define TONE_MAPPING":"",t.toneMapping!==Uf?xn.tonemapping_pars_fragment:"",t.toneMapping!==Uf?dnt("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",xn.encodings_pars_fragment,fnt("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(X2).join(`
`)),o=dH(o),o=Mre(o,t),o=Ere(o,t),a=dH(a),a=Mre(a,t),a=Ere(a,t),o=Cre(o),a=Cre(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",t.glslVersion===cH?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===cH?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const b=_+y+o,w=_+x+a,M=Sre(i,35633,b),C=Sre(i,35632,w);if(i.attachShader(g,M),i.attachShader(g,C),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),n.debug.checkShaderErrors){const B=i.getProgramInfoLog(g).trim(),D=i.getShaderInfoLog(M).trim(),N=i.getShaderInfoLog(C).trim();let z=!0,H=!0;if(i.getProgramParameter(g,35714)===!1){z=!1;const U=Are(i,M,"vertex"),W=Are(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+B+`
`+U+`
`+W)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(D===""||N==="")&&(H=!1);H&&(this.diagnostics={runnable:z,programLog:B,vertexShader:{log:D,prefix:y},fragmentShader:{log:N,prefix:x}})}i.deleteShader(M),i.deleteShader(C);let R;this.getUniforms=function(){return R===void 0&&(R=new _k(i,g)),R};let E;return this.getAttributes=function(){return E===void 0&&(E=mnt(i,g)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=lnt++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=M,this.fragmentShader=C,this}let Ent=0;class Cnt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Tnt(e),t.set(e,r)),r}}class Tnt{constructor(e){this.id=Ent++,this.code=e,this.usedTimes=0}}function Rnt(n,e,t,r,i,s,o){const a=new M1,l=new Cnt,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let p=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(E,B,D,N,z){const H=N.fog,U=z.geometry,W=E.isMeshStandardMaterial?N.environment:null,X=(E.isMeshStandardMaterial?t:e).get(E.envMap||W),q=X&&X.mapping===fA?X.image.height:null,L=m[E.type];E.precision!==null&&(p=i.getMaxPrecision(E.precision),p!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",p,"instead."));const I=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,O=I!==void 0?I.length:0;let F=0;U.morphAttributes.position!==void 0&&(F=1),U.morphAttributes.normal!==void 0&&(F=2),U.morphAttributes.color!==void 0&&(F=3);let j,te,re,se;if(L){const fe=Tf[L];j=fe.vertexShader,te=fe.fragmentShader}else j=E.vertexShader,te=E.fragmentShader,l.update(E),re=l.getVertexShaderID(E),se=l.getFragmentShaderID(E);const K=n.getRenderTarget(),le=E.alphaTest>0,he=E.clearcoat>0,we=E.iridescence>0;return{isWebGL2:u,shaderID:L,shaderName:E.type,vertexShader:j,fragmentShader:te,defines:E.defines,customVertexShaderID:re,customFragmentShaderID:se,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:p,instancing:z.isInstancedMesh===!0,instancingColor:z.isInstancedMesh===!0&&z.instanceColor!==null,supportsVertexTextures:d,outputEncoding:K===null?n.outputEncoding:K.isXRRenderTarget===!0?K.texture.encoding:D0,map:!!E.map,matcap:!!E.matcap,envMap:!!X,envMapMode:X&&X.mapping,envMapCubeUVHeight:q,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===y_e,tangentSpaceNormalMap:E.normalMapType===iv,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===ri,clearcoat:he,clearcoatMap:he&&!!E.clearcoatMap,clearcoatRoughnessMap:he&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:he&&!!E.clearcoatNormalMap,iridescence:we,iridescenceMap:we&&!!E.iridescenceMap,iridescenceThicknessMap:we&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===b1,alphaMap:!!E.alphaMap,alphaTest:le,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!U.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!U.attributes.color&&U.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!H,useFog:E.fog===!0,fogExp2:H&&H.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:f,skinning:z.isSkinnedMesh===!0,morphTargets:U.morphAttributes.position!==void 0,morphNormals:U.morphAttributes.normal!==void 0,morphColors:U.morphAttributes.color!==void 0,morphTargetsCount:O,morphTextureStride:F,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:E.toneMapped?n.toneMapping:Uf,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Du,flipSided:E.side===ja,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function y(E){const B=[];if(E.shaderID?B.push(E.shaderID):(B.push(E.customVertexShaderID),B.push(E.customFragmentShaderID)),E.defines!==void 0)for(const D in E.defines)B.push(D),B.push(E.defines[D]);return E.isRawShaderMaterial===!1&&(x(B,E),_(B,E),B.push(n.outputEncoding)),B.push(E.customProgramCacheKey),B.join()}function x(E,B){E.push(B.precision),E.push(B.outputEncoding),E.push(B.envMapMode),E.push(B.envMapCubeUVHeight),E.push(B.combine),E.push(B.vertexUvs),E.push(B.fogExp2),E.push(B.sizeAttenuation),E.push(B.morphTargetsCount),E.push(B.morphAttributeCount),E.push(B.numDirLights),E.push(B.numPointLights),E.push(B.numSpotLights),E.push(B.numSpotLightMaps),E.push(B.numHemiLights),E.push(B.numRectAreaLights),E.push(B.numDirLightShadows),E.push(B.numPointLightShadows),E.push(B.numSpotLightShadows),E.push(B.numSpotLightShadowsWithMaps),E.push(B.shadowMapType),E.push(B.toneMapping),E.push(B.numClippingPlanes),E.push(B.numClipIntersection),E.push(B.depthPacking)}function _(E,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.iridescence&&a.enable(18),B.iridescenceMap&&a.enable(19),B.iridescenceThicknessMap&&a.enable(20),B.displacementMap&&a.enable(21),B.specularMap&&a.enable(22),B.roughnessMap&&a.enable(23),B.metalnessMap&&a.enable(24),B.gradientMap&&a.enable(25),B.alphaMap&&a.enable(26),B.alphaTest&&a.enable(27),B.vertexColors&&a.enable(28),B.vertexAlphas&&a.enable(29),B.vertexUvs&&a.enable(30),B.vertexTangents&&a.enable(31),B.uvsVertexOnly&&a.enable(32),E.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.physicallyCorrectLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.specularIntensityMap&&a.enable(15),B.specularColorMap&&a.enable(16),B.transmission&&a.enable(17),B.transmissionMap&&a.enable(18),B.thicknessMap&&a.enable(19),B.sheen&&a.enable(20),B.sheenColorMap&&a.enable(21),B.sheenRoughnessMap&&a.enable(22),B.decodeVideoTexture&&a.enable(23),B.opaque&&a.enable(24),E.push(a.mask)}function b(E){const B=m[E.type];let D;if(B){const N=Tf[B];D=MF.clone(N.uniforms)}else D=E.uniforms;return D}function w(E,B){let D;for(let N=0,z=c.length;N<z;N++){const H=c[N];if(H.cacheKey===B){D=H,++D.usedTimes;break}}return D===void 0&&(D=new Mnt(n,B,E,s),c.push(D)),D}function M(E){if(--E.usedTimes===0){const B=c.indexOf(E);c[B]=c[c.length-1],c.pop(),E.destroy()}}function C(E){l.remove(E)}function R(){l.dispose()}return{getParameters:g,getProgramCacheKey:y,getUniforms:b,acquireProgram:w,releaseProgram:M,releaseShaderCache:C,programs:c,dispose:R}}function Pnt(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function Bnt(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Rre(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Pre(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,d,p,m,g,y){let x=n[e];return x===void 0?(x={id:f.id,object:f,geometry:d,material:p,groupOrder:m,renderOrder:f.renderOrder,z:g,group:y},n[e]=x):(x.id=f.id,x.object=f,x.geometry=d,x.material=p,x.groupOrder=m,x.renderOrder=f.renderOrder,x.z=g,x.group=y),e++,x}function a(f,d,p,m,g,y){const x=o(f,d,p,m,g,y);p.transmission>0?r.push(x):p.transparent===!0?i.push(x):t.push(x)}function l(f,d,p,m,g,y){const x=o(f,d,p,m,g,y);p.transmission>0?r.unshift(x):p.transparent===!0?i.unshift(x):t.unshift(x)}function c(f,d){t.length>1&&t.sort(f||Bnt),r.length>1&&r.sort(d||Rre),i.length>1&&i.sort(d||Rre)}function u(){for(let f=e,d=n.length;f<d;f++){const p=n[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function Dnt(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new Pre,n.set(r,[o])):i>=s.length?(o=new Pre,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function knt(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new me,color:new dt};break;case"SpotLight":t={position:new me,direction:new me,color:new dt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new me,color:new dt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new me,skyColor:new dt,groundColor:new dt};break;case"RectAreaLight":t={color:new dt,position:new me,halfWidth:new me,halfHeight:new me};break}return n[e.id]=t,t}}}function Int(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Lnt=0;function Ont(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Fnt(n,e){const t=new knt,r=Int(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new me);const s=new me,o=new Bt,a=new Bt;function l(u,f){let d=0,p=0,m=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let g=0,y=0,x=0,_=0,b=0,w=0,M=0,C=0,R=0,E=0;u.sort(Ont);const B=f!==!0?Math.PI:1;for(let N=0,z=u.length;N<z;N++){const H=u[N],U=H.color,W=H.intensity,X=H.distance,q=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)d+=U.r*W*B,p+=U.g*W*B,m+=U.b*W*B;else if(H.isLightProbe)for(let L=0;L<9;L++)i.probe[L].addScaledVector(H.sh.coefficients[L],W);else if(H.isDirectionalLight){const L=t.get(H);if(L.color.copy(H.color).multiplyScalar(H.intensity*B),H.castShadow){const I=H.shadow,O=r.get(H);O.shadowBias=I.bias,O.shadowNormalBias=I.normalBias,O.shadowRadius=I.radius,O.shadowMapSize=I.mapSize,i.directionalShadow[g]=O,i.directionalShadowMap[g]=q,i.directionalShadowMatrix[g]=H.shadow.matrix,w++}i.directional[g]=L,g++}else if(H.isSpotLight){const L=t.get(H);L.position.setFromMatrixPosition(H.matrixWorld),L.color.copy(U).multiplyScalar(W*B),L.distance=X,L.coneCos=Math.cos(H.angle),L.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),L.decay=H.decay,i.spot[x]=L;const I=H.shadow;if(H.map&&(i.spotLightMap[R]=H.map,R++,I.updateMatrices(H),H.castShadow&&E++),i.spotLightMatrix[x]=I.matrix,H.castShadow){const O=r.get(H);O.shadowBias=I.bias,O.shadowNormalBias=I.normalBias,O.shadowRadius=I.radius,O.shadowMapSize=I.mapSize,i.spotShadow[x]=O,i.spotShadowMap[x]=q,C++}x++}else if(H.isRectAreaLight){const L=t.get(H);L.color.copy(U).multiplyScalar(W),L.halfWidth.set(H.width*.5,0,0),L.halfHeight.set(0,H.height*.5,0),i.rectArea[_]=L,_++}else if(H.isPointLight){const L=t.get(H);if(L.color.copy(H.color).multiplyScalar(H.intensity*B),L.distance=H.distance,L.decay=H.decay,H.castShadow){const I=H.shadow,O=r.get(H);O.shadowBias=I.bias,O.shadowNormalBias=I.normalBias,O.shadowRadius=I.radius,O.shadowMapSize=I.mapSize,O.shadowCameraNear=I.camera.near,O.shadowCameraFar=I.camera.far,i.pointShadow[y]=O,i.pointShadowMap[y]=q,i.pointShadowMatrix[y]=H.shadow.matrix,M++}i.point[y]=L,y++}else if(H.isHemisphereLight){const L=t.get(H);L.skyColor.copy(H.color).multiplyScalar(W*B),L.groundColor.copy(H.groundColor).multiplyScalar(W*B),i.hemi[b]=L,b++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=St.LTC_FLOAT_1,i.rectAreaLTC2=St.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=St.LTC_HALF_1,i.rectAreaLTC2=St.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=p,i.ambient[2]=m;const D=i.hash;(D.directionalLength!==g||D.pointLength!==y||D.spotLength!==x||D.rectAreaLength!==_||D.hemiLength!==b||D.numDirectionalShadows!==w||D.numPointShadows!==M||D.numSpotShadows!==C||D.numSpotMaps!==R)&&(i.directional.length=g,i.spot.length=x,i.rectArea.length=_,i.point.length=y,i.hemi.length=b,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=C+R-E,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=E,D.directionalLength=g,D.pointLength=y,D.spotLength=x,D.rectAreaLength=_,D.hemiLength=b,D.numDirectionalShadows=w,D.numPointShadows=M,D.numSpotShadows=C,D.numSpotMaps=R,i.version=Lnt++)}function c(u,f){let d=0,p=0,m=0,g=0,y=0;const x=f.matrixWorldInverse;for(let _=0,b=u.length;_<b;_++){const w=u[_];if(w.isDirectionalLight){const M=i.directional[d];M.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(x),d++}else if(w.isSpotLight){const M=i.spot[m];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(x),M.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(x),m++}else if(w.isRectAreaLight){const M=i.rectArea[g];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(x),a.identity(),o.copy(w.matrixWorld),o.premultiply(x),a.extractRotation(o),M.halfWidth.set(w.width*.5,0,0),M.halfHeight.set(0,w.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),g++}else if(w.isPointLight){const M=i.point[p];M.position.setFromMatrixPosition(w.matrixWorld),M.position.applyMatrix4(x),p++}else if(w.isHemisphereLight){const M=i.hemi[y];M.direction.setFromMatrixPosition(w.matrixWorld),M.direction.transformDirection(x),y++}}}return{setup:l,setupView:c,state:i}}function Bre(n,e){const t=new Fnt(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function c(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function Nnt(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new Bre(n,e),t.set(s,[l])):o>=a.length?(l=new Bre(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class TF extends Rs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=v_e,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class RF extends Rs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new me,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Unt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,znt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Gnt(n,e,t){let r=new EF;const i=new nt,s=new nt,o=new Sn,a=new TF({depthPacking:W$}),l=new RF,c={},u=t.maxTextureSize,f={0:ja,1:Zp,2:Du},d=new Jf({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new nt},radius:{value:4}},vertexShader:Unt,fragmentShader:znt}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const m=new un;m.setAttribute("position",new Qn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Ui(m,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xF,this.render=function(w,M,C){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||w.length===0)return;const R=n.getRenderTarget(),E=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Dp),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let N=0,z=w.length;N<z;N++){const H=w[N],U=H.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;i.copy(U.mapSize);const W=U.getFrameExtents();if(i.multiply(W),s.copy(U.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/W.x),i.x=s.x*W.x,U.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/W.y),i.y=s.y*W.y,U.mapSize.y=s.y)),U.map===null){const q=this.type!==Xy?{minFilter:ss,magFilter:ss}:{};U.map=new ju(i.x,i.y,q),U.map.texture.name=H.name+".shadowMap",U.camera.updateProjectionMatrix()}n.setRenderTarget(U.map),n.clear();const X=U.getViewportCount();for(let q=0;q<X;q++){const L=U.getViewport(q);o.set(s.x*L.x,s.y*L.y,s.x*L.z,s.y*L.w),D.viewport(o),U.updateMatrices(H,q),r=U.getFrustum(),b(M,C,U.camera,H,this.type)}U.isPointLightShadow!==!0&&this.type===Xy&&x(U,C),U.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(R,E,B)};function x(w,M){const C=e.update(g);d.defines.VSM_SAMPLES!==w.blurSamples&&(d.defines.VSM_SAMPLES=w.blurSamples,p.defines.VSM_SAMPLES=w.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new ju(i.x,i.y)),d.uniforms.shadow_pass.value=w.map.texture,d.uniforms.resolution.value=w.mapSize,d.uniforms.radius.value=w.radius,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(M,null,C,d,g,null),p.uniforms.shadow_pass.value=w.mapPass.texture,p.uniforms.resolution.value=w.mapSize,p.uniforms.radius.value=w.radius,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(M,null,C,p,g,null)}function _(w,M,C,R,E,B){let D=null;const N=C.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(N!==void 0?D=N:D=C.isPointLight===!0?l:a,n.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0){const z=D.uuid,H=M.uuid;let U=c[z];U===void 0&&(U={},c[z]=U);let W=U[H];W===void 0&&(W=D.clone(),U[H]=W),D=W}return D.visible=M.visible,D.wireframe=M.wireframe,B===Xy?D.side=M.shadowSide!==null?M.shadowSide:M.side:D.side=M.shadowSide!==null?M.shadowSide:f[M.side],D.alphaMap=M.alphaMap,D.alphaTest=M.alphaTest,D.clipShadows=M.clipShadows,D.clippingPlanes=M.clippingPlanes,D.clipIntersection=M.clipIntersection,D.displacementMap=M.displacementMap,D.displacementScale=M.displacementScale,D.displacementBias=M.displacementBias,D.wireframeLinewidth=M.wireframeLinewidth,D.linewidth=M.linewidth,C.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(C.matrixWorld),D.nearDistance=R,D.farDistance=E),D}function b(w,M,C,R,E){if(w.visible===!1)return;if(w.layers.test(M.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&E===Xy)&&(!w.frustumCulled||r.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,w.matrixWorld);const N=e.update(w),z=w.material;if(Array.isArray(z)){const H=N.groups;for(let U=0,W=H.length;U<W;U++){const X=H[U],q=z[X.materialIndex];if(q&&q.visible){const L=_(w,q,R,C.near,C.far,E);n.renderBufferDirect(C,null,N,L,w,X)}}}else if(z.visible){const H=_(w,z,R,C.near,C.far,E);n.renderBufferDirect(C,null,N,H,w,null)}}const D=w.children;for(let N=0,z=D.length;N<z;N++)b(D[N],M,C,R,E)}}function Hnt(n,e,t){const r=t.isWebGL2;function i(){let ee=!1;const ye=new Sn;let Ie=null;const Je=new Sn(0,0,0,0);return{setMask:function(et){Ie!==et&&!ee&&(n.colorMask(et,et,et,et),Ie=et)},setLocked:function(et){ee=et},setClear:function(et,mt,Dt,Nt,Ot){Ot===!0&&(et*=Nt,mt*=Nt,Dt*=Nt),ye.set(et,mt,Dt,Nt),Je.equals(ye)===!1&&(n.clearColor(et,mt,Dt,Nt),Je.copy(ye))},reset:function(){ee=!1,Ie=null,Je.set(-1,0,0,0)}}}function s(){let ee=!1,ye=null,Ie=null,Je=null;return{setTest:function(et){et?le(2929):he(2929)},setMask:function(et){ye!==et&&!ee&&(n.depthMask(et),ye=et)},setFunc:function(et){if(Ie!==et){switch(et){case Uxe:n.depthFunc(512);break;case zxe:n.depthFunc(519);break;case Gxe:n.depthFunc(513);break;case lL:n.depthFunc(515);break;case Hxe:n.depthFunc(514);break;case Vxe:n.depthFunc(518);break;case jxe:n.depthFunc(516);break;case Wxe:n.depthFunc(517);break;default:n.depthFunc(515)}Ie=et}},setLocked:function(et){ee=et},setClear:function(et){Je!==et&&(n.clearDepth(et),Je=et)},reset:function(){ee=!1,ye=null,Ie=null,Je=null}}}function o(){let ee=!1,ye=null,Ie=null,Je=null,et=null,mt=null,Dt=null,Nt=null,Ot=null;return{setTest:function(Ft){ee||(Ft?le(2960):he(2960))},setMask:function(Ft){ye!==Ft&&!ee&&(n.stencilMask(Ft),ye=Ft)},setFunc:function(Ft,kt,Tt){(Ie!==Ft||Je!==kt||et!==Tt)&&(n.stencilFunc(Ft,kt,Tt),Ie=Ft,Je=kt,et=Tt)},setOp:function(Ft,kt,Tt){(mt!==Ft||Dt!==kt||Nt!==Tt)&&(n.stencilOp(Ft,kt,Tt),mt=Ft,Dt=kt,Nt=Tt)},setLocked:function(Ft){ee=Ft},setClear:function(Ft){Ot!==Ft&&(n.clearStencil(Ft),Ot=Ft)},reset:function(){ee=!1,ye=null,Ie=null,Je=null,et=null,mt=null,Dt=null,Nt=null,Ot=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let d={},p={},m=new WeakMap,g=[],y=null,x=!1,_=null,b=null,w=null,M=null,C=null,R=null,E=null,B=!1,D=null,N=null,z=null,H=null,U=null;const W=n.getParameter(35661);let X=!1,q=0;const L=n.getParameter(7938);L.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(L)[1]),X=q>=1):L.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),X=q>=2);let I=null,O={};const F=n.getParameter(3088),j=n.getParameter(2978),te=new Sn().fromArray(F),re=new Sn().fromArray(j);function se(ee,ye,Ie){const Je=new Uint8Array(4),et=n.createTexture();n.bindTexture(ee,et),n.texParameteri(ee,10241,9728),n.texParameteri(ee,10240,9728);for(let mt=0;mt<Ie;mt++)n.texImage2D(ye+mt,0,6408,1,1,0,6408,5121,Je);return et}const K={};K[3553]=se(3553,3553,1),K[34067]=se(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),le(2929),l.setFunc(lL),Ce(!1),We(O8),le(2884),Te(Dp);function le(ee){d[ee]!==!0&&(n.enable(ee),d[ee]=!0)}function he(ee){d[ee]!==!1&&(n.disable(ee),d[ee]=!1)}function we(ee,ye){return p[ee]!==ye?(n.bindFramebuffer(ee,ye),p[ee]=ye,r&&(ee===36009&&(p[36160]=ye),ee===36160&&(p[36009]=ye)),!0):!1}function ve(ee,ye){let Ie=g,Je=!1;if(ee)if(Ie=m.get(ye),Ie===void 0&&(Ie=[],m.set(ye,Ie)),ee.isWebGLMultipleRenderTargets){const et=ee.texture;if(Ie.length!==et.length||Ie[0]!==36064){for(let mt=0,Dt=et.length;mt<Dt;mt++)Ie[mt]=36064+mt;Ie.length=et.length,Je=!0}}else Ie[0]!==36064&&(Ie[0]=36064,Je=!0);else Ie[0]!==1029&&(Ie[0]=1029,Je=!0);Je&&(t.isWebGL2?n.drawBuffers(Ie):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ie))}function fe(ee){return y!==ee?(n.useProgram(ee),y=ee,!0):!1}const ne={[Ry]:32774,[Txe]:32778,[Rxe]:32779};if(r)ne[z8]=32775,ne[G8]=32776;else{const ee=e.get("EXT_blend_minmax");ee!==null&&(ne[z8]=ee.MIN_EXT,ne[G8]=ee.MAX_EXT)}const oe={[Pxe]:0,[Bxe]:1,[Dxe]:768,[U$]:770,[Nxe]:776,[Oxe]:774,[Ixe]:772,[kxe]:769,[z$]:771,[Fxe]:775,[Lxe]:773};function Te(ee,ye,Ie,Je,et,mt,Dt,Nt){if(ee===Dp){x===!0&&(he(3042),x=!1);return}if(x===!1&&(le(3042),x=!0),ee!==Cxe){if(ee!==_||Nt!==B){if((b!==Ry||C!==Ry)&&(n.blendEquation(32774),b=Ry,C=Ry),Nt)switch(ee){case b1:n.blendFuncSeparate(1,771,1,771);break;case F8:n.blendFunc(1,1);break;case N8:n.blendFuncSeparate(0,769,0,1);break;case U8:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case b1:n.blendFuncSeparate(770,771,1,771);break;case F8:n.blendFunc(770,1);break;case N8:n.blendFuncSeparate(0,769,0,1);break;case U8:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}w=null,M=null,R=null,E=null,_=ee,B=Nt}return}et=et||ye,mt=mt||Ie,Dt=Dt||Je,(ye!==b||et!==C)&&(n.blendEquationSeparate(ne[ye],ne[et]),b=ye,C=et),(Ie!==w||Je!==M||mt!==R||Dt!==E)&&(n.blendFuncSeparate(oe[Ie],oe[Je],oe[mt],oe[Dt]),w=Ie,M=Je,R=mt,E=Dt),_=ee,B=null}function be(ee,ye){ee.side===Du?he(2884):le(2884);let Ie=ee.side===ja;ye&&(Ie=!Ie),Ce(Ie),ee.blending===b1&&ee.transparent===!1?Te(Dp):Te(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.premultipliedAlpha),l.setFunc(ee.depthFunc),l.setTest(ee.depthTest),l.setMask(ee.depthWrite),a.setMask(ee.colorWrite);const Je=ee.stencilWrite;c.setTest(Je),Je&&(c.setMask(ee.stencilWriteMask),c.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),c.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),ke(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?le(32926):he(32926)}function Ce(ee){D!==ee&&(ee?n.frontFace(2304):n.frontFace(2305),D=ee)}function We(ee){ee!==Axe?(le(2884),ee!==N&&(ee===O8?n.cullFace(1029):ee===Mxe?n.cullFace(1028):n.cullFace(1032))):he(2884),N=ee}function Se(ee){ee!==z&&(X&&n.lineWidth(ee),z=ee)}function ke(ee,ye,Ie){ee?(le(32823),(H!==ye||U!==Ie)&&(n.polygonOffset(ye,Ie),H=ye,U=Ie)):he(32823)}function Ve(ee){ee?le(3089):he(3089)}function Ee(ee){ee===void 0&&(ee=33984+W-1),I!==ee&&(n.activeTexture(ee),I=ee)}function V(ee,ye,Ie){Ie===void 0&&(I===null?Ie=33984+W-1:Ie=I);let Je=O[Ie];Je===void 0&&(Je={type:void 0,texture:void 0},O[Ie]=Je),(Je.type!==ee||Je.texture!==ye)&&(I!==Ie&&(n.activeTexture(Ie),I=Ie),n.bindTexture(ee,ye||K[ee]),Je.type=ee,Je.texture=ye)}function k(){const ee=O[I];ee!==void 0&&ee.type!==void 0&&(n.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function Q(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Me(){try{n.texSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Re(){try{n.texSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ue(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Pe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function xe(){try{n.texStorage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Xe(){try{n.texStorage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ge(){try{n.texImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function je(){try{n.texImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function He(ee){te.equals(ee)===!1&&(n.scissor(ee.x,ee.y,ee.z,ee.w),te.copy(ee))}function Oe(ee){re.equals(ee)===!1&&(n.viewport(ee.x,ee.y,ee.z,ee.w),re.copy(ee))}function qe(ee,ye){let Ie=f.get(ye);Ie===void 0&&(Ie=new WeakMap,f.set(ye,Ie));let Je=Ie.get(ee);Je===void 0&&(Je=n.getUniformBlockIndex(ye,ee.name),Ie.set(ee,Je))}function tt(ee,ye){const Je=f.get(ye).get(ee);u.get(ee)!==Je&&(n.uniformBlockBinding(ye,Je,ee.__bindingPointIndex),u.set(ee,Je))}function pt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},I=null,O={},p={},m=new WeakMap,g=[],y=null,x=!1,_=null,b=null,w=null,M=null,C=null,R=null,E=null,B=!1,D=null,N=null,z=null,H=null,U=null,te.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:le,disable:he,bindFramebuffer:we,drawBuffers:ve,useProgram:fe,setBlending:Te,setMaterial:be,setFlipSided:Ce,setCullFace:We,setLineWidth:Se,setPolygonOffset:ke,setScissorTest:Ve,activeTexture:Ee,bindTexture:V,unbindTexture:k,compressedTexImage2D:Q,compressedTexImage3D:ce,texImage2D:Ge,texImage3D:je,updateUBOMapping:qe,uniformBlockBinding:tt,texStorage2D:xe,texStorage3D:Xe,texSubImage2D:Me,texSubImage3D:Re,compressedTexSubImage2D:Ue,compressedTexSubImage3D:Pe,scissor:He,viewport:Oe,reset:pt}}function Vnt(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),m=new WeakMap;let g;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(V,k){return x?new OffscreenCanvas(V,k):AT("canvas")}function b(V,k,Q,ce){let Me=1;if((V.width>ce||V.height>ce)&&(Me=ce/Math.max(V.width,V.height)),Me<1||k===!0)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap){const Re=k?fL:Math.floor,Ue=Re(Me*V.width),Pe=Re(Me*V.height);g===void 0&&(g=_(Ue,Pe));const xe=Q?_(Ue,Pe):g;return xe.width=Ue,xe.height=Pe,xe.getContext("2d").drawImage(V,0,0,Ue,Pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+V.width+"x"+V.height+") to ("+Ue+"x"+Pe+")."),xe}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+V.width+"x"+V.height+")."),V;return V}function w(V){return uH(V.width)&&uH(V.height)}function M(V){return a?!1:V.wrapS!==Gs||V.wrapT!==Gs||V.minFilter!==ss&&V.minFilter!==Wr}function C(V,k){return V.generateMipmaps&&k&&V.minFilter!==ss&&V.minFilter!==Wr}function R(V){n.generateMipmap(V)}function E(V,k,Q,ce,Me=!1){if(a===!1)return k;if(V!==null){if(n[V]!==void 0)return n[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let Re=k;return k===6403&&(Q===5126&&(Re=33326),Q===5131&&(Re=33325),Q===5121&&(Re=33321)),k===33319&&(Q===5126&&(Re=33328),Q===5131&&(Re=33327),Q===5121&&(Re=33323)),k===6408&&(Q===5126&&(Re=34836),Q===5131&&(Re=34842),Q===5121&&(Re=ce===ri&&Me===!1?35907:32856),Q===32819&&(Re=32854),Q===32820&&(Re=32855)),(Re===33325||Re===33326||Re===33327||Re===33328||Re===34842||Re===34836)&&e.get("EXT_color_buffer_float"),Re}function B(V,k,Q){return C(V,Q)===!0||V.isFramebufferTexture&&V.minFilter!==ss&&V.minFilter!==Wr?Math.log2(Math.max(k.width,k.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?k.mipmaps.length:1}function D(V){return V===ss||V===xT||V===_T?9728:9729}function N(V){const k=V.target;k.removeEventListener("dispose",N),H(k),k.isVideoTexture&&m.delete(k)}function z(V){const k=V.target;k.removeEventListener("dispose",z),W(k)}function H(V){const k=r.get(V);if(k.__webglInit===void 0)return;const Q=V.source,ce=y.get(Q);if(ce){const Me=ce[k.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&U(V),Object.keys(ce).length===0&&y.delete(Q)}r.remove(V)}function U(V){const k=r.get(V);n.deleteTexture(k.__webglTexture);const Q=V.source,ce=y.get(Q);delete ce[k.__cacheKey],o.memory.textures--}function W(V){const k=V.texture,Q=r.get(V),ce=r.get(k);if(ce.__webglTexture!==void 0&&(n.deleteTexture(ce.__webglTexture),o.memory.textures--),V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++)n.deleteFramebuffer(Q.__webglFramebuffer[Me]),Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer[Me]);else{if(n.deleteFramebuffer(Q.__webglFramebuffer),Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer),Q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Q.__webglMultisampledFramebuffer),Q.__webglColorRenderbuffer)for(let Me=0;Me<Q.__webglColorRenderbuffer.length;Me++)Q.__webglColorRenderbuffer[Me]&&n.deleteRenderbuffer(Q.__webglColorRenderbuffer[Me]);Q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Q.__webglDepthRenderbuffer)}if(V.isWebGLMultipleRenderTargets)for(let Me=0,Re=k.length;Me<Re;Me++){const Ue=r.get(k[Me]);Ue.__webglTexture&&(n.deleteTexture(Ue.__webglTexture),o.memory.textures--),r.remove(k[Me])}r.remove(k),r.remove(V)}let X=0;function q(){X=0}function L(){const V=X;return V>=l&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+l),X+=1,V}function I(V){const k=[];return k.push(V.wrapS),k.push(V.wrapT),k.push(V.wrapR||0),k.push(V.magFilter),k.push(V.minFilter),k.push(V.anisotropy),k.push(V.internalFormat),k.push(V.format),k.push(V.type),k.push(V.generateMipmaps),k.push(V.premultiplyAlpha),k.push(V.flipY),k.push(V.unpackAlignment),k.push(V.encoding),k.join()}function O(V,k){const Q=r.get(V);if(V.isVideoTexture&&Ve(V),V.isRenderTargetTexture===!1&&V.version>0&&Q.__version!==V.version){const ce=V.image;if(ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{he(Q,V,k);return}}t.bindTexture(3553,Q.__webglTexture,33984+k)}function F(V,k){const Q=r.get(V);if(V.version>0&&Q.__version!==V.version){he(Q,V,k);return}t.bindTexture(35866,Q.__webglTexture,33984+k)}function j(V,k){const Q=r.get(V);if(V.version>0&&Q.__version!==V.version){he(Q,V,k);return}t.bindTexture(32879,Q.__webglTexture,33984+k)}function te(V,k){const Q=r.get(V);if(V.version>0&&Q.__version!==V.version){we(Q,V,k);return}t.bindTexture(34067,Q.__webglTexture,33984+k)}const re={[oh]:10497,[Gs]:33071,[CS]:33648},se={[ss]:9728,[xT]:9984,[_T]:9986,[Wr]:9729,[bF]:9985,[mm]:9987};function K(V,k,Q){if(Q?(n.texParameteri(V,10242,re[k.wrapS]),n.texParameteri(V,10243,re[k.wrapT]),(V===32879||V===35866)&&n.texParameteri(V,32882,re[k.wrapR]),n.texParameteri(V,10240,se[k.magFilter]),n.texParameteri(V,10241,se[k.minFilter])):(n.texParameteri(V,10242,33071),n.texParameteri(V,10243,33071),(V===32879||V===35866)&&n.texParameteri(V,32882,33071),(k.wrapS!==Gs||k.wrapT!==Gs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(V,10240,D(k.magFilter)),n.texParameteri(V,10241,D(k.minFilter)),k.minFilter!==ss&&k.minFilter!==Wr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ce=e.get("EXT_texture_filter_anisotropic");if(k.type===wp&&e.has("OES_texture_float_linear")===!1||a===!1&&k.type===TS&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||r.get(k).__currentAnisotropy)&&(n.texParameterf(V,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy)}}function le(V,k){let Q=!1;V.__webglInit===void 0&&(V.__webglInit=!0,k.addEventListener("dispose",N));const ce=k.source;let Me=y.get(ce);Me===void 0&&(Me={},y.set(ce,Me));const Re=I(k);if(Re!==V.__cacheKey){Me[Re]===void 0&&(Me[Re]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Q=!0),Me[Re].usedTimes++;const Ue=Me[V.__cacheKey];Ue!==void 0&&(Me[V.__cacheKey].usedTimes--,Ue.usedTimes===0&&U(k)),V.__cacheKey=Re,V.__webglTexture=Me[Re].texture}return Q}function he(V,k,Q){let ce=3553;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(ce=35866),k.isData3DTexture&&(ce=32879);const Me=le(V,k),Re=k.source;t.bindTexture(ce,V.__webglTexture,33984+Q);const Ue=r.get(Re);if(Re.version!==Ue.__version||Me===!0){t.activeTexture(33984+Q),n.pixelStorei(37440,k.flipY),n.pixelStorei(37441,k.premultiplyAlpha),n.pixelStorei(3317,k.unpackAlignment),n.pixelStorei(37443,0);const Pe=M(k)&&w(k.image)===!1;let xe=b(k.image,Pe,!1,u);xe=Ee(k,xe);const Xe=w(xe)||a,Ge=s.convert(k.format,k.encoding);let je=s.convert(k.type),He=E(k.internalFormat,Ge,je,k.encoding,k.isVideoTexture);K(ce,k,Xe);let Oe;const qe=k.mipmaps,tt=a&&k.isVideoTexture!==!0,pt=Ue.__version===void 0||Me===!0,ee=B(k,xe,Xe);if(k.isDepthTexture)He=6402,a?k.type===wp?He=36012:k.type===Lg?He=33190:k.type===w1?He=35056:He=33189:k.type===wp&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===a0&&He===6402&&k.type!==H$&&k.type!==Lg&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=Lg,je=s.convert(k.type)),k.format===tx&&He===6402&&(He=34041,k.type!==w1&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=w1,je=s.convert(k.type))),pt&&(tt?t.texStorage2D(3553,1,He,xe.width,xe.height):t.texImage2D(3553,0,He,xe.width,xe.height,0,Ge,je,null));else if(k.isDataTexture)if(qe.length>0&&Xe){tt&&pt&&t.texStorage2D(3553,ee,He,qe[0].width,qe[0].height);for(let ye=0,Ie=qe.length;ye<Ie;ye++)Oe=qe[ye],tt?t.texSubImage2D(3553,ye,0,0,Oe.width,Oe.height,Ge,je,Oe.data):t.texImage2D(3553,ye,He,Oe.width,Oe.height,0,Ge,je,Oe.data);k.generateMipmaps=!1}else tt?(pt&&t.texStorage2D(3553,ee,He,xe.width,xe.height),t.texSubImage2D(3553,0,0,0,xe.width,xe.height,Ge,je,xe.data)):t.texImage2D(3553,0,He,xe.width,xe.height,0,Ge,je,xe.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){tt&&pt&&t.texStorage3D(35866,ee,He,qe[0].width,qe[0].height,xe.depth);for(let ye=0,Ie=qe.length;ye<Ie;ye++)Oe=qe[ye],k.format!==cl?Ge!==null?tt?t.compressedTexSubImage3D(35866,ye,0,0,0,Oe.width,Oe.height,xe.depth,Ge,Oe.data,0,0):t.compressedTexImage3D(35866,ye,He,Oe.width,Oe.height,xe.depth,0,Oe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tt?t.texSubImage3D(35866,ye,0,0,0,Oe.width,Oe.height,xe.depth,Ge,je,Oe.data):t.texImage3D(35866,ye,He,Oe.width,Oe.height,xe.depth,0,Ge,je,Oe.data)}else{tt&&pt&&t.texStorage2D(3553,ee,He,qe[0].width,qe[0].height);for(let ye=0,Ie=qe.length;ye<Ie;ye++)Oe=qe[ye],k.format!==cl?Ge!==null?tt?t.compressedTexSubImage2D(3553,ye,0,0,Oe.width,Oe.height,Ge,Oe.data):t.compressedTexImage2D(3553,ye,He,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tt?t.texSubImage2D(3553,ye,0,0,Oe.width,Oe.height,Ge,je,Oe.data):t.texImage2D(3553,ye,He,Oe.width,Oe.height,0,Ge,je,Oe.data)}else if(k.isDataArrayTexture)tt?(pt&&t.texStorage3D(35866,ee,He,xe.width,xe.height,xe.depth),t.texSubImage3D(35866,0,0,0,0,xe.width,xe.height,xe.depth,Ge,je,xe.data)):t.texImage3D(35866,0,He,xe.width,xe.height,xe.depth,0,Ge,je,xe.data);else if(k.isData3DTexture)tt?(pt&&t.texStorage3D(32879,ee,He,xe.width,xe.height,xe.depth),t.texSubImage3D(32879,0,0,0,0,xe.width,xe.height,xe.depth,Ge,je,xe.data)):t.texImage3D(32879,0,He,xe.width,xe.height,xe.depth,0,Ge,je,xe.data);else if(k.isFramebufferTexture){if(pt)if(tt)t.texStorage2D(3553,ee,He,xe.width,xe.height);else{let ye=xe.width,Ie=xe.height;for(let Je=0;Je<ee;Je++)t.texImage2D(3553,Je,He,ye,Ie,0,Ge,je,null),ye>>=1,Ie>>=1}}else if(qe.length>0&&Xe){tt&&pt&&t.texStorage2D(3553,ee,He,qe[0].width,qe[0].height);for(let ye=0,Ie=qe.length;ye<Ie;ye++)Oe=qe[ye],tt?t.texSubImage2D(3553,ye,0,0,Ge,je,Oe):t.texImage2D(3553,ye,He,Ge,je,Oe);k.generateMipmaps=!1}else tt?(pt&&t.texStorage2D(3553,ee,He,xe.width,xe.height),t.texSubImage2D(3553,0,0,0,Ge,je,xe)):t.texImage2D(3553,0,He,Ge,je,xe);C(k,Xe)&&R(ce),Ue.__version=Re.version,k.onUpdate&&k.onUpdate(k)}V.__version=k.version}function we(V,k,Q){if(k.image.length!==6)return;const ce=le(V,k),Me=k.source;t.bindTexture(34067,V.__webglTexture,33984+Q);const Re=r.get(Me);if(Me.version!==Re.__version||ce===!0){t.activeTexture(33984+Q),n.pixelStorei(37440,k.flipY),n.pixelStorei(37441,k.premultiplyAlpha),n.pixelStorei(3317,k.unpackAlignment),n.pixelStorei(37443,0);const Ue=k.isCompressedTexture||k.image[0].isCompressedTexture,Pe=k.image[0]&&k.image[0].isDataTexture,xe=[];for(let ye=0;ye<6;ye++)!Ue&&!Pe?xe[ye]=b(k.image[ye],!1,!0,c):xe[ye]=Pe?k.image[ye].image:k.image[ye],xe[ye]=Ee(k,xe[ye]);const Xe=xe[0],Ge=w(Xe)||a,je=s.convert(k.format,k.encoding),He=s.convert(k.type),Oe=E(k.internalFormat,je,He,k.encoding),qe=a&&k.isVideoTexture!==!0,tt=Re.__version===void 0||ce===!0;let pt=B(k,Xe,Ge);K(34067,k,Ge);let ee;if(Ue){qe&&tt&&t.texStorage2D(34067,pt,Oe,Xe.width,Xe.height);for(let ye=0;ye<6;ye++){ee=xe[ye].mipmaps;for(let Ie=0;Ie<ee.length;Ie++){const Je=ee[Ie];k.format!==cl?je!==null?qe?t.compressedTexSubImage2D(34069+ye,Ie,0,0,Je.width,Je.height,je,Je.data):t.compressedTexImage2D(34069+ye,Ie,Oe,Je.width,Je.height,0,Je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):qe?t.texSubImage2D(34069+ye,Ie,0,0,Je.width,Je.height,je,He,Je.data):t.texImage2D(34069+ye,Ie,Oe,Je.width,Je.height,0,je,He,Je.data)}}}else{ee=k.mipmaps,qe&&tt&&(ee.length>0&&pt++,t.texStorage2D(34067,pt,Oe,xe[0].width,xe[0].height));for(let ye=0;ye<6;ye++)if(Pe){qe?t.texSubImage2D(34069+ye,0,0,0,xe[ye].width,xe[ye].height,je,He,xe[ye].data):t.texImage2D(34069+ye,0,Oe,xe[ye].width,xe[ye].height,0,je,He,xe[ye].data);for(let Ie=0;Ie<ee.length;Ie++){const et=ee[Ie].image[ye].image;qe?t.texSubImage2D(34069+ye,Ie+1,0,0,et.width,et.height,je,He,et.data):t.texImage2D(34069+ye,Ie+1,Oe,et.width,et.height,0,je,He,et.data)}}else{qe?t.texSubImage2D(34069+ye,0,0,0,je,He,xe[ye]):t.texImage2D(34069+ye,0,Oe,je,He,xe[ye]);for(let Ie=0;Ie<ee.length;Ie++){const Je=ee[Ie];qe?t.texSubImage2D(34069+ye,Ie+1,0,0,je,He,Je.image[ye]):t.texImage2D(34069+ye,Ie+1,Oe,je,He,Je.image[ye])}}}C(k,Ge)&&R(34067),Re.__version=Me.version,k.onUpdate&&k.onUpdate(k)}V.__version=k.version}function ve(V,k,Q,ce,Me){const Re=s.convert(Q.format,Q.encoding),Ue=s.convert(Q.type),Pe=E(Q.internalFormat,Re,Ue,Q.encoding);r.get(k).__hasExternalTextures||(Me===32879||Me===35866?t.texImage3D(Me,0,Pe,k.width,k.height,k.depth,0,Re,Ue,null):t.texImage2D(Me,0,Pe,k.width,k.height,0,Re,Ue,null)),t.bindFramebuffer(36160,V),ke(k)?d.framebufferTexture2DMultisampleEXT(36160,ce,Me,r.get(Q).__webglTexture,0,Se(k)):(Me===3553||Me>=34069&&Me<=34074)&&n.framebufferTexture2D(36160,ce,Me,r.get(Q).__webglTexture,0),t.bindFramebuffer(36160,null)}function fe(V,k,Q){if(n.bindRenderbuffer(36161,V),k.depthBuffer&&!k.stencilBuffer){let ce=33189;if(Q||ke(k)){const Me=k.depthTexture;Me&&Me.isDepthTexture&&(Me.type===wp?ce=36012:Me.type===Lg&&(ce=33190));const Re=Se(k);ke(k)?d.renderbufferStorageMultisampleEXT(36161,Re,ce,k.width,k.height):n.renderbufferStorageMultisample(36161,Re,ce,k.width,k.height)}else n.renderbufferStorage(36161,ce,k.width,k.height);n.framebufferRenderbuffer(36160,36096,36161,V)}else if(k.depthBuffer&&k.stencilBuffer){const ce=Se(k);Q&&ke(k)===!1?n.renderbufferStorageMultisample(36161,ce,35056,k.width,k.height):ke(k)?d.renderbufferStorageMultisampleEXT(36161,ce,35056,k.width,k.height):n.renderbufferStorage(36161,34041,k.width,k.height),n.framebufferRenderbuffer(36160,33306,36161,V)}else{const ce=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let Me=0;Me<ce.length;Me++){const Re=ce[Me],Ue=s.convert(Re.format,Re.encoding),Pe=s.convert(Re.type),xe=E(Re.internalFormat,Ue,Pe,Re.encoding),Xe=Se(k);Q&&ke(k)===!1?n.renderbufferStorageMultisample(36161,Xe,xe,k.width,k.height):ke(k)?d.renderbufferStorageMultisampleEXT(36161,Xe,xe,k.width,k.height):n.renderbufferStorage(36161,xe,k.width,k.height)}}n.bindRenderbuffer(36161,null)}function ne(V,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,V),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),O(k.depthTexture,0);const ce=r.get(k.depthTexture).__webglTexture,Me=Se(k);if(k.depthTexture.format===a0)ke(k)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,ce,0,Me):n.framebufferTexture2D(36160,36096,3553,ce,0);else if(k.depthTexture.format===tx)ke(k)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,ce,0,Me):n.framebufferTexture2D(36160,33306,3553,ce,0);else throw new Error("Unknown depthTexture format")}function oe(V){const k=r.get(V),Q=V.isWebGLCubeRenderTarget===!0;if(V.depthTexture&&!k.__autoAllocateDepthBuffer){if(Q)throw new Error("target.depthTexture not supported in Cube render targets");ne(k.__webglFramebuffer,V)}else if(Q){k.__webglDepthbuffer=[];for(let ce=0;ce<6;ce++)t.bindFramebuffer(36160,k.__webglFramebuffer[ce]),k.__webglDepthbuffer[ce]=n.createRenderbuffer(),fe(k.__webglDepthbuffer[ce],V,!1)}else t.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=n.createRenderbuffer(),fe(k.__webglDepthbuffer,V,!1);t.bindFramebuffer(36160,null)}function Te(V,k,Q){const ce=r.get(V);k!==void 0&&ve(ce.__webglFramebuffer,V,V.texture,36064,3553),Q!==void 0&&oe(V)}function be(V){const k=V.texture,Q=r.get(V),ce=r.get(k);V.addEventListener("dispose",z),V.isWebGLMultipleRenderTargets!==!0&&(ce.__webglTexture===void 0&&(ce.__webglTexture=n.createTexture()),ce.__version=k.version,o.memory.textures++);const Me=V.isWebGLCubeRenderTarget===!0,Re=V.isWebGLMultipleRenderTargets===!0,Ue=w(V)||a;if(Me){Q.__webglFramebuffer=[];for(let Pe=0;Pe<6;Pe++)Q.__webglFramebuffer[Pe]=n.createFramebuffer()}else{if(Q.__webglFramebuffer=n.createFramebuffer(),Re)if(i.drawBuffers){const Pe=V.texture;for(let xe=0,Xe=Pe.length;xe<Xe;xe++){const Ge=r.get(Pe[xe]);Ge.__webglTexture===void 0&&(Ge.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&V.samples>0&&ke(V)===!1){const Pe=Re?k:[k];Q.__webglMultisampledFramebuffer=n.createFramebuffer(),Q.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Q.__webglMultisampledFramebuffer);for(let xe=0;xe<Pe.length;xe++){const Xe=Pe[xe];Q.__webglColorRenderbuffer[xe]=n.createRenderbuffer(),n.bindRenderbuffer(36161,Q.__webglColorRenderbuffer[xe]);const Ge=s.convert(Xe.format,Xe.encoding),je=s.convert(Xe.type),He=E(Xe.internalFormat,Ge,je,Xe.encoding,V.isXRRenderTarget===!0),Oe=Se(V);n.renderbufferStorageMultisample(36161,Oe,He,V.width,V.height),n.framebufferRenderbuffer(36160,36064+xe,36161,Q.__webglColorRenderbuffer[xe])}n.bindRenderbuffer(36161,null),V.depthBuffer&&(Q.__webglDepthRenderbuffer=n.createRenderbuffer(),fe(Q.__webglDepthRenderbuffer,V,!0)),t.bindFramebuffer(36160,null)}}if(Me){t.bindTexture(34067,ce.__webglTexture),K(34067,k,Ue);for(let Pe=0;Pe<6;Pe++)ve(Q.__webglFramebuffer[Pe],V,k,36064,34069+Pe);C(k,Ue)&&R(34067),t.unbindTexture()}else if(Re){const Pe=V.texture;for(let xe=0,Xe=Pe.length;xe<Xe;xe++){const Ge=Pe[xe],je=r.get(Ge);t.bindTexture(3553,je.__webglTexture),K(3553,Ge,Ue),ve(Q.__webglFramebuffer,V,Ge,36064+xe,3553),C(Ge,Ue)&&R(3553)}t.unbindTexture()}else{let Pe=3553;(V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(a?Pe=V.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Pe,ce.__webglTexture),K(Pe,k,Ue),ve(Q.__webglFramebuffer,V,k,36064,Pe),C(k,Ue)&&R(Pe),t.unbindTexture()}V.depthBuffer&&oe(V)}function Ce(V){const k=w(V)||a,Q=V.isWebGLMultipleRenderTargets===!0?V.texture:[V.texture];for(let ce=0,Me=Q.length;ce<Me;ce++){const Re=Q[ce];if(C(Re,k)){const Ue=V.isWebGLCubeRenderTarget?34067:3553,Pe=r.get(Re).__webglTexture;t.bindTexture(Ue,Pe),R(Ue),t.unbindTexture()}}}function We(V){if(a&&V.samples>0&&ke(V)===!1){const k=V.isWebGLMultipleRenderTargets?V.texture:[V.texture],Q=V.width,ce=V.height;let Me=16384;const Re=[],Ue=V.stencilBuffer?33306:36096,Pe=r.get(V),xe=V.isWebGLMultipleRenderTargets===!0;if(xe)for(let Xe=0;Xe<k.length;Xe++)t.bindFramebuffer(36160,Pe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Xe,36161,null),t.bindFramebuffer(36160,Pe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Xe,3553,null,0);t.bindFramebuffer(36008,Pe.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Pe.__webglFramebuffer);for(let Xe=0;Xe<k.length;Xe++){Re.push(36064+Xe),V.depthBuffer&&Re.push(Ue);const Ge=Pe.__ignoreDepthValues!==void 0?Pe.__ignoreDepthValues:!1;if(Ge===!1&&(V.depthBuffer&&(Me|=256),V.stencilBuffer&&(Me|=1024)),xe&&n.framebufferRenderbuffer(36008,36064,36161,Pe.__webglColorRenderbuffer[Xe]),Ge===!0&&(n.invalidateFramebuffer(36008,[Ue]),n.invalidateFramebuffer(36009,[Ue])),xe){const je=r.get(k[Xe]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,je,0)}n.blitFramebuffer(0,0,Q,ce,0,0,Q,ce,Me,9728),p&&n.invalidateFramebuffer(36008,Re)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),xe)for(let Xe=0;Xe<k.length;Xe++){t.bindFramebuffer(36160,Pe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Xe,36161,Pe.__webglColorRenderbuffer[Xe]);const Ge=r.get(k[Xe]).__webglTexture;t.bindFramebuffer(36160,Pe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Xe,3553,Ge,0)}t.bindFramebuffer(36009,Pe.__webglMultisampledFramebuffer)}}function Se(V){return Math.min(f,V.samples)}function ke(V){const k=r.get(V);return a&&V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function Ve(V){const k=o.render.frame;m.get(V)!==k&&(m.set(V,k),V.update())}function Ee(V,k){const Q=V.encoding,ce=V.format,Me=V.type;return V.isCompressedTexture===!0||V.isVideoTexture===!0||V.format===uL||Q!==D0&&(Q===ri?a===!1?e.has("EXT_sRGB")===!0&&ce===cl?(V.format=uL,V.minFilter=Wr,V.generateMipmaps=!1):k=X$.sRGBToLinear(k):(ce!==cl||Me!==em)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Q)),k}this.allocateTextureUnit=L,this.resetTextureUnits=q,this.setTexture2D=O,this.setTexture2DArray=F,this.setTexture3D=j,this.setTextureCube=te,this.rebindTextures=Te,this.setupRenderTarget=be,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=oe,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=ke}function P_e(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===em)return 5121;if(s===t_e)return 32819;if(s===n_e)return 32820;if(s===Qxe)return 5120;if(s===Zxe)return 5122;if(s===H$)return 5123;if(s===e_e)return 5124;if(s===Lg)return 5125;if(s===wp)return 5126;if(s===TS)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===r_e)return 6406;if(s===cl)return 6408;if(s===s_e)return 6409;if(s===o_e)return 6410;if(s===a0)return 6402;if(s===tx)return 34041;if(s===a_e)return 6403;if(s===i_e)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===uL)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===l_e)return 36244;if(s===c_e)return 33319;if(s===u_e)return 33320;if(s===f_e)return 36249;if(s===hk||s===pk||s===mk||s===gk)if(o===ri)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===hk)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===pk)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===mk)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===gk)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===hk)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===pk)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===mk)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===gk)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===H8||s===V8||s===j8||s===W8)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===H8)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===V8)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===j8)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===W8)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===d_e)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===$8||s===X8)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===$8)return o===ri?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===X8)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===J8||s===Y8||s===K8||s===q8||s===Q8||s===Z8||s===eH||s===tH||s===nH||s===rH||s===iH||s===sH||s===oH||s===aH)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===J8)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Y8)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===K8)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===q8)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Q8)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Z8)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===eH)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===tH)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===nH)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===rH)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===iH)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===sH)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===oH)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===aH)return o===ri?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===lH)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===lH)return o===ri?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===w1?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class B_e extends Ms{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Bf extends Pn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const jnt={type:"move"};class B5{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Bf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Bf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new me,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new me),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Bf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new me,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new me),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const y=t.getJointPose(g,r);if(c.joints[g.jointName]===void 0){const _=new Bf;_.matrixAutoUpdate=!1,_.visible=!1,c.joints[g.jointName]=_,c.add(_)}const x=c.joints[g.jointName];y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=y.radius),x.visible=y!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),p=.02,m=.005;c.inputState.pinching&&d>p+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=p-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(jnt)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class D_e extends qr{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:a0,u!==a0&&u!==tx)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===a0&&(r=Lg),r===void 0&&u===tx&&(r=w1),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:ss,this.minFilter=l!==void 0?l:ss,this.flipY=!1,this.generateMipmaps=!1}}class Wnt extends gm{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,f=null,d=null,p=null;const m=t.getContextAttributes();let g=null,y=null;const x=[],_=[],b=new Ms;b.layers.enable(1),b.viewport=new Sn;const w=new Ms;w.layers.enable(2),w.viewport=new Sn;const M=[b,w],C=new B_e;C.layers.enable(1),C.layers.enable(2);let R=null,E=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(I){let O=x[I];return O===void 0&&(O=new B5,x[I]=O),O.getTargetRaySpace()},this.getControllerGrip=function(I){let O=x[I];return O===void 0&&(O=new B5,x[I]=O),O.getGripSpace()},this.getHand=function(I){let O=x[I];return O===void 0&&(O=new B5,x[I]=O),O.getHandSpace()};function B(I){const O=_.indexOf(I.inputSource);if(O===-1)return;const F=x[O];F!==void 0&&F.dispatchEvent({type:I.type,data:I.inputSource})}function D(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",D),i.removeEventListener("inputsourceschange",N);for(let I=0;I<x.length;I++){const O=_[I];O!==null&&(_[I]=null,x[I].disconnect(O))}R=null,E=null,e.setRenderTarget(g),d=null,f=null,u=null,i=null,y=null,L.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(I){s=I,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(I){a=I,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(I){l=I},this.getBaseLayer=function(){return f!==null?f:d},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(I){if(i=I,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",D),i.addEventListener("inputsourceschange",N),m.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const O={antialias:i.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,t,O),i.updateRenderState({baseLayer:d}),y=new ju(d.framebufferWidth,d.framebufferHeight,{format:cl,type:em,encoding:e.outputEncoding,stencilBuffer:m.stencil})}else{let O=null,F=null,j=null;m.depth&&(j=m.stencil?35056:33190,O=m.stencil?tx:a0,F=m.stencil?w1:Lg);const te={colorFormat:32856,depthFormat:j,scaleFactor:s};u=new XRWebGLBinding(i,t),f=u.createProjectionLayer(te),i.updateRenderState({layers:[f]}),y=new ju(f.textureWidth,f.textureHeight,{format:cl,type:em,depthTexture:new D_e(f.textureWidth,f.textureHeight,F,void 0,void 0,void 0,void 0,void 0,void 0,O),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});const re=e.properties.get(y);re.__ignoreDepthValues=f.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),L.setContext(i),L.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function N(I){for(let O=0;O<I.removed.length;O++){const F=I.removed[O],j=_.indexOf(F);j>=0&&(_[j]=null,x[j].dispatchEvent({type:"disconnected",data:F}))}for(let O=0;O<I.added.length;O++){const F=I.added[O];let j=_.indexOf(F);if(j===-1){for(let re=0;re<x.length;re++)if(re>=_.length){_.push(F),j=re;break}else if(_[re]===null){_[re]=F,j=re;break}if(j===-1)break}const te=x[j];te&&te.dispatchEvent({type:"connected",data:F})}}const z=new me,H=new me;function U(I,O,F){z.setFromMatrixPosition(O.matrixWorld),H.setFromMatrixPosition(F.matrixWorld);const j=z.distanceTo(H),te=O.projectionMatrix.elements,re=F.projectionMatrix.elements,se=te[14]/(te[10]-1),K=te[14]/(te[10]+1),le=(te[9]+1)/te[5],he=(te[9]-1)/te[5],we=(te[8]-1)/te[0],ve=(re[8]+1)/re[0],fe=se*we,ne=se*ve,oe=j/(-we+ve),Te=oe*-we;O.matrixWorld.decompose(I.position,I.quaternion,I.scale),I.translateX(Te),I.translateZ(oe),I.matrixWorld.compose(I.position,I.quaternion,I.scale),I.matrixWorldInverse.copy(I.matrixWorld).invert();const be=se+oe,Ce=K+oe,We=fe-Te,Se=ne+(j-Te),ke=le*K/Ce*be,Ve=he*K/Ce*be;I.projectionMatrix.makePerspective(We,Se,ke,Ve,be,Ce)}function W(I,O){O===null?I.matrixWorld.copy(I.matrix):I.matrixWorld.multiplyMatrices(O.matrixWorld,I.matrix),I.matrixWorldInverse.copy(I.matrixWorld).invert()}this.updateCamera=function(I){if(i===null)return;C.near=w.near=b.near=I.near,C.far=w.far=b.far=I.far,(R!==C.near||E!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),R=C.near,E=C.far);const O=I.parent,F=C.cameras;W(C,O);for(let te=0;te<F.length;te++)W(F[te],O);C.matrixWorld.decompose(C.position,C.quaternion,C.scale),I.matrix.copy(C.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale);const j=I.children;for(let te=0,re=j.length;te<re;te++)j[te].updateMatrixWorld(!0);F.length===2?U(C,b,w):C.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return C},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(I){f!==null&&(f.fixedFoveation=I),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=I)};let X=null;function q(I,O){if(c=O.getViewerPose(l||o),p=O,c!==null){const F=c.views;d!==null&&(e.setRenderTargetFramebuffer(y,d.framebuffer),e.setRenderTarget(y));let j=!1;F.length!==C.cameras.length&&(C.cameras.length=0,j=!0);for(let te=0;te<F.length;te++){const re=F[te];let se=null;if(d!==null)se=d.getViewport(re);else{const le=u.getViewSubImage(f,re);se=le.viewport,te===0&&(e.setRenderTargetTextures(y,le.colorTexture,f.ignoreDepthValues?void 0:le.depthStencilTexture),e.setRenderTarget(y))}let K=M[te];K===void 0&&(K=new Ms,K.layers.enable(te),K.viewport=new Sn,M[te]=K),K.matrix.fromArray(re.transform.matrix),K.projectionMatrix.fromArray(re.projectionMatrix),K.viewport.set(se.x,se.y,se.width,se.height),te===0&&C.matrix.copy(K.matrix),j===!0&&C.cameras.push(K)}}for(let F=0;F<x.length;F++){const j=_[F],te=x[F];j!==null&&te!==void 0&&te.update(j,O,l||o)}X&&X(I,O),p=null}const L=new M_e;L.setAnimationLoop(q),this.setAnimationLoop=function(I){X=I},this.dispose=function(){}}}function $nt(n,e){function t(g,y){g.fogColor.value.copy(y.color),y.isFog?(g.fogNear.value=y.near,g.fogFar.value=y.far):y.isFogExp2&&(g.fogDensity.value=y.density)}function r(g,y,x,_,b){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(g,y):y.isMeshToonMaterial?(i(g,y),u(g,y)):y.isMeshPhongMaterial?(i(g,y),c(g,y)):y.isMeshStandardMaterial?(i(g,y),f(g,y),y.isMeshPhysicalMaterial&&d(g,y,b)):y.isMeshMatcapMaterial?(i(g,y),p(g,y)):y.isMeshDepthMaterial?i(g,y):y.isMeshDistanceMaterial?(i(g,y),m(g,y)):y.isMeshNormalMaterial?i(g,y):y.isLineBasicMaterial?(s(g,y),y.isLineDashedMaterial&&o(g,y)):y.isPointsMaterial?a(g,y,x,_):y.isSpriteMaterial?l(g,y):y.isShadowMaterial?(g.color.value.copy(y.color),g.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(g,y){g.opacity.value=y.opacity,y.color&&g.diffuse.value.copy(y.color),y.emissive&&g.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.bumpMap&&(g.bumpMap.value=y.bumpMap,g.bumpScale.value=y.bumpScale,y.side===ja&&(g.bumpScale.value*=-1)),y.displacementMap&&(g.displacementMap.value=y.displacementMap,g.displacementScale.value=y.displacementScale,g.displacementBias.value=y.displacementBias),y.emissiveMap&&(g.emissiveMap.value=y.emissiveMap),y.normalMap&&(g.normalMap.value=y.normalMap,g.normalScale.value.copy(y.normalScale),y.side===ja&&g.normalScale.value.negate()),y.specularMap&&(g.specularMap.value=y.specularMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);const x=e.get(y).envMap;if(x&&(g.envMap.value=x,g.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=y.reflectivity,g.ior.value=y.ior,g.refractionRatio.value=y.refractionRatio),y.lightMap){g.lightMap.value=y.lightMap;const w=n.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=y.lightMapIntensity*w}y.aoMap&&(g.aoMap.value=y.aoMap,g.aoMapIntensity.value=y.aoMapIntensity);let _;y.map?_=y.map:y.specularMap?_=y.specularMap:y.displacementMap?_=y.displacementMap:y.normalMap?_=y.normalMap:y.bumpMap?_=y.bumpMap:y.roughnessMap?_=y.roughnessMap:y.metalnessMap?_=y.metalnessMap:y.alphaMap?_=y.alphaMap:y.emissiveMap?_=y.emissiveMap:y.clearcoatMap?_=y.clearcoatMap:y.clearcoatNormalMap?_=y.clearcoatNormalMap:y.clearcoatRoughnessMap?_=y.clearcoatRoughnessMap:y.iridescenceMap?_=y.iridescenceMap:y.iridescenceThicknessMap?_=y.iridescenceThicknessMap:y.specularIntensityMap?_=y.specularIntensityMap:y.specularColorMap?_=y.specularColorMap:y.transmissionMap?_=y.transmissionMap:y.thicknessMap?_=y.thicknessMap:y.sheenColorMap?_=y.sheenColorMap:y.sheenRoughnessMap&&(_=y.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix));let b;y.aoMap?b=y.aoMap:y.lightMap&&(b=y.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uv2Transform.value.copy(b.matrix))}function s(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity}function o(g,y){g.dashSize.value=y.dashSize,g.totalSize.value=y.dashSize+y.gapSize,g.scale.value=y.scale}function a(g,y,x,_){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*x,g.scale.value=_*.5,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let b;y.map?b=y.map:y.alphaMap&&(b=y.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix))}function l(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.rotation.value=y.rotation,y.map&&(g.map.value=y.map),y.alphaMap&&(g.alphaMap.value=y.alphaMap),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix))}function c(g,y){g.specular.value.copy(y.specular),g.shininess.value=Math.max(y.shininess,1e-4)}function u(g,y){y.gradientMap&&(g.gradientMap.value=y.gradientMap)}function f(g,y){g.roughness.value=y.roughness,g.metalness.value=y.metalness,y.roughnessMap&&(g.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(g.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(g.envMapIntensity.value=y.envMapIntensity)}function d(g,y,x){g.ior.value=y.ior,y.sheen>0&&(g.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),g.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(g.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(g.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(g.clearcoat.value=y.clearcoat,g.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(g.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),g.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===ja&&g.clearcoatNormalScale.value.negate())),y.iridescence>0&&(g.iridescence.value=y.iridescence,g.iridescenceIOR.value=y.iridescenceIOR,g.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(g.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(g.transmission.value=y.transmission,g.transmissionSamplerMap.value=x.texture,g.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(g.transmissionMap.value=y.transmissionMap),g.thickness.value=y.thickness,y.thicknessMap&&(g.thicknessMap.value=y.thicknessMap),g.attenuationDistance.value=y.attenuationDistance,g.attenuationColor.value.copy(y.attenuationColor)),g.specularIntensity.value=y.specularIntensity,g.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(g.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(g.specularColorMap.value=y.specularColorMap)}function p(g,y){y.matcap&&(g.matcap.value=y.matcap)}function m(g,y){g.referencePosition.value.copy(y.referencePosition),g.nearDistance.value=y.nearDistance,g.farDistance.value=y.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function Xnt(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,b){const w=b.program;r.uniformBlockBinding(_,w)}function c(_,b){let w=i[_.id];w===void 0&&(m(_),w=u(_),i[_.id]=w,_.addEventListener("dispose",y));const M=b.program;r.updateUBOMapping(_,M);const C=e.render.frame;s[_.id]!==C&&(d(_),s[_.id]=C)}function u(_){const b=f();_.__bindingPointIndex=b;const w=n.createBuffer(),M=_.__size,C=_.usage;return n.bindBuffer(35345,w),n.bufferData(35345,M,C),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,w),w}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const b=i[_.id],w=_.uniforms,M=_.__cache;n.bindBuffer(35345,b);for(let C=0,R=w.length;C<R;C++){const E=w[C];if(p(E,C,M)===!0){const B=E.value,D=E.__offset;typeof B=="number"?(E.__data[0]=B,n.bufferSubData(35345,D,E.__data)):(E.value.isMatrix3?(E.__data[0]=E.value.elements[0],E.__data[1]=E.value.elements[1],E.__data[2]=E.value.elements[2],E.__data[3]=E.value.elements[0],E.__data[4]=E.value.elements[3],E.__data[5]=E.value.elements[4],E.__data[6]=E.value.elements[5],E.__data[7]=E.value.elements[0],E.__data[8]=E.value.elements[6],E.__data[9]=E.value.elements[7],E.__data[10]=E.value.elements[8],E.__data[11]=E.value.elements[0]):B.toArray(E.__data),n.bufferSubData(35345,D,E.__data))}}n.bindBuffer(35345,null)}function p(_,b,w){const M=_.value;if(w[b]===void 0)return typeof M=="number"?w[b]=M:w[b]=M.clone(),!0;if(typeof M=="number"){if(w[b]!==M)return w[b]=M,!0}else{const C=w[b];if(C.equals(M)===!1)return C.copy(M),!0}return!1}function m(_){const b=_.uniforms;let w=0;const M=16;let C=0;for(let R=0,E=b.length;R<E;R++){const B=b[R],D=g(B);if(B.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=w,R>0){C=w%M;const N=M-C;C!==0&&N-D.boundary<0&&(w+=M-C,B.__offset=w)}w+=D.storage}return C=w%M,C>0&&(w+=M-C),_.__size=w,_.__cache={},this}function g(_){const b=_.value,w={boundary:0,storage:0};return typeof b=="number"?(w.boundary=4,w.storage=4):b.isVector2?(w.boundary=8,w.storage=8):b.isVector3||b.isColor?(w.boundary=16,w.storage=12):b.isVector4?(w.boundary=16,w.storage=16):b.isMatrix3?(w.boundary=48,w.storage=48):b.isMatrix4?(w.boundary=64,w.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),w}function y(_){const b=_.target;b.removeEventListener("dispose",y);const w=o.indexOf(b.__bindingPointIndex);o.splice(w,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function x(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:x}}function Jnt(){const n=AT("canvas");return n.style.display="block",n}function K$(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:Jnt(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let f=null,d=null;const p=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=D0,this.physicallyCorrectLights=!1,this.toneMapping=Uf,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const g=this;let y=!1,x=0,_=0,b=null,w=-1,M=null;const C=new Sn,R=new Sn;let E=null,B=e.width,D=e.height,N=1,z=null,H=null;const U=new Sn(0,0,B,D),W=new Sn(0,0,B,D);let X=!1;const q=new EF;let L=!1,I=!1,O=null;const F=new Bt,j=new nt,te=new me,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function se(){return b===null?N:1}let K=t;function le($,ae){for(let _e=0;_e<$.length;_e++){const ie=$[_e],Ae=e.getContext(ie,ae);if(Ae!==null)return Ae}return null}try{const $={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${P3}`),e.addEventListener("webglcontextlost",He,!1),e.addEventListener("webglcontextrestored",Oe,!1),e.addEventListener("webglcontextcreationerror",qe,!1),K===null){const ae=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&ae.shift(),K=le(ae,$),K===null)throw le(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}K.getShaderPrecisionFormat===void 0&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let he,we,ve,fe,ne,oe,Te,be,Ce,We,Se,ke,Ve,Ee,V,k,Q,ce,Me,Re,Ue,Pe,xe,Xe;function Ge(){he=new utt(K),we=new itt(K,he,n),he.init(we),Pe=new P_e(K,he,we),ve=new Hnt(K,he,we),fe=new htt,ne=new Pnt,oe=new Vnt(K,he,ve,ne,we,Pe,fe),Te=new ott(g),be=new ctt(g),Ce=new _Qe(K,we),xe=new ntt(K,he,Ce,we),We=new ftt(K,Ce,fe,xe),Se=new vtt(K,We,Ce,fe),Me=new gtt(K,we,oe),k=new stt(ne),ke=new Rnt(g,Te,be,he,we,xe,k),Ve=new $nt(g,ne),Ee=new Dnt,V=new Nnt(he,we),ce=new ttt(g,Te,be,ve,Se,u,o),Q=new Gnt(g,Se,we),Xe=new Xnt(K,fe,we,ve),Re=new rtt(K,he,fe,we),Ue=new dtt(K,he,fe,we),fe.programs=ke.programs,g.capabilities=we,g.extensions=he,g.properties=ne,g.renderLists=Ee,g.shadowMap=Q,g.state=ve,g.info=fe}Ge();const je=new Wnt(g,K);this.xr=je,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const $=he.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=he.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function($){$!==void 0&&(N=$,this.setSize(B,D,!1))},this.getSize=function($){return $.set(B,D)},this.setSize=function($,ae,_e){if(je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=$,D=ae,e.width=Math.floor($*N),e.height=Math.floor(ae*N),_e!==!1&&(e.style.width=$+"px",e.style.height=ae+"px"),this.setViewport(0,0,$,ae)},this.getDrawingBufferSize=function($){return $.set(B*N,D*N).floor()},this.setDrawingBufferSize=function($,ae,_e){B=$,D=ae,N=_e,e.width=Math.floor($*_e),e.height=Math.floor(ae*_e),this.setViewport(0,0,$,ae)},this.getCurrentViewport=function($){return $.copy(C)},this.getViewport=function($){return $.copy(U)},this.setViewport=function($,ae,_e,ie){$.isVector4?U.set($.x,$.y,$.z,$.w):U.set($,ae,_e,ie),ve.viewport(C.copy(U).multiplyScalar(N).floor())},this.getScissor=function($){return $.copy(W)},this.setScissor=function($,ae,_e,ie){$.isVector4?W.set($.x,$.y,$.z,$.w):W.set($,ae,_e,ie),ve.scissor(R.copy(W).multiplyScalar(N).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function($){ve.setScissorTest(X=$)},this.setOpaqueSort=function($){z=$},this.setTransparentSort=function($){H=$},this.getClearColor=function($){return $.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor.apply(ce,arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha.apply(ce,arguments)},this.clear=function($=!0,ae=!0,_e=!0){let ie=0;$&&(ie|=16384),ae&&(ie|=256),_e&&(ie|=1024),K.clear(ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",He,!1),e.removeEventListener("webglcontextrestored",Oe,!1),e.removeEventListener("webglcontextcreationerror",qe,!1),Ee.dispose(),V.dispose(),ne.dispose(),Te.dispose(),be.dispose(),Se.dispose(),xe.dispose(),Xe.dispose(),ke.dispose(),je.dispose(),je.removeEventListener("sessionstart",Je),je.removeEventListener("sessionend",et),O&&(O.dispose(),O=null),mt.stop()};function He($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Oe(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const $=fe.autoReset,ae=Q.enabled,_e=Q.autoUpdate,ie=Q.needsUpdate,Ae=Q.type;Ge(),fe.autoReset=$,Q.enabled=ae,Q.autoUpdate=_e,Q.needsUpdate=ie,Q.type=Ae}function qe($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function tt($){const ae=$.target;ae.removeEventListener("dispose",tt),pt(ae)}function pt($){ee($),ne.remove($)}function ee($){const ae=ne.get($).programs;ae!==void 0&&(ae.forEach(function(_e){ke.releaseProgram(_e)}),$.isShaderMaterial&&ke.releaseShaderCache($))}this.renderBufferDirect=function($,ae,_e,ie,Ae,Qe){ae===null&&(ae=re);const st=Ae.isMesh&&Ae.matrixWorld.determinant()<0,gt=Un($,ae,_e,ie,Ae);ve.setMaterial(ie,st);let ht=_e.index;const Pt=_e.attributes.position;if(ht===null){if(Pt===void 0||Pt.count===0)return}else if(ht.count===0)return;let xt=1;ie.wireframe===!0&&(ht=We.getWireframeAttribute(_e),xt=2),xe.setup(Ae,ie,gt,_e,ht);let At,Qt=Re;ht!==null&&(At=Ce.get(ht),Qt=Ue,Qt.setIndex(At));const tr=ht!==null?ht.count:Pt.count,kr=_e.drawRange.start*xt,hr=_e.drawRange.count*xt,Ke=Qe!==null?Qe.start*xt:0,_t=Qe!==null?Qe.count*xt:1/0,Ir=Math.max(kr,Ke),fn=Math.min(tr,kr+hr,Ke+_t)-1,pn=Math.max(0,fn-Ir+1);if(pn!==0){if(Ae.isMesh)ie.wireframe===!0?(ve.setLineWidth(ie.wireframeLinewidth*se()),Qt.setMode(1)):Qt.setMode(4);else if(Ae.isLine){let Wn=ie.linewidth;Wn===void 0&&(Wn=1),ve.setLineWidth(Wn*se()),Ae.isLineSegments?Qt.setMode(1):Ae.isLineLoop?Qt.setMode(2):Qt.setMode(3)}else Ae.isPoints?Qt.setMode(0):Ae.isSprite&&Qt.setMode(4);if(Ae.isInstancedMesh)Qt.renderInstances(Ir,pn,Ae.count);else if(_e.isInstancedBufferGeometry){const Wn=Math.min(_e.instanceCount,_e._maxInstanceCount);Qt.renderInstances(Ir,pn,Wn)}else Qt.render(Ir,pn)}},this.compile=function($,ae){function _e(ie,Ae,Qe){ie.transparent===!0&&ie.side===Du?(ie.side=ja,ie.needsUpdate=!0,Tt(ie,Ae,Qe),ie.side=Zp,ie.needsUpdate=!0,Tt(ie,Ae,Qe),ie.side=Du):Tt(ie,Ae,Qe)}d=V.get($),d.init(),m.push(d),$.traverseVisible(function(ie){ie.isLight&&ie.layers.test(ae.layers)&&(d.pushLight(ie),ie.castShadow&&d.pushShadow(ie))}),d.setupLights(g.physicallyCorrectLights),$.traverse(function(ie){const Ae=ie.material;if(Ae)if(Array.isArray(Ae))for(let Qe=0;Qe<Ae.length;Qe++){const st=Ae[Qe];_e(st,$,ie)}else _e(Ae,$,ie)}),m.pop(),d=null};let ye=null;function Ie($){ye&&ye($)}function Je(){mt.stop()}function et(){mt.start()}const mt=new M_e;mt.setAnimationLoop(Ie),typeof self<"u"&&mt.setContext(self),this.setAnimationLoop=function($){ye=$,je.setAnimationLoop($),$===null?mt.stop():mt.start()},je.addEventListener("sessionstart",Je),je.addEventListener("sessionend",et),this.render=function($,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;$.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),je.enabled===!0&&je.isPresenting===!0&&(je.cameraAutoUpdate===!0&&je.updateCamera(ae),ae=je.getCamera()),$.isScene===!0&&$.onBeforeRender(g,$,ae,b),d=V.get($,m.length),d.init(),m.push(d),F.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),q.setFromProjectionMatrix(F),I=this.localClippingEnabled,L=k.init(this.clippingPlanes,I,ae),f=Ee.get($,p.length),f.init(),p.push(f),Dt($,ae,0,g.sortObjects),f.finish(),g.sortObjects===!0&&f.sort(z,H),L===!0&&k.beginShadows();const _e=d.state.shadowsArray;if(Q.render(_e,$,ae),L===!0&&k.endShadows(),this.info.autoReset===!0&&this.info.reset(),ce.render(f,$),d.setupLights(g.physicallyCorrectLights),ae.isArrayCamera){const ie=ae.cameras;for(let Ae=0,Qe=ie.length;Ae<Qe;Ae++){const st=ie[Ae];Nt(f,$,st,st.viewport)}}else Nt(f,$,ae);b!==null&&(oe.updateMultisampleRenderTarget(b),oe.updateRenderTargetMipmap(b)),$.isScene===!0&&$.onAfterRender(g,$,ae),xe.resetDefaultState(),w=-1,M=null,m.pop(),m.length>0?d=m[m.length-1]:d=null,p.pop(),p.length>0?f=p[p.length-1]:f=null};function Dt($,ae,_e,ie){if($.visible===!1)return;if($.layers.test(ae.layers)){if($.isGroup)_e=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(ae);else if($.isLight)d.pushLight($),$.castShadow&&d.pushShadow($);else if($.isSprite){if(!$.frustumCulled||q.intersectsSprite($)){ie&&te.setFromMatrixPosition($.matrixWorld).applyMatrix4(F);const st=Se.update($),gt=$.material;gt.visible&&f.push($,st,gt,_e,te.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&($.isSkinnedMesh&&$.skeleton.frame!==fe.render.frame&&($.skeleton.update(),$.skeleton.frame=fe.render.frame),!$.frustumCulled||q.intersectsObject($))){ie&&te.setFromMatrixPosition($.matrixWorld).applyMatrix4(F);const st=Se.update($),gt=$.material;if(Array.isArray(gt)){const ht=st.groups;for(let Pt=0,xt=ht.length;Pt<xt;Pt++){const At=ht[Pt],Qt=gt[At.materialIndex];Qt&&Qt.visible&&f.push($,st,Qt,_e,te.z,At)}}else gt.visible&&f.push($,st,gt,_e,te.z,null)}}const Qe=$.children;for(let st=0,gt=Qe.length;st<gt;st++)Dt(Qe[st],ae,_e,ie)}function Nt($,ae,_e,ie){const Ae=$.opaque,Qe=$.transmissive,st=$.transparent;d.setupLightsView(_e),Qe.length>0&&Ot(Ae,ae,_e),ie&&ve.viewport(C.copy(ie)),Ae.length>0&&Ft(Ae,ae,_e),Qe.length>0&&Ft(Qe,ae,_e),st.length>0&&Ft(st,ae,_e),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function Ot($,ae,_e){const ie=we.isWebGL2;O===null&&(O=new ju(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?TS:em,minFilter:mm,samples:ie&&s===!0?4:0})),g.getDrawingBufferSize(j),ie?O.setSize(j.x,j.y):O.setSize(fL(j.x),fL(j.y));const Ae=g.getRenderTarget();g.setRenderTarget(O),g.clear();const Qe=g.toneMapping;g.toneMapping=Uf,Ft($,ae,_e),g.toneMapping=Qe,oe.updateMultisampleRenderTarget(O),oe.updateRenderTargetMipmap(O),g.setRenderTarget(Ae)}function Ft($,ae,_e){const ie=ae.isScene===!0?ae.overrideMaterial:null;for(let Ae=0,Qe=$.length;Ae<Qe;Ae++){const st=$[Ae],gt=st.object,ht=st.geometry,Pt=ie===null?st.material:ie,xt=st.group;gt.layers.test(_e.layers)&&kt(gt,ae,_e,ht,Pt,xt)}}function kt($,ae,_e,ie,Ae,Qe){$.onBeforeRender(g,ae,_e,ie,Ae,Qe),$.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),Ae.onBeforeRender(g,ae,_e,ie,$,Qe),Ae.transparent===!0&&Ae.side===Du?(Ae.side=ja,Ae.needsUpdate=!0,g.renderBufferDirect(_e,ae,ie,Ae,$,Qe),Ae.side=Zp,Ae.needsUpdate=!0,g.renderBufferDirect(_e,ae,ie,Ae,$,Qe),Ae.side=Du):g.renderBufferDirect(_e,ae,ie,Ae,$,Qe),$.onAfterRender(g,ae,_e,ie,Ae,Qe)}function Tt($,ae,_e){ae.isScene!==!0&&(ae=re);const ie=ne.get($),Ae=d.state.lights,Qe=d.state.shadowsArray,st=Ae.state.version,gt=ke.getParameters($,Ae.state,Qe,ae,_e),ht=ke.getProgramCacheKey(gt);let Pt=ie.programs;ie.environment=$.isMeshStandardMaterial?ae.environment:null,ie.fog=ae.fog,ie.envMap=($.isMeshStandardMaterial?be:Te).get($.envMap||ie.environment),Pt===void 0&&($.addEventListener("dispose",tt),Pt=new Map,ie.programs=Pt);let xt=Pt.get(ht);if(xt!==void 0){if(ie.currentProgram===xt&&ie.lightsStateVersion===st)return Xn($,gt),xt}else gt.uniforms=ke.getUniforms($),$.onBuild(_e,gt,g),$.onBeforeCompile(gt,g),xt=ke.acquireProgram(gt,ht),Pt.set(ht,xt),ie.uniforms=gt.uniforms;const At=ie.uniforms;(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(At.clippingPlanes=k.uniform),Xn($,gt),ie.needsLights=dn($),ie.lightsStateVersion=st,ie.needsLights&&(At.ambientLightColor.value=Ae.state.ambient,At.lightProbe.value=Ae.state.probe,At.directionalLights.value=Ae.state.directional,At.directionalLightShadows.value=Ae.state.directionalShadow,At.spotLights.value=Ae.state.spot,At.spotLightShadows.value=Ae.state.spotShadow,At.rectAreaLights.value=Ae.state.rectArea,At.ltc_1.value=Ae.state.rectAreaLTC1,At.ltc_2.value=Ae.state.rectAreaLTC2,At.pointLights.value=Ae.state.point,At.pointLightShadows.value=Ae.state.pointShadow,At.hemisphereLights.value=Ae.state.hemi,At.directionalShadowMap.value=Ae.state.directionalShadowMap,At.directionalShadowMatrix.value=Ae.state.directionalShadowMatrix,At.spotShadowMap.value=Ae.state.spotShadowMap,At.spotLightMatrix.value=Ae.state.spotLightMatrix,At.spotLightMap.value=Ae.state.spotLightMap,At.pointShadowMap.value=Ae.state.pointShadowMap,At.pointShadowMatrix.value=Ae.state.pointShadowMatrix);const Qt=xt.getUniforms(),tr=_k.seqWithValue(Qt.seq,At);return ie.currentProgram=xt,ie.uniformsList=tr,xt}function Xn($,ae){const _e=ne.get($);_e.outputEncoding=ae.outputEncoding,_e.instancing=ae.instancing,_e.skinning=ae.skinning,_e.morphTargets=ae.morphTargets,_e.morphNormals=ae.morphNormals,_e.morphColors=ae.morphColors,_e.morphTargetsCount=ae.morphTargetsCount,_e.numClippingPlanes=ae.numClippingPlanes,_e.numIntersection=ae.numClipIntersection,_e.vertexAlphas=ae.vertexAlphas,_e.vertexTangents=ae.vertexTangents,_e.toneMapping=ae.toneMapping}function Un($,ae,_e,ie,Ae){ae.isScene!==!0&&(ae=re),oe.resetTextureUnits();const Qe=ae.fog,st=ie.isMeshStandardMaterial?ae.environment:null,gt=b===null?g.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:D0,ht=(ie.isMeshStandardMaterial?be:Te).get(ie.envMap||st),Pt=ie.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,xt=!!ie.normalMap&&!!_e.attributes.tangent,At=!!_e.morphAttributes.position,Qt=!!_e.morphAttributes.normal,tr=!!_e.morphAttributes.color,kr=ie.toneMapped?g.toneMapping:Uf,hr=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,Ke=hr!==void 0?hr.length:0,_t=ne.get(ie),Ir=d.state.lights;if(L===!0&&(I===!0||$!==M)){const Vt=$===M&&ie.id===w;k.setState(ie,$,Vt)}let fn=!1;ie.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==Ir.state.version||_t.outputEncoding!==gt||Ae.isInstancedMesh&&_t.instancing===!1||!Ae.isInstancedMesh&&_t.instancing===!0||Ae.isSkinnedMesh&&_t.skinning===!1||!Ae.isSkinnedMesh&&_t.skinning===!0||_t.envMap!==ht||ie.fog===!0&&_t.fog!==Qe||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==k.numPlanes||_t.numIntersection!==k.numIntersection)||_t.vertexAlphas!==Pt||_t.vertexTangents!==xt||_t.morphTargets!==At||_t.morphNormals!==Qt||_t.morphColors!==tr||_t.toneMapping!==kr||we.isWebGL2===!0&&_t.morphTargetsCount!==Ke)&&(fn=!0):(fn=!0,_t.__version=ie.version);let pn=_t.currentProgram;fn===!0&&(pn=Tt(ie,ae,Ae));let Wn=!1,Gn=!1,Yt=!1;const lt=pn.getUniforms(),Jt=_t.uniforms;if(ve.useProgram(pn.program)&&(Wn=!0,Gn=!0,Yt=!0),ie.id!==w&&(w=ie.id,Gn=!0),Wn||M!==$){if(lt.setValue(K,"projectionMatrix",$.projectionMatrix),we.logarithmicDepthBuffer&&lt.setValue(K,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),M!==$&&(M=$,Gn=!0,Yt=!0),ie.isShaderMaterial||ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshStandardMaterial||ie.envMap){const Vt=lt.map.cameraPosition;Vt!==void 0&&Vt.setValue(K,te.setFromMatrixPosition($.matrixWorld))}(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial)&&lt.setValue(K,"isOrthographic",$.isOrthographicCamera===!0),(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial||ie.isShadowMaterial||Ae.isSkinnedMesh)&&lt.setValue(K,"viewMatrix",$.matrixWorldInverse)}if(Ae.isSkinnedMesh){lt.setOptional(K,Ae,"bindMatrix"),lt.setOptional(K,Ae,"bindMatrixInverse");const Vt=Ae.skeleton;Vt&&(we.floatVertexTextures?(Vt.boneTexture===null&&Vt.computeBoneTexture(),lt.setValue(K,"boneTexture",Vt.boneTexture,oe),lt.setValue(K,"boneTextureSize",Vt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const hn=_e.morphAttributes;if((hn.position!==void 0||hn.normal!==void 0||hn.color!==void 0&&we.isWebGL2===!0)&&Me.update(Ae,_e,ie,pn),(Gn||_t.receiveShadow!==Ae.receiveShadow)&&(_t.receiveShadow=Ae.receiveShadow,lt.setValue(K,"receiveShadow",Ae.receiveShadow)),ie.isMeshGouraudMaterial&&ie.envMap!==null&&(Jt.envMap.value=ht,Jt.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),Gn&&(lt.setValue(K,"toneMappingExposure",g.toneMappingExposure),_t.needsLights&&Ut(Jt,Yt),Qe&&ie.fog===!0&&Ve.refreshFogUniforms(Jt,Qe),Ve.refreshMaterialUniforms(Jt,ie,N,D,O),_k.upload(K,_t.uniformsList,Jt,oe)),ie.isShaderMaterial&&ie.uniformsNeedUpdate===!0&&(_k.upload(K,_t.uniformsList,Jt,oe),ie.uniformsNeedUpdate=!1),ie.isSpriteMaterial&&lt.setValue(K,"center",Ae.center),lt.setValue(K,"modelViewMatrix",Ae.modelViewMatrix),lt.setValue(K,"normalMatrix",Ae.normalMatrix),lt.setValue(K,"modelMatrix",Ae.matrixWorld),ie.isShaderMaterial||ie.isRawShaderMaterial){const Vt=ie.uniformsGroups;for(let An=0,Qr=Vt.length;An<Qr;An++)if(we.isWebGL2){const _n=Vt[An];Xe.update(_n,pn),Xe.bind(_n,pn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return pn}function Ut($,ae){$.ambientLightColor.needsUpdate=ae,$.lightProbe.needsUpdate=ae,$.directionalLights.needsUpdate=ae,$.directionalLightShadows.needsUpdate=ae,$.pointLights.needsUpdate=ae,$.pointLightShadows.needsUpdate=ae,$.spotLights.needsUpdate=ae,$.spotLightShadows.needsUpdate=ae,$.rectAreaLights.needsUpdate=ae,$.hemisphereLights.needsUpdate=ae}function dn($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function($,ae,_e){ne.get($.texture).__webglTexture=ae,ne.get($.depthTexture).__webglTexture=_e;const ie=ne.get($);ie.__hasExternalTextures=!0,ie.__hasExternalTextures&&(ie.__autoAllocateDepthBuffer=_e===void 0,ie.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ie.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($,ae){const _e=ne.get($);_e.__webglFramebuffer=ae,_e.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function($,ae=0,_e=0){b=$,x=ae,_=_e;let ie=!0,Ae=null,Qe=!1,st=!1;if($){const ht=ne.get($);ht.__useDefaultFramebuffer!==void 0?(ve.bindFramebuffer(36160,null),ie=!1):ht.__webglFramebuffer===void 0?oe.setupRenderTarget($):ht.__hasExternalTextures&&oe.rebindTextures($,ne.get($.texture).__webglTexture,ne.get($.depthTexture).__webglTexture);const Pt=$.texture;(Pt.isData3DTexture||Pt.isDataArrayTexture||Pt.isCompressedArrayTexture)&&(st=!0);const xt=ne.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Ae=xt[ae],Qe=!0):we.isWebGL2&&$.samples>0&&oe.useMultisampledRTT($)===!1?Ae=ne.get($).__webglMultisampledFramebuffer:Ae=xt,C.copy($.viewport),R.copy($.scissor),E=$.scissorTest}else C.copy(U).multiplyScalar(N).floor(),R.copy(W).multiplyScalar(N).floor(),E=X;if(ve.bindFramebuffer(36160,Ae)&&we.drawBuffers&&ie&&ve.drawBuffers($,Ae),ve.viewport(C),ve.scissor(R),ve.setScissorTest(E),Qe){const ht=ne.get($.texture);K.framebufferTexture2D(36160,36064,34069+ae,ht.__webglTexture,_e)}else if(st){const ht=ne.get($.texture),Pt=ae||0;K.framebufferTextureLayer(36160,36064,ht.__webglTexture,_e||0,Pt)}w=-1},this.readRenderTargetPixels=function($,ae,_e,ie,Ae,Qe,st){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=ne.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&st!==void 0&&(gt=gt[st]),gt){ve.bindFramebuffer(36160,gt);try{const ht=$.texture,Pt=ht.format,xt=ht.type;if(Pt!==cl&&Pe.convert(Pt)!==K.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const At=xt===TS&&(he.has("EXT_color_buffer_half_float")||we.isWebGL2&&he.has("EXT_color_buffer_float"));if(xt!==em&&Pe.convert(xt)!==K.getParameter(35738)&&!(xt===wp&&(we.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!At){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=$.width-ie&&_e>=0&&_e<=$.height-Ae&&K.readPixels(ae,_e,ie,Ae,Pe.convert(Pt),Pe.convert(xt),Qe)}finally{const ht=b!==null?ne.get(b).__webglFramebuffer:null;ve.bindFramebuffer(36160,ht)}}},this.copyFramebufferToTexture=function($,ae,_e=0){const ie=Math.pow(2,-_e),Ae=Math.floor(ae.image.width*ie),Qe=Math.floor(ae.image.height*ie);oe.setTexture2D(ae,0),K.copyTexSubImage2D(3553,_e,0,0,$.x,$.y,Ae,Qe),ve.unbindTexture()},this.copyTextureToTexture=function($,ae,_e,ie=0){const Ae=ae.image.width,Qe=ae.image.height,st=Pe.convert(_e.format),gt=Pe.convert(_e.type);oe.setTexture2D(_e,0),K.pixelStorei(37440,_e.flipY),K.pixelStorei(37441,_e.premultiplyAlpha),K.pixelStorei(3317,_e.unpackAlignment),ae.isDataTexture?K.texSubImage2D(3553,ie,$.x,$.y,Ae,Qe,st,gt,ae.image.data):ae.isCompressedTexture?K.compressedTexSubImage2D(3553,ie,$.x,$.y,ae.mipmaps[0].width,ae.mipmaps[0].height,st,ae.mipmaps[0].data):K.texSubImage2D(3553,ie,$.x,$.y,st,gt,ae.image),ie===0&&_e.generateMipmaps&&K.generateMipmap(3553),ve.unbindTexture()},this.copyTextureToTexture3D=function($,ae,_e,ie,Ae=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Qe=$.max.x-$.min.x+1,st=$.max.y-$.min.y+1,gt=$.max.z-$.min.z+1,ht=Pe.convert(ie.format),Pt=Pe.convert(ie.type);let xt;if(ie.isData3DTexture)oe.setTexture3D(ie,0),xt=32879;else if(ie.isDataArrayTexture)oe.setTexture2DArray(ie,0),xt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}K.pixelStorei(37440,ie.flipY),K.pixelStorei(37441,ie.premultiplyAlpha),K.pixelStorei(3317,ie.unpackAlignment);const At=K.getParameter(3314),Qt=K.getParameter(32878),tr=K.getParameter(3316),kr=K.getParameter(3315),hr=K.getParameter(32877),Ke=_e.isCompressedTexture?_e.mipmaps[0]:_e.image;K.pixelStorei(3314,Ke.width),K.pixelStorei(32878,Ke.height),K.pixelStorei(3316,$.min.x),K.pixelStorei(3315,$.min.y),K.pixelStorei(32877,$.min.z),_e.isDataTexture||_e.isData3DTexture?K.texSubImage3D(xt,Ae,ae.x,ae.y,ae.z,Qe,st,gt,ht,Pt,Ke.data):_e.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),K.compressedTexSubImage3D(xt,Ae,ae.x,ae.y,ae.z,Qe,st,gt,ht,Ke.data)):K.texSubImage3D(xt,Ae,ae.x,ae.y,ae.z,Qe,st,gt,ht,Pt,Ke),K.pixelStorei(3314,At),K.pixelStorei(32878,Qt),K.pixelStorei(3316,tr),K.pixelStorei(3315,kr),K.pixelStorei(32877,hr),Ae===0&&ie.generateMipmaps&&K.generateMipmap(xt),ve.unbindTexture()},this.initTexture=function($){$.isCubeTexture?oe.setTextureCube($,0):$.isData3DTexture?oe.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?oe.setTexture2DArray($,0):oe.setTexture2D($,0),ve.unbindTexture()},this.resetState=function(){x=0,_=0,b=null,ve.reset(),xe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class k_e extends K${}k_e.prototype.isWebGL1Renderer=!0;class PF{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new dt(e),this.density=t}clone(){return new PF(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class BF{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new dt(e),this.near=t,this.far=r}clone(){return new BF(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class dL extends Pn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class O3{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=wT,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=yc()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=yc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=yc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ca=new me;class k0{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ca.fromBufferAttribute(this,t),Ca.applyMatrix4(e),this.setXYZ(t,Ca.x,Ca.y,Ca.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ca.fromBufferAttribute(this,t),Ca.applyNormalMatrix(e),this.setXYZ(t,Ca.x,Ca.y,Ca.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ca.fromBufferAttribute(this,t),Ca.transformDirection(e),this.setXYZ(t,Ca.x,Ca.y,Ca.z);return this}setX(e,t){return this.normalized&&(t=_r(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=_r(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=_r(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=_r(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Sp(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Sp(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Sp(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Sp(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=_r(t,this.array),r=_r(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=_r(t,this.array),r=_r(r,this.array),i=_r(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=_r(t,this.array),r=_r(r,this.array),i=_r(i,this.array),s=_r(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Qn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new k0(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class q$ extends Rs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new dt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ob;const h2=new me,ab=new me,lb=new me,cb=new nt,p2=new nt,I_e=new Bt,IB=new me,m2=new me,LB=new me,Dre=new nt,D5=new nt,kre=new nt;class L_e extends Pn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",ob===void 0){ob=new un;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new O3(t,5);ob.setIndex([0,1,2,0,2,3]),ob.setAttribute("position",new k0(r,3,0,!1)),ob.setAttribute("uv",new k0(r,2,3,!1))}this.geometry=ob,this.material=e!==void 0?e:new q$,this.center=new nt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ab.setFromMatrixScale(this.matrixWorld),I_e.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),lb.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ab.multiplyScalar(-lb.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;OB(IB.set(-.5,-.5,0),lb,o,ab,i,s),OB(m2.set(.5,-.5,0),lb,o,ab,i,s),OB(LB.set(.5,.5,0),lb,o,ab,i,s),Dre.set(0,0),D5.set(1,0),kre.set(1,1);let a=e.ray.intersectTriangle(IB,m2,LB,!1,h2);if(a===null&&(OB(m2.set(-.5,.5,0),lb,o,ab,i,s),D5.set(0,1),a=e.ray.intersectTriangle(IB,LB,m2,!1,h2),a===null))return;const l=e.ray.origin.distanceTo(h2);l<e.near||l>e.far||t.push({distance:l,point:h2.clone(),uv:Au.getUV(h2,IB,m2,LB,Dre,D5,kre,new nt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function OB(n,e,t,r,i,s){cb.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(p2.x=s*cb.x-i*cb.y,p2.y=i*cb.x+s*cb.y):p2.copy(cb),n.copy(e),n.x+=p2.x,n.y+=p2.y,n.applyMatrix4(I_e)}const FB=new me,Ire=new me;class O_e extends Pn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){FB.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(FB);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){FB.setFromMatrixPosition(e.matrixWorld),Ire.setFromMatrixPosition(this.matrixWorld);const r=FB.distanceTo(Ire)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const Lre=new me,Ore=new Sn,Fre=new Sn,Ynt=new me,Nre=new Bt;class DF extends Ui{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Bt,this.bindMatrixInverse=new Bt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Sn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;Ore.fromBufferAttribute(i.attributes.skinIndex,e),Fre.fromBufferAttribute(i.attributes.skinWeight,e),Lre.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Fre.getComponent(s);if(o!==0){const a=Ore.getComponent(s);Nre.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Ynt.copy(Lre).applyMatrix4(Nre),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class BS extends Pn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Uw extends qr{constructor(e=null,t=1,r=1,i,s,o,a,l,c=ss,u=ss,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Ure=new Bt,Knt=new Bt;class hA{constructor(e=[],t=[]){this.uuid=yc(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Bt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Bt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Knt;Ure.multiplyMatrices(a,t[s]),Ure.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new hA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=__e(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Uw(t,e,e,cl,wp);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new BS),this.bones.push(o),this.boneInverses.push(new Bt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class I0 extends Qn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const zre=new Bt,Gre=new Bt,NB=[],qnt=new Bt,g2=new Ui;class Q$ extends Ui{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new I0(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,qnt)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(g2.geometry=this.geometry,g2.material=this.material,g2.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,zre),Gre.multiplyMatrices(r,zre),g2.matrixWorld=Gre,g2.raycast(e,NB);for(let o=0,a=NB.length;o<a;o++){const l=NB[o];l.instanceId=s,l.object=this,t.push(l)}NB.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new I0(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class jo extends Rs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new dt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Hre=new me,Vre=new me,jre=new Bt,k5=new k3,UB=new ym;class ah extends Pn{constructor(e=new un,t=new jo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)Hre.fromBufferAttribute(t,i-1),Vre.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=Hre.distanceTo(Vre);e.setAttribute("lineDistance",new Lt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),UB.copy(r.boundingSphere),UB.applyMatrix4(i),UB.radius+=s,e.ray.intersectsSphere(UB)===!1)return;jre.copy(i).invert(),k5.copy(e.ray).applyMatrix4(jre);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new me,u=new me,f=new me,d=new me,p=this.isLineSegments?2:1,m=r.index,y=r.attributes.position;if(m!==null){const x=Math.max(0,o.start),_=Math.min(m.count,o.start+o.count);for(let b=x,w=_-1;b<w;b+=p){const M=m.getX(b),C=m.getX(b+1);if(c.fromBufferAttribute(y,M),u.fromBufferAttribute(y,C),k5.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(d);E<e.near||E>e.far||t.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let b=x,w=_-1;b<w;b+=p){if(c.fromBufferAttribute(y,b),u.fromBufferAttribute(y,b+1),k5.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(d);C<e.near||C>e.far||t.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const Wre=new me,$re=new me;class nd extends ah{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)Wre.fromBufferAttribute(t,i),$re.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Wre.distanceTo($re);e.setAttribute("lineDistance",new Lt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Z$ extends ah{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class kF extends Rs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new dt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Xre=new Bt,hH=new k3,zB=new ym,GB=new me;class eX extends Pn{constructor(e=new un,t=new kF){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),zB.copy(r.boundingSphere),zB.applyMatrix4(i),zB.radius+=s,e.ray.intersectsSphere(zB)===!1)return;Xre.copy(i).invert(),hH.copy(e.ray).applyMatrix4(Xre);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let m=d,g=p;m<g;m++){const y=c.getX(m);GB.fromBufferAttribute(f,y),Jre(GB,y,l,i,e,t,this)}}else{const d=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let m=d,g=p;m<g;m++)GB.fromBufferAttribute(f,m),Jre(GB,m,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Jre(n,e,t,r,i,s,o){const a=hH.distanceSqToPoint(n);if(a<t){const l=new me;hH.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class F_e extends qr{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Wr,this.magFilter=s!==void 0?s:Wr,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Qnt extends qr{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=ss,this.minFilter=ss,this.generateMipmaps=!1,this.needsUpdate=!0}}class tX extends qr{constructor(e,t,r,i,s,o,a,l,c,u,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Znt extends tX{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Gs}}class ert extends qr{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ju{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],d=r[i+1]-u,p=(o-u)/d;return(i+p)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new nt:new me);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new me,i=[],s=[],o=[],a=new me,l=new Bt;for(let p=0;p<=e;p++){const m=p/e;i[p]=this.getTangentAt(m,new me)}s[0]=new me,o[0]=new me;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(i[p-1],i[p]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(os(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,m))}o[p].crossVectors(i[p],s[p])}if(t===!0){let p=Math.acos(os(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let m=1;m<=e;m++)s[m].applyMatrix4(l.makeRotationAxis(i[m],p*m)),o[m].crossVectors(i[m],s[m])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class IF extends Ju{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new nt,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*f+this.aX,c=d*f+p*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class N_e extends IF{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function nX(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+f)+(l-a)/f;d*=u,p*=u,i(o,a,d,p)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const HB=new me,I5=new nX,L5=new nX,O5=new nX;class U_e extends Ju{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new me){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(HB.subVectors(i[0],i[1]).add(i[0]),c=HB);const f=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(HB.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=HB),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(f),p),g=Math.pow(f.distanceToSquared(d),p),y=Math.pow(d.distanceToSquared(u),p);g<1e-4&&(g=1),m<1e-4&&(m=g),y<1e-4&&(y=g),I5.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,m,g,y),L5.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,m,g,y),O5.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,m,g,y)}else this.curveType==="catmullrom"&&(I5.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),L5.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),O5.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(I5.calc(l),L5.calc(l),O5.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new me().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Yre(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function trt(n,e){const t=1-n;return t*t*e}function nrt(n,e){return 2*(1-n)*n*e}function rrt(n,e){return n*n*e}function GE(n,e,t,r){return trt(n,e)+nrt(n,t)+rrt(n,r)}function irt(n,e){const t=1-n;return t*t*t*e}function srt(n,e){const t=1-n;return 3*t*t*n*e}function ort(n,e){return 3*(1-n)*n*n*e}function art(n,e){return n*n*n*e}function HE(n,e,t,r,i){return irt(n,e)+srt(n,t)+ort(n,r)+art(n,i)}class rX extends Ju{constructor(e=new nt,t=new nt,r=new nt,i=new nt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new nt){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(HE(e,i.x,s.x,o.x,a.x),HE(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class z_e extends Ju{constructor(e=new me,t=new me,r=new me,i=new me){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new me){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(HE(e,i.x,s.x,o.x,a.x),HE(e,i.y,s.y,o.y,a.y),HE(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LF extends Ju{constructor(e=new nt,t=new nt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new nt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new nt;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class G_e extends Ju{constructor(e=new me,t=new me){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new me){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iX extends Ju{constructor(e=new nt,t=new nt,r=new nt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new nt){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(GE(e,i.x,s.x,o.x),GE(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sX extends Ju{constructor(e=new me,t=new me,r=new me){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new me){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(GE(e,i.x,s.x,o.x),GE(e,i.y,s.y,o.y),GE(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oX extends Ju{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new nt){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(Yre(a,l.x,c.x,u.x,f.x),Yre(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new nt().fromArray(i))}return this}}var aX=Object.freeze({__proto__:null,ArcCurve:N_e,CatmullRomCurve3:U_e,CubicBezierCurve:rX,CubicBezierCurve3:z_e,EllipseCurve:IF,LineCurve:LF,LineCurve3:G_e,QuadraticBezierCurve:iX,QuadraticBezierCurve3:sX,SplineCurve:oX});class H_e extends Ju{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new LF(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new aX[i.type]().fromJSON(i))}return this}}class MT extends H_e{constructor(e){super(),this.type="Path",this.currentPoint=new nt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new LF(this.currentPoint.clone(),new nt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new iX(this.currentPoint.clone(),new nt(e,t),new nt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new rX(this.currentPoint.clone(),new nt(e,t),new nt(r,i),new nt(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new oX(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new IF(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class pA extends un{constructor(e=[new nt(0,-.5),new nt(.5,0),new nt(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=os(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new me,d=new nt,p=new me,m=new me,g=new me;let y=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,p.x=x*1,p.y=-y,p.z=x*0,g.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,p.x=x*1,p.y=-y,p.z=x*0,m.copy(p),p.x+=g.x,p.y+=g.y,p.z+=g.z,p.normalize(),l.push(p.x,p.y,p.z),g.copy(m)}for(let _=0;_<=t;_++){const b=r+_*u*i,w=Math.sin(b),M=Math.cos(b);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*w,f.y=e[C].y,f.z=e[C].x*M,o.push(f.x,f.y,f.z),d.x=_/t,d.y=C/(e.length-1),a.push(d.x,d.y);const R=l[3*C+0]*w,E=l[3*C+1],B=l[3*C+0]*M;c.push(R,E,B)}}for(let _=0;_<t;_++)for(let b=0;b<e.length-1;b++){const w=b+_*e.length,M=w,C=w+e.length,R=w+e.length+1,E=w+1;s.push(M,C,E),s.push(R,E,C)}this.setIndex(s),this.setAttribute("position",new Lt(o,3)),this.setAttribute("uv",new Lt(a,2)),this.setAttribute("normal",new Lt(c,3))}static fromJSON(e){return new pA(e.points,e.segments,e.phiStart,e.phiLength)}}class F3 extends pA{constructor(e=1,t=1,r=4,i=8){const s=new MT;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new F3(e.radius,e.length,e.capSegments,e.radialSegments)}}class N3 extends un{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new me,u=new nt;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=t;f++,d+=3){const p=r+f/t*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[d]/e+1)/2,u.y=(o[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Lt(o,3)),this.setAttribute("normal",new Lt(a,3)),this.setAttribute("uv",new Lt(l,2))}static fromJSON(e){return new N3(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Cx extends un{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],d=[],p=[];let m=0;const g=[],y=r/2;let x=0;_(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Lt(f,3)),this.setAttribute("normal",new Lt(d,3)),this.setAttribute("uv",new Lt(p,2));function _(){const w=new me,M=new me;let C=0;const R=(t-e)/r;for(let E=0;E<=s;E++){const B=[],D=E/s,N=D*(t-e)+e;for(let z=0;z<=i;z++){const H=z/i,U=H*l+a,W=Math.sin(U),X=Math.cos(U);M.x=N*W,M.y=-D*r+y,M.z=N*X,f.push(M.x,M.y,M.z),w.set(W,R,X).normalize(),d.push(w.x,w.y,w.z),p.push(H,1-D),B.push(m++)}g.push(B)}for(let E=0;E<i;E++)for(let B=0;B<s;B++){const D=g[B][E],N=g[B+1][E],z=g[B+1][E+1],H=g[B][E+1];u.push(D,N,H),u.push(N,z,H),C+=6}c.addGroup(x,C,0),x+=C}function b(w){const M=m,C=new nt,R=new me;let E=0;const B=w===!0?e:t,D=w===!0?1:-1;for(let z=1;z<=i;z++)f.push(0,y*D,0),d.push(0,D,0),p.push(.5,.5),m++;const N=m;for(let z=0;z<=i;z++){const U=z/i*l+a,W=Math.cos(U),X=Math.sin(U);R.x=B*X,R.y=y*D,R.z=B*W,f.push(R.x,R.y,R.z),d.push(0,D,0),C.x=W*.5+.5,C.y=X*.5*D+.5,p.push(C.x,C.y),m++}for(let z=0;z<i;z++){const H=M+z,U=N+z;w===!0?u.push(U,U+1,H):u.push(U+1,U,H),E+=3}c.addGroup(x,E,w===!0?1:2),x+=E}}static fromJSON(e){return new Cx(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class U3 extends Cx{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new U3(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class _m extends un{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new Lt(s,3)),this.setAttribute("normal",new Lt(s.slice(),3)),this.setAttribute("uv",new Lt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const b=new me,w=new me,M=new me;for(let C=0;C<t.length;C+=3)p(t[C+0],b),p(t[C+1],w),p(t[C+2],M),l(b,w,M,_)}function l(_,b,w,M){const C=M+1,R=[];for(let E=0;E<=C;E++){R[E]=[];const B=_.clone().lerp(w,E/C),D=b.clone().lerp(w,E/C),N=C-E;for(let z=0;z<=N;z++)z===0&&E===C?R[E][z]=B:R[E][z]=B.clone().lerp(D,z/N)}for(let E=0;E<C;E++)for(let B=0;B<2*(C-E)-1;B++){const D=Math.floor(B/2);B%2===0?(d(R[E][D+1]),d(R[E+1][D]),d(R[E][D])):(d(R[E][D+1]),d(R[E+1][D+1]),d(R[E+1][D]))}}function c(_){const b=new me;for(let w=0;w<s.length;w+=3)b.x=s[w+0],b.y=s[w+1],b.z=s[w+2],b.normalize().multiplyScalar(_),s[w+0]=b.x,s[w+1]=b.y,s[w+2]=b.z}function u(){const _=new me;for(let b=0;b<s.length;b+=3){_.x=s[b+0],_.y=s[b+1],_.z=s[b+2];const w=y(_)/2/Math.PI+.5,M=x(_)/Math.PI+.5;o.push(w,1-M)}m(),f()}function f(){for(let _=0;_<o.length;_+=6){const b=o[_+0],w=o[_+2],M=o[_+4],C=Math.max(b,w,M),R=Math.min(b,w,M);C>.9&&R<.1&&(b<.2&&(o[_+0]+=1),w<.2&&(o[_+2]+=1),M<.2&&(o[_+4]+=1))}}function d(_){s.push(_.x,_.y,_.z)}function p(_,b){const w=_*3;b.x=e[w+0],b.y=e[w+1],b.z=e[w+2]}function m(){const _=new me,b=new me,w=new me,M=new me,C=new nt,R=new nt,E=new nt;for(let B=0,D=0;B<s.length;B+=9,D+=6){_.set(s[B+0],s[B+1],s[B+2]),b.set(s[B+3],s[B+4],s[B+5]),w.set(s[B+6],s[B+7],s[B+8]),C.set(o[D+0],o[D+1]),R.set(o[D+2],o[D+3]),E.set(o[D+4],o[D+5]),M.copy(_).add(b).add(w).divideScalar(3);const N=y(M);g(C,D+0,_,N),g(R,D+2,b,N),g(E,D+4,w,N)}}function g(_,b,w,M){M<0&&_.x===1&&(o[b]=_.x-1),w.x===0&&w.z===0&&(o[b]=M/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new _m(e.vertices,e.indices,e.radius,e.details)}}class z3 extends _m{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new z3(e.radius,e.detail)}}const VB=new me,jB=new me,F5=new me,WB=new Au;class V_e extends un{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(S1*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},p=[];for(let m=0;m<l;m+=3){o?(c[0]=o.getX(m),c[1]=o.getX(m+1),c[2]=o.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:g,b:y,c:x}=WB;if(g.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),WB.getNormal(F5),f[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const b=(_+1)%3,w=f[_],M=f[b],C=WB[u[_]],R=WB[u[b]],E=`${w}_${M}`,B=`${M}_${w}`;B in d&&d[B]?(F5.dot(d[B].normal)<=s&&(p.push(C.x,C.y,C.z),p.push(R.x,R.y,R.z)),d[B]=null):E in d||(d[E]={index0:c[_],index1:c[b],normal:F5.clone()})}}for(const m in d)if(d[m]){const{index0:g,index1:y}=d[m];VB.fromBufferAttribute(a,g),jB.fromBufferAttribute(a,y),p.push(VB.x,VB.y,VB.z),p.push(jB.x,jB.y,jB.z)}this.setAttribute("position",new Lt(p,3))}}}class E1 extends MT{constructor(e){super(e),this.uuid=yc(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new MT().fromJSON(i))}return this}}const lrt={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=j_e(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,d,p;if(r&&(s=hrt(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let m=t;m<i;m+=t)f=n[m],d=n[m+1],f<a&&(a=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);p=Math.max(c-a,u-l),p=p!==0?32767/p:0}return ET(s,o,t,a,l,p,0),o}};function j_e(n,e,t,r,i){let s,o;if(i===Art(n,e,t,r)>0)for(s=e;s<t;s+=r)o=Kre(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=Kre(s,n[s],n[s+1],o);return o&&OF(o,o.next)&&(TT(o),o=o.next),o}function rx(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(OF(t,t.next)||bi(t.prev,t,t.next)===0)){if(TT(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function ET(n,e,t,r,i,s,o){if(!n)return;!o&&s&&yrt(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?urt(n,r,i,s):crt(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),TT(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=frt(rx(n),e,t),ET(n,e,t,r,i,s,2)):o===2&&drt(n,e,t,r,i,s):ET(rx(n),e,t,r,i,s,1);break}}}function crt(n){const e=n.prev,t=n,r=n.next;if(bi(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,d=i>s?i>o?i:o:s>o?s:o,p=a>l?a>c?a:c:l>c?l:c;let m=r.next;for(;m!==e;){if(m.x>=u&&m.x<=d&&m.y>=f&&m.y<=p&&cw(i,a,s,l,o,c,m.x,m.y)&&bi(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function urt(n,e,t,r){const i=n.prev,s=n,o=n.next;if(bi(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,d=o.y,p=a<l?a<c?a:c:l<c?l:c,m=u<f?u<d?u:d:f<d?f:d,g=a>l?a>c?a:c:l>c?l:c,y=u>f?u>d?u:d:f>d?f:d,x=pH(p,m,e,t,r),_=pH(g,y,e,t,r);let b=n.prevZ,w=n.nextZ;for(;b&&b.z>=x&&w&&w.z<=_;){if(b.x>=p&&b.x<=g&&b.y>=m&&b.y<=y&&b!==i&&b!==o&&cw(a,u,l,f,c,d,b.x,b.y)&&bi(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=p&&w.x<=g&&w.y>=m&&w.y<=y&&w!==i&&w!==o&&cw(a,u,l,f,c,d,w.x,w.y)&&bi(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=x;){if(b.x>=p&&b.x<=g&&b.y>=m&&b.y<=y&&b!==i&&b!==o&&cw(a,u,l,f,c,d,b.x,b.y)&&bi(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=_;){if(w.x>=p&&w.x<=g&&w.y>=m&&w.y<=y&&w!==i&&w!==o&&cw(a,u,l,f,c,d,w.x,w.y)&&bi(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function frt(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!OF(i,s)&&W_e(i,r,r.next,s)&&CT(i,s)&&CT(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),TT(r),TT(r.next),r=n=s),r=r.next}while(r!==n);return rx(r)}function drt(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&brt(o,a)){let l=$_e(o,a);o=rx(o,o.next),l=rx(l,l.next),ET(o,e,t,r,i,s,0),ET(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function hrt(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=j_e(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(_rt(c));for(i.sort(prt),s=0;s<i.length;s++)t=mrt(i[s],t);return t}function prt(n,e){return n.x-e.x}function mrt(n,e){const t=grt(n,e);if(!t)return e;const r=$_e(t,n);return rx(r,r.next),rx(t,t.next)}function grt(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const d=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>r&&(r=d,i=t.x<t.next.x?t:t.next,d===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&cw(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),CT(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&vrt(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function vrt(n,e){return bi(n.prev,n,e.prev)<0&&bi(e.next,n,n.next)<0}function yrt(n,e,t,r){let i=n;do i.z===0&&(i.z=pH(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,xrt(i)}function xrt(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function pH(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function _rt(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function cw(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function brt(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!wrt(n,e)&&(CT(n,e)&&CT(e,n)&&Srt(n,e)&&(bi(n.prev,n,e.prev)||bi(n,e.prev,e))||OF(n,e)&&bi(n.prev,n,n.next)>0&&bi(e.prev,e,e.next)>0)}function bi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function OF(n,e){return n.x===e.x&&n.y===e.y}function W_e(n,e,t,r){const i=XB(bi(n,e,t)),s=XB(bi(n,e,r)),o=XB(bi(t,r,n)),a=XB(bi(t,r,e));return!!(i!==s&&o!==a||i===0&&$B(n,t,e)||s===0&&$B(n,r,e)||o===0&&$B(t,n,r)||a===0&&$B(t,e,r))}function $B(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function XB(n){return n>0?1:n<0?-1:0}function wrt(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&W_e(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function CT(n,e){return bi(n.prev,n,n.next)<0?bi(n,e,n.next)>=0&&bi(n,n.prev,e)>=0:bi(n,e,n.prev)<0||bi(n,n.next,e)<0}function Srt(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function $_e(n,e){const t=new mH(n.i,n.x,n.y),r=new mH(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function Kre(n,e,t,r){const i=new mH(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function TT(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function mH(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Art(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Kd{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Kd.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];qre(e),Qre(r,e);let o=e.length;t.forEach(qre);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,Qre(r,t[l]);const a=lrt.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function qre(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Qre(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class G3 extends un{constructor(e=new E1([new nt(.5,.5),new nt(-.5,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Lt(i,3)),this.setAttribute("uv",new Lt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,m=t.bevelSize!==void 0?t.bevelSize:p-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:Mrt;let b,w=!1,M,C,R,E;x&&(b=x.getSpacedPoints(u),w=!0,d=!1,M=x.computeFrenetFrames(u,!1),C=new me,R=new me,E=new me),d||(y=0,p=0,m=0,g=0);const B=a.extractPoints(c);let D=B.shape;const N=B.holes;if(!Kd.isClockWise(D)){D=D.reverse();for(let ne=0,oe=N.length;ne<oe;ne++){const Te=N[ne];Kd.isClockWise(Te)&&(N[ne]=Te.reverse())}}const H=Kd.triangulateShape(D,N),U=D;for(let ne=0,oe=N.length;ne<oe;ne++){const Te=N[ne];D=D.concat(Te)}function W(ne,oe,Te){return oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),oe.clone().multiplyScalar(Te).add(ne)}const X=D.length,q=H.length;function L(ne,oe,Te){let be,Ce,We;const Se=ne.x-oe.x,ke=ne.y-oe.y,Ve=Te.x-ne.x,Ee=Te.y-ne.y,V=Se*Se+ke*ke,k=Se*Ee-ke*Ve;if(Math.abs(k)>Number.EPSILON){const Q=Math.sqrt(V),ce=Math.sqrt(Ve*Ve+Ee*Ee),Me=oe.x-ke/Q,Re=oe.y+Se/Q,Ue=Te.x-Ee/ce,Pe=Te.y+Ve/ce,xe=((Ue-Me)*Ee-(Pe-Re)*Ve)/(Se*Ee-ke*Ve);be=Me+Se*xe-ne.x,Ce=Re+ke*xe-ne.y;const Xe=be*be+Ce*Ce;if(Xe<=2)return new nt(be,Ce);We=Math.sqrt(Xe/2)}else{let Q=!1;Se>Number.EPSILON?Ve>Number.EPSILON&&(Q=!0):Se<-Number.EPSILON?Ve<-Number.EPSILON&&(Q=!0):Math.sign(ke)===Math.sign(Ee)&&(Q=!0),Q?(be=-ke,Ce=Se,We=Math.sqrt(V)):(be=Se,Ce=ke,We=Math.sqrt(V/2))}return new nt(be/We,Ce/We)}const I=[];for(let ne=0,oe=U.length,Te=oe-1,be=ne+1;ne<oe;ne++,Te++,be++)Te===oe&&(Te=0),be===oe&&(be=0),I[ne]=L(U[ne],U[Te],U[be]);const O=[];let F,j=I.concat();for(let ne=0,oe=N.length;ne<oe;ne++){const Te=N[ne];F=[];for(let be=0,Ce=Te.length,We=Ce-1,Se=be+1;be<Ce;be++,We++,Se++)We===Ce&&(We=0),Se===Ce&&(Se=0),F[be]=L(Te[be],Te[We],Te[Se]);O.push(F),j=j.concat(F)}for(let ne=0;ne<y;ne++){const oe=ne/y,Te=p*Math.cos(oe*Math.PI/2),be=m*Math.sin(oe*Math.PI/2)+g;for(let Ce=0,We=U.length;Ce<We;Ce++){const Se=W(U[Ce],I[Ce],be);le(Se.x,Se.y,-Te)}for(let Ce=0,We=N.length;Ce<We;Ce++){const Se=N[Ce];F=O[Ce];for(let ke=0,Ve=Se.length;ke<Ve;ke++){const Ee=W(Se[ke],F[ke],be);le(Ee.x,Ee.y,-Te)}}}const te=m+g;for(let ne=0;ne<X;ne++){const oe=d?W(D[ne],j[ne],te):D[ne];w?(R.copy(M.normals[0]).multiplyScalar(oe.x),C.copy(M.binormals[0]).multiplyScalar(oe.y),E.copy(b[0]).add(R).add(C),le(E.x,E.y,E.z)):le(oe.x,oe.y,0)}for(let ne=1;ne<=u;ne++)for(let oe=0;oe<X;oe++){const Te=d?W(D[oe],j[oe],te):D[oe];w?(R.copy(M.normals[ne]).multiplyScalar(Te.x),C.copy(M.binormals[ne]).multiplyScalar(Te.y),E.copy(b[ne]).add(R).add(C),le(E.x,E.y,E.z)):le(Te.x,Te.y,f/u*ne)}for(let ne=y-1;ne>=0;ne--){const oe=ne/y,Te=p*Math.cos(oe*Math.PI/2),be=m*Math.sin(oe*Math.PI/2)+g;for(let Ce=0,We=U.length;Ce<We;Ce++){const Se=W(U[Ce],I[Ce],be);le(Se.x,Se.y,f+Te)}for(let Ce=0,We=N.length;Ce<We;Ce++){const Se=N[Ce];F=O[Ce];for(let ke=0,Ve=Se.length;ke<Ve;ke++){const Ee=W(Se[ke],F[ke],be);w?le(Ee.x,Ee.y+b[u-1].y,b[u-1].x+Te):le(Ee.x,Ee.y,f+Te)}}}re(),se();function re(){const ne=i.length/3;if(d){let oe=0,Te=X*oe;for(let be=0;be<q;be++){const Ce=H[be];he(Ce[2]+Te,Ce[1]+Te,Ce[0]+Te)}oe=u+y*2,Te=X*oe;for(let be=0;be<q;be++){const Ce=H[be];he(Ce[0]+Te,Ce[1]+Te,Ce[2]+Te)}}else{for(let oe=0;oe<q;oe++){const Te=H[oe];he(Te[2],Te[1],Te[0])}for(let oe=0;oe<q;oe++){const Te=H[oe];he(Te[0]+X*u,Te[1]+X*u,Te[2]+X*u)}}r.addGroup(ne,i.length/3-ne,0)}function se(){const ne=i.length/3;let oe=0;K(U,oe),oe+=U.length;for(let Te=0,be=N.length;Te<be;Te++){const Ce=N[Te];K(Ce,oe),oe+=Ce.length}r.addGroup(ne,i.length/3-ne,1)}function K(ne,oe){let Te=ne.length;for(;--Te>=0;){const be=Te;let Ce=Te-1;Ce<0&&(Ce=ne.length-1);for(let We=0,Se=u+y*2;We<Se;We++){const ke=X*We,Ve=X*(We+1),Ee=oe+be+ke,V=oe+Ce+ke,k=oe+Ce+Ve,Q=oe+be+Ve;we(Ee,V,k,Q)}}}function le(ne,oe,Te){l.push(ne),l.push(oe),l.push(Te)}function he(ne,oe,Te){ve(ne),ve(oe),ve(Te);const be=i.length/3,Ce=_.generateTopUV(r,i,be-3,be-2,be-1);fe(Ce[0]),fe(Ce[1]),fe(Ce[2])}function we(ne,oe,Te,be){ve(ne),ve(oe),ve(be),ve(oe),ve(Te),ve(be);const Ce=i.length/3,We=_.generateSideWallUV(r,i,Ce-6,Ce-3,Ce-2,Ce-1);fe(We[0]),fe(We[1]),fe(We[3]),fe(We[1]),fe(We[2]),fe(We[3])}function ve(ne){i.push(l[ne*3+0]),i.push(l[ne*3+1]),i.push(l[ne*3+2])}function fe(ne){s.push(ne.x),s.push(ne.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Ert(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new aX[i.type]().fromJSON(i)),new G3(r,e.options)}}const Mrt={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new nt(s,o),new nt(a,l),new nt(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],p=e[i*3+1],m=e[i*3+2],g=e[s*3],y=e[s*3+1],x=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new nt(o,1-l),new nt(c,1-f),new nt(d,1-m),new nt(g,1-x)]:[new nt(a,1-l),new nt(u,1-f),new nt(p,1-m),new nt(y,1-x)]}};function Ert(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class H3 extends _m{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new H3(e.radius,e.detail)}}class mA extends _m{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mA(e.radius,e.detail)}}class V3 extends un{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const d=(t-e)/i,p=new me,m=new nt;for(let g=0;g<=i;g++){for(let y=0;y<=r;y++){const x=s+y/r*o;p.x=f*Math.cos(x),p.y=f*Math.sin(x),l.push(p.x,p.y,p.z),c.push(0,0,1),m.x=(p.x/t+1)/2,m.y=(p.y/t+1)/2,u.push(m.x,m.y)}f+=d}for(let g=0;g<i;g++){const y=g*(r+1);for(let x=0;x<r;x++){const _=x+y,b=_,w=_+r+1,M=_+r+2,C=_+1;a.push(b,w,C),a.push(w,M,C)}}this.setIndex(a),this.setAttribute("position",new Lt(l,3)),this.setAttribute("normal",new Lt(c,3)),this.setAttribute("uv",new Lt(u,2))}static fromJSON(e){return new V3(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class j3 extends un{constructor(e=new E1([new nt(0,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Lt(i,3)),this.setAttribute("normal",new Lt(s,3)),this.setAttribute("uv",new Lt(o,2));function c(u){const f=i.length/3,d=u.extractPoints(t);let p=d.shape;const m=d.holes;Kd.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,x=m.length;y<x;y++){const _=m[y];Kd.isClockWise(_)===!0&&(m[y]=_.reverse())}const g=Kd.triangulateShape(p,m);for(let y=0,x=m.length;y<x;y++){const _=m[y];p=p.concat(_)}for(let y=0,x=p.length;y<x;y++){const _=p[y];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let y=0,x=g.length;y<x;y++){const _=g[y],b=_[0]+f,w=_[1]+f,M=_[2]+f;r.push(b,w,M),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Crt(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new j3(r,e.curveSegments)}}function Crt(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class gA extends un{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new me,d=new me,p=[],m=[],g=[],y=[];for(let x=0;x<=r;x++){const _=[],b=x/r;let w=0;x==0&&o==0?w=.5/t:x==r&&l==Math.PI&&(w=-.5/t);for(let M=0;M<=t;M++){const C=M/t;f.x=-e*Math.cos(i+C*s)*Math.sin(o+b*a),f.y=e*Math.cos(o+b*a),f.z=e*Math.sin(i+C*s)*Math.sin(o+b*a),m.push(f.x,f.y,f.z),d.copy(f).normalize(),g.push(d.x,d.y,d.z),y.push(C+w,1-b),_.push(c++)}u.push(_)}for(let x=0;x<r;x++)for(let _=0;_<t;_++){const b=u[x][_+1],w=u[x][_],M=u[x+1][_],C=u[x+1][_+1];(x!==0||o>0)&&p.push(b,w,C),(x!==r-1||l<Math.PI)&&p.push(w,M,C)}this.setIndex(p),this.setAttribute("position",new Lt(m,3)),this.setAttribute("normal",new Lt(g,3)),this.setAttribute("uv",new Lt(y,2))}static fromJSON(e){return new gA(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class W3 extends _m{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new W3(e.radius,e.detail)}}class $3 extends un{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new me,f=new me,d=new me;for(let p=0;p<=r;p++)for(let m=0;m<=i;m++){const g=m/i*s,y=p/r*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(g),f.y=(e+t*Math.cos(y))*Math.sin(g),f.z=t*Math.sin(y),a.push(f.x,f.y,f.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(m/i),c.push(p/r)}for(let p=1;p<=r;p++)for(let m=1;m<=i;m++){const g=(i+1)*p+m-1,y=(i+1)*(p-1)+m-1,x=(i+1)*(p-1)+m,_=(i+1)*p+m;o.push(g,y,_),o.push(y,x,_)}this.setIndex(o),this.setAttribute("position",new Lt(a,3)),this.setAttribute("normal",new Lt(l,3)),this.setAttribute("uv",new Lt(c,2))}static fromJSON(e){return new $3(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class X3 extends un{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new me,d=new me,p=new me,m=new me,g=new me,y=new me,x=new me;for(let b=0;b<=r;++b){const w=b/r*s*Math.PI*2;_(w,s,o,e,p),_(w+.01,s,o,e,m),y.subVectors(m,p),x.addVectors(m,p),g.crossVectors(y,x),x.crossVectors(g,y),g.normalize(),x.normalize();for(let M=0;M<=i;++M){const C=M/i*Math.PI*2,R=-t*Math.cos(C),E=t*Math.sin(C);f.x=p.x+(R*x.x+E*g.x),f.y=p.y+(R*x.y+E*g.y),f.z=p.z+(R*x.z+E*g.z),l.push(f.x,f.y,f.z),d.subVectors(f,p).normalize(),c.push(d.x,d.y,d.z),u.push(b/r),u.push(M/i)}}for(let b=1;b<=r;b++)for(let w=1;w<=i;w++){const M=(i+1)*(b-1)+(w-1),C=(i+1)*b+(w-1),R=(i+1)*b+w,E=(i+1)*(b-1)+w;a.push(M,C,E),a.push(C,R,E)}this.setIndex(a),this.setAttribute("position",new Lt(l,3)),this.setAttribute("normal",new Lt(c,3)),this.setAttribute("uv",new Lt(u,2));function _(b,w,M,C,R){const E=Math.cos(b),B=Math.sin(b),D=M/w*b,N=Math.cos(D);R.x=C*(2+N)*.5*E,R.y=C*(2+N)*B*.5,R.z=C*Math.sin(D)*.5}}static fromJSON(e){return new X3(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class J3 extends un{constructor(e=new sX(new me(-1,-1,0),new me(-1,1,0),new me(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new me,l=new me,c=new nt;let u=new me;const f=[],d=[],p=[],m=[];g(),this.setIndex(m),this.setAttribute("position",new Lt(f,3)),this.setAttribute("normal",new Lt(d,3)),this.setAttribute("uv",new Lt(p,2));function g(){for(let b=0;b<t;b++)y(b);y(s===!1?t:0),_(),x()}function y(b){u=e.getPointAt(b/t,u);const w=o.normals[b],M=o.binormals[b];for(let C=0;C<=i;C++){const R=C/i*Math.PI*2,E=Math.sin(R),B=-Math.cos(R);l.x=B*w.x+E*M.x,l.y=B*w.y+E*M.y,l.z=B*w.z+E*M.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function x(){for(let b=1;b<=t;b++)for(let w=1;w<=i;w++){const M=(i+1)*(b-1)+(w-1),C=(i+1)*b+(w-1),R=(i+1)*b+w,E=(i+1)*(b-1)+w;m.push(M,C,E),m.push(C,R,E)}}function _(){for(let b=0;b<=t;b++)for(let w=0;w<=i;w++)c.x=b/t,c.y=w/i,p.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new J3(new aX[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class X_e extends un{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new me,s=new me;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,p=f.count;for(let m=d,g=d+p;m<g;m+=3)for(let y=0;y<3;y++){const x=a.getX(m+y),_=a.getX(m+(y+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,_),Zre(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),Zre(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Lt(t,3))}}}function Zre(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var eie=Object.freeze({__proto__:null,BoxGeometry:sv,CapsuleGeometry:F3,CircleGeometry:N3,ConeGeometry:U3,CylinderGeometry:Cx,DodecahedronGeometry:z3,EdgesGeometry:V_e,ExtrudeGeometry:G3,IcosahedronGeometry:H3,LatheGeometry:pA,OctahedronGeometry:mA,PlaneGeometry:xm,PolyhedronGeometry:_m,RingGeometry:V3,ShapeGeometry:j3,SphereGeometry:gA,TetrahedronGeometry:W3,TorusGeometry:$3,TorusKnotGeometry:X3,TubeGeometry:J3,WireframeGeometry:X_e});class J_e extends Rs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new dt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Y_e extends Jf{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class L0 extends Rs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new dt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iv,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kc extends L0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new nt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return os(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new dt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new dt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new dt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class VE extends Rs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new dt(16777215),this.specular=new dt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iv,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=B3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class K_e extends Rs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new dt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iv,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class q_e extends Rs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iv,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class lX extends Rs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new dt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iv,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=B3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Q_e extends Rs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new dt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iv,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Z_e extends jo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function pu(n,e,t){return cX(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function qy(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function cX(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ebe(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function gH(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function uX(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function Trt(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],d=[];for(let p=0;p<c.times.length;++p){const m=c.times[p]*i;if(!(m<t||m>=r)){f.push(c.times[p]);for(let g=0;g<u;++g)d.push(c.values[p*u+g])}}f.length!==0&&(c.times=qy(f,c.times.constructor),c.values=qy(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Rrt(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const m=a.times.length-1;let g;if(s<=a.times[0]){const x=u,_=f-u;g=pu(a.values,x,_)}else if(s>=a.times[m]){const x=m*f+u,_=x+f-u;g=pu(a.values,x,_)}else{const x=a.createInterpolant(),_=u,b=f-u;x.evaluate(s),g=pu(x.resultBuffer,_,b)}l==="quaternion"&&new Mi().fromArray(g).normalize().conjugate().toArray(g);const y=c.times.length;for(let x=0;x<y;++x){const _=x*p+d;if(l==="quaternion")Mi.multiplyQuaternionsFlat(c.values,_,g,0,c.values,_);else{const b=p-d*2;for(let w=0;w<b;++w)c.values[_+w]-=g[w]}}}return n.blendMode=V$,n}var Prt=Object.freeze({__proto__:null,arraySlice:pu,convertArray:qy,isTypedArray:cX,getKeyframeOrder:ebe,sortedArray:gH,flattenJSON:uX,subclip:Trt,makeClipAdditive:Rrt});class vA{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class tbe extends vA{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Jy,endingEnd:Jy}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Yy:s=e,a=2*t-r;break;case bT:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Yy:o=e,l=2*r-t;break;case bT:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,p=this._weightNext,m=(r-t)/(i-t),g=m*m,y=g*m,x=-d*y+2*d*g-d*m,_=(1+d)*y+(-1.5-2*d)*g+(-.5+d)*m+1,b=(-1-p)*y+(1.5+p)*g+.5*m,w=p*y-p*g;for(let M=0;M!==a;++M)s[M]=x*o[u+M]+_*o[c+M]+b*o[l+M]+w*o[f+M];return s}}class fX extends vA{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*f+o[l+d]*u;return s}}class nbe extends vA{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class rd{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=qy(t,this.TimeBufferType),this.values=qy(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:qy(e.times,Array),values:qy(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new nbe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new fX(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new tbe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case RS:t=this.InterpolantFactoryMethodDiscrete;break;case nx:t=this.InterpolantFactoryMethodLinear;break;case vk:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return RS;case this.InterpolantFactoryMethodLinear:return nx;case this.InterpolantFactoryMethodSmooth:return vk}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=pu(r,s,o),this.values=pu(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&cX(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=pu(this.times),t=pu(this.values),r=this.getValueSize(),i=this.getInterpolation()===vk,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,d=f-r,p=f+r;for(let m=0;m!==r;++m){const g=t[f+m];if(g!==t[d+m]||g!==t[p+m]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,d=o*r;for(let p=0;p!==r;++p)t[d+p]=t[f+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=pu(e,0,o),this.values=pu(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=pu(this.times,0),t=pu(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}rd.prototype.TimeBufferType=Float32Array;rd.prototype.ValueBufferType=Float32Array;rd.prototype.DefaultInterpolation=nx;class Tx extends rd{}Tx.prototype.ValueTypeName="bool";Tx.prototype.ValueBufferType=Array;Tx.prototype.DefaultInterpolation=RS;Tx.prototype.InterpolantFactoryMethodLinear=void 0;Tx.prototype.InterpolantFactoryMethodSmooth=void 0;class dX extends rd{}dX.prototype.ValueTypeName="color";class O0 extends rd{}O0.prototype.ValueTypeName="number";class rbe extends vA{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Mi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class tm extends rd{InterpolantFactoryMethodLinear(e){return new rbe(this.times,this.values,this.getValueSize(),e)}}tm.prototype.ValueTypeName="quaternion";tm.prototype.DefaultInterpolation=nx;tm.prototype.InterpolantFactoryMethodSmooth=void 0;class Rx extends rd{}Rx.prototype.ValueTypeName="string";Rx.prototype.ValueBufferType=Array;Rx.prototype.DefaultInterpolation=RS;Rx.prototype.InterpolantFactoryMethodLinear=void 0;Rx.prototype.InterpolantFactoryMethodSmooth=void 0;class F0 extends rd{}F0.prototype.ValueTypeName="vector";class ix{constructor(e,t=-1,r,i=wF){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=yc(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(Drt(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(rd.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=ebe(l);l=gH(l,1,u),c=gH(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new O0(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,p,m,g){if(p.length!==0){const y=[],x=[];uX(p,y,x,m),y.length!==0&&g.push(new f(d,y,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let m;for(m=0;m<d.length;m++)if(d[m].morphTargets)for(let g=0;g<d[m].morphTargets.length;g++)p[d[m].morphTargets[g]]=-1;for(const g in p){const y=[],x=[];for(let _=0;_!==d[m].morphTargets.length;++_){const b=d[m];y.push(b.time),x.push(b.morphTarget===g?1:0)}i.push(new O0(".morphTargetInfluence["+g+"]",y,x))}l=p.length*o}else{const p=".bones["+t[f].name+"]";r(F0,p+".position",d,"pos",i),r(tm,p+".quaternion",d,"rot",i),r(F0,p+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Brt(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return O0;case"vector":case"vector2":case"vector3":case"vector4":return F0;case"color":return dX;case"quaternion":return tm;case"bool":case"boolean":return Tx;case"string":return Rx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Drt(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Brt(n.type);if(n.times===void 0){const t=[],r=[];uX(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const sx={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class hX{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const p=c[f],m=c[f+1];if(p.global&&(p.lastIndex=0),p.test(u))return m}return null}}}const ibe=new hX;class va{constructor(e){this.manager=e!==void 0?e:ibe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Kh={};class krt extends Error{constructor(e,t){super(e),this.response=t}}class kl extends va{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=sx.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Kh[e]!==void 0){Kh[e].push({onLoad:t,onProgress:r,onError:i});return}Kh[e]=[],Kh[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Kh[e],f=c.body.getReader(),d=c.headers.get("Content-Length"),p=d?parseInt(d):0,m=p!==0;let g=0;const y=new ReadableStream({start(x){_();function _(){f.read().then(({done:b,value:w})=>{if(b)x.close();else{g+=w.byteLength;const M=new ProgressEvent("progress",{lengthComputable:m,loaded:g,total:p});for(let C=0,R=u.length;C<R;C++){const E=u[C];E.onProgress&&E.onProgress(M)}x.enqueue(w),_()}})}}});return new Response(y)}else throw new krt(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(d);return c.arrayBuffer().then(m=>p.decode(m))}}}).then(c=>{sx.add(e,c);const u=Kh[e];delete Kh[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=Kh[e];if(u===void 0)throw this.manager.itemError(e),c;delete Kh[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Irt extends va{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new kl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=ix.parse(e[r]);t.push(i)}return t}}class Lrt extends va{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new tX,l=new kl(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const p=s.parse(d,!0);o[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(a.minFilter=Wr),a.image=o,a.format=p.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const p=d.mipmaps.length/d.mipmapCount;for(let m=0;m<p;m++){o[m]={mipmaps:[]};for(let g=0;g<d.mipmapCount;g++)o[m].mipmaps.push(d.mipmaps[m*d.mipmapCount+g]),o[m].format=d.format,o[m].width=d.width,o[m].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=Wr),a.format=d.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class RT extends va{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=sx.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=AT("img");function l(){u(),sx.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Ort extends va{constructor(e){super(e)}load(e,t,r,i){const s=new L3,o=new RT(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class Frt extends va{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Uw,a=new kl(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Gs,o.wrapT=c.wrapT!==void 0?c.wrapT:Gs,o.magFilter=c.magFilter!==void 0?c.magFilter:Wr,o.minFilter=c.minFilter!==void 0?c.minFilter:Wr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=mm),c.mipmapCount===1&&(o.minFilter=Wr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class yA extends va{constructor(e){super(e)}load(e,t,r,i){const s=new qr,o=new RT(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class ov extends Pn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new dt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class sbe extends ov{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Pn.DefaultUp),this.updateMatrix(),this.groundColor=new dt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const N5=new Bt,tie=new me,nie=new me;class pX{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new nt(512,512),this.map=null,this.mapPass=null,this.matrix=new Bt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new EF,this._frameExtents=new nt(1,1),this._viewportCount=1,this._viewports=[new Sn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;tie.setFromMatrixPosition(e.matrixWorld),t.position.copy(tie),nie.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(nie),t.updateMatrixWorld(),N5.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(N5),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(N5)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Nrt extends pX{constructor(){super(new Ms(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=ST*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class FF extends ov{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Pn.DefaultUp),this.updateMatrix(),this.target=new Pn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Nrt}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const rie=new Bt,v2=new me,U5=new me;class Urt extends pX{constructor(){super(new Ms(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new nt(4,2),this._viewportCount=6,this._viewports=[new Sn(2,1,1,1),new Sn(0,1,1,1),new Sn(3,1,1,1),new Sn(1,1,1,1),new Sn(3,0,1,1),new Sn(1,0,1,1)],this._cubeDirections=[new me(1,0,0),new me(-1,0,0),new me(0,0,1),new me(0,0,-1),new me(0,1,0),new me(0,-1,0)],this._cubeUps=[new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,0,1),new me(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),v2.setFromMatrixPosition(e.matrixWorld),r.position.copy(v2),U5.copy(r.position),U5.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(U5),r.updateMatrixWorld(),i.makeTranslation(-v2.x,-v2.y,-v2.z),rie.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rie)}}class PT extends ov{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Urt}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class zrt extends pX{constructor(){super(new Ex(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class NF extends ov{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Pn.DefaultUp),this.updateMatrix(),this.target=new Pn,this.shadow=new zrt}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class mX extends ov{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class obe extends ov{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class abe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new me)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class UF extends ov{constructor(e=new abe,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class zF extends va{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new kl(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=zF.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new dt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new dt().setHex(o.value);break;case"v2":i.uniforms[s].value=new nt().fromArray(o.value);break;case"v3":i.uniforms[s].value=new me().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Sn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new aa().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Bt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new nt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new nt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:J_e,SpriteMaterial:q$,RawShaderMaterial:Y_e,ShaderMaterial:Jf,PointsMaterial:kF,MeshPhysicalMaterial:kc,MeshStandardMaterial:L0,MeshPhongMaterial:VE,MeshToonMaterial:K_e,MeshNormalMaterial:q_e,MeshLambertMaterial:lX,MeshDepthMaterial:TF,MeshDistanceMaterial:RF,MeshBasicMaterial:ml,MeshMatcapMaterial:Q_e,LineDashedMaterial:Z_e,LineBasicMaterial:jo,Material:Rs};return new t[e]}}class kp{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class gX extends un{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class lbe extends va{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new kl(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(p,m){if(t[m]!==void 0)return t[m];const y=p.interleavedBuffers[m],x=s(p,y.buffer),_=aw(y.type,x),b=new O3(_,y.stride);return b.uuid=y.uuid,t[m]=b,b}function s(p,m){if(r[m]!==void 0)return r[m];const y=p.arrayBuffers[m],x=new Uint32Array(y).buffer;return r[m]=x,x}const o=e.isInstancedBufferGeometry?new gX:new un,a=e.data.index;if(a!==void 0){const p=aw(a.type,a.array);o.setIndex(new Qn(p,1))}const l=e.data.attributes;for(const p in l){const m=l[p];let g;if(m.isInterleavedBufferAttribute){const y=i(e.data,m.data);g=new k0(y,m.itemSize,m.offset,m.normalized)}else{const y=aw(m.type,m.array),x=m.isInstancedBufferAttribute?I0:Qn;g=new x(y,m.itemSize,m.normalized)}m.name!==void 0&&(g.name=m.name),m.usage!==void 0&&g.setUsage(m.usage),m.updateRange!==void 0&&(g.updateRange.offset=m.updateRange.offset,g.updateRange.count=m.updateRange.count),o.setAttribute(p,g)}const c=e.data.morphAttributes;if(c)for(const p in c){const m=c[p],g=[];for(let y=0,x=m.length;y<x;y++){const _=m[y];let b;if(_.isInterleavedBufferAttribute){const w=i(e.data,_.data);b=new k0(w,_.itemSize,_.offset,_.normalized)}else{const w=aw(_.type,_.array);b=new Qn(w,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),g.push(b)}o.morphAttributes[p]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let p=0,m=f.length;p!==m;++p){const g=f[p];o.addGroup(g.start,g.count,g.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const p=new me;d.center!==void 0&&p.fromArray(d.center),o.boundingSphere=new ym(p,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Grt extends va{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?kp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new kl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?kp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new kl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new E1().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new hA().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new lbe;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in eie?a=eie[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new zF;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=ix.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:aw(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new hX(t);s=new RT(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const p=[];for(let m=0,g=d.length;m<g;m++){const y=d[m],x=a(y);x!==null&&(x instanceof HTMLImageElement?p.push(x):p.push(new Uw(x.data,x.width,x.height)))}i[f.uuid]=new Ky(p)}else{const p=a(f.url);i[f.uuid]=new Ky(p)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:aw(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new RT(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f],m=await s(p);m!==null&&(m instanceof HTMLImageElement?u.push(m):u.push(new Uw(m.data,m.width,m.height)))}r[l.uuid]=new Ky(u)}else{const u=await s(l.url);r[l.uuid]=new Ky(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new L3,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Uw:u=new qr,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,Hrt)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],iie),u.wrapT=r(a.wrap[1],iie)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,sie)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,sie)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const p=[];for(let m=0,g=d.length;m<g;m++){const y=d[m];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),p.push(r[y])}return p}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":o=new dL,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new dt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new BF(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new PF(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new Ms(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ex(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new mX(e.color,e.intensity);break;case"DirectionalLight":o=new NF(e.color,e.intensity);break;case"PointLight":o=new PT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new obe(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new FF(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new sbe(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new UF().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new DF(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new Ui(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const d=e.count,p=e.instanceMatrix,m=e.instanceColor;o=new Q$(u,f,d),o.instanceMatrix=new I0(new Float32Array(p.array),16),m!==void 0&&(o.instanceColor=new I0(new Float32Array(m.array),m.itemSize));break;case"LOD":o=new O_e;break;case"Line":o=new ah(a(e.geometry),l(e.material));break;case"LineLoop":o=new Z$(a(e.geometry),l(e.material));break;case"LineSegments":o=new nd(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new eX(a(e.geometry),l(e.material));break;case"Sprite":o=new L_e(l(e.material));break;case"Group":o=new Bf;break;case"Bone":o=new BS;break;default:o=new Pn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let p=0;p<d.length;p++)o.add(this.parseObject(d[p],t,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let p=0;p<d.length;p++){const m=d[p];o.animations.push(s[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let p=0;p<d.length;p++){const m=d[p],g=o.getObjectByProperty("uuid",m.object);g!==void 0&&o.addLevel(g,m.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Hrt={UVMapping:_F,CubeReflectionMapping:P0,CubeRefractionMapping:B0,EquirectangularReflectionMapping:ES,EquirectangularRefractionMapping:yT,CubeUVReflectionMapping:fA},iie={RepeatWrapping:oh,ClampToEdgeWrapping:Gs,MirroredRepeatWrapping:CS},sie={NearestFilter:ss,NearestMipmapNearestFilter:xT,NearestMipmapLinearFilter:_T,LinearFilter:Wr,LinearMipmapNearestFilter:bF,LinearMipmapLinearFilter:mm};class cbe extends va{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=sx.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){sx.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let JB;class vX{static getContext(){return JB===void 0&&(JB=new(window.AudioContext||window.webkitAudioContext)),JB}static setContext(e){JB=e}}class Vrt extends va{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new kl(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);vX.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class jrt extends UF{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new dt().set(e),s=new dt().set(t),o=new me(i.r,i.g,i.b),a=new me(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class Wrt extends UF{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new dt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const oie=new Bt,aie=new Bt,ry=new Bt;class $rt{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ms,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ms,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ry.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(S1*t.fov*.5)/t.zoom;let a,l;aie.elements[12]=-i,oie.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,ry.elements[0]=2*t.near/(l-a),ry.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ry),a=-o*t.aspect-s,l=o*t.aspect-s,ry.elements[0]=2*t.near/(l-a),ry.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ry)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(aie),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(oie)}}class yX{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=lie(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=lie();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function lie(){return(typeof performance>"u"?Date:performance).now()}const iy=new me,cie=new Mi,Xrt=new me,sy=new me;class Jrt extends Pn{constructor(){super(),this.type="AudioListener",this.context=vX.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new yX}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(iy,cie,Xrt),sy.set(0,0,-1).applyQuaternion(cie),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(iy.x,i),t.positionY.linearRampToValueAtTime(iy.y,i),t.positionZ.linearRampToValueAtTime(iy.z,i),t.forwardX.linearRampToValueAtTime(sy.x,i),t.forwardY.linearRampToValueAtTime(sy.y,i),t.forwardZ.linearRampToValueAtTime(sy.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(iy.x,iy.y,iy.z),t.setOrientation(sy.x,sy.y,sy.z,r.x,r.y,r.z)}}class ube extends Pn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const oy=new me,uie=new Mi,Yrt=new me,ay=new me;class Krt extends ube{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(oy,uie,Yrt),ay.set(0,0,1).applyQuaternion(uie);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(oy.x,r),t.positionY.linearRampToValueAtTime(oy.y,r),t.positionZ.linearRampToValueAtTime(oy.z,r),t.orientationX.linearRampToValueAtTime(ay.x,r),t.orientationY.linearRampToValueAtTime(ay.y,r),t.orientationZ.linearRampToValueAtTime(ay.z,r)}else t.setPosition(oy.x,oy.y,oy.z),t.setOrientation(ay.x,ay.y,ay.z)}}class qrt{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class fbe{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Mi.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Mi.multiplyQuaternionsFlat(e,o,e,t,e,r),Mi.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const xX="\\[\\]\\.:\\/",Qrt=new RegExp("["+xX+"]","g"),_X="[^"+xX+"]",Zrt="[^"+xX.replace("\\.","")+"]",eit=/((?:WC+[\/:])*)/.source.replace("WC",_X),tit=/(WCOD+)?/.source.replace("WCOD",Zrt),nit=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_X),rit=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_X),iit=new RegExp("^"+eit+tit+nit+rit+"$"),sit=["material","materials","bones","map"];class oit{constructor(e,t,r){const i=r||Tn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Tn{constructor(e,t,r){this.path=t,this.parsedPath=r||Tn.parseTrackName(t),this.node=Tn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Tn.Composite(e,t,r):new Tn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Qrt,"")}static parseTrackName(e){const t=iit.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);sit.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Tn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tn.Composite=oit;Tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tn.prototype.GetterByBindingType=[Tn.prototype._getValue_direct,Tn.prototype._getValue_array,Tn.prototype._getValue_arrayElement,Tn.prototype._getValue_toArray];Tn.prototype.SetterByBindingTypeAndVersioning=[[Tn.prototype._setValue_direct,Tn.prototype._setValue_direct_setNeedsUpdate,Tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_array,Tn.prototype._setValue_array_setNeedsUpdate,Tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_arrayElement,Tn.prototype._setValue_arrayElement_setNeedsUpdate,Tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_fromArray,Tn.prototype._setValue_fromArray_setNeedsUpdate,Tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class ait{constructor(){this.isAnimationObjectGroup=!0,this.uuid=yc(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],p=d.uuid;let m=t[p];if(m===void 0){m=l++,t[p]=m,e.push(d);for(let g=0,y=o;g!==y;++g)s[g].push(new Tn(d,r[g],i[g]))}else if(m<c){a=e[m];const g=--c,y=e[g];t[y.uuid]=m,e[m]=y,t[p]=g,e[g]=d;for(let x=0,_=o;x!==_;++x){const b=s[x],w=b[g];let M=b[m];b[m]=w,M===void 0&&(M=new Tn(d,r[x],i[x])),b[g]=M}}else e[m]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,d=e[f];t[d.uuid]=u,e[u]=d,t[c]=f,e[f]=l;for(let p=0,m=i;p!==m;++p){const g=r[p],y=g[f],x=g[u];g[u]=y,g[f]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const d=--s,p=e[d],m=--o,g=e[m];t[p.uuid]=f,e[f]=p,t[g.uuid]=d,e[d]=g,e.pop();for(let y=0,x=i;y!==x;++y){const _=r[y],b=_[d],w=_[m];_[f]=b,_[d]=w,_.pop()}}else{const d=--o,p=e[d];d>0&&(t[p.uuid]=f),e[f]=p,e.pop();for(let m=0,g=i;m!==g;++m){const y=r[m];y[f]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let d=u,p=l.length;d!==p;++d){const m=l[d];f[d]=new Tn(m,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class lit{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Jy,endingEnd:Jy};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=p_e,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case V$:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case wF:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===m_e;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===h_e){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Yy,i.endingEnd=Yy):(e?i.endingStart=this.zeroSlopeAtStart?Yy:Jy:i.endingStart=bT,t?i.endingEnd=this.zeroSlopeAtEnd?Yy:Jy:i.endingEnd=bT)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const cit=new Float32Array(1);class dbe extends gm{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const d=i[f],p=d.name;let m=u[p];if(m!==void 0)++m.referenceCount,o[f]=m;else{if(m=o[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,p));continue}const g=t&&t._propertyBindings[f].binding.parsedPath;m=new fbe(Tn.create(r,p,g),d.ValueTypeName,d.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,p),o[f]=m}a[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new fX(new Float32Array(2),new Float32Array(2),1,cit),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?ix.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=wF),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new lit(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?ix.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class bX{constructor(e){this.value=e}clone(){return new bX(this.value.clone===void 0?this.value:this.value.clone())}}let uit=0;class fit extends gm{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:uit++}),this.name="",this.usage=wT,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class dit extends O3{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class hit{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class hbe{constructor(e,t,r=0,i=1/0){this.ray=new k3(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new M1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return vH(e,this,r,t),r.sort(fie),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)vH(e[i],this,r,t);return r.sort(fie),r}}function fie(n,e){return n.distance-e.distance}function vH(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)vH(i[s],e,t,!0)}}class pbe{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(os(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class pit{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const die=new nt;class mit{constructor(e=new nt(1/0,1/0),t=new nt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=die.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return die.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const hie=new me,YB=new me;class git{constructor(e=new me,t=new me){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){hie.subVectors(e,this.start),YB.subVectors(this.end,this.start);const r=YB.dot(YB);let s=YB.dot(hie)/r;return t&&(s=os(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const pie=new me;class vit extends Pn{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new un,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Lt(i,3));const s=new jo({fog:!1,toneMapped:!1});this.cone=new nd(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),pie.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(pie),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const sg=new me,KB=new Bt,z5=new Bt;class yit extends nd{constructor(e){const t=mbe(e),r=new un,i=[],s=[],o=new dt(0,0,1),a=new dt(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Lt(i,3)),r.setAttribute("color",new Lt(s,3));const l=new jo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");z5.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(KB.multiplyMatrices(z5,a.matrixWorld),sg.setFromMatrixPosition(KB),i.setXYZ(o,sg.x,sg.y,sg.z),KB.multiplyMatrices(z5,a.parent.matrixWorld),sg.setFromMatrixPosition(KB),i.setXYZ(o+1,sg.x,sg.y,sg.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function mbe(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,mbe(n.children[t]));return e}class xit extends Ui{constructor(e,t,r){const i=new gA(t,4,2),s=new ml({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _it=new me,mie=new dt,gie=new dt;class bit extends Pn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new mA(t);i.rotateY(Math.PI*.5),this.material=new ml({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Qn(o,3)),this.add(new Ui(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");mie.copy(this.light.color),gie.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?mie:gie;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(_it.setFromMatrixPosition(this.light.matrixWorld).negate())}}class wit extends nd{constructor(e=10,t=10,r=4473924,i=8947848){r=new dt(r),i=new dt(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let d=0,p=0,m=-a;d<=t;d++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const g=d===s?r:i;g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3}const u=new un;u.setAttribute("position",new Lt(l,3)),u.setAttribute("color",new Lt(c,3));const f=new jo({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Sit extends nd{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new dt(s),o=new dt(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const d=f/t*(Math.PI*2),p=Math.sin(d)*e,m=Math.cos(d)*e;a.push(0,0,0),a.push(p,0,m);const g=f&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let f=0;f<r;f++){const d=f&1?s:o,p=e-e/r*f;for(let m=0;m<i;m++){let g=m/i*(Math.PI*2),y=Math.sin(g)*p,x=Math.cos(g)*p;a.push(y,0,x),l.push(d.r,d.g,d.b),g=(m+1)/i*(Math.PI*2),y=Math.sin(g)*p,x=Math.cos(g)*p,a.push(y,0,x),l.push(d.r,d.g,d.b)}}const c=new un;c.setAttribute("position",new Lt(a,3)),c.setAttribute("color",new Lt(l,3));const u=new jo({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const vie=new me,qB=new me,yie=new me;class Ait extends Pn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new un;i.setAttribute("position",new Lt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new jo({fog:!1,toneMapped:!1});this.lightPlane=new ah(i,s),this.add(this.lightPlane),i=new un,i.setAttribute("position",new Lt([0,0,0,0,0,1],3)),this.targetLine=new ah(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){vie.setFromMatrixPosition(this.light.matrixWorld),qB.setFromMatrixPosition(this.light.target.matrixWorld),yie.subVectors(qB,vie),this.lightPlane.lookAt(qB),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(qB),this.targetLine.scale.z=yie.length()}}const QB=new me,ki=new I3;class Mit extends nd{constructor(e){const t=new un,r=new jo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(m,g){l(m),l(g)}function l(m){i.push(0,0,0),s.push(0,0,0),o[m]===void 0&&(o[m]=[]),o[m].push(i.length/3-1)}t.setAttribute("position",new Lt(i,3)),t.setAttribute("color",new Lt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new dt(16755200),u=new dt(16711680),f=new dt(43775),d=new dt(16777215),p=new dt(3355443);this.setColors(c,u,f,d,p)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;ki.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ji("c",t,e,ki,0,0,-1),Ji("t",t,e,ki,0,0,1),Ji("n1",t,e,ki,-r,-i,-1),Ji("n2",t,e,ki,r,-i,-1),Ji("n3",t,e,ki,-r,i,-1),Ji("n4",t,e,ki,r,i,-1),Ji("f1",t,e,ki,-r,-i,1),Ji("f2",t,e,ki,r,-i,1),Ji("f3",t,e,ki,-r,i,1),Ji("f4",t,e,ki,r,i,1),Ji("u1",t,e,ki,r*.7,i*1.1,-1),Ji("u2",t,e,ki,-r*.7,i*1.1,-1),Ji("u3",t,e,ki,0,i*2,-1),Ji("cf1",t,e,ki,-r,0,1),Ji("cf2",t,e,ki,r,0,1),Ji("cf3",t,e,ki,0,-i,1),Ji("cf4",t,e,ki,0,i,1),Ji("cn1",t,e,ki,-r,0,-1),Ji("cn2",t,e,ki,r,0,-1),Ji("cn3",t,e,ki,0,-i,-1),Ji("cn4",t,e,ki,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ji(n,e,t,r,i,s,o){QB.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],QB.x,QB.y,QB.z)}}const ZB=new vm;class Eit extends nd{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new un;s.setIndex(new Qn(r,1)),s.setAttribute("position",new Qn(i,3)),super(s,new jo({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&ZB.setFromObject(this.object),ZB.isEmpty())return;const t=ZB.min,r=ZB.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Cit extends nd{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new un;s.setIndex(new Qn(r,1)),s.setAttribute("position",new Lt(i,3)),super(s,new jo({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tit extends ah{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new un;o.setAttribute("position",new Lt(s,3)),o.computeBoundingSphere(),super(o,new jo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new un;l.setAttribute("position",new Lt(a,3)),l.computeBoundingSphere(),this.add(new Ui(l,new ml({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const xie=new me;let eD,G5;class Rit extends Pn{constructor(e=new me(0,0,1),t=new me(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",eD===void 0&&(eD=new un,eD.setAttribute("position",new Lt([0,0,0,0,1,0],3)),G5=new Cx(0,.5,1,5,1),G5.translate(0,-.5,0)),this.position.copy(t),this.line=new ah(eD,new jo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ui(G5,new ml({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xie.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xie,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Pit extends nd{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new un;i.setAttribute("position",new Lt(t,3)),i.setAttribute("color",new Lt(r,3));const s=new jo({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new dt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Bit{constructor(){this.type="ShapePath",this.color=new dt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new MT,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const _=[];for(let b=0,w=x.length;b<w;b++){const M=x[b],C=new E1;C.curves=M.curves,_.push(C)}return _}function r(x,_){const b=_.length;let w=!1;for(let M=b-1,C=0;C<b;M=C++){let R=_[M],E=_[C],B=E.x-R.x,D=E.y-R.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(R=_[C],B=-B,E=_[M],D=-D),x.y<R.y||x.y>E.y)continue;if(x.y===R.y){if(x.x===R.x)return!0}else{const N=D*(x.x-R.x)-B*(x.y-R.y);if(N===0)return!0;if(N<0)continue;w=!w}}else{if(x.y!==R.y)continue;if(E.x<=x.x&&x.x<=R.x||R.x<=x.x&&x.x<=E.x)return!0}}return w}const i=Kd.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new E1,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],d=[];let p=[],m=0,g;d[m]=void 0,p[m]=[];for(let x=0,_=s.length;x<_;x++)a=s[x],g=a.getPoints(),o=i(g),o=e?!o:o,o?(!u&&d[m]&&m++,d[m]={s:new E1,p:g},d[m].s.curves=a.curves,u&&m++,p[m]=[]):p[m].push({h:a,p:g[0]});if(!d[0])return t(s);if(d.length>1){let x=!1,_=0;for(let b=0,w=d.length;b<w;b++)f[b]=[];for(let b=0,w=d.length;b<w;b++){const M=p[b];for(let C=0;C<M.length;C++){const R=M[C];let E=!0;for(let B=0;B<d.length;B++)r(R.p,d[B].p)&&(b!==B&&_++,E?(E=!1,f[B].push(R)):x=!0);E&&f[b].push(R)}}_>0&&x===!1&&(p=f)}let y;for(let x=0,_=d.length;x<_;x++){l=d[x].s,c.push(l),y=p[x];for(let b=0,w=y.length;b<w;b++)l.holes.push(y[b].h)}return c}}const hp=Dit();function Dit(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function kit(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=os(n,-65504,65504),hp.floatView[0]=n;const e=hp.uint32View[0],t=e>>23&511;return hp.baseTable[t]+((e&8388607)>>hp.shiftTable[t])}function Iit(n){const e=n>>10;return hp.uint32View[0]=hp.mantissaTable[hp.offsetTable[e]+(n&1023)]+hp.exponentTable[e],hp.floatView[0]}var Lit=Object.freeze({__proto__:null,toHalfFloat:kit,fromHalfFloat:Iit});function Oit(){console.error("THREE.ImmediateRenderObject has been removed.")}class Fit extends ju{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class Nit extends D3{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class Uit extends SF{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class zit extends sv{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class Git extends F3{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class Hit extends N3{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class Vit extends U3{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class jit extends Cx{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class Wit extends z3{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class $it extends G3{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class Xit extends H3{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class Jit extends pA{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class Yit extends mA{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class Kit extends xm{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class qit extends _m{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class Qit extends V3{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class Zit extends j3{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class est extends gA{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class tst extends W3{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class nst extends $3{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class rst extends X3{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class ist extends J3{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:P3}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=P3);const sst=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:G$,AddEquation:Ry,AddOperation:Xxe,AdditiveAnimationBlendMode:V$,AdditiveBlending:F8,AlphaFormat:r_e,AlwaysDepth:zxe,AlwaysStencilFunc:x_e,AmbientLight:mX,AmbientLightProbe:Wrt,AnimationClip:ix,AnimationLoader:Irt,AnimationMixer:dbe,AnimationObjectGroup:ait,AnimationUtils:Prt,ArcCurve:N_e,ArrayCamera:B_e,ArrowHelper:Rit,Audio:ube,AudioAnalyser:qrt,AudioContext:vX,AudioListener:Jrt,AudioLoader:Vrt,AxesHelper:Pit,BackSide:ja,BasicDepthPacking:v_e,BasicShadowMap:Exe,Bone:BS,BooleanKeyframeTrack:Tx,Box2:mit,Box3:vm,Box3Helper:Cit,BoxBufferGeometry:zit,BoxGeometry:sv,BoxHelper:Eit,BufferAttribute:Qn,BufferGeometry:un,BufferGeometryLoader:lbe,ByteType:Qxe,Cache:sx,Camera:I3,CameraHelper:Mit,CanvasTexture:ert,CapsuleBufferGeometry:Git,CapsuleGeometry:F3,CatmullRomCurve3:U_e,CineonToneMapping:Kxe,CircleBufferGeometry:Hit,CircleGeometry:N3,ClampToEdgeWrapping:Gs,Clock:yX,Color:dt,ColorKeyframeTrack:dX,ColorManagement:su,CompressedArrayTexture:Znt,CompressedTexture:tX,CompressedTextureLoader:Lrt,ConeBufferGeometry:Vit,ConeGeometry:U3,CubeCamera:S_e,CubeReflectionMapping:P0,CubeRefractionMapping:B0,CubeTexture:L3,CubeTextureLoader:Ort,CubeUVReflectionMapping:fA,CubicBezierCurve:rX,CubicBezierCurve3:z_e,CubicInterpolant:tbe,CullFaceBack:O8,CullFaceFront:Mxe,CullFaceFrontBack:sqe,CullFaceNone:Axe,Curve:Ju,CurvePath:H_e,CustomBlending:Cxe,CustomToneMapping:qxe,CylinderBufferGeometry:jit,CylinderGeometry:Cx,Cylindrical:pit,Data3DTexture:SF,DataArrayTexture:D3,DataTexture:Uw,DataTexture2DArray:Nit,DataTexture3D:Uit,DataTextureLoader:Frt,DataUtils:Lit,DecrementStencilOp:pqe,DecrementWrapStencilOp:gqe,DefaultLoadingManager:ibe,DepthFormat:a0,DepthStencilFormat:tx,DepthTexture:D_e,DirectionalLight:NF,DirectionalLightHelper:Ait,DiscreteInterpolant:nbe,DodecahedronBufferGeometry:Wit,DodecahedronGeometry:z3,DoubleSide:Du,DstAlphaFactor:Ixe,DstColorFactor:Oxe,DynamicCopyUsage:Bqe,DynamicDrawUsage:Mqe,DynamicReadUsage:Tqe,EdgesGeometry:V_e,EllipseCurve:IF,EqualDepth:Hxe,EqualStencilFunc:_qe,EquirectangularReflectionMapping:ES,EquirectangularRefractionMapping:yT,Euler:fc,EventDispatcher:gm,ExtrudeBufferGeometry:$it,ExtrudeGeometry:G3,FileLoader:kl,Float16BufferAttribute:fQe,Float32BufferAttribute:Lt,Float64BufferAttribute:dQe,FloatType:wp,Fog:BF,FogExp2:PF,FramebufferTexture:Qnt,FrontSide:Zp,Frustum:EF,GLBufferAttribute:hit,GLSL1:kqe,GLSL3:cH,GreaterDepth:jxe,GreaterEqualDepth:Vxe,GreaterEqualStencilFunc:Aqe,GreaterStencilFunc:wqe,GridHelper:wit,Group:Bf,HalfFloatType:TS,HemisphereLight:sbe,HemisphereLightHelper:bit,HemisphereLightProbe:jrt,IcosahedronBufferGeometry:Xit,IcosahedronGeometry:H3,ImageBitmapLoader:cbe,ImageLoader:RT,ImageUtils:X$,ImmediateRenderObject:Oit,IncrementStencilOp:hqe,IncrementWrapStencilOp:mqe,InstancedBufferAttribute:I0,InstancedBufferGeometry:gX,InstancedInterleavedBuffer:dit,InstancedMesh:Q$,Int16BufferAttribute:cQe,Int32BufferAttribute:uQe,Int8BufferAttribute:oQe,IntType:e_e,InterleavedBuffer:O3,InterleavedBufferAttribute:k0,Interpolant:vA,InterpolateDiscrete:RS,InterpolateLinear:nx,InterpolateSmooth:vk,InvertStencilOp:vqe,KeepStencilOp:yk,KeyframeTrack:rd,LOD:O_e,LatheBufferGeometry:Jit,LatheGeometry:pA,Layers:M1,LessDepth:Gxe,LessEqualDepth:lL,LessEqualStencilFunc:bqe,LessStencilFunc:xqe,Light:ov,LightProbe:UF,Line:ah,Line3:git,LineBasicMaterial:jo,LineCurve:LF,LineCurve3:G_e,LineDashedMaterial:Z_e,LineLoop:Z$,LineSegments:nd,LinearEncoding:D0,LinearFilter:Wr,LinearInterpolant:fX,LinearMipMapLinearFilter:cqe,LinearMipMapNearestFilter:lqe,LinearMipmapLinearFilter:mm,LinearMipmapNearestFilter:bF,LinearSRGBColorSpace:Og,LinearToneMapping:Jxe,Loader:va,LoaderUtils:kp,LoadingManager:hX,LoopOnce:h_e,LoopPingPong:m_e,LoopRepeat:p_e,LuminanceAlphaFormat:o_e,LuminanceFormat:s_e,MOUSE:rqe,Material:Rs,MaterialLoader:zF,MathUtils:ul,Matrix3:aa,Matrix4:Bt,MaxEquation:G8,Mesh:Ui,MeshBasicMaterial:ml,MeshDepthMaterial:TF,MeshDistanceMaterial:RF,MeshLambertMaterial:lX,MeshMatcapMaterial:Q_e,MeshNormalMaterial:q_e,MeshPhongMaterial:VE,MeshPhysicalMaterial:kc,MeshStandardMaterial:L0,MeshToonMaterial:K_e,MinEquation:z8,MirroredRepeatWrapping:CS,MixOperation:$xe,MultiplyBlending:U8,MultiplyOperation:B3,NearestFilter:ss,NearestMipMapLinearFilter:aqe,NearestMipMapNearestFilter:oqe,NearestMipmapLinearFilter:_T,NearestMipmapNearestFilter:xT,NeverDepth:Uxe,NeverStencilFunc:yqe,NoBlending:Dp,NoColorSpace:uqe,NoToneMapping:Uf,NormalAnimationBlendMode:wF,NormalBlending:b1,NotEqualDepth:Wxe,NotEqualStencilFunc:Sqe,NumberKeyframeTrack:O0,Object3D:Pn,ObjectLoader:Grt,ObjectSpaceNormalMap:y_e,OctahedronBufferGeometry:Yit,OctahedronGeometry:mA,OneFactor:Bxe,OneMinusDstAlphaFactor:Lxe,OneMinusDstColorFactor:Fxe,OneMinusSrcAlphaFactor:z$,OneMinusSrcColorFactor:kxe,OrthographicCamera:Ex,PCFShadowMap:xF,PCFSoftShadowMap:UE,PMREMGenerator:fH,Path:MT,PerspectiveCamera:Ms,Plane:yg,PlaneBufferGeometry:Kit,PlaneGeometry:xm,PlaneHelper:Tit,PointLight:PT,PointLightHelper:xit,Points:eX,PointsMaterial:kF,PolarGridHelper:Sit,PolyhedronBufferGeometry:qit,PolyhedronGeometry:_m,PositionalAudio:Krt,PropertyBinding:Tn,PropertyMixer:fbe,QuadraticBezierCurve:iX,QuadraticBezierCurve3:sX,Quaternion:Mi,QuaternionKeyframeTrack:tm,QuaternionLinearInterpolant:rbe,REVISION:P3,RGBADepthPacking:W$,RGBAFormat:cl,RGBAIntegerFormat:f_e,RGBA_ASTC_10x10_Format:sH,RGBA_ASTC_10x5_Format:nH,RGBA_ASTC_10x6_Format:rH,RGBA_ASTC_10x8_Format:iH,RGBA_ASTC_12x10_Format:oH,RGBA_ASTC_12x12_Format:aH,RGBA_ASTC_4x4_Format:J8,RGBA_ASTC_5x4_Format:Y8,RGBA_ASTC_5x5_Format:K8,RGBA_ASTC_6x5_Format:q8,RGBA_ASTC_6x6_Format:Q8,RGBA_ASTC_8x5_Format:Z8,RGBA_ASTC_8x6_Format:eH,RGBA_ASTC_8x8_Format:tH,RGBA_BPTC_Format:lH,RGBA_ETC2_EAC_Format:X8,RGBA_PVRTC_2BPPV1_Format:W8,RGBA_PVRTC_4BPPV1_Format:j8,RGBA_S3TC_DXT1_Format:pk,RGBA_S3TC_DXT3_Format:mk,RGBA_S3TC_DXT5_Format:gk,RGBFormat:i_e,RGB_ETC1_Format:d_e,RGB_ETC2_Format:$8,RGB_PVRTC_2BPPV1_Format:V8,RGB_PVRTC_4BPPV1_Format:H8,RGB_S3TC_DXT1_Format:hk,RGFormat:c_e,RGIntegerFormat:u_e,RawShaderMaterial:Y_e,Ray:k3,Raycaster:hbe,RectAreaLight:obe,RedFormat:a_e,RedIntegerFormat:l_e,ReinhardToneMapping:Yxe,RepeatWrapping:oh,ReplaceStencilOp:dqe,ReverseSubtractEquation:Rxe,RingBufferGeometry:Qit,RingGeometry:V3,SRGBColorSpace:Dd,Scene:dL,ShaderChunk:xn,ShaderLib:Tf,ShaderMaterial:Jf,ShadowMaterial:J_e,Shape:E1,ShapeBufferGeometry:Zit,ShapeGeometry:j3,ShapePath:Bit,ShapeUtils:Kd,ShortType:Zxe,Skeleton:hA,SkeletonHelper:yit,SkinnedMesh:DF,Source:Ky,Sphere:ym,SphereBufferGeometry:est,SphereGeometry:gA,Spherical:pbe,SphericalHarmonics3:abe,SplineCurve:oX,SpotLight:FF,SpotLightHelper:vit,Sprite:L_e,SpriteMaterial:q$,SrcAlphaFactor:U$,SrcAlphaSaturateFactor:Nxe,SrcColorFactor:Dxe,StaticCopyUsage:Pqe,StaticDrawUsage:wT,StaticReadUsage:Cqe,StereoCamera:$rt,StreamCopyUsage:Dqe,StreamDrawUsage:Eqe,StreamReadUsage:Rqe,StringKeyframeTrack:Rx,SubtractEquation:Txe,SubtractiveBlending:N8,TOUCH:iqe,TangentSpaceNormalMap:iv,TetrahedronBufferGeometry:tst,TetrahedronGeometry:W3,Texture:qr,TextureLoader:yA,TorusBufferGeometry:nst,TorusGeometry:$3,TorusKnotBufferGeometry:rst,TorusKnotGeometry:X3,Triangle:Au,TriangleFanDrawMode:cL,TriangleStripDrawMode:j$,TrianglesDrawMode:g_e,TubeBufferGeometry:ist,TubeGeometry:J3,UVMapping:_F,Uint16BufferAttribute:AF,Uint32BufferAttribute:J$,Uint8BufferAttribute:aQe,Uint8ClampedBufferAttribute:lQe,Uniform:bX,UniformsGroup:fit,UniformsLib:St,UniformsUtils:MF,UnsignedByteType:em,UnsignedInt248Type:w1,UnsignedIntType:Lg,UnsignedShort4444Type:t_e,UnsignedShort5551Type:n_e,UnsignedShortType:H$,VSMShadowMap:Xy,Vector2:nt,Vector3:me,Vector4:Sn,VectorKeyframeTrack:F0,VideoTexture:F_e,WebGL1Renderer:k_e,WebGL3DRenderTarget:Kqe,WebGLArrayRenderTarget:Yqe,WebGLCubeRenderTarget:A_e,WebGLMultipleRenderTargets:qqe,WebGLMultisampleRenderTarget:Fit,WebGLRenderTarget:ju,WebGLRenderer:K$,WebGLUtils:P_e,WireframeGeometry:X_e,WrapAroundEnding:bT,ZeroCurvatureEnding:Jy,ZeroFactor:Pxe,ZeroSlopeEnding:Yy,ZeroStencilOp:fqe,_SRGBAFormat:uL,sRGBEncoding:ri},Symbol.toStringTag,{value:"Module"}));var gbe={exports:{}},Px={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Px.ConcurrentRoot=1;Px.ContinuousEventPriority=4;Px.DefaultEventPriority=16;Px.DiscreteEventPriority=1;Px.IdleEventPriority=536870912;Px.LegacyRoot=0;gbe.exports=Px;var uw=gbe.exports;function ost(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),t.forEach(p=>p(e,d))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function p(){const m=u(e);if(!f(d,m)){const g=d;c(d=m,g)}}return t.add(p),()=>t.delete(p)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const ast=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),_ie=ast?Y.useEffect:Y.useLayoutEffect;function vbe(n){const e=typeof n=="function"?ost(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=Y.useReducer(y=>y+1,0),o=e.getState(),a=Y.useRef(o),l=Y.useRef(r),c=Y.useRef(i),u=Y.useRef(!1),f=Y.useRef();f.current===void 0&&(f.current=r(o));let d,p=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(d=r(o),p=!i(f.current,d)),_ie(()=>{p&&(f.current=d),a.current=o,l.current=r,c.current=i,u.current=!1});const m=Y.useRef(o);_ie(()=>{const y=()=>{try{const _=e.getState(),b=l.current(_);c.current(f.current,b)||(a.current=_,f.current=b,s())}catch{u.current=!0,s()}},x=e.subscribe(y);return e.getState()!==m.current&&y(),x},[]);const g=p?d:f.current;return Y.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var ybe={exports:{}},H5={exports:{}},V5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bie;function lst(){return bie||(bie=1,function(n){function e(L,I){var O=L.length;L.push(I);e:for(;0<O;){var F=O-1>>>1,j=L[F];if(0<i(j,I))L[F]=I,L[O]=j,O=F;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var I=L[0],O=L.pop();if(O!==I){L[0]=O;e:for(var F=0,j=L.length,te=j>>>1;F<te;){var re=2*(F+1)-1,se=L[re],K=re+1,le=L[K];if(0>i(se,O))K<j&&0>i(le,se)?(L[F]=le,L[K]=O,F=K):(L[F]=se,L[re]=O,F=re);else if(K<j&&0>i(le,O))L[F]=le,L[K]=O,F=K;else break e}}return I}function i(L,I){var O=L.sortIndex-I.sortIndex;return O!==0?O:L.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var I=t(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=L)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=t(c)}}function w(L){if(g=!1,b(L),!m)if(t(l)!==null)m=!0,X(M);else{var I=t(c);I!==null&&q(w,I.startTime-L)}}function M(L,I){m=!1,g&&(g=!1,x(E),E=-1),p=!0;var O=d;try{for(b(I),f=t(l);f!==null&&(!(f.expirationTime>I)||L&&!N());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var j=F(f.expirationTime<=I);I=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&r(l),b(I)}else r(l);f=t(l)}if(f!==null)var te=!0;else{var re=t(c);re!==null&&q(w,re.startTime-I),te=!1}return te}finally{f=null,d=O,p=!1}}var C=!1,R=null,E=-1,B=5,D=-1;function N(){return!(n.unstable_now()-D<B)}function z(){if(R!==null){var L=n.unstable_now();D=L;var I=!0;try{I=R(!0,L)}finally{I?H():(C=!1,R=null)}}else C=!1}var H;if(typeof _=="function")H=function(){_(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=z,H=function(){W.postMessage(null)}}else H=function(){y(z,0)};function X(L){R=L,C||(C=!0,H())}function q(L,I){E=y(function(){L(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,X(M))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var O=d;d=I;try{return L()}finally{d=O}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,I){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var O=d;d=L;try{return I()}finally{d=O}},n.unstable_scheduleCallback=function(L,I,O){var F=n.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?F+O:F):O=F,L){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=O+j,L={id:u++,callback:I,priorityLevel:L,startTime:O,expirationTime:j,sortIndex:-1},O>F?(L.sortIndex=O,e(c,L),t(l)===null&&L===t(c)&&(g?(x(E),E=-1):g=!0,q(w,O-F))):(L.sortIndex=j,e(l,L),m||p||(m=!0,X(M))),L},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(L){var I=d;return function(){var O=d;d=I;try{return L.apply(this,arguments)}finally{d=O}}}}(V5)),V5}var wie;function cst(){return wie||(wie=1,H5.exports=lst()),H5.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ust=function(e){var t={},r=Y,i=cst(),s=Object.assign;function o(h){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+h,A=1;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+h+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),M=Symbol.iterator;function C(h){return h===null||typeof h!="object"?null:(h=M&&h[M]||h["@@iterator"],typeof h=="function"?h:null)}function R(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case m:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case g:var v=h.render;return h=h.displayName,h||(h=v.displayName||v.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return v=h.displayName||null,v!==null?v:R(h.type)||"Memo";case b:v=h._payload,h=h._init;try{return R(h(v))}catch{}}return null}function E(h){var v=h.type;switch(h.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=v.render,h=h.displayName||h.name||"",v.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(v);case 8:return v===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function B(h){var v=h,A=h;if(h.alternate)for(;v.return;)v=v.return;else{h=v;do v=h,v.flags&4098&&(A=v.return),h=v.return;while(h)}return v.tag===3?A:null}function D(h){if(B(h)!==h)throw Error(o(188))}function N(h){var v=h.alternate;if(!v){if(v=B(h),v===null)throw Error(o(188));return v!==h?null:h}for(var A=h,T=v;;){var P=A.return;if(P===null)break;var G=P.alternate;if(G===null){if(T=P.return,T!==null){A=T;continue}break}if(P.child===G.child){for(G=P.child;G;){if(G===A)return D(P),h;if(G===T)return D(P),v;G=G.sibling}throw Error(o(188))}if(A.return!==T.return)A=P,T=G;else{for(var Z=!1,de=P.child;de;){if(de===A){Z=!0,A=P,T=G;break}if(de===T){Z=!0,T=P,A=G;break}de=de.sibling}if(!Z){for(de=G.child;de;){if(de===A){Z=!0,A=G,T=P;break}if(de===T){Z=!0,T=G,A=P;break}de=de.sibling}if(!Z)throw Error(o(189))}}if(A.alternate!==T)throw Error(o(190))}if(A.tag!==3)throw Error(o(188));return A.stateNode.current===A?h:v}function z(h){return h=N(h),h!==null?H(h):null}function H(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var v=H(h);if(v!==null)return v;h=h.sibling}return null}function U(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var v=U(h);if(v!==null)return v}h=h.sibling}return null}var W=Array.isArray,X=e.getPublicInstance,q=e.getRootHostContext,L=e.getChildHostContext,I=e.prepareForCommit,O=e.resetAfterCommit,F=e.createInstance,j=e.appendInitialChild,te=e.finalizeInitialChildren,re=e.prepareUpdate,se=e.shouldSetTextContent,K=e.createTextInstance,le=e.scheduleTimeout,he=e.cancelTimeout,we=e.noTimeout,ve=e.isPrimaryRenderer,fe=e.supportsMutation,ne=e.supportsPersistence,oe=e.supportsHydration,Te=e.getInstanceFromNode,be=e.preparePortalMount,Ce=e.getCurrentEventPriority,We=e.detachDeletedInstance,Se=e.supportsMicrotasks,ke=e.scheduleMicrotask,Ve=e.supportsTestSelectors,Ee=e.findFiberRoot,V=e.getBoundingRect,k=e.getTextContent,Q=e.isHiddenSubtree,ce=e.matchAccessibilityRole,Me=e.setFocusIfFocusable,Re=e.setupIntersectionObserver,Ue=e.appendChild,Pe=e.appendChildToContainer,xe=e.commitTextUpdate,Xe=e.commitMount,Ge=e.commitUpdate,je=e.insertBefore,He=e.insertInContainerBefore,Oe=e.removeChild,qe=e.removeChildFromContainer,tt=e.resetTextContent,pt=e.hideInstance,ee=e.hideTextInstance,ye=e.unhideInstance,Ie=e.unhideTextInstance,Je=e.clearContainer,et=e.cloneInstance,mt=e.createContainerChildSet,Dt=e.appendChildToContainerChildSet,Nt=e.finalizeContainerChildren,Ot=e.replaceContainerChildren,Ft=e.cloneHiddenInstance,kt=e.cloneHiddenTextInstance,Tt=e.canHydrateInstance,Xn=e.canHydrateTextInstance,Un=e.canHydrateSuspenseInstance,Ut=e.isSuspenseInstancePending,dn=e.isSuspenseInstanceFallback,$=e.registerSuspenseInstanceRetry,ae=e.getNextHydratableSibling,_e=e.getFirstHydratableChild,ie=e.getFirstHydratableChildWithinContainer,Ae=e.getFirstHydratableChildWithinSuspenseInstance,Qe=e.hydrateInstance,st=e.hydrateTextInstance,gt=e.hydrateSuspenseInstance,ht=e.getNextHydratableInstanceAfterSuspenseInstance,Pt=e.commitHydratedContainer,xt=e.commitHydratedSuspenseInstance,At=e.clearSuspenseBoundary,Qt=e.clearSuspenseBoundaryFromContainer,tr=e.shouldDeleteUnhydratedTailInstances,kr=e.didNotMatchHydratedContainerTextInstance,hr=e.didNotMatchHydratedTextInstance,Ke;function _t(h){if(Ke===void 0)try{throw Error()}catch(A){var v=A.stack.trim().match(/\n( *(at )?)/);Ke=v&&v[1]||""}return`
`+Ke+h}var Ir=!1;function fn(h,v){if(!h||Ir)return"";Ir=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(Ye){var T=Ye}Reflect.construct(h,[],v)}else{try{v.call()}catch(Ye){T=Ye}h.call(v.prototype)}else{try{throw Error()}catch(Ye){T=Ye}h()}}catch(Ye){if(Ye&&T&&typeof Ye.stack=="string"){for(var P=Ye.stack.split(`
`),G=T.stack.split(`
`),Z=P.length-1,de=G.length-1;1<=Z&&0<=de&&P[Z]!==G[de];)de--;for(;1<=Z&&0<=de;Z--,de--)if(P[Z]!==G[de]){if(Z!==1||de!==1)do if(Z--,de--,0>de||P[Z]!==G[de]){var Le=`
`+P[Z].replace(" at new "," at ");return h.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",h.displayName)),Le}while(1<=Z&&0<=de);break}}}finally{Ir=!1,Error.prepareStackTrace=A}return(h=h?h.displayName||h.name:"")?_t(h):""}var pn=Object.prototype.hasOwnProperty,Wn=[],Gn=-1;function Yt(h){return{current:h}}function lt(h){0>Gn||(h.current=Wn[Gn],Wn[Gn]=null,Gn--)}function Jt(h,v){Gn++,Wn[Gn]=h.current,h.current=v}var hn={},Vt=Yt(hn),An=Yt(!1),Qr=hn;function _n(h,v){var A=h.type.contextTypes;if(!A)return hn;var T=h.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===v)return T.__reactInternalMemoizedMaskedChildContext;var P={},G;for(G in A)P[G]=v[G];return T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=v,h.__reactInternalMemoizedMaskedChildContext=P),P}function pr(h){return h=h.childContextTypes,h!=null}function ji(){lt(An),lt(Vt)}function Ll(h,v,A){if(Vt.current!==hn)throw Error(o(168));Jt(Vt,v),Jt(An,A)}function xa(h,v,A){var T=h.stateNode;if(v=v.childContextTypes,typeof T.getChildContext!="function")return A;T=T.getChildContext();for(var P in T)if(!(P in v))throw Error(o(108,E(h)||"Unknown",P));return s({},A,T)}function _a(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||hn,Qr=Vt.current,Jt(Vt,h),Jt(An,An.current),!0}function zn(h,v,A){var T=h.stateNode;if(!T)throw Error(o(169));A?(h=xa(h,v,Qr),T.__reactInternalMemoizedMergedChildContext=h,lt(An),lt(Vt),Jt(Vt,h)):lt(An),Jt(An,A)}var wo=Math.clz32?Math.clz32:Lc,Ol=Math.log,ba=Math.LN2;function Lc(h){return h>>>=0,h===0?32:31-(Ol(h)/ba|0)|0}var Ps=64,cs=4194304;function Ks(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Oc(h,v){var A=h.pendingLanes;if(A===0)return 0;var T=0,P=h.suspendedLanes,G=h.pingedLanes,Z=A&268435455;if(Z!==0){var de=Z&~P;de!==0?T=Ks(de):(G&=Z,G!==0&&(T=Ks(G)))}else Z=A&~P,Z!==0?T=Ks(Z):G!==0&&(T=Ks(G));if(T===0)return 0;if(v!==0&&v!==T&&!(v&P)&&(P=T&-T,G=v&-v,P>=G||P===16&&(G&4194240)!==0))return v;if(T&4&&(T|=A&16),v=h.entangledLanes,v!==0)for(h=h.entanglements,v&=T;0<v;)A=31-wo(v),P=1<<A,T|=h[A],v&=~P;return T}function dh(h,v){switch(h){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fl(h,v){for(var A=h.suspendedLanes,T=h.pingedLanes,P=h.expirationTimes,G=h.pendingLanes;0<G;){var Z=31-wo(G),de=1<<Z,Le=P[Z];Le===-1?(!(de&A)||de&T)&&(P[Z]=dh(de,v)):Le<=v&&(h.expiredLanes|=de),G&=~de}}function Bs(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function wa(h){for(var v=[],A=0;31>A;A++)v.push(h);return v}function So(h,v,A){h.pendingLanes|=v,v!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,v=31-wo(v),h[v]=A}function Ds(h,v){var A=h.pendingLanes&~v;h.pendingLanes=v,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=v,h.mutableReadLanes&=v,h.entangledLanes&=v,v=h.entanglements;var T=h.eventTimes;for(h=h.expirationTimes;0<A;){var P=31-wo(A),G=1<<P;v[P]=0,T[P]=-1,h[P]=-1,A&=~G}}function tn(h,v){var A=h.entangledLanes|=v;for(h=h.entanglements;A;){var T=31-wo(A),P=1<<T;P&v|h[T]&v&&(h[T]|=v),A&=~P}}var ln=0;function Fc(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var qs=i.unstable_scheduleCallback,Nc=i.unstable_cancelCallback,Ku=i.unstable_shouldYield,br=i.unstable_requestPaint,Kn=i.unstable_now,Nl=i.unstable_ImmediatePriority,qu=i.unstable_UserBlockingPriority,nr=i.unstable_NormalPriority,qa=i.unstable_IdlePriority,Wi=null,Qs=null;function Qu(h){if(Qs&&typeof Qs.onCommitFiberRoot=="function")try{Qs.onCommitFiberRoot(Wi,h,void 0,(h.current.flags&128)===128)}catch{}}function Zs(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var wr=typeof Object.is=="function"?Object.is:Zs,Sr=null,us=!1,Zr=!1;function od(h){Sr===null?Sr=[h]:Sr.push(h)}function fs(h){us=!0,od(h)}function ds(){if(!Zr&&Sr!==null){Zr=!0;var h=0,v=ln;try{var A=Sr;for(ln=1;h<A.length;h++){var T=A[h];do T=T(!0);while(T!==null)}Sr=null,us=!1}catch(P){throw Sr!==null&&(Sr=Sr.slice(h+1)),qs(Nl,ds),P}finally{ln=v,Zr=!1}}return null}var eo=a.ReactCurrentBatchConfig;function Uc(h,v){if(wr(h,v))return!0;if(typeof h!="object"||h===null||typeof v!="object"||v===null)return!1;var A=Object.keys(h),T=Object.keys(v);if(A.length!==T.length)return!1;for(T=0;T<A.length;T++){var P=A[T];if(!pn.call(v,P)||!wr(h[P],v[P]))return!1}return!0}function Lr(h){switch(h.tag){case 5:return _t(h.type);case 16:return _t("Lazy");case 13:return _t("Suspense");case 19:return _t("SuspenseList");case 0:case 2:case 15:return h=fn(h.type,!1),h;case 11:return h=fn(h.type.render,!1),h;case 1:return h=fn(h.type,!0),h;default:return""}}function ei(h,v){if(h&&h.defaultProps){v=s({},v),h=h.defaultProps;for(var A in h)v[A]===void 0&&(v[A]=h[A]);return v}return v}var Bn=Yt(null),Sa=null,hs=null,Ao=null;function zc(){Ao=hs=Sa=null}function ad(h,v,A){ve?(Jt(Bn,v._currentValue),v._currentValue=A):(Jt(Bn,v._currentValue2),v._currentValue2=A)}function Dn(h){var v=Bn.current;lt(Bn),ve?h._currentValue=v:h._currentValue2=v}function $n(h,v,A){for(;h!==null;){var T=h.alternate;if((h.childLanes&v)!==v?(h.childLanes|=v,T!==null&&(T.childLanes|=v)):T!==null&&(T.childLanes&v)!==v&&(T.childLanes|=v),h===A)break;h=h.return}}function nn(h,v){Sa=h,Ao=hs=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&v&&(ir=!0),h.firstContext=null)}function mn(h){var v=ve?h._currentValue:h._currentValue2;if(Ao!==h)if(h={context:h,memoizedValue:v,next:null},hs===null){if(Sa===null)throw Error(o(308));hs=h,Sa.dependencies={lanes:0,firstContext:h}}else hs=hs.next=h;return v}var Or=null,Gc=!1;function Lx(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hc(h,v){h=h.updateQueue,v.updateQueue===h&&(v.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function to(h,v){return{eventTime:h,lane:v,tag:0,payload:null,callback:null,next:null}}function Ul(h,v){var A=h.updateQueue;A!==null&&(A=A.shared,gn!==null&&h.mode&1&&!(Xt&2)?(h=A.interleaved,h===null?(v.next=v,Or===null?Or=[A]:Or.push(A)):(v.next=h.next,h.next=v),A.interleaved=v):(h=A.pending,h===null?v.next=v:(v.next=h.next,h.next=v),A.pending=v))}function fv(h,v,A){if(v=v.updateQueue,v!==null&&(v=v.shared,(A&4194240)!==0)){var T=v.lanes;T&=h.pendingLanes,A|=T,v.lanes=A,tn(h,A)}}function dv(h,v){var A=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,A===T)){var P=null,G=null;if(A=A.firstBaseUpdate,A!==null){do{var Z={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};G===null?P=G=Z:G=G.next=Z,A=A.next}while(A!==null);G===null?P=G=v:G=G.next=v}else P=G=v;A={baseState:T.baseState,firstBaseUpdate:P,lastBaseUpdate:G,shared:T.shared,effects:T.effects},h.updateQueue=A;return}h=A.lastBaseUpdate,h===null?A.firstBaseUpdate=v:h.next=v,A.lastBaseUpdate=v}function hv(h,v,A,T){var P=h.updateQueue;Gc=!1;var G=P.firstBaseUpdate,Z=P.lastBaseUpdate,de=P.shared.pending;if(de!==null){P.shared.pending=null;var Le=de,Ye=Le.next;Le.next=null,Z===null?G=Ye:Z.next=Ye,Z=Le;var it=h.alternate;it!==null&&(it=it.updateQueue,de=it.lastBaseUpdate,de!==Z&&(de===null?it.firstBaseUpdate=Ye:de.next=Ye,it.lastBaseUpdate=Le))}if(G!==null){var at=P.baseState;Z=0,it=Ye=Le=null,de=G;do{var bt=de.lane,vt=de.eventTime;if((T&bt)===bt){it!==null&&(it=it.next={eventTime:vt,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var Rt=h,sr=de;switch(bt=v,vt=A,sr.tag){case 1:if(Rt=sr.payload,typeof Rt=="function"){at=Rt.call(vt,at,bt);break e}at=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=sr.payload,bt=typeof Rt=="function"?Rt.call(vt,at,bt):Rt,bt==null)break e;at=s({},at,bt);break e;case 2:Gc=!0}}de.callback!==null&&de.lane!==0&&(h.flags|=64,bt=P.effects,bt===null?P.effects=[de]:bt.push(de))}else vt={eventTime:vt,lane:bt,tag:de.tag,payload:de.payload,callback:de.callback,next:null},it===null?(Ye=it=vt,Le=at):it=it.next=vt,Z|=bt;if(de=de.next,de===null){if(de=P.shared.pending,de===null)break;bt=de,de=bt.next,bt.next=null,P.lastBaseUpdate=bt,P.shared.pending=null}}while(!0);if(it===null&&(Le=at),P.baseState=Le,P.firstBaseUpdate=Ye,P.lastBaseUpdate=it,v=P.shared.interleaved,v!==null){P=v;do Z|=P.lane,P=P.next;while(P!==v)}else G===null&&(P.shared.lanes=0);rf|=Z,h.lanes=Z,h.memoizedState=at}}function CA(h,v,A){if(h=v.effects,v.effects=null,h!==null)for(v=0;v<h.length;v++){var T=h[v],P=T.callback;if(P!==null){if(T.callback=null,T=A,typeof P!="function")throw Error(o(191,P));P.call(T)}}}var Ox=new r.Component().refs;function Sm(h,v,A,T){v=h.memoizedState,A=A(T,v),A=A==null?v:s({},v,A),h.memoizedState=A,h.lanes===0&&(h.updateQueue.baseState=A)}var pv={isMounted:function(h){return(h=h._reactInternals)?B(h)===h:!1},enqueueSetState:function(h,v,A){h=h._reactInternals;var T=ti(),P=$i(h),G=to(T,P);G.payload=v,A!=null&&(G.callback=A),Ul(h,G),v=Do(h,P,T),v!==null&&fv(v,h,P)},enqueueReplaceState:function(h,v,A){h=h._reactInternals;var T=ti(),P=$i(h),G=to(T,P);G.tag=1,G.payload=v,A!=null&&(G.callback=A),Ul(h,G),v=Do(h,P,T),v!==null&&fv(v,h,P)},enqueueForceUpdate:function(h,v){h=h._reactInternals;var A=ti(),T=$i(h),P=to(A,T);P.tag=2,v!=null&&(P.callback=v),Ul(h,P),v=Do(h,T,A),v!==null&&fv(v,h,T)}};function TA(h,v,A,T,P,G,Z){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,G,Z):v.prototype&&v.prototype.isPureReactComponent?!Uc(A,T)||!Uc(P,G):!0}function RA(h,v,A){var T=!1,P=hn,G=v.contextType;return typeof G=="object"&&G!==null?G=mn(G):(P=pr(v)?Qr:Vt.current,T=v.contextTypes,G=(T=T!=null)?_n(h,P):hn),v=new v(A,G),h.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=pv,h.stateNode=v,v._reactInternals=h,T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=P,h.__reactInternalMemoizedMaskedChildContext=G),v}function Fx(h,v,A,T){h=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(A,T),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(A,T),v.state!==h&&pv.enqueueReplaceState(v,v.state,null)}function ld(h,v,A,T){var P=h.stateNode;P.props=A,P.state=h.memoizedState,P.refs=Ox,Lx(h);var G=v.contextType;typeof G=="object"&&G!==null?P.context=mn(G):(G=pr(v)?Qr:Vt.current,P.context=_n(h,G)),P.state=h.memoizedState,G=v.getDerivedStateFromProps,typeof G=="function"&&(Sm(h,v,G,A),P.state=h.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(v=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),v!==P.state&&pv.enqueueReplaceState(P,P.state,null),hv(h,A,P,T),P.state=h.memoizedState),typeof P.componentDidMount=="function"&&(h.flags|=4194308)}var zl=[],Zu=0,hh=null,Mo=0,Fr=[],ps=0,Eo=null,ks=1,Co="";function cd(h,v){zl[Zu++]=Mo,zl[Zu++]=hh,hh=h,Mo=v}function Nx(h,v,A){Fr[ps++]=ks,Fr[ps++]=Co,Fr[ps++]=Eo,Eo=h;var T=ks;h=Co;var P=32-wo(T)-1;T&=~(1<<P),A+=1;var G=32-wo(v)+P;if(30<G){var Z=P-P%5;G=(T&(1<<Z)-1).toString(32),T>>=Z,P-=Z,ks=1<<32-wo(v)+P|A<<P|T,Co=G+h}else ks=1<<G|A<<P|T,Co=h}function mv(h){h.return!==null&&(cd(h,1),Nx(h,1,0))}function To(h){for(;h===hh;)hh=zl[--Zu],zl[Zu]=null,Mo=zl[--Zu],zl[Zu]=null;for(;h===Eo;)Eo=Fr[--ps],Fr[ps]=null,Co=Fr[--ps],Fr[ps]=null,ks=Fr[--ps],Fr[ps]=null}var mr=null,Mn=null,er=!1,Ro=!1,Qa=null;function PA(h,v){var A=$o(5,null,null,0);A.elementType="DELETED",A.stateNode=v,A.return=h,v=h.deletions,v===null?(h.deletions=[A],h.flags|=16):v.push(A)}function Ux(h,v){switch(h.tag){case 5:return v=Tt(v,h.type,h.pendingProps),v!==null?(h.stateNode=v,mr=h,Mn=_e(v),!0):!1;case 6:return v=Xn(v,h.pendingProps),v!==null?(h.stateNode=v,mr=h,Mn=null,!0):!1;case 13:if(v=Un(v),v!==null){var A=Eo!==null?{id:ks,overflow:Co}:null;return h.memoizedState={dehydrated:v,treeContext:A,retryLane:1073741824},A=$o(18,null,null,0),A.stateNode=v,A.return=h,h.child=A,mr=h,Mn=null,!0}return!1;default:return!1}}function gv(h){return(h.mode&1)!==0&&(h.flags&128)===0}function zx(h){if(er){var v=Mn;if(v){var A=v;if(!Ux(h,v)){if(gv(h))throw Error(o(418));v=ae(A);var T=mr;v&&Ux(h,v)?PA(T,A):(h.flags=h.flags&-4097|2,er=!1,mr=h)}}else{if(gv(h))throw Error(o(418));h.flags=h.flags&-4097|2,er=!1,mr=h}}}function Am(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;mr=h}function Vc(h){if(!oe||h!==mr)return!1;if(!er)return Am(h),er=!0,!1;if(h.tag!==3&&(h.tag!==5||tr(h.type)&&!se(h.type,h.memoizedProps))){var v=Mn;if(v){if(gv(h)){for(h=Mn;h;)h=ae(h);throw Error(o(418))}for(;v;)PA(h,v),v=ae(v)}}if(Am(h),h.tag===13){if(!oe)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Mn=ht(h)}else Mn=mr?ae(h.stateNode):null;return!0}function ud(){oe&&(Mn=mr=null,Ro=er=!1)}function ph(h){Qa===null?Qa=[h]:Qa.push(h)}function fd(h,v,A){if(h=A.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(o(309));var T=A.stateNode}if(!T)throw Error(o(147,h));var P=T,G=""+h;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===G?v.ref:(v=function(Z){var de=P.refs;de===Ox&&(de=P.refs={}),Z===null?delete de[G]:de[G]=Z},v._stringRef=G,v)}if(typeof h!="string")throw Error(o(284));if(!A._owner)throw Error(o(290,h))}return h}function vv(h,v){throw h=Object.prototype.toString.call(v),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":h))}function BA(h){var v=h._init;return v(h._payload)}function mh(h){function v(ue,pe){if(h){var ze=ue.deletions;ze===null?(ue.deletions=[pe],ue.flags|=16):ze.push(pe)}}function A(ue,pe){if(!h)return null;for(;pe!==null;)v(ue,pe),pe=pe.sibling;return null}function T(ue,pe){for(ue=new Map;pe!==null;)pe.key!==null?ue.set(pe.key,pe):ue.set(pe.index,pe),pe=pe.sibling;return ue}function P(ue,pe){return ue=Jl(ue,pe),ue.index=0,ue.sibling=null,ue}function G(ue,pe,ze){return ue.index=ze,h?(ze=ue.alternate,ze!==null?(ze=ze.index,ze<pe?(ue.flags|=2,pe):ze):(ue.flags|=2,pe)):(ue.flags|=1048576,pe)}function Z(ue){return h&&ue.alternate===null&&(ue.flags|=2),ue}function de(ue,pe,ze,Ze){return pe===null||pe.tag!==6?(pe=Nv(ze,ue.mode,Ze),pe.return=ue,pe):(pe=P(pe,ze),pe.return=ue,pe)}function Le(ue,pe,ze,Ze){var ot=ze.type;return ot===u?it(ue,pe,ze.props.children,Ze,ze.key):pe!==null&&(pe.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&BA(ot)===pe.type)?(Ze=P(pe,ze.props),Ze.ref=fd(ue,pe,ze),Ze.return=ue,Ze):(Ze=Kc(ze.type,ze.key,ze.props,null,ue.mode,Ze),Ze.ref=fd(ue,pe,ze),Ze.return=ue,Ze)}function Ye(ue,pe,ze,Ze){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==ze.containerInfo||pe.stateNode.implementation!==ze.implementation?(pe=vM(ze,ue.mode,Ze),pe.return=ue,pe):(pe=P(pe,ze.children||[]),pe.return=ue,pe)}function it(ue,pe,ze,Ze,ot){return pe===null||pe.tag!==7?(pe=qc(ze,ue.mode,Ze,ot),pe.return=ue,pe):(pe=P(pe,ze),pe.return=ue,pe)}function at(ue,pe,ze){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=Nv(""+pe,ue.mode,ze),pe.return=ue,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return ze=Kc(pe.type,pe.key,pe.props,null,ue.mode,ze),ze.ref=fd(ue,null,pe),ze.return=ue,ze;case c:return pe=vM(pe,ue.mode,ze),pe.return=ue,pe;case b:var Ze=pe._init;return at(ue,Ze(pe._payload),ze)}if(W(pe)||C(pe))return pe=qc(pe,ue.mode,ze,null),pe.return=ue,pe;vv(ue,pe)}return null}function bt(ue,pe,ze,Ze){var ot=pe!==null?pe.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number")return ot!==null?null:de(ue,pe,""+ze,Ze);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case l:return ze.key===ot?Le(ue,pe,ze,Ze):null;case c:return ze.key===ot?Ye(ue,pe,ze,Ze):null;case b:return ot=ze._init,bt(ue,pe,ot(ze._payload),Ze)}if(W(ze)||C(ze))return ot!==null?null:it(ue,pe,ze,Ze,null);vv(ue,ze)}return null}function vt(ue,pe,ze,Ze,ot){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return ue=ue.get(ze)||null,de(pe,ue,""+Ze,ot);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case l:return ue=ue.get(Ze.key===null?ze:Ze.key)||null,Le(pe,ue,Ze,ot);case c:return ue=ue.get(Ze.key===null?ze:Ze.key)||null,Ye(pe,ue,Ze,ot);case b:var yt=Ze._init;return vt(ue,pe,ze,yt(Ze._payload),ot)}if(W(Ze)||C(Ze))return ue=ue.get(ze)||null,it(pe,ue,Ze,ot,null);vv(pe,Ze)}return null}function Rt(ue,pe,ze,Ze){for(var ot=null,yt=null,Et=pe,Zt=pe=0,en=null;Et!==null&&Zt<ze.length;Zt++){Et.index>Zt?(en=Et,Et=null):en=Et.sibling;var vn=bt(ue,Et,ze[Zt],Ze);if(vn===null){Et===null&&(Et=en);break}h&&Et&&vn.alternate===null&&v(ue,Et),pe=G(vn,pe,Zt),yt===null?ot=vn:yt.sibling=vn,yt=vn,Et=en}if(Zt===ze.length)return A(ue,Et),er&&cd(ue,Zt),ot;if(Et===null){for(;Zt<ze.length;Zt++)Et=at(ue,ze[Zt],Ze),Et!==null&&(pe=G(Et,pe,Zt),yt===null?ot=Et:yt.sibling=Et,yt=Et);return er&&cd(ue,Zt),ot}for(Et=T(ue,Et);Zt<ze.length;Zt++)en=vt(Et,ue,Zt,ze[Zt],Ze),en!==null&&(h&&en.alternate!==null&&Et.delete(en.key===null?Zt:en.key),pe=G(en,pe,Zt),yt===null?ot=en:yt.sibling=en,yt=en);return h&&Et.forEach(function(Sd){return v(ue,Sd)}),er&&cd(ue,Zt),ot}function sr(ue,pe,ze,Ze){var ot=C(ze);if(typeof ot!="function")throw Error(o(150));if(ze=ot.call(ze),ze==null)throw Error(o(151));for(var yt=ot=null,Et=pe,Zt=pe=0,en=null,vn=ze.next();Et!==null&&!vn.done;Zt++,vn=ze.next()){Et.index>Zt?(en=Et,Et=null):en=Et.sibling;var Sd=bt(ue,Et,vn.value,Ze);if(Sd===null){Et===null&&(Et=en);break}h&&Et&&Sd.alternate===null&&v(ue,Et),pe=G(Sd,pe,Zt),yt===null?ot=Sd:yt.sibling=Sd,yt=Sd,Et=en}if(vn.done)return A(ue,Et),er&&cd(ue,Zt),ot;if(Et===null){for(;!vn.done;Zt++,vn=ze.next())vn=at(ue,vn.value,Ze),vn!==null&&(pe=G(vn,pe,Zt),yt===null?ot=vn:yt.sibling=vn,yt=vn);return er&&cd(ue,Zt),ot}for(Et=T(ue,Et);!vn.done;Zt++,vn=ze.next())vn=vt(Et,ue,Zt,vn.value,Ze),vn!==null&&(h&&vn.alternate!==null&&Et.delete(vn.key===null?Zt:vn.key),pe=G(vn,pe,Zt),yt===null?ot=vn:yt.sibling=vn,yt=vn);return h&&Et.forEach(function(sEe){return v(ue,sEe)}),er&&cd(ue,Zt),ot}function $e(ue,pe,ze,Ze){if(typeof ze=="object"&&ze!==null&&ze.type===u&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case l:e:{for(var ot=ze.key,yt=pe;yt!==null;){if(yt.key===ot){if(ot=ze.type,ot===u){if(yt.tag===7){A(ue,yt.sibling),pe=P(yt,ze.props.children),pe.return=ue,ue=pe;break e}}else if(yt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&BA(ot)===yt.type){A(ue,yt.sibling),pe=P(yt,ze.props),pe.ref=fd(ue,yt,ze),pe.return=ue,ue=pe;break e}A(ue,yt);break}else v(ue,yt);yt=yt.sibling}ze.type===u?(pe=qc(ze.props.children,ue.mode,Ze,ze.key),pe.return=ue,ue=pe):(Ze=Kc(ze.type,ze.key,ze.props,null,ue.mode,Ze),Ze.ref=fd(ue,pe,ze),Ze.return=ue,ue=Ze)}return Z(ue);case c:e:{for(yt=ze.key;pe!==null;){if(pe.key===yt)if(pe.tag===4&&pe.stateNode.containerInfo===ze.containerInfo&&pe.stateNode.implementation===ze.implementation){A(ue,pe.sibling),pe=P(pe,ze.children||[]),pe.return=ue,ue=pe;break e}else{A(ue,pe);break}else v(ue,pe);pe=pe.sibling}pe=vM(ze,ue.mode,Ze),pe.return=ue,ue=pe}return Z(ue);case b:return yt=ze._init,$e(ue,pe,yt(ze._payload),Ze)}if(W(ze))return Rt(ue,pe,ze,Ze);if(C(ze))return sr(ue,pe,ze,Ze);vv(ue,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"?(ze=""+ze,pe!==null&&pe.tag===6?(A(ue,pe.sibling),pe=P(pe,ze),pe.return=ue,ue=pe):(A(ue,pe),pe=Nv(ze,ue.mode,Ze),pe.return=ue,ue=pe),Z(ue)):A(ue,pe)}return $e}var gh=mh(!0),Mm=mh(!1),no={},ro=Yt(no),jc=Yt(no),Po=Yt(no);function Za(h){if(h===no)throw Error(o(174));return h}function dd(h,v){Jt(Po,v),Jt(jc,h),Jt(ro,no),h=q(v),lt(ro),Jt(ro,h)}function vh(){lt(ro),lt(jc),lt(Po)}function Gx(h){var v=Za(Po.current),A=Za(ro.current);v=L(A,h.type,v),A!==v&&(Jt(jc,h),Jt(ro,v))}function gr(h){jc.current===h&&(lt(ro),lt(jc))}var lr=Yt(0);function Em(h){for(var v=h;v!==null;){if(v.tag===13){var A=v.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||Ut(A)||dn(A)))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if(v.flags&128)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var yv=[];function Cm(){for(var h=0;h<yv.length;h++){var v=yv[h];ve?v._workInProgressVersionPrimary=null:v._workInProgressVersionSecondary=null}yv.length=0}var Bo=a.ReactCurrentDispatcher,Is=a.ReactCurrentBatchConfig,rr=0,bn=null,Hn=null,ui=null,hd=!1,ef=!1,xv=0,io=0;function ms(){throw Error(o(321))}function _v(h,v){if(v===null)return!1;for(var A=0;A<v.length&&A<h.length;A++)if(!wr(h[A],v[A]))return!1;return!0}function bv(h,v,A,T,P,G){if(rr=G,bn=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Bo.current=h===null||h.memoizedState===null?f4:d4,h=A(T,P),ef){G=0;do{if(ef=!1,xv=0,25<=G)throw Error(o(301));G+=1,ui=Hn=null,v.updateQueue=null,Bo.current=jA,h=A(T,P)}while(ef)}if(Bo.current=Wx,v=Hn!==null&&Hn.next!==null,rr=0,ui=Hn=bn=null,hd=!1,v)throw Error(o(300));return h}function Gl(){var h=xv!==0;return xv=0,h}function gs(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?bn.memoizedState=ui=h:ui=ui.next=h,ui}function so(){if(Hn===null){var h=bn.alternate;h=h!==null?h.memoizedState:null}else h=Hn.next;var v=ui===null?bn.memoizedState:ui.next;if(v!==null)ui=v,Hn=h;else{if(h===null)throw Error(o(310));Hn=h,h={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},ui===null?bn.memoizedState=ui=h:ui=ui.next=h}return ui}function Wc(h,v){return typeof v=="function"?v(h):v}function yh(h){var v=so(),A=v.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=h;var T=Hn,P=T.baseQueue,G=A.pending;if(G!==null){if(P!==null){var Z=P.next;P.next=G.next,G.next=Z}T.baseQueue=P=G,A.pending=null}if(P!==null){G=P.next,T=T.baseState;var de=Z=null,Le=null,Ye=G;do{var it=Ye.lane;if((rr&it)===it)Le!==null&&(Le=Le.next={lane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),T=Ye.hasEagerState?Ye.eagerState:h(T,Ye.action);else{var at={lane:it,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null};Le===null?(de=Le=at,Z=T):Le=Le.next=at,bn.lanes|=it,rf|=it}Ye=Ye.next}while(Ye!==null&&Ye!==G);Le===null?Z=T:Le.next=de,wr(T,v.memoizedState)||(ir=!0),v.memoizedState=T,v.baseState=Z,v.baseQueue=Le,A.lastRenderedState=T}if(h=A.interleaved,h!==null){P=h;do G=P.lane,bn.lanes|=G,rf|=G,P=P.next;while(P!==h)}else P===null&&(A.lanes=0);return[v.memoizedState,A.dispatch]}function wv(h){var v=so(),A=v.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=h;var T=A.dispatch,P=A.pending,G=v.memoizedState;if(P!==null){A.pending=null;var Z=P=P.next;do G=h(G,Z.action),Z=Z.next;while(Z!==P);wr(G,v.memoizedState)||(ir=!0),v.memoizedState=G,v.baseQueue===null&&(v.baseState=G),A.lastRenderedState=G}return[G,T]}function DA(){}function kA(h,v){var A=bn,T=so(),P=v(),G=!wr(T.memoizedState,P);if(G&&(T.memoizedState=P,ir=!0),T=T.queue,Pm(OA.bind(null,A,T,h),[h]),T.getSnapshot!==v||G||ui!==null&&ui.memoizedState.tag&1){if(A.flags|=2048,Tm(9,LA.bind(null,A,T,P,v),void 0,null),gn===null)throw Error(o(349));rr&30||IA(A,v,P)}return P}function IA(h,v,A){h.flags|=16384,h={getSnapshot:v,value:A},v=bn.updateQueue,v===null?(v={lastEffect:null,stores:null},bn.updateQueue=v,v.stores=[h]):(A=v.stores,A===null?v.stores=[h]:A.push(h))}function LA(h,v,A,T){v.value=A,v.getSnapshot=T,Hx(v)&&Do(h,1,-1)}function OA(h,v,A){return A(function(){Hx(v)&&Do(h,1,-1)})}function Hx(h){var v=h.getSnapshot;h=h.value;try{var A=v();return!wr(h,A)}catch{return!0}}function xh(h){var v=gs();return typeof h=="function"&&(h=h()),v.memoizedState=v.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:h},v.queue=h,h=h.dispatch=pR.bind(null,bn,h),[v.memoizedState,h]}function Tm(h,v,A,T){return h={tag:h,create:v,destroy:A,deps:T,next:null},v=bn.updateQueue,v===null?(v={lastEffect:null,stores:null},bn.updateQueue=v,v.lastEffect=h.next=h):(A=v.lastEffect,A===null?v.lastEffect=h.next=h:(T=A.next,A.next=h,h.next=T,v.lastEffect=h)),h}function Sv(){return so().memoizedState}function _h(h,v,A,T){var P=gs();bn.flags|=h,P.memoizedState=Tm(1|v,A,void 0,T===void 0?null:T)}function Rm(h,v,A,T){var P=so();T=T===void 0?null:T;var G=void 0;if(Hn!==null){var Z=Hn.memoizedState;if(G=Z.destroy,T!==null&&_v(T,Z.deps)){P.memoizedState=Tm(v,A,G,T);return}}bn.flags|=h,P.memoizedState=Tm(1|v,A,G,T)}function bh(h,v){return _h(8390656,8,h,v)}function Pm(h,v){return Rm(2048,8,h,v)}function FA(h,v){return Rm(4,2,h,v)}function NA(h,v){return Rm(4,4,h,v)}function UA(h,v){if(typeof v=="function")return h=h(),v(h),function(){v(null)};if(v!=null)return h=h(),v.current=h,function(){v.current=null}}function Vx(h,v,A){return A=A!=null?A.concat([h]):null,Rm(4,4,UA.bind(null,v,h),A)}function jx(){}function zA(h,v){var A=so();v=v===void 0?null:v;var T=A.memoizedState;return T!==null&&v!==null&&_v(v,T[1])?T[0]:(A.memoizedState=[h,v],h)}function fR(h,v){var A=so();v=v===void 0?null:v;var T=A.memoizedState;return T!==null&&v!==null&&_v(v,T[1])?T[0]:(h=h(),A.memoizedState=[h,v],h)}function dR(h,v){var A=ln;ln=A!==0&&4>A?A:4,h(!0);var T=Is.transition;Is.transition={};try{h(!1),v()}finally{ln=A,Is.transition=T}}function hR(){return so().memoizedState}function u4(h,v,A){var T=$i(h);A={lane:T,action:A,hasEagerState:!1,eagerState:null,next:null},GA(h)?HA(v,A):(VA(h,v,A),A=ti(),h=Do(h,T,A),h!==null&&Av(h,v,T))}function pR(h,v,A){var T=$i(h),P={lane:T,action:A,hasEagerState:!1,eagerState:null,next:null};if(GA(h))HA(v,P);else{VA(h,v,P);var G=h.alternate;if(h.lanes===0&&(G===null||G.lanes===0)&&(G=v.lastRenderedReducer,G!==null))try{var Z=v.lastRenderedState,de=G(Z,A);if(P.hasEagerState=!0,P.eagerState=de,wr(de,Z))return}catch{}finally{}A=ti(),h=Do(h,T,A),h!==null&&Av(h,v,T)}}function GA(h){var v=h.alternate;return h===bn||v!==null&&v===bn}function HA(h,v){ef=hd=!0;var A=h.pending;A===null?v.next=v:(v.next=A.next,A.next=v),h.pending=v}function VA(h,v,A){gn!==null&&h.mode&1&&!(Xt&2)?(h=v.interleaved,h===null?(A.next=A,Or===null?Or=[v]:Or.push(v)):(A.next=h.next,h.next=A),v.interleaved=A):(h=v.pending,h===null?A.next=A:(A.next=h.next,h.next=A),v.pending=A)}function Av(h,v,A){if(A&4194240){var T=v.lanes;T&=h.pendingLanes,A|=T,v.lanes=A,tn(h,A)}}var Wx={readContext:mn,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},f4={readContext:mn,useCallback:function(h,v){return gs().memoizedState=[h,v===void 0?null:v],h},useContext:mn,useEffect:bh,useImperativeHandle:function(h,v,A){return A=A!=null?A.concat([h]):null,_h(4194308,4,UA.bind(null,v,h),A)},useLayoutEffect:function(h,v){return _h(4194308,4,h,v)},useInsertionEffect:function(h,v){return _h(4,2,h,v)},useMemo:function(h,v){var A=gs();return v=v===void 0?null:v,h=h(),A.memoizedState=[h,v],h},useReducer:function(h,v,A){var T=gs();return v=A!==void 0?A(v):v,T.memoizedState=T.baseState=v,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:v},T.queue=h,h=h.dispatch=u4.bind(null,bn,h),[T.memoizedState,h]},useRef:function(h){var v=gs();return h={current:h},v.memoizedState=h},useState:xh,useDebugValue:jx,useDeferredValue:function(h){var v=xh(h),A=v[0],T=v[1];return bh(function(){var P=Is.transition;Is.transition={};try{T(h)}finally{Is.transition=P}},[h]),A},useTransition:function(){var h=xh(!1),v=h[0];return h=dR.bind(null,h[1]),gs().memoizedState=h,[v,h]},useMutableSource:function(){},useSyncExternalStore:function(h,v,A){var T=bn,P=gs();if(er){if(A===void 0)throw Error(o(407));A=A()}else{if(A=v(),gn===null)throw Error(o(349));rr&30||IA(T,v,A)}P.memoizedState=A;var G={value:A,getSnapshot:v};return P.queue=G,bh(OA.bind(null,T,G,h),[h]),T.flags|=2048,Tm(9,LA.bind(null,T,G,A,v),void 0,null),A},useId:function(){var h=gs(),v=gn.identifierPrefix;if(er){var A=Co,T=ks;A=(T&~(1<<32-wo(T)-1)).toString(32)+A,v=":"+v+"R"+A,A=xv++,0<A&&(v+="H"+A.toString(32)),v+=":"}else A=io++,v=":"+v+"r"+A.toString(32)+":";return h.memoizedState=v},unstable_isNewReconciler:!1},d4={readContext:mn,useCallback:zA,useContext:mn,useEffect:Pm,useImperativeHandle:Vx,useInsertionEffect:FA,useLayoutEffect:NA,useMemo:fR,useReducer:yh,useRef:Sv,useState:function(){return yh(Wc)},useDebugValue:jx,useDeferredValue:function(h){var v=yh(Wc),A=v[0],T=v[1];return Pm(function(){var P=Is.transition;Is.transition={};try{T(h)}finally{Is.transition=P}},[h]),A},useTransition:function(){var h=yh(Wc)[0],v=so().memoizedState;return[h,v]},useMutableSource:DA,useSyncExternalStore:kA,useId:hR,unstable_isNewReconciler:!1},jA={readContext:mn,useCallback:zA,useContext:mn,useEffect:Pm,useImperativeHandle:Vx,useInsertionEffect:FA,useLayoutEffect:NA,useMemo:fR,useReducer:wv,useRef:Sv,useState:function(){return wv(Wc)},useDebugValue:jx,useDeferredValue:function(h){var v=wv(Wc),A=v[0],T=v[1];return Pm(function(){var P=Is.transition;Is.transition={};try{T(h)}finally{Is.transition=P}},[h]),A},useTransition:function(){var h=wv(Wc)[0],v=so().memoizedState;return[h,v]},useMutableSource:DA,useSyncExternalStore:kA,useId:hR,unstable_isNewReconciler:!1};function Mv(h,v){try{var A="",T=v;do A+=Lr(T),T=T.return;while(T);var P=A}catch(G){P=`
Error generating stack: `+G.message+`
`+G.stack}return{value:h,source:v,stack:P}}function WA(h,v){try{console.error(v.value)}catch(A){setTimeout(function(){throw A})}}var mR=typeof WeakMap=="function"?WeakMap:Map;function $A(h,v,A){A=to(-1,A),A.tag=3,A.payload={element:null};var T=v.value;return A.callback=function(){Om||(Om=!0,Yc=T),WA(h,v)},A}function XA(h,v,A){A=to(-1,A),A.tag=3;var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var P=v.value;A.payload=function(){return T(P)},A.callback=function(){WA(h,v)}}var G=h.stateNode;return G!==null&&typeof G.componentDidCatch=="function"&&(A.callback=function(){WA(h,v),typeof T!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var Z=v.stack;this.componentDidCatch(v.value,{componentStack:Z!==null?Z:""})}),A}function JA(h,v,A){var T=h.pingCache;if(T===null){T=h.pingCache=new mR;var P=new Set;T.set(v,P)}else P=T.get(v),P===void 0&&(P=new Set,T.set(v,P));P.has(A)||(P.add(A),h=xR.bind(null,h,v,A),v.then(h,h))}function YA(h){do{var v;if((v=h.tag===13)&&(v=h.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return h;h=h.return}while(h!==null);return null}function Hl(h,v,A,T,P){return h.mode&1?(h.flags|=65536,h.lanes=P,h):(h===v?h.flags|=65536:(h.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(v=to(-1,1),v.tag=2,Ul(A,v))),A.lanes|=1),h)}function Vl(h){h.flags|=4}function Bm(h,v){if(h!==null&&h.child===v.child)return!0;if(v.flags&16)return!1;for(h=v.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var tf,pd,wh,Ev;if(fe)tf=function(h,v){for(var A=v.child;A!==null;){if(A.tag===5||A.tag===6)j(h,A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===v)break;for(;A.sibling===null;){if(A.return===null||A.return===v)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},pd=function(){},wh=function(h,v,A,T,P){if(h=h.memoizedProps,h!==T){var G=v.stateNode,Z=Za(ro.current);A=re(G,A,h,T,P,Z),(v.updateQueue=A)&&Vl(v)}},Ev=function(h,v,A,T){A!==T&&Vl(v)};else if(ne){tf=function(h,v,A,T){for(var P=v.child;P!==null;){if(P.tag===5){var G=P.stateNode;A&&T&&(G=Ft(G,P.type,P.memoizedProps,P)),j(h,G)}else if(P.tag===6)G=P.stateNode,A&&T&&(G=kt(G,P.memoizedProps,P)),j(h,G);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)G=P.child,G!==null&&(G.return=P),tf(h,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===v)break;for(;P.sibling===null;){if(P.return===null||P.return===v)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var Dm=function(h,v,A,T){for(var P=v.child;P!==null;){if(P.tag===5){var G=P.stateNode;A&&T&&(G=Ft(G,P.type,P.memoizedProps,P)),Dt(h,G)}else if(P.tag===6)G=P.stateNode,A&&T&&(G=kt(G,P.memoizedProps,P)),Dt(h,G);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)G=P.child,G!==null&&(G.return=P),Dm(h,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===v)break;for(;P.sibling===null;){if(P.return===null||P.return===v)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};pd=function(h,v){var A=v.stateNode;if(!Bm(h,v)){h=A.containerInfo;var T=mt(h);Dm(T,v,!1,!1),A.pendingChildren=T,Vl(v),Nt(h,T)}},wh=function(h,v,A,T,P){var G=h.stateNode,Z=h.memoizedProps;if((h=Bm(h,v))&&Z===T)v.stateNode=G;else{var de=v.stateNode,Le=Za(ro.current),Ye=null;Z!==T&&(Ye=re(de,A,Z,T,P,Le)),h&&Ye===null?v.stateNode=G:(G=et(G,Ye,A,Z,T,v,h,de),te(G,A,T,P,Le)&&Vl(v),v.stateNode=G,h?Vl(v):tf(G,v,!1,!1))}},Ev=function(h,v,A,T){A!==T?(h=Za(Po.current),A=Za(ro.current),v.stateNode=K(T,h,A,v),Vl(v)):v.stateNode=h.stateNode}}else pd=function(){},wh=function(){},Ev=function(){};function Bi(h,v){if(!er)switch(h.tailMode){case"hidden":v=h.tail;for(var A=null;v!==null;)v.alternate!==null&&(A=v),v=v.sibling;A===null?h.tail=null:A.sibling=null;break;case"collapsed":A=h.tail;for(var T=null;A!==null;)A.alternate!==null&&(T=A),A=A.sibling;T===null?v||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function oo(h){var v=h.alternate!==null&&h.alternate.child===h.child,A=0,T=0;if(v)for(var P=h.child;P!==null;)A|=P.lanes|P.childLanes,T|=P.subtreeFlags&14680064,T|=P.flags&14680064,P.return=h,P=P.sibling;else for(P=h.child;P!==null;)A|=P.lanes|P.childLanes,T|=P.subtreeFlags,T|=P.flags,P.return=h,P=P.sibling;return h.subtreeFlags|=T,h.childLanes=A,v}function h4(h,v,A){var T=v.pendingProps;switch(To(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(v),null;case 1:return pr(v.type)&&ji(),oo(v),null;case 3:return T=v.stateNode,vh(),lt(An),lt(Vt),Cm(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(h===null||h.child===null)&&(Vc(v)?Vl(v):h===null||h.memoizedState.isDehydrated&&!(v.flags&256)||(v.flags|=1024,Qa!==null&&(fM(Qa),Qa=null))),pd(h,v),oo(v),null;case 5:gr(v),A=Za(Po.current);var P=v.type;if(h!==null&&v.stateNode!=null)wh(h,v,P,T,A),h.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!T){if(v.stateNode===null)throw Error(o(166));return oo(v),null}if(h=Za(ro.current),Vc(v)){if(!oe)throw Error(o(175));h=Qe(v.stateNode,v.type,v.memoizedProps,A,h,v,!Ro),v.updateQueue=h,h!==null&&Vl(v)}else{var G=F(P,T,A,h,v);tf(G,v,!1,!1),v.stateNode=G,te(G,P,T,A,h)&&Vl(v)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return oo(v),null;case 6:if(h&&v.stateNode!=null)Ev(h,v,h.memoizedProps,T);else{if(typeof T!="string"&&v.stateNode===null)throw Error(o(166));if(h=Za(Po.current),A=Za(ro.current),Vc(v)){if(!oe)throw Error(o(176));if(h=v.stateNode,T=v.memoizedProps,(A=st(h,T,v,!Ro))&&(P=mr,P!==null))switch(G=(P.mode&1)!==0,P.tag){case 3:kr(P.stateNode.containerInfo,h,T,G);break;case 5:hr(P.type,P.memoizedProps,P.stateNode,h,T,G)}A&&Vl(v)}else v.stateNode=K(T,h,A,v)}return oo(v),null;case 13:if(lt(lr),T=v.memoizedState,er&&Mn!==null&&v.mode&1&&!(v.flags&128)){for(h=Mn;h;)h=ae(h);return ud(),v.flags|=98560,v}if(T!==null&&T.dehydrated!==null){if(T=Vc(v),h===null){if(!T)throw Error(o(318));if(!oe)throw Error(o(344));if(h=v.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));gt(h,v)}else ud(),!(v.flags&128)&&(v.memoizedState=null),v.flags|=4;return oo(v),null}return Qa!==null&&(fM(Qa),Qa=null),v.flags&128?(v.lanes=A,v):(T=T!==null,A=!1,h===null?Vc(v):A=h.memoizedState!==null,T&&!A&&(v.child.flags|=8192,v.mode&1&&(h===null||lr.current&1?Ur===0&&(Ur=3):Nm())),v.updateQueue!==null&&(v.flags|=4),oo(v),null);case 4:return vh(),pd(h,v),h===null&&be(v.stateNode.containerInfo),oo(v),null;case 10:return Dn(v.type._context),oo(v),null;case 17:return pr(v.type)&&ji(),oo(v),null;case 19:if(lt(lr),P=v.memoizedState,P===null)return oo(v),null;if(T=(v.flags&128)!==0,G=P.rendering,G===null)if(T)Bi(P,!1);else{if(Ur!==0||h!==null&&h.flags&128)for(h=v.child;h!==null;){if(G=Em(h),G!==null){for(v.flags|=128,Bi(P,!1),h=G.updateQueue,h!==null&&(v.updateQueue=h,v.flags|=4),v.subtreeFlags=0,h=A,T=v.child;T!==null;)A=T,P=h,A.flags&=14680066,G=A.alternate,G===null?(A.childLanes=0,A.lanes=P,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=G.childLanes,A.lanes=G.lanes,A.child=G.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=G.memoizedProps,A.memoizedState=G.memoizedState,A.updateQueue=G.updateQueue,A.type=G.type,P=G.dependencies,A.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),T=T.sibling;return Jt(lr,lr.current&1|2),v.child}h=h.sibling}P.tail!==null&&Kn()>gd&&(v.flags|=128,T=!0,Bi(P,!1),v.lanes=4194304)}else{if(!T)if(h=Em(G),h!==null){if(v.flags|=128,T=!0,h=h.updateQueue,h!==null&&(v.updateQueue=h,v.flags|=4),Bi(P,!0),P.tail===null&&P.tailMode==="hidden"&&!G.alternate&&!er)return oo(v),null}else 2*Kn()-P.renderingStartTime>gd&&A!==1073741824&&(v.flags|=128,T=!0,Bi(P,!1),v.lanes=4194304);P.isBackwards?(G.sibling=v.child,v.child=G):(h=P.last,h!==null?h.sibling=G:v.child=G,P.last=G)}return P.tail!==null?(v=P.tail,P.rendering=v,P.tail=v.sibling,P.renderingStartTime=Kn(),v.sibling=null,h=lr.current,Jt(lr,T?h&1|2:h&1),v):(oo(v),null);case 22:case 23:return af(),T=v.memoizedState!==null,h!==null&&h.memoizedState!==null!==T&&(v.flags|=8192),T&&v.mode&1?vs&1073741824&&(oo(v),fe&&v.subtreeFlags&6&&(v.flags|=8192)):oo(v),null;case 24:return null;case 25:return null}throw Error(o(156,v.tag))}var Aa=a.ReactCurrentOwner,ir=!1;function ao(h,v,A,T){v.child=h===null?Mm(v,null,A,T):gh(v,h.child,A,T)}function KA(h,v,A,T,P){A=A.render;var G=v.ref;return nn(v,P),T=bv(h,v,A,T,G,P),A=Gl(),h!==null&&!ir?(v.updateQueue=h.updateQueue,v.flags&=-2053,h.lanes&=~P,nf(h,v,P)):(er&&A&&mv(v),v.flags|=1,ao(h,v,T,P),v.child)}function qA(h,v,A,T,P){if(h===null){var G=A.type;return typeof G=="function"&&!gM(G)&&G.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(v.tag=15,v.type=G,QA(h,v,G,T,P)):(h=Kc(A.type,null,T,v,v.mode,P),h.ref=v.ref,h.return=v,v.child=h)}if(G=h.child,!(h.lanes&P)){var Z=G.memoizedProps;if(A=A.compare,A=A!==null?A:Uc,A(Z,T)&&h.ref===v.ref)return nf(h,v,P)}return v.flags|=1,h=Jl(G,T),h.ref=v.ref,h.return=v,v.child=h}function QA(h,v,A,T,P){if(h!==null&&Uc(h.memoizedProps,T)&&h.ref===v.ref)if(ir=!1,(h.lanes&P)!==0)h.flags&131072&&(ir=!0);else return v.lanes=h.lanes,nf(h,v,P);return Xx(h,v,A,T,P)}function ZA(h,v,A){var T=v.pendingProps,P=T.children,G=h!==null?h.memoizedState:null;if(T.mode==="hidden")if(!(v.mode&1))v.memoizedState={baseLanes:0,cachePool:null},Jt(Ar,vs),vs|=A;else if(A&1073741824)v.memoizedState={baseLanes:0,cachePool:null},T=G!==null?G.baseLanes:A,Jt(Ar,vs),vs|=T;else return h=G!==null?G.baseLanes|A:A,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:h,cachePool:null},v.updateQueue=null,Jt(Ar,vs),vs|=h,null;else G!==null?(T=G.baseLanes|A,v.memoizedState=null):T=A,Jt(Ar,vs),vs|=T;return ao(h,v,P,A),v.child}function $x(h,v){var A=v.ref;(h===null&&A!==null||h!==null&&h.ref!==A)&&(v.flags|=512,v.flags|=2097152)}function Xx(h,v,A,T,P){var G=pr(A)?Qr:Vt.current;return G=_n(v,G),nn(v,P),A=bv(h,v,A,T,G,P),T=Gl(),h!==null&&!ir?(v.updateQueue=h.updateQueue,v.flags&=-2053,h.lanes&=~P,nf(h,v,P)):(er&&T&&mv(v),v.flags|=1,ao(h,v,A,P),v.child)}function Jx(h,v,A,T,P){if(pr(A)){var G=!0;_a(v)}else G=!1;if(nn(v,P),v.stateNode===null)h!==null&&(h.alternate=null,v.alternate=null,v.flags|=2),RA(v,A,T),ld(v,A,T,P),T=!0;else if(h===null){var Z=v.stateNode,de=v.memoizedProps;Z.props=de;var Le=Z.context,Ye=A.contextType;typeof Ye=="object"&&Ye!==null?Ye=mn(Ye):(Ye=pr(A)?Qr:Vt.current,Ye=_n(v,Ye));var it=A.getDerivedStateFromProps,at=typeof it=="function"||typeof Z.getSnapshotBeforeUpdate=="function";at||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(de!==T||Le!==Ye)&&Fx(v,Z,T,Ye),Gc=!1;var bt=v.memoizedState;Z.state=bt,hv(v,T,Z,P),Le=v.memoizedState,de!==T||bt!==Le||An.current||Gc?(typeof it=="function"&&(Sm(v,A,it,T),Le=v.memoizedState),(de=Gc||TA(v,A,de,T,bt,Le,Ye))?(at||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(v.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=T,v.memoizedState=Le),Z.props=T,Z.state=Le,Z.context=Ye,T=de):(typeof Z.componentDidMount=="function"&&(v.flags|=4194308),T=!1)}else{Z=v.stateNode,Hc(h,v),de=v.memoizedProps,Ye=v.type===v.elementType?de:ei(v.type,de),Z.props=Ye,at=v.pendingProps,bt=Z.context,Le=A.contextType,typeof Le=="object"&&Le!==null?Le=mn(Le):(Le=pr(A)?Qr:Vt.current,Le=_n(v,Le));var vt=A.getDerivedStateFromProps;(it=typeof vt=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(de!==at||bt!==Le)&&Fx(v,Z,T,Le),Gc=!1,bt=v.memoizedState,Z.state=bt,hv(v,T,Z,P);var Rt=v.memoizedState;de!==at||bt!==Rt||An.current||Gc?(typeof vt=="function"&&(Sm(v,A,vt,T),Rt=v.memoizedState),(Ye=Gc||TA(v,A,Ye,T,bt,Rt,Le)||!1)?(it||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(T,Rt,Le),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(T,Rt,Le)),typeof Z.componentDidUpdate=="function"&&(v.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof Z.componentDidUpdate!="function"||de===h.memoizedProps&&bt===h.memoizedState||(v.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&bt===h.memoizedState||(v.flags|=1024),v.memoizedProps=T,v.memoizedState=Rt),Z.props=T,Z.state=Rt,Z.context=Le,T=Ye):(typeof Z.componentDidUpdate!="function"||de===h.memoizedProps&&bt===h.memoizedState||(v.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&bt===h.memoizedState||(v.flags|=1024),T=!1)}return Yx(h,v,A,T,G,P)}function Yx(h,v,A,T,P,G){$x(h,v);var Z=(v.flags&128)!==0;if(!T&&!Z)return P&&zn(v,A,!1),nf(h,v,G);T=v.stateNode,Aa.current=v;var de=Z&&typeof A.getDerivedStateFromError!="function"?null:T.render();return v.flags|=1,h!==null&&Z?(v.child=gh(v,h.child,null,G),v.child=gh(v,null,de,G)):ao(h,v,de,G),v.memoizedState=T.state,P&&zn(v,A,!0),v.child}function eM(h){var v=h.stateNode;v.pendingContext?Ll(h,v.pendingContext,v.pendingContext!==v.context):v.context&&Ll(h,v.context,!1),dd(h,v.containerInfo)}function Cv(h,v,A,T,P){return ud(),ph(P),v.flags|=256,ao(h,v,A,T),v.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function Tv(h){return{baseLanes:h,cachePool:null}}function Kx(h,v,A){var T=v.pendingProps,P=lr.current,G=!1,Z=(v.flags&128)!==0,de;if((de=Z)||(de=h!==null&&h.memoizedState===null?!1:(P&2)!==0),de?(G=!0,v.flags&=-129):(h===null||h.memoizedState!==null)&&(P|=1),Jt(lr,P&1),h===null)return zx(v),h=v.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(v.mode&1?dn(h)?v.lanes=8:v.lanes=1073741824:v.lanes=1,null):(P=T.children,h=T.fallback,G?(T=v.mode,G=v.child,P={mode:"hidden",children:P},!(T&1)&&G!==null?(G.childLanes=0,G.pendingProps=P):G=Um(P,T,0,null),h=qc(h,T,A,null),G.return=v,h.return=v,G.sibling=h,v.child=G,v.child.memoizedState=Tv(A),v.memoizedState=Sh,h):qx(v,P));if(P=h.memoizedState,P!==null){if(de=P.dehydrated,de!==null){if(Z)return v.flags&256?(v.flags&=-257,Pv(h,v,A,Error(o(422)))):v.memoizedState!==null?(v.child=h.child,v.flags|=128,null):(G=T.fallback,P=v.mode,T=Um({mode:"visible",children:T.children},P,0,null),G=qc(G,P,A,null),G.flags|=2,T.return=v,G.return=v,T.sibling=G,v.child=T,v.mode&1&&gh(v,h.child,null,A),v.child.memoizedState=Tv(A),v.memoizedState=Sh,G);if(!(v.mode&1))v=Pv(h,v,A,null);else if(dn(de))v=Pv(h,v,A,Error(o(419)));else if(T=(A&h.childLanes)!==0,ir||T){if(T=gn,T!==null){switch(A&-A){case 4:G=2;break;case 16:G=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:G=32;break;case 536870912:G=268435456;break;default:G=0}T=G&(T.suspendedLanes|A)?0:G,T!==0&&T!==P.retryLane&&(P.retryLane=T,Do(h,T,-1))}Nm(),v=Pv(h,v,A,Error(o(421)))}else Ut(de)?(v.flags|=128,v.child=h.child,v=v4.bind(null,h),$(de,v),v=null):(A=P.treeContext,oe&&(Mn=Ae(de),mr=v,er=!0,Qa=null,Ro=!1,A!==null&&(Fr[ps++]=ks,Fr[ps++]=Co,Fr[ps++]=Eo,ks=A.id,Co=A.overflow,Eo=v)),v=qx(v,v.pendingProps.children),v.flags|=4096);return v}return G?(T=Rv(h,v,T.children,T.fallback,A),G=v.child,P=h.child.memoizedState,G.memoizedState=P===null?Tv(A):{baseLanes:P.baseLanes|A,cachePool:null},G.childLanes=h.childLanes&~A,v.memoizedState=Sh,T):(A=tM(h,v,T.children,A),v.memoizedState=null,A)}return G?(T=Rv(h,v,T.children,T.fallback,A),G=v.child,P=h.child.memoizedState,G.memoizedState=P===null?Tv(A):{baseLanes:P.baseLanes|A,cachePool:null},G.childLanes=h.childLanes&~A,v.memoizedState=Sh,T):(A=tM(h,v,T.children,A),v.memoizedState=null,A)}function qx(h,v){return v=Um({mode:"visible",children:v},h.mode,0,null),v.return=h,h.child=v}function tM(h,v,A,T){var P=h.child;return h=P.sibling,A=Jl(P,{mode:"visible",children:A}),!(v.mode&1)&&(A.lanes=T),A.return=v,A.sibling=null,h!==null&&(T=v.deletions,T===null?(v.deletions=[h],v.flags|=16):T.push(h)),v.child=A}function Rv(h,v,A,T,P){var G=v.mode;h=h.child;var Z=h.sibling,de={mode:"hidden",children:A};return!(G&1)&&v.child!==h?(A=v.child,A.childLanes=0,A.pendingProps=de,v.deletions=null):(A=Jl(h,de),A.subtreeFlags=h.subtreeFlags&14680064),Z!==null?T=Jl(Z,T):(T=qc(T,G,P,null),T.flags|=2),T.return=v,A.return=v,A.sibling=T,v.child=A,T}function Pv(h,v,A,T){return T!==null&&ph(T),gh(v,h.child,null,A),h=qx(v,v.pendingProps.children),h.flags|=2,v.memoizedState=null,h}function Qx(h,v,A){h.lanes|=v;var T=h.alternate;T!==null&&(T.lanes|=v),$n(h.return,v,A)}function Zx(h,v,A,T,P){var G=h.memoizedState;G===null?h.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:T,tail:A,tailMode:P}:(G.isBackwards=v,G.rendering=null,G.renderingStartTime=0,G.last=T,G.tail=A,G.tailMode=P)}function $c(h,v,A){var T=v.pendingProps,P=T.revealOrder,G=T.tail;if(ao(h,v,T.children,A),T=lr.current,T&2)T=T&1|2,v.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=v.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Qx(h,A,v);else if(h.tag===19)Qx(h,A,v);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===v)break e;for(;h.sibling===null;){if(h.return===null||h.return===v)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}if(Jt(lr,T),!(v.mode&1))v.memoizedState=null;else switch(P){case"forwards":for(A=v.child,P=null;A!==null;)h=A.alternate,h!==null&&Em(h)===null&&(P=A),A=A.sibling;A=P,A===null?(P=v.child,v.child=null):(P=A.sibling,A.sibling=null),Zx(v,!1,P,A,G);break;case"backwards":for(A=null,P=v.child,v.child=null;P!==null;){if(h=P.alternate,h!==null&&Em(h)===null){v.child=P;break}h=P.sibling,P.sibling=A,A=P,P=h}Zx(v,!0,A,null,G);break;case"together":Zx(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function nf(h,v,A){if(h!==null&&(v.dependencies=h.dependencies),rf|=v.lanes,!(A&v.childLanes))return null;if(h!==null&&v.child!==h.child)throw Error(o(153));if(v.child!==null){for(h=v.child,A=Jl(h,h.pendingProps),v.child=A,A.return=v;h.sibling!==null;)h=h.sibling,A=A.sibling=Jl(h,h.pendingProps),A.return=v;A.sibling=null}return v.child}function p4(h,v,A){switch(v.tag){case 3:eM(v),ud();break;case 5:Gx(v);break;case 1:pr(v.type)&&_a(v);break;case 4:dd(v,v.stateNode.containerInfo);break;case 10:ad(v,v.type._context,v.memoizedProps.value);break;case 13:var T=v.memoizedState;if(T!==null)return T.dehydrated!==null?(Jt(lr,lr.current&1),v.flags|=128,null):A&v.child.childLanes?Kx(h,v,A):(Jt(lr,lr.current&1),h=nf(h,v,A),h!==null?h.sibling:null);Jt(lr,lr.current&1);break;case 19:if(T=(A&v.childLanes)!==0,h.flags&128){if(T)return $c(h,v,A);v.flags|=128}var P=v.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Jt(lr,lr.current),T)break;return null;case 22:case 23:return v.lanes=0,ZA(h,v,A)}return nf(h,v,A)}function e_(h,v){switch(To(v),v.tag){case 1:return pr(v.type)&&ji(),h=v.flags,h&65536?(v.flags=h&-65537|128,v):null;case 3:return vh(),lt(An),lt(Vt),Cm(),h=v.flags,h&65536&&!(h&128)?(v.flags=h&-65537|128,v):null;case 5:return gr(v),null;case 13:if(lt(lr),h=v.memoizedState,h!==null&&h.dehydrated!==null){if(v.alternate===null)throw Error(o(340));ud()}return h=v.flags,h&65536?(v.flags=h&-65537|128,v):null;case 19:return lt(lr),null;case 4:return vh(),null;case 10:return Dn(v.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var Xc=!1,Ah=!1,Mt=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Bv(h,v){var A=h.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(T){Wo(h,v,T)}else A.current=null}function t_(h,v,A){try{A()}catch(T){Wo(h,v,T)}}var gR=!1;function Mh(h,v){for(I(h.containerInfo),wt=v;wt!==null;)if(h=wt,v=h.child,(h.subtreeFlags&1028)!==0&&v!==null)v.return=h,wt=v;else for(;wt!==null;){h=wt;try{var A=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var T=A.memoizedProps,P=A.memoizedState,G=h.stateNode,Z=G.getSnapshotBeforeUpdate(h.elementType===h.type?T:ei(h.type,T),P);G.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:fe&&Je(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(de){Wo(h,h.return,de)}if(v=h.sibling,v!==null){v.return=h.return,wt=v;break}wt=h.return}return A=gR,gR=!1,A}function jl(h,v,A){var T=v.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var P=T=T.next;do{if((P.tag&h)===h){var G=P.destroy;P.destroy=void 0,G!==void 0&&t_(v,A,G)}P=P.next}while(P!==T)}}function Eh(h,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var A=v=v.next;do{if((A.tag&h)===h){var T=A.create;A.destroy=T()}A=A.next}while(A!==v)}}function n_(h){var v=h.ref;if(v!==null){var A=h.stateNode;switch(h.tag){case 5:h=X(A);break;default:h=A}typeof v=="function"?v(h):v.current=h}}function nM(h,v,A){if(Qs&&typeof Qs.onCommitFiberUnmount=="function")try{Qs.onCommitFiberUnmount(Wi,v)}catch{}switch(v.tag){case 0:case 11:case 14:case 15:if(h=v.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var T=h=h.next;do{var P=T,G=P.destroy;P=P.tag,G!==void 0&&(P&2||P&4)&&t_(v,A,G),T=T.next}while(T!==h)}break;case 1:if(Bv(v,A),h=v.stateNode,typeof h.componentWillUnmount=="function")try{h.props=v.memoizedProps,h.state=v.memoizedState,h.componentWillUnmount()}catch(Z){Wo(v,A,Z)}break;case 5:Bv(v,A);break;case 4:fe?s_(h,v,A):ne&&ne&&(v=v.stateNode.containerInfo,A=mt(v),Ot(v,A))}}function rM(h,v,A){for(var T=v;;)if(nM(h,T,A),T.child===null||fe&&T.tag===4){if(T===v)break;for(;T.sibling===null;){if(T.return===null||T.return===v)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function iM(h){var v=h.alternate;v!==null&&(h.alternate=null,iM(v)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(v=h.stateNode,v!==null&&We(v)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function sM(h){return h.tag===5||h.tag===3||h.tag===4}function oM(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||sM(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function r_(h){if(fe){e:{for(var v=h.return;v!==null;){if(sM(v))break e;v=v.return}throw Error(o(160))}var A=v;switch(A.tag){case 5:v=A.stateNode,A.flags&32&&(tt(v),A.flags&=-33),A=oM(h),i_(h,A,v);break;case 3:case 4:v=A.stateNode.containerInfo,A=oM(h),Dv(h,A,v);break;default:throw Error(o(161))}}}function Dv(h,v,A){var T=h.tag;if(T===5||T===6)h=h.stateNode,v?He(A,h,v):Pe(A,h);else if(T!==4&&(h=h.child,h!==null))for(Dv(h,v,A),h=h.sibling;h!==null;)Dv(h,v,A),h=h.sibling}function i_(h,v,A){var T=h.tag;if(T===5||T===6)h=h.stateNode,v?je(A,h,v):Ue(A,h);else if(T!==4&&(h=h.child,h!==null))for(i_(h,v,A),h=h.sibling;h!==null;)i_(h,v,A),h=h.sibling}function s_(h,v,A){for(var T=v,P=!1,G,Z;;){if(!P){P=T.return;e:for(;;){if(P===null)throw Error(o(160));switch(G=P.stateNode,P.tag){case 5:Z=!1;break e;case 3:G=G.containerInfo,Z=!0;break e;case 4:G=G.containerInfo,Z=!0;break e}P=P.return}P=!0}if(T.tag===5||T.tag===6)rM(h,T,A),Z?qe(G,T.stateNode):Oe(G,T.stateNode);else if(T.tag===18)Z?Qt(G,T.stateNode):At(G,T.stateNode);else if(T.tag===4){if(T.child!==null){G=T.stateNode.containerInfo,Z=!0,T.child.return=T,T=T.child;continue}}else if(nM(h,T,A),T.child!==null){T.child.return=T,T=T.child;continue}if(T===v)break;for(;T.sibling===null;){if(T.return===null||T.return===v)return;T=T.return,T.tag===4&&(P=!1)}T.sibling.return=T.return,T=T.sibling}}function km(h,v){if(fe){switch(v.tag){case 0:case 11:case 14:case 15:jl(3,v,v.return),Eh(3,v),jl(5,v,v.return);return;case 1:return;case 5:var A=v.stateNode;if(A!=null){var T=v.memoizedProps;h=h!==null?h.memoizedProps:T;var P=v.type,G=v.updateQueue;v.updateQueue=null,G!==null&&Ge(A,G,P,h,T,v)}return;case 6:if(v.stateNode===null)throw Error(o(162));A=v.memoizedProps,xe(v.stateNode,h!==null?h.memoizedProps:A,A);return;case 3:oe&&h!==null&&h.memoizedState.isDehydrated&&Pt(v.stateNode.containerInfo);return;case 12:return;case 13:o_(v);return;case 19:o_(v);return;case 17:return}throw Error(o(163))}switch(v.tag){case 0:case 11:case 14:case 15:jl(3,v,v.return),Eh(3,v),jl(5,v,v.return);return;case 12:return;case 13:o_(v);return;case 19:o_(v);return;case 3:oe&&h!==null&&h.memoizedState.isDehydrated&&Pt(v.stateNode.containerInfo);break;case 22:case 23:return}e:if(ne){switch(v.tag){case 1:case 5:case 6:break e;case 3:case 4:v=v.stateNode,Ot(v.containerInfo,v.pendingChildren);break e}throw Error(o(163))}}function o_(h){var v=h.updateQueue;if(v!==null){h.updateQueue=null;var A=h.stateNode;A===null&&(A=h.stateNode=new Mt),v.forEach(function(T){var P=bR.bind(null,h,T);A.has(T)||(A.add(T),T.then(P,P))})}}function m4(h,v){for(wt=v;wt!==null;){v=wt;var A=v.deletions;if(A!==null)for(var T=0;T<A.length;T++){var P=A[T];try{var G=h;fe?s_(G,P,v):rM(G,P,v);var Z=P.alternate;Z!==null&&(Z.return=null),P.return=null}catch(ot){Wo(P,v,ot)}}if(A=v.child,v.subtreeFlags&12854&&A!==null)A.return=v,wt=A;else for(;wt!==null;){v=wt;try{var de=v.flags;if(de&32&&fe&&tt(v.stateNode),de&512){var Le=v.alternate;if(Le!==null){var Ye=Le.ref;Ye!==null&&(typeof Ye=="function"?Ye(null):Ye.current=null)}}if(de&8192)switch(v.tag){case 13:if(v.memoizedState!==null){var it=v.alternate;(it===null||it.memoizedState===null)&&(Ov=Kn())}break;case 22:var at=v.memoizedState!==null,bt=v.alternate,vt=bt!==null&&bt.memoizedState!==null;if(A=v,fe){e:if(T=A,P=at,G=null,fe)for(var Rt=T;;){if(Rt.tag===5){if(G===null){G=Rt;var sr=Rt.stateNode;P?pt(sr):ye(Rt.stateNode,Rt.memoizedProps)}}else if(Rt.tag===6){if(G===null){var $e=Rt.stateNode;P?ee($e):Ie($e,Rt.memoizedProps)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===T)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===T)break;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===T)break e;G===Rt&&(G=null),Rt=Rt.return}G===Rt&&(G=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}if(at&&!vt&&A.mode&1){wt=A;for(var ue=A.child;ue!==null;){for(A=wt=ue;wt!==null;){T=wt;var pe=T.child;switch(T.tag){case 0:case 11:case 14:case 15:jl(4,T,T.return);break;case 1:Bv(T,T.return);var ze=T.stateNode;if(typeof ze.componentWillUnmount=="function"){var Ze=T.return;try{ze.props=T.memoizedProps,ze.state=T.memoizedState,ze.componentWillUnmount()}catch(ot){Wo(T,Ze,ot)}}break;case 5:Bv(T,T.return);break;case 22:if(T.memoizedState!==null){cM(A);continue}}pe!==null?(pe.return=T,wt=pe):cM(A)}ue=ue.sibling}}}switch(de&4102){case 2:r_(v),v.flags&=-3;break;case 6:r_(v),v.flags&=-3,km(v.alternate,v);break;case 4096:v.flags&=-4097;break;case 4100:v.flags&=-4097,km(v.alternate,v);break;case 4:km(v.alternate,v)}}catch(ot){Wo(v,v.return,ot)}if(A=v.sibling,A!==null){A.return=v.return,wt=A;break}wt=v.return}}}function vR(h,v,A){wt=h,aM(h)}function aM(h,v,A){for(var T=(h.mode&1)!==0;wt!==null;){var P=wt,G=P.child;if(P.tag===22&&T){var Z=P.memoizedState!==null||Xc;if(!Z){var de=P.alternate,Le=de!==null&&de.memoizedState!==null||Ah;de=Xc;var Ye=Ah;if(Xc=Z,(Ah=Le)&&!Ye)for(wt=P;wt!==null;)Z=wt,Le=Z.child,Z.tag===22&&Z.memoizedState!==null?kv(P):Le!==null?(Le.return=Z,wt=Le):kv(P);for(;G!==null;)wt=G,aM(G),G=G.sibling;wt=P,Xc=de,Ah=Ye}lM(h)}else P.subtreeFlags&8772&&G!==null?(G.return=P,wt=G):lM(h)}}function lM(h){for(;wt!==null;){var v=wt;if(v.flags&8772){var A=v.alternate;try{if(v.flags&8772)switch(v.tag){case 0:case 11:case 15:Ah||Eh(5,v);break;case 1:var T=v.stateNode;if(v.flags&4&&!Ah)if(A===null)T.componentDidMount();else{var P=v.elementType===v.type?A.memoizedProps:ei(v.type,A.memoizedProps);T.componentDidUpdate(P,A.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var G=v.updateQueue;G!==null&&CA(v,G,T);break;case 3:var Z=v.updateQueue;if(Z!==null){if(A=null,v.child!==null)switch(v.child.tag){case 5:A=X(v.child.stateNode);break;case 1:A=v.child.stateNode}CA(v,Z,A)}break;case 5:var de=v.stateNode;A===null&&v.flags&4&&Xe(de,v.type,v.memoizedProps,v);break;case 6:break;case 4:break;case 12:break;case 13:if(oe&&v.memoizedState===null){var Le=v.alternate;if(Le!==null){var Ye=Le.memoizedState;if(Ye!==null){var it=Ye.dehydrated;it!==null&&xt(it)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ah||v.flags&512&&n_(v)}catch(at){Wo(v,v.return,at)}}if(v===h){wt=null;break}if(A=v.sibling,A!==null){A.return=v.return,wt=A;break}wt=v.return}}function cM(h){for(;wt!==null;){var v=wt;if(v===h){wt=null;break}var A=v.sibling;if(A!==null){A.return=v.return,wt=A;break}wt=v.return}}function kv(h){for(;wt!==null;){var v=wt;try{switch(v.tag){case 0:case 11:case 15:var A=v.return;try{Eh(4,v)}catch(Le){Wo(v,A,Le)}break;case 1:var T=v.stateNode;if(typeof T.componentDidMount=="function"){var P=v.return;try{T.componentDidMount()}catch(Le){Wo(v,P,Le)}}var G=v.return;try{n_(v)}catch(Le){Wo(v,G,Le)}break;case 5:var Z=v.return;try{n_(v)}catch(Le){Wo(v,Z,Le)}}}catch(Le){Wo(v,v.return,Le)}if(v===h){wt=null;break}var de=v.sibling;if(de!==null){de.return=v.return,wt=de;break}wt=v.return}}var Ch=0,Th=1,Rh=2,Ph=3,md=4;if(typeof Symbol=="function"&&Symbol.for){var Bh=Symbol.for;Ch=Bh("selector.component"),Th=Bh("selector.has_pseudo_class"),Rh=Bh("selector.role"),Ph=Bh("selector.test_id"),md=Bh("selector.text")}function Iv(h){var v=Te(h);if(v!=null){if(typeof v.memoizedProps["data-testname"]!="string")throw Error(o(364));return v}if(h=Ee(h),h===null)throw Error(o(362));return h.stateNode.current}function Lv(h,v){switch(v.$$typeof){case Ch:if(h.type===v.value)return!0;break;case Th:e:{v=v.value,h=[h,0];for(var A=0;A<h.length;){var T=h[A++],P=h[A++],G=v[P];if(T.tag!==5||!Q(T)){for(;G!=null&&Lv(T,G);)P++,G=v[P];if(P===v.length){v=!0;break e}else for(T=T.child;T!==null;)h.push(T,P),T=T.sibling}}v=!1}return v;case Rh:if(h.tag===5&&ce(h.stateNode,v.value))return!0;break;case md:if((h.tag===5||h.tag===6)&&(h=k(h),h!==null&&0<=h.indexOf(v.value)))return!0;break;case Ph:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===v.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function a_(h){switch(h.$$typeof){case Ch:return"<"+(R(h.value)||"Unknown")+">";case Th:return":has("+(a_(h)||"")+")";case Rh:return'[role="'+h.value+'"]';case md:return'"'+h.value+'"';case Ph:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function l_(h,v){var A=[];h=[h,0];for(var T=0;T<h.length;){var P=h[T++],G=h[T++],Z=v[G];if(P.tag!==5||!Q(P)){for(;Z!=null&&Lv(P,Z);)G++,Z=v[G];if(G===v.length)A.push(P);else for(P=P.child;P!==null;)h.push(P,G),P=P.sibling}}return A}function uM(h,v){if(!Ve)throw Error(o(363));h=Iv(h),h=l_(h,v),v=[],h=Array.from(h);for(var A=0;A<h.length;){var T=h[A++];if(T.tag===5)Q(T)||v.push(T.stateNode);else for(T=T.child;T!==null;)h.push(T),T=T.sibling}return v}var c_=Math.ceil,Im=a.ReactCurrentDispatcher,Nr=a.ReactCurrentOwner,$t=a.ReactCurrentBatchConfig,Xt=0,gn=null,En=null,Zn=0,vs=0,Ar=Yt(0),Ur=0,Jc=null,rf=0,Lm=0,Dh=0,ys=null,lo=null,Ov=0,gd=1/0;function sf(){gd=Kn()+500}var Om=!1,Yc=null,Wl=null,$l=!1,Xl=null,vd=0,kh=0,Fm=null,Ih=-1,xs=0;function ti(){return Xt&6?Kn():Ih!==-1?Ih:Ih=Kn()}function $i(h){return h.mode&1?Xt&2&&Zn!==0?Zn&-Zn:eo.transition!==null?(xs===0&&(h=Ps,Ps<<=1,!(Ps&4194240)&&(Ps=64),xs=h),xs):(h=ln,h!==0?h:Ce()):1}function Do(h,v,A){if(50<kh)throw kh=0,Fm=null,Error(o(185));var T=Ls(h,v);return T===null?null:(So(T,v,A),(!(Xt&2)||T!==gn)&&(T===gn&&(!(Xt&2)&&(Lm|=v),Ur===4&&of(T,Zn)),ko(T,A),v===1&&Xt===0&&!(h.mode&1)&&(sf(),us&&ds())),T)}function Ls(h,v){h.lanes|=v;var A=h.alternate;for(A!==null&&(A.lanes|=v),A=h,h=h.return;h!==null;)h.childLanes|=v,A=h.alternate,A!==null&&(A.childLanes|=v),A=h,h=h.return;return A.tag===3?A.stateNode:null}function ko(h,v){var A=h.callbackNode;Fl(h,v);var T=Oc(h,h===gn?Zn:0);if(T===0)A!==null&&Nc(A),h.callbackNode=null,h.callbackPriority=0;else if(v=T&-T,h.callbackPriority!==v){if(A!=null&&Nc(A),v===1)h.tag===0?fs(dM.bind(null,h)):od(dM.bind(null,h)),Se?ke(function(){Xt===0&&ds()}):qs(Nl,ds),A=null;else{switch(Fc(T)){case 1:A=Nl;break;case 4:A=qu;break;case 16:A=nr;break;case 536870912:A=qa;break;default:A=nr}A=wR(A,u_.bind(null,h))}h.callbackPriority=v,h.callbackNode=A}}function u_(h,v){if(Ih=-1,xs=0,Xt&6)throw Error(o(327));var A=h.callbackNode;if(bd()&&h.callbackNode!==A)return null;var T=Oc(h,h===gn?Zn:0);if(T===0)return null;if(T&30||T&h.expiredLanes||v)v=h_(h,T);else{v=T;var P=Xt;Xt|=2;var G=d_();(gn!==h||Zn!==v)&&(sf(),xd(h,v));do try{yR();break}catch(de){hM(h,de)}while(!0);zc(),Im.current=G,Xt=P,En!==null?v=0:(gn=null,Zn=0,v=Ur)}if(v!==0){if(v===2&&(P=Bs(h),P!==0&&(T=P,v=Fv(h,P))),v===1)throw A=Jc,xd(h,0),of(h,T),ko(h,Kn()),A;if(v===6)of(h,T);else{if(P=h.current.alternate,!(T&30)&&!yd(P)&&(v=h_(h,T),v===2&&(G=Bs(h),G!==0&&(T=G,v=Fv(h,G))),v===1))throw A=Jc,xd(h,0),of(h,T),ko(h,Kn()),A;switch(h.finishedWork=P,h.finishedLanes=T,v){case 0:case 1:throw Error(o(345));case 2:Lh(h,lo);break;case 3:if(of(h,T),(T&130023424)===T&&(v=Ov+500-Kn(),10<v)){if(Oc(h,0)!==0)break;if(P=h.suspendedLanes,(P&T)!==T){ti(),h.pingedLanes|=h.suspendedLanes&P;break}h.timeoutHandle=le(Lh.bind(null,h,lo),v);break}Lh(h,lo);break;case 4:if(of(h,T),(T&4194240)===T)break;for(v=h.eventTimes,P=-1;0<T;){var Z=31-wo(T);G=1<<Z,Z=v[Z],Z>P&&(P=Z),T&=~G}if(T=P,T=Kn()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*c_(T/1960))-T,10<T){h.timeoutHandle=le(Lh.bind(null,h,lo),T);break}Lh(h,lo);break;case 5:Lh(h,lo);break;default:throw Error(o(329))}}}return ko(h,Kn()),h.callbackNode===A?u_.bind(null,h):null}function Fv(h,v){var A=ys;return h.current.memoizedState.isDehydrated&&(xd(h,v).flags|=256),h=h_(h,v),h!==2&&(v=lo,lo=A,v!==null&&fM(v)),h}function fM(h){lo===null?lo=h:lo.push.apply(lo,h)}function yd(h){for(var v=h;;){if(v.flags&16384){var A=v.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var T=0;T<A.length;T++){var P=A[T],G=P.getSnapshot;P=P.value;try{if(!wr(G(),P))return!1}catch{return!1}}}if(A=v.child,v.subtreeFlags&16384&&A!==null)A.return=v,v=A;else{if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function of(h,v){for(v&=~Dh,v&=~Lm,h.suspendedLanes|=v,h.pingedLanes&=~v,h=h.expirationTimes;0<v;){var A=31-wo(v),T=1<<A;h[A]=-1,v&=~T}}function dM(h){if(Xt&6)throw Error(o(327));bd();var v=Oc(h,0);if(!(v&1))return ko(h,Kn()),null;var A=h_(h,v);if(h.tag!==0&&A===2){var T=Bs(h);T!==0&&(v=T,A=Fv(h,T))}if(A===1)throw A=Jc,xd(h,0),of(h,v),ko(h,Kn()),A;if(A===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=v,Lh(h,lo),ko(h,Kn()),null}function f_(h){Xl!==null&&Xl.tag===0&&!(Xt&6)&&bd();var v=Xt;Xt|=1;var A=$t.transition,T=ln;try{if($t.transition=null,ln=1,h)return h()}finally{ln=T,$t.transition=A,Xt=v,!(Xt&6)&&ds()}}function af(){vs=Ar.current,lt(Ar)}function xd(h,v){h.finishedWork=null,h.finishedLanes=0;var A=h.timeoutHandle;if(A!==we&&(h.timeoutHandle=we,he(A)),En!==null)for(A=En.return;A!==null;){var T=A;switch(To(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&ji();break;case 3:vh(),lt(An),lt(Vt),Cm();break;case 5:gr(T);break;case 4:vh();break;case 13:lt(lr);break;case 19:lt(lr);break;case 10:Dn(T.type._context);break;case 22:case 23:af()}A=A.return}if(gn=h,En=h=Jl(h.current,null),Zn=vs=v,Ur=0,Jc=null,Dh=Lm=rf=0,lo=ys=null,Or!==null){for(v=0;v<Or.length;v++)if(A=Or[v],T=A.interleaved,T!==null){A.interleaved=null;var P=T.next,G=A.pending;if(G!==null){var Z=G.next;G.next=P,T.next=Z}A.pending=T}Or=null}return h}function hM(h,v){do{var A=En;try{if(zc(),Bo.current=Wx,hd){for(var T=bn.memoizedState;T!==null;){var P=T.queue;P!==null&&(P.pending=null),T=T.next}hd=!1}if(rr=0,ui=Hn=bn=null,ef=!1,xv=0,Nr.current=null,A===null||A.return===null){Ur=1,Jc=v,En=null;break}e:{var G=h,Z=A.return,de=A,Le=v;if(v=Zn,de.flags|=32768,Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var Ye=Le,it=de,at=it.tag;if(!(it.mode&1)&&(at===0||at===11||at===15)){var bt=it.alternate;bt?(it.updateQueue=bt.updateQueue,it.memoizedState=bt.memoizedState,it.lanes=bt.lanes):(it.updateQueue=null,it.memoizedState=null)}var vt=YA(Z);if(vt!==null){vt.flags&=-257,Hl(vt,Z,de,G,v),vt.mode&1&&JA(G,Ye,v),v=vt,Le=Ye;var Rt=v.updateQueue;if(Rt===null){var sr=new Set;sr.add(Le),v.updateQueue=sr}else Rt.add(Le);break e}else{if(!(v&1)){JA(G,Ye,v),Nm();break e}Le=Error(o(426))}}else if(er&&de.mode&1){var $e=YA(Z);if($e!==null){!($e.flags&65536)&&($e.flags|=256),Hl($e,Z,de,G,v),ph(Le);break e}}G=Le,Ur!==4&&(Ur=2),ys===null?ys=[G]:ys.push(G),Le=Mv(Le,de),de=Z;do{switch(de.tag){case 3:de.flags|=65536,v&=-v,de.lanes|=v;var ue=$A(de,Le,v);dv(de,ue);break e;case 1:G=Le;var pe=de.type,ze=de.stateNode;if(!(de.flags&128)&&(typeof pe.getDerivedStateFromError=="function"||ze!==null&&typeof ze.componentDidCatch=="function"&&(Wl===null||!Wl.has(ze)))){de.flags|=65536,v&=-v,de.lanes|=v;var Ze=XA(de,G,v);dv(de,Ze);break e}}de=de.return}while(de!==null)}_d(A)}catch(ot){v=ot,En===A&&A!==null&&(En=A=A.return);continue}break}while(!0)}function d_(){var h=Im.current;return Im.current=Wx,h===null?Wx:h}function Nm(){(Ur===0||Ur===3||Ur===2)&&(Ur=4),gn===null||!(rf&268435455)&&!(Lm&268435455)||of(gn,Zn)}function h_(h,v){var A=Xt;Xt|=2;var T=d_();gn===h&&Zn===v||xd(h,v);do try{g4();break}catch(P){hM(h,P)}while(!0);if(zc(),Xt=A,Im.current=T,En!==null)throw Error(o(261));return gn=null,Zn=0,Ur}function g4(){for(;En!==null;)pM(En)}function yR(){for(;En!==null&&!Ku();)pM(En)}function pM(h){var v=mM(h.alternate,h,vs);h.memoizedProps=h.pendingProps,v===null?_d(h):En=v,Nr.current=null}function _d(h){var v=h;do{var A=v.alternate;if(h=v.return,v.flags&32768){if(A=e_(A,v),A!==null){A.flags&=32767,En=A;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Ur=6,En=null;return}}else if(A=h4(A,v,vs),A!==null){En=A;return}if(v=v.sibling,v!==null){En=v;return}En=v=h}while(v!==null);Ur===0&&(Ur=5)}function Lh(h,v){var A=ln,T=$t.transition;try{$t.transition=null,ln=1,Oh(h,v,A)}finally{$t.transition=T,ln=A}return null}function Oh(h,v,A){do bd();while(Xl!==null);if(Xt&6)throw Error(o(327));var T=h.finishedWork,P=h.finishedLanes;if(T===null)return null;if(h.finishedWork=null,h.finishedLanes=0,T===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var G=T.lanes|T.childLanes;if(Ds(h,G),h===gn&&(En=gn=null,Zn=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||$l||($l=!0,wR(nr,function(){return bd(),null})),G=(T.flags&15990)!==0,T.subtreeFlags&15990||G){G=$t.transition,$t.transition=null;var Z=ln;ln=1;var de=Xt;Xt|=4,Nr.current=null,Mh(h,T),m4(h,T),O(h.containerInfo),h.current=T,vR(T),br(),Xt=de,ln=Z,$t.transition=G}else h.current=T;if($l&&($l=!1,Xl=h,vd=P),G=h.pendingLanes,G===0&&(Wl=null),Qu(T.stateNode),ko(h,Kn()),v!==null)for(A=h.onRecoverableError,T=0;T<v.length;T++)A(v[T]);if(Om)throw Om=!1,h=Yc,Yc=null,h;return vd&1&&h.tag!==0&&bd(),G=h.pendingLanes,G&1?h===Fm?kh++:(kh=0,Fm=h):kh=0,ds(),null}function bd(){if(Xl!==null){var h=Fc(vd),v=$t.transition,A=ln;try{if($t.transition=null,ln=16>h?16:h,Xl===null)var T=!1;else{if(h=Xl,Xl=null,vd=0,Xt&6)throw Error(o(331));var P=Xt;for(Xt|=4,wt=h.current;wt!==null;){var G=wt,Z=G.child;if(wt.flags&16){var de=G.deletions;if(de!==null){for(var Le=0;Le<de.length;Le++){var Ye=de[Le];for(wt=Ye;wt!==null;){var it=wt;switch(it.tag){case 0:case 11:case 15:jl(8,it,G)}var at=it.child;if(at!==null)at.return=it,wt=at;else for(;wt!==null;){it=wt;var bt=it.sibling,vt=it.return;if(iM(it),it===Ye){wt=null;break}if(bt!==null){bt.return=vt,wt=bt;break}wt=vt}}}var Rt=G.alternate;if(Rt!==null){var sr=Rt.child;if(sr!==null){Rt.child=null;do{var $e=sr.sibling;sr.sibling=null,sr=$e}while(sr!==null)}}wt=G}}if(G.subtreeFlags&2064&&Z!==null)Z.return=G,wt=Z;else e:for(;wt!==null;){if(G=wt,G.flags&2048)switch(G.tag){case 0:case 11:case 15:jl(9,G,G.return)}var ue=G.sibling;if(ue!==null){ue.return=G.return,wt=ue;break e}wt=G.return}}var pe=h.current;for(wt=pe;wt!==null;){Z=wt;var ze=Z.child;if(Z.subtreeFlags&2064&&ze!==null)ze.return=Z,wt=ze;else e:for(Z=pe;wt!==null;){if(de=wt,de.flags&2048)try{switch(de.tag){case 0:case 11:case 15:Eh(9,de)}}catch(ot){Wo(de,de.return,ot)}if(de===Z){wt=null;break e}var Ze=de.sibling;if(Ze!==null){Ze.return=de.return,wt=Ze;break e}wt=de.return}}if(Xt=P,ds(),Qs&&typeof Qs.onPostCommitFiberRoot=="function")try{Qs.onPostCommitFiberRoot(Wi,h)}catch{}T=!0}return T}finally{ln=A,$t.transition=v}}return!1}function Io(h,v,A){v=Mv(A,v),v=$A(h,v,1),Ul(h,v),v=ti(),h=Ls(h,1),h!==null&&(So(h,1,v),ko(h,v))}function Wo(h,v,A){if(h.tag===3)Io(h,h,A);else for(;v!==null;){if(v.tag===3){Io(v,h,A);break}else if(v.tag===1){var T=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Wl===null||!Wl.has(T))){h=Mv(A,h),h=XA(v,h,1),Ul(v,h),h=ti(),v=Ls(v,1),v!==null&&(So(v,1,h),ko(v,h));break}}v=v.return}}function xR(h,v,A){var T=h.pingCache;T!==null&&T.delete(v),v=ti(),h.pingedLanes|=h.suspendedLanes&A,gn===h&&(Zn&A)===A&&(Ur===4||Ur===3&&(Zn&130023424)===Zn&&500>Kn()-Ov?xd(h,0):Dh|=A),ko(h,v)}function _R(h,v){v===0&&(h.mode&1?(v=cs,cs<<=1,!(cs&130023424)&&(cs=4194304)):v=1);var A=ti();h=Ls(h,v),h!==null&&(So(h,v,A),ko(h,A))}function v4(h){var v=h.memoizedState,A=0;v!==null&&(A=v.retryLane),_R(h,A)}function bR(h,v){var A=0;switch(h.tag){case 13:var T=h.stateNode,P=h.memoizedState;P!==null&&(A=P.retryLane);break;case 19:T=h.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(v),_R(h,A)}var mM;mM=function(h,v,A){if(h!==null)if(h.memoizedProps!==v.pendingProps||An.current)ir=!0;else{if(!(h.lanes&A)&&!(v.flags&128))return ir=!1,p4(h,v,A);ir=!!(h.flags&131072)}else ir=!1,er&&v.flags&1048576&&Nx(v,Mo,v.index);switch(v.lanes=0,v.tag){case 2:var T=v.type;h!==null&&(h.alternate=null,v.alternate=null,v.flags|=2),h=v.pendingProps;var P=_n(v,Vt.current);nn(v,A),P=bv(null,v,T,h,P,A);var G=Gl();return v.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,pr(T)?(G=!0,_a(v)):G=!1,v.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Lx(v),P.updater=pv,v.stateNode=P,P._reactInternals=v,ld(v,T,h,A),v=Yx(null,v,T,!0,G,A)):(v.tag=0,er&&G&&mv(v),ao(null,v,P,A),v=v.child),v;case 16:T=v.elementType;e:{switch(h!==null&&(h.alternate=null,v.alternate=null,v.flags|=2),h=v.pendingProps,P=T._init,T=P(T._payload),v.type=T,P=v.tag=wd(T),h=ei(T,h),P){case 0:v=Xx(null,v,T,h,A);break e;case 1:v=Jx(null,v,T,h,A);break e;case 11:v=KA(null,v,T,h,A);break e;case 14:v=qA(null,v,T,ei(T.type,h),A);break e}throw Error(o(306,T,""))}return v;case 0:return T=v.type,P=v.pendingProps,P=v.elementType===T?P:ei(T,P),Xx(h,v,T,P,A);case 1:return T=v.type,P=v.pendingProps,P=v.elementType===T?P:ei(T,P),Jx(h,v,T,P,A);case 3:e:{if(eM(v),h===null)throw Error(o(387));T=v.pendingProps,G=v.memoizedState,P=G.element,Hc(h,v),hv(v,T,null,A);var Z=v.memoizedState;if(T=Z.element,oe&&G.isDehydrated)if(G={element:T,isDehydrated:!1,cache:Z.cache,transitions:Z.transitions},v.updateQueue.baseState=G,v.memoizedState=G,v.flags&256){P=Error(o(423)),v=Cv(h,v,T,A,P);break e}else if(T!==P){P=Error(o(424)),v=Cv(h,v,T,A,P);break e}else for(oe&&(Mn=ie(v.stateNode.containerInfo),mr=v,er=!0,Qa=null,Ro=!1),A=Mm(v,null,T,A),v.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(ud(),T===P){v=nf(h,v,A);break e}ao(h,v,T,A)}v=v.child}return v;case 5:return Gx(v),h===null&&zx(v),T=v.type,P=v.pendingProps,G=h!==null?h.memoizedProps:null,Z=P.children,se(T,P)?Z=null:G!==null&&se(T,G)&&(v.flags|=32),$x(h,v),ao(h,v,Z,A),v.child;case 6:return h===null&&zx(v),null;case 13:return Kx(h,v,A);case 4:return dd(v,v.stateNode.containerInfo),T=v.pendingProps,h===null?v.child=gh(v,null,T,A):ao(h,v,T,A),v.child;case 11:return T=v.type,P=v.pendingProps,P=v.elementType===T?P:ei(T,P),KA(h,v,T,P,A);case 7:return ao(h,v,v.pendingProps,A),v.child;case 8:return ao(h,v,v.pendingProps.children,A),v.child;case 12:return ao(h,v,v.pendingProps.children,A),v.child;case 10:e:{if(T=v.type._context,P=v.pendingProps,G=v.memoizedProps,Z=P.value,ad(v,T,Z),G!==null)if(wr(G.value,Z)){if(G.children===P.children&&!An.current){v=nf(h,v,A);break e}}else for(G=v.child,G!==null&&(G.return=v);G!==null;){var de=G.dependencies;if(de!==null){Z=G.child;for(var Le=de.firstContext;Le!==null;){if(Le.context===T){if(G.tag===1){Le=to(-1,A&-A),Le.tag=2;var Ye=G.updateQueue;if(Ye!==null){Ye=Ye.shared;var it=Ye.pending;it===null?Le.next=Le:(Le.next=it.next,it.next=Le),Ye.pending=Le}}G.lanes|=A,Le=G.alternate,Le!==null&&(Le.lanes|=A),$n(G.return,A,v),de.lanes|=A;break}Le=Le.next}}else if(G.tag===10)Z=G.type===v.type?null:G.child;else if(G.tag===18){if(Z=G.return,Z===null)throw Error(o(341));Z.lanes|=A,de=Z.alternate,de!==null&&(de.lanes|=A),$n(Z,A,v),Z=G.sibling}else Z=G.child;if(Z!==null)Z.return=G;else for(Z=G;Z!==null;){if(Z===v){Z=null;break}if(G=Z.sibling,G!==null){G.return=Z.return,Z=G;break}Z=Z.return}G=Z}ao(h,v,P.children,A),v=v.child}return v;case 9:return P=v.type,T=v.pendingProps.children,nn(v,A),P=mn(P),T=T(P),v.flags|=1,ao(h,v,T,A),v.child;case 14:return T=v.type,P=ei(T,v.pendingProps),P=ei(T.type,P),qA(h,v,T,P,A);case 15:return QA(h,v,v.type,v.pendingProps,A);case 17:return T=v.type,P=v.pendingProps,P=v.elementType===T?P:ei(T,P),h!==null&&(h.alternate=null,v.alternate=null,v.flags|=2),v.tag=1,pr(T)?(h=!0,_a(v)):h=!1,nn(v,A),RA(v,T,P),ld(v,T,P,A),Yx(null,v,T,!0,h,A);case 19:return $c(h,v,A);case 22:return ZA(h,v,A)}throw Error(o(156,v.tag))};function wR(h,v){return qs(h,v)}function el(h,v,A,T){this.tag=h,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(h,v,A,T){return new el(h,v,A,T)}function gM(h){return h=h.prototype,!(!h||!h.isReactComponent)}function wd(h){if(typeof h=="function")return gM(h)?1:0;if(h!=null){if(h=h.$$typeof,h===g)return 11;if(h===_)return 14}return 2}function Jl(h,v){var A=h.alternate;return A===null?(A=$o(h.tag,v,h.key,h.mode),A.elementType=h.elementType,A.type=h.type,A.stateNode=h.stateNode,A.alternate=h,h.alternate=A):(A.pendingProps=v,A.type=h.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=h.flags&14680064,A.childLanes=h.childLanes,A.lanes=h.lanes,A.child=h.child,A.memoizedProps=h.memoizedProps,A.memoizedState=h.memoizedState,A.updateQueue=h.updateQueue,v=h.dependencies,A.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},A.sibling=h.sibling,A.index=h.index,A.ref=h.ref,A}function Kc(h,v,A,T,P,G){var Z=2;if(T=h,typeof h=="function")gM(h)&&(Z=1);else if(typeof h=="string")Z=5;else e:switch(h){case u:return qc(A.children,P,G,v);case f:Z=8,P|=8;break;case d:return h=$o(12,A,v,P|2),h.elementType=d,h.lanes=G,h;case y:return h=$o(13,A,v,P),h.elementType=y,h.lanes=G,h;case x:return h=$o(19,A,v,P),h.elementType=x,h.lanes=G,h;case w:return Um(A,P,G,v);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:Z=10;break e;case m:Z=9;break e;case g:Z=11;break e;case _:Z=14;break e;case b:Z=16,T=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return v=$o(Z,A,v,P),v.elementType=h,v.type=T,v.lanes=G,v}function qc(h,v,A,T){return h=$o(7,h,T,v),h.lanes=A,h}function Um(h,v,A,T){return h=$o(22,h,T,v),h.elementType=w,h.lanes=A,h.stateNode={},h}function Nv(h,v,A){return h=$o(6,h,null,v),h.lanes=A,h}function vM(h,v,A){return v=$o(4,h.children!==null?h.children:[],h.key,v),v.lanes=A,v.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},v}function SR(h,v,A,T,P){this.tag=v,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=we,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=T,this.onRecoverableError=P,oe&&(this.mutableSourceEagerHydrationData=null)}function yM(h,v,A,T,P,G,Z,de,Le){return h=new SR(h,v,A,de,Le),v===1?(v=1,G===!0&&(v|=8)):v=0,G=$o(3,null,null,v),h.current=G,G.stateNode=h,G.memoizedState={element:T,isDehydrated:A,cache:null,transitions:null},Lx(G),h}function xM(h){if(!h)return hn;h=h._reactInternals;e:{if(B(h)!==h||h.tag!==1)throw Error(o(170));var v=h;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(pr(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(o(171))}if(h.tag===1){var A=h.type;if(pr(A))return xa(h,A,v)}return v}function _M(h){var v=h._reactInternals;if(v===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=z(v),h===null?null:h.stateNode}function p_(h,v){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var A=h.retryLane;h.retryLane=A!==0&&A<v?A:v}}function bM(h,v){p_(h,v),(h=h.alternate)&&p_(h,v)}function y4(h){return h=z(h),h===null?null:h.stateNode}function S(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var v=ti();Do(h,134217728,v),bM(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var v=ti(),A=$i(h);Do(h,A,v),bM(h,A)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var v=h.stateNode;if(v.current.memoizedState.isDehydrated){var A=Ks(v.pendingLanes);A!==0&&(tn(v,A|1),ko(v,Kn()),!(Xt&6)&&(sf(),ds()))}break;case 13:var T=ti();f_(function(){return Do(h,1,T)}),bM(h,1)}},t.batchedUpdates=function(h,v){var A=Xt;Xt|=1;try{return h(v)}finally{Xt=A,Xt===0&&(sf(),us&&ds())}},t.createComponentSelector=function(h){return{$$typeof:Ch,value:h}},t.createContainer=function(h,v,A,T,P,G,Z){return yM(h,v,!1,null,A,T,P,G,Z)},t.createHasPseudoClassSelector=function(h){return{$$typeof:Th,value:h}},t.createHydrationContainer=function(h,v,A,T,P,G,Z,de,Le){return h=yM(A,T,!0,h,P,G,Z,de,Le),h.context=xM(null),A=h.current,T=ti(),P=$i(A),G=to(T,P),G.callback=v??null,Ul(A,G),h.current.lanes=P,So(h,P,T),ko(h,T),h},t.createPortal=function(h,v,A){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:h,containerInfo:v,implementation:A}},t.createRoleSelector=function(h){return{$$typeof:Rh,value:h}},t.createTestNameSelector=function(h){return{$$typeof:Ph,value:h}},t.createTextSelector=function(h){return{$$typeof:md,value:h}},t.deferredUpdates=function(h){var v=ln,A=$t.transition;try{return $t.transition=null,ln=16,h()}finally{ln=v,$t.transition=A}},t.discreteUpdates=function(h,v,A,T,P){var G=ln,Z=$t.transition;try{return $t.transition=null,ln=1,h(v,A,T,P)}finally{ln=G,$t.transition=Z,Xt===0&&sf()}},t.findAllNodes=uM,t.findBoundingRects=function(h,v){if(!Ve)throw Error(o(363));v=uM(h,v),h=[];for(var A=0;A<v.length;A++)h.push(V(v[A]));for(v=h.length-1;0<v;v--){A=h[v];for(var T=A.x,P=T+A.width,G=A.y,Z=G+A.height,de=v-1;0<=de;de--)if(v!==de){var Le=h[de],Ye=Le.x,it=Ye+Le.width,at=Le.y,bt=at+Le.height;if(T>=Ye&&G>=at&&P<=it&&Z<=bt){h.splice(v,1);break}else if(T!==Ye||A.width!==Le.width||bt<G||at>Z){if(!(G!==at||A.height!==Le.height||it<T||Ye>P)){Ye>T&&(Le.width+=Ye-T,Le.x=T),it<P&&(Le.width=P-Ye),h.splice(v,1);break}}else{at>G&&(Le.height+=at-G,Le.y=G),bt<Z&&(Le.height=Z-at),h.splice(v,1);break}}}return h},t.findHostInstance=_M,t.findHostInstanceWithNoPortals=function(h){return h=N(h),h=h!==null?U(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return _M(h)},t.flushControlled=function(h){var v=Xt;Xt|=1;var A=$t.transition,T=ln;try{$t.transition=null,ln=1,h()}finally{ln=T,$t.transition=A,Xt=v,Xt===0&&(sf(),ds())}},t.flushPassiveEffects=bd,t.flushSync=f_,t.focusWithin=function(h,v){if(!Ve)throw Error(o(363));for(h=Iv(h),v=l_(h,v),v=Array.from(v),h=0;h<v.length;){var A=v[h++];if(!Q(A)){if(A.tag===5&&Me(A.stateNode))return!0;for(A=A.child;A!==null;)v.push(A),A=A.sibling}}return!1},t.getCurrentUpdatePriority=function(){return ln},t.getFindAllNodesFailureDescription=function(h,v){if(!Ve)throw Error(o(363));var A=0,T=[];h=[Iv(h),0];for(var P=0;P<h.length;){var G=h[P++],Z=h[P++],de=v[Z];if((G.tag!==5||!Q(G))&&(Lv(G,de)&&(T.push(a_(de)),Z++,Z>A&&(A=Z)),Z<v.length))for(G=G.child;G!==null;)h.push(G,Z),G=G.sibling}if(A<v.length){for(h=[];A<v.length;A++)h.push(a_(v[A]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return X(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:y4,findFiberByHostInstance:h.findFiberByHostInstance||S,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(v.isDisabled||!v.supportsFiber)h=!0;else{try{Wi=v.inject(h),Qs=v}catch{}h=!!v.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,v,A,T){if(!Ve)throw Error(o(363));h=uM(h,v);var P=Re(h,A,T).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(h,v){var A=v._getVersion;A=A(v._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[v,A]:h.mutableSourceEagerHydrationData.push(v,A)},t.runWithPriority=function(h,v){var A=ln;try{return ln=h,v()}finally{ln=A}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,v,A,T){var P=v.current,G=ti(),Z=$i(P);return A=xM(A),v.context===null?v.context=A:v.pendingContext=A,v=to(G,Z),v.payload={element:h},T=T===void 0?null:T,T!==null&&(v.callback=T),Ul(P,v),h=Do(P,Z,G),h!==null&&fv(h,P,Z),Z},t};ybe.exports=ust;var fst=ybe.exports;const dst=aA(fst);var xbe={exports:{}},_be={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,I){var O=L.length;L.push(I);e:for(;0<O;){var F=O-1>>>1,j=L[F];if(0<i(j,I))L[F]=I,L[O]=j,O=F;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var I=L[0],O=L.pop();if(O!==I){L[0]=O;e:for(var F=0,j=L.length,te=j>>>1;F<te;){var re=2*(F+1)-1,se=L[re],K=re+1,le=L[K];if(0>i(se,O))K<j&&0>i(le,se)?(L[F]=le,L[K]=O,F=K):(L[F]=se,L[re]=O,F=re);else if(K<j&&0>i(le,O))L[F]=le,L[K]=O,F=K;else break e}}return I}function i(L,I){var O=L.sortIndex-I.sortIndex;return O!==0?O:L.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var I=t(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=L)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=t(c)}}function w(L){if(g=!1,b(L),!m)if(t(l)!==null)m=!0,X(M);else{var I=t(c);I!==null&&q(w,I.startTime-L)}}function M(L,I){m=!1,g&&(g=!1,x(E),E=-1),p=!0;var O=d;try{for(b(I),f=t(l);f!==null&&(!(f.expirationTime>I)||L&&!N());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var j=F(f.expirationTime<=I);I=n.unstable_now(),typeof j=="function"?f.callback=j:f===t(l)&&r(l),b(I)}else r(l);f=t(l)}if(f!==null)var te=!0;else{var re=t(c);re!==null&&q(w,re.startTime-I),te=!1}return te}finally{f=null,d=O,p=!1}}var C=!1,R=null,E=-1,B=5,D=-1;function N(){return!(n.unstable_now()-D<B)}function z(){if(R!==null){var L=n.unstable_now();D=L;var I=!0;try{I=R(!0,L)}finally{I?H():(C=!1,R=null)}}else C=!1}var H;if(typeof _=="function")H=function(){_(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=z,H=function(){W.postMessage(null)}}else H=function(){y(z,0)};function X(L){R=L,C||(C=!0,H())}function q(L,I){E=y(function(){L(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,X(M))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var O=d;d=I;try{return L()}finally{d=O}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,I){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var O=d;d=L;try{return I()}finally{d=O}},n.unstable_scheduleCallback=function(L,I,O){var F=n.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?F+O:F):O=F,L){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=O+j,L={id:u++,callback:I,priorityLevel:L,startTime:O,expirationTime:j,sortIndex:-1},O>F?(L.sortIndex=O,e(c,L),t(l)===null&&L===t(c)&&(g?(x(E),E=-1):g=!0,q(w,O-F))):(L.sortIndex=j,e(l,L),m||p||(m=!0,X(M))),L},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(L){var I=d;return function(){var O=d;d=I;try{return L.apply(this,arguments)}finally{d=O}}}})(_be);xbe.exports=_be;var Sie=xbe.exports;const hst=n=>typeof n=="object"&&typeof n.then=="function",Qy=[];function bbe(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function wbe(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Qy)if(bbe(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Qy.indexOf(i);s!==-1&&Qy.splice(s,1)},promise:(hst(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Qy.push(i),!t)throw i.promise}const wX=(n,e,t)=>wbe(n,e,!1,t),pst=(n,e,t)=>void wbe(n,e,!0,t),mst=n=>{if(n===void 0||n.length===0)Qy.splice(0,Qy.length);else{const e=Qy.find(t=>bbe(n,t.keys,t.equal));e&&e.remove()}},SX={},Sbe=n=>void Object.assign(SX,n);function gst(n,e){function t(u,{args:f=[],attach:d,...p},m){let g=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=p.object;y=Sb(x,{type:u,root:m,attach:d,primitive:!0})}else{const x=SX[g];if(!x)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Sb(new x(...f),{type:u,root:m,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof un?y.__r3f.attach="geometry":y instanceof Rs&&(y.__r3f.attach="material")),g!=="inject"&&$5(y,p),y}function r(u,f){let d=!1;if(f){var p,m;(p=f.__r3f)!=null&&p.attach?W5(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(m=u.__r3f)==null||m.objects.push(f),f.__r3f||Sb(f,{}),f.__r3f.parent=u,xH(f),Ab(f)}}function i(u,f,d){let p=!1;if(f){var m,g;if((m=f.__r3f)!=null&&m.attach)W5(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const y=u.children.filter(_=>_!==f),x=y.indexOf(d);u.children=[...y.slice(0,x),f,...y.slice(x)],p=!0}p||(g=u.__r3f)==null||g.objects.push(f),f.__r3f||Sb(f,{}),f.__r3f.parent=u,xH(f),Ab(f)}}function s(u,f,d=!1){u&&[...u].forEach(p=>o(f,p,d))}function o(u,f,d){if(f){var p,m,g;if(f.__r3f&&(f.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(w=>w!==f)),(m=f.__r3f)!=null&&m.attach)Tie(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var y;u.remove(f),(y=f.__r3f)!=null&&y.root&&Ast(f.__r3f.root,f)}const _=(g=f.__r3f)==null?void 0:g.primitive,b=d===void 0?f.dispose!==null&&!_:d;if(!_){var x;s((x=f.__r3f)==null?void 0:x.objects,f,b),s(f.children,f,b)}delete f.__r3f,b&&f.dispose&&f.type!=="Scene"&&Sie.unstable_scheduleCallback(Sie.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),Ab(u)}}function a(u,f,d,p){var m;const g=(m=u.__r3f)==null?void 0:m.parent;if(!g)return;const y=t(f,d,u.__r3f.root);if(u.children){for(const x of u.children)x.__r3f&&r(y,x);u.children=u.children.filter(x=>!x.__r3f)}u.__r3f.objects.forEach(x=>r(y,x)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(g,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(g,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[p,p.alternate].forEach(x=>{x!==null&&(x.stateNode=y,x.ref&&(typeof x.ref=="function"?x.ref(y):x.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:dst({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const p=u.getState().scene;p.__r3f&&i(p,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,d,p){if(u.__r3f.primitive&&p.object&&p.object!==u)return[!0];{const{args:m=[],children:g,...y}=p,{args:x=[],children:_,...b}=d;if(!Array.isArray(m))throw new Error("R3F: the args prop must be an array!");if(m.some((M,C)=>M!==x[C]))return[!0];const w=Pbe(u,y,b,!0);return w.changes.length?[!1,w]:null}},commitUpdate(u,[f,d],p,m,g,y){f?a(u,p,g,y):$5(u,d)},commitMount(u,f,d,p){var m;const g=(m=u.__r3f)!=null?m:{};u.raycast&&g.handlers&&g.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Sb(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:p}=(f=u.__r3f)!=null?f:{};d&&p&&Tie(p,u,d),u.isObject3D&&(u.visible=!1),Ab(u)},unhideInstance(u,f){var d;const{attach:p,parent:m}=(d=u.__r3f)!=null?d:{};p&&m&&W5(m,u,p),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Ab(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():uw.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Vr.fun(performance.now)?performance.now:Vr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Vr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Vr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:$5}}var Aie,Mie;const j5=n=>"colorSpace"in n||"outputColorSpace"in n,Abe=()=>{var n;return(n=SX.ColorManagement)!=null?n:null},Mbe=n=>n&&n.isOrthographicCamera,vst=n=>n&&n.hasOwnProperty("current"),Y3=typeof window<"u"&&((Aie=window.document)!=null&&Aie.createElement||((Mie=window.navigator)==null?void 0:Mie.product)==="ReactNative")?Y.useLayoutEffect:Y.useEffect;function Ebe(n){const e=Y.useRef(n);return Y3(()=>void(e.current=n),[n]),e}function yst({set:n}){return Y3(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class Cbe extends Y.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Cbe.getDerivedStateFromError=()=>({error:!0});const Tbe="__default",Eie=new Map,xst=n=>n&&!!n.memoized&&!!n.changes;function Rbe(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const y2=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Vr={obj:n=>n===Object(n)&&!Vr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Vr.str(n)||Vr.num(n))return n===e;const s=Vr.obj(n);if(s&&r==="reference")return n===e;const o=Vr.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!Vr.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(Vr.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function _st(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function bst(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Sb(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function yH(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const Cie=/-\d+$/;function W5(n,e,t){if(Vr.str(t)){if(Cie.test(t)){const s=t.replace(Cie,""),{target:o,key:a}=yH(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=yH(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function Tie(n,e,t){var r,i;if(Vr.str(t)){const{target:s,key:o}=yH(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function Pbe(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},d=Object.entries(i),p=[];if(c){const g=Object.keys(l);for(let y=0;y<g.length;y++)i.hasOwnProperty(g[y])||d.unshift([g[y],Tbe+"remove"])}d.forEach(([g,y])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&g==="object"||Vr.equ(y,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return p.push([g,y,!0,[]]);let _=[];g.includes("-")&&(_=g.split("-")),p.push([g,y,!1,_]);for(const b in i){const w=i[b];b.startsWith(`${g}-`)&&p.push([b,w,!1,b.split("-")])}});const m={...i};return f.memoizedProps&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:p}}function $5(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=xst(e)?e:Pbe(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let d=0;d<c.length;d++){let[p,m,g,y]=c[d];if(j5(n)){const w="srgb",M="srgb-linear";p==="encoding"?(p="colorSpace",m=m===3001?w:M):p==="outputEncoding"&&(p="outputColorSpace",m=m===3001?w:M)}let x=n,_=x[p];if(y.length&&(_=y.reduce((b,w)=>b[w],n),!(_&&_.set))){const[b,...w]=y.reverse();x=w.reverse().reduce((M,C)=>M[C],n),p=b}if(m===Tbe+"remove")if(x.constructor){let b=Eie.get(x.constructor);b||(b=new x.constructor,Eie.set(x.constructor,b)),m=b[p]}else m=0;if(g)m?s.handlers[p]=m:delete s.handlers[p],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof M1)){if(Array.isArray(m))_.fromArray?_.fromArray(m):_.set(...m);else if(_.copy&&m&&m.constructor&&_.constructor===m.constructor)_.copy(m);else if(m!==void 0){const b=_ instanceof dt;!b&&_.setScalar?_.setScalar(m):_ instanceof M1&&m instanceof M1?_.mask=m.mask:_.set(m),!Abe()&&!a.linear&&b&&_.convertSRGBToLinear()}}else if(x[p]=m,x[p]instanceof qr&&x[p].format===cl&&x[p].type===em){const b=x[p];j5(b)&&j5(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}Ab(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const d=a.internal.interaction.indexOf(n);d>-1&&a.internal.interaction.splice(d,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&xH(n),n}function Ab(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function xH(n){n.onUpdate==null||n.onUpdate(n)}function wst(n,e){n.manual||(Mbe(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function tD(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Sst(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return uw.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return uw.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return uw.ContinuousEventPriority;default:return uw.DefaultEventPriority}}function Bbe(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Ast(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Bbe(t.capturedMap,e,r,i)})}function Mst(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,d=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let x=0;x<p.length;x++){const _=y2(p[x]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function m(x){const _=y2(x);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(x,!0):[]}let g=p.flatMap(m).sort((x,_)=>{const b=y2(x.object),w=y2(_.object);return!b||!w?x.distance-_.distance:w.events.priority-b.events.priority||x.distance-_.distance}).filter(x=>{const _=tD(x);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(g=u.events.filter(g,u));for(const x of g){let _=x.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&d.push({...x,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let x of u.internal.capturedMap.get(l.pointerId).values())f.has(tD(x.intersection))||d.push(x.intersection);return d}function i(l,c,u,f){const d=n.getState();if(l.length){const p={stopped:!1};for(const m of l){const g=y2(m.object)||d,{raycaster:y,pointer:x,camera:_,internal:b}=g,w=new me(x.x,x.y,0).unproject(_),M=D=>{var N,z;return(N=(z=b.capturedMap.get(D))==null?void 0:z.has(m.eventObject))!=null?N:!1},C=D=>{const N={intersection:m,target:c.target};b.capturedMap.has(D)?b.capturedMap.get(D).set(m.eventObject,N):b.capturedMap.set(D,new Map([[m.eventObject,N]])),c.target.setPointerCapture(D)},R=D=>{const N=b.capturedMap.get(D);N&&Bbe(b.capturedMap,m.eventObject,N,D)};let E={};for(let D in c){let N=c[D];typeof N!="function"&&(E[D]=N)}let B={...m,...E,pointer:x,intersections:l,stopped:p.stopped,delta:u,unprojectedPoint:w,ray:y.ray,camera:_,stopPropagation(){const D="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!D||D.has(m.eventObject))&&(B.stopped=p.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(N=>N.eventObject===m.eventObject))){const N=l.slice(0,l.indexOf(m));s([...N,m])}},target:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:R},currentTarget:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:R},nativeEvent:c};if(f(B),p.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,p=d==null?void 0:d.handlers;if(c.hovered.delete(tD(u)),d!=null&&d.eventCount){const m={...u,intersections:l};p.onPointerOut==null||p.onPointerOut(m),p.onPointerLeave==null||p.onPointerLeave(m)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:d}=n.getState();d.lastEvent.current=u;const p=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,p?t:void 0),x=m?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=y.map(b=>b.eventObject)),m&&!y.length&&x<=2&&(o(u,d.interaction),f&&f(u)),p&&s(y);function _(b){const w=b.eventObject,M=w.__r3f,C=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(p){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const R=tD(b),E=d.hovered.get(R);E?E.stopped&&b.stopPropagation():(d.hovered.set(R,b),C.onPointerOver==null||C.onPointerOver(b),C.onPointerEnter==null||C.onPointerEnter(b))}C.onPointerMove==null||C.onPointerMove(b)}else{const R=C[l];R?(!m||d.initialHits.includes(w))&&(o(u,d.interaction.filter(E=>!d.initialHits.includes(E))),R(b)):m&&d.initialHits.includes(w)&&o(u,d.interaction.filter(E=>!d.initialHits.includes(E)))}}i(y,u,x,_)}}return{handlePointer:a}}const Dbe=n=>!!(n!=null&&n.render),hL=Y.createContext(null),Est=(n,e)=>{const t=vbe((a,l)=>{const c=new me,u=new me,f=new me;function d(x=l().camera,_=u,b=l().size){const{width:w,height:M,top:C,left:R}=b,E=w/M;_ instanceof me?f.copy(_):f.set(..._);const B=x.getWorldPosition(c).distanceTo(f);if(Mbe(x))return{width:w/x.zoom,height:M/x.zoom,top:C,left:R,factor:1,distance:B,aspect:E};{const D=x.fov*Math.PI/180,N=2*Math.tan(D/2)*B,z=N*(w/M);return{width:z,height:N,top:C,left:R,factor:w/z,distance:B,aspect:E}}}let p;const m=x=>a(_=>({performance:{..._.performance,current:x}})),g=new nt;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,_)=>e(x,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new yX,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();p&&clearTimeout(p),x.performance.current!==x.performance.min&&m(x.performance.min),p=setTimeout(()=>m(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:x=>a(_=>({..._,events:{..._.events,...x}})),setSize:(x,_,b,w,M)=>{const C=l().camera,R={width:x,height:_,top:w||0,left:M||0,updateStyle:b};a(E=>({size:R,viewport:{...E.viewport,...d(C,u,R)}}))},setDpr:x=>a(_=>{const b=Rbe(x);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(x="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,x!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Y.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,_,b)=>{const w=l().internal;return w.priority=w.priority+(_>0?1:0),w.subscribers.push({ref:x,priority:_,store:b}),w.subscribers=w.subscribers.sort((M,C)=>M.priority-C.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(_>0?1:0),M.subscribers=M.subscribers.filter(C=>C.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l!==i||c.dpr!==s){var d;i=l,s=c.dpr,wst(a,l),u.setPixelRatio(c.dpr);const p=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,p)}a!==o&&(o=a,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let nD,Cst=new Set,Tst=new Set,Rst=new Set;function X5(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function x2(n,e){switch(n){case"before":return X5(Cst,e);case"after":return X5(Tst,e);case"tail":return X5(Rst,e)}}let J5,Y5;function K5(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),J5=e.internal.subscribers,nD=0;nD<J5.length;nD++)Y5=J5[nD],Y5.ref.current(Y5.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Pst(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,x2("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=K5(l,i))}if(x2("after",l),t===0)return x2("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&x2("before",l),u)K5(l,u,f);else for(const d of n.values())K5(l,d.store.getState());c&&x2("after",l)}return{loop:s,invalidate:o,advance:a}}function kbe(){const n=Y.useContext(hL);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function av(n=t=>t,e){return kbe()(n,e)}function Ic(n,e=0){const t=kbe(),r=t.getState().internal.subscribe,i=Ebe(n);return Y3(()=>r(i,e,t),[e,r,t]),null}function Ibe(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,_st(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function id(n,e,t,r){const i=Array.isArray(e)?e:[e],s=wX(Ibe(t,r),[n,...i],{equal:Vr.equ});return Array.isArray(e)?s:s[0]}id.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return pst(Ibe(t),[n,...r])};id.clear=function(n,e){const t=Array.isArray(e)?e:[e];return mst([n,...t])};const DS=new Map,{invalidate:Rie,advance:Pie}=Pst(DS),{reconciler:pL,applyProps:ub}=gst(DS,Sst),fb={objects:"shallow",strict:!1},Bst=(n,e)=>{const t=typeof n=="function"?n(e):n;return Dbe(t)?t:new K$({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Dst(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function kst(n){const e=DS.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Est(Rie,Pie),o=t||pL.createContainer(s,uw.ConcurrentRoot,null,!1,null,"",i,null);e||DS.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:p,events:m,onCreated:g,shadows:y=!1,linear:x=!1,flat:_=!1,legacy:b=!1,orthographic:w=!1,frameloop:M="always",dpr:C=[1,2],performance:R,raycaster:E,camera:B,onPointerMissed:D}=u,N=s.getState(),z=N.gl;N.gl||N.set({gl:z=Bst(f,n)});let H=N.raycaster;H||N.set({raycaster:H=new hbe});const{params:U,...W}=E||{};if(Vr.equ(W,H,fb)||ub(H,{...W}),Vr.equ(U,H.params,fb)||ub(H,{params:{...H.params,...U}}),!N.camera||N.camera===c&&!Vr.equ(c,B,fb)){c=B;const F=B instanceof I3,j=F?B:w?new Ex(0,0,0,0,.1,1e3):new Ms(75,0,.1,1e3);F||(j.position.z=5,B&&ub(j,B),!N.camera&&!(B!=null&&B.rotation)&&j.lookAt(0,0,0)),N.set({camera:j})}if(!N.scene){let F;p instanceof dL?F=p:(F=new dL,p&&ub(F,p)),N.set({scene:Sb(F)})}if(!N.xr){const F=(re,se)=>{const K=s.getState();K.frameloop!=="never"&&Pie(re,!0,K,se)},j=()=>{const re=s.getState();re.gl.xr.enabled=re.gl.xr.isPresenting,re.gl.xr.setAnimationLoop(re.gl.xr.isPresenting?F:null),re.gl.xr.isPresenting||Rie(re)},te={connect(){const re=s.getState().gl;re.xr.addEventListener("sessionstart",j),re.xr.addEventListener("sessionend",j)},disconnect(){const re=s.getState().gl;re.xr.removeEventListener("sessionstart",j),re.xr.removeEventListener("sessionend",j)}};z.xr&&te.connect(),N.set({xr:te})}if(z.shadowMap){const F=z.shadowMap.enabled,j=z.shadowMap.type;if(z.shadowMap.enabled=!!y,Vr.boo(y))z.shadowMap.type=UE;else if(Vr.str(y)){var X;const te={basic:Exe,percentage:xF,soft:UE,variance:Xy};z.shadowMap.type=(X=te[y])!=null?X:UE}else Vr.obj(y)&&Object.assign(z.shadowMap,y);(F!==z.shadowMap.enabled||j!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const q=Abe();q&&("enabled"in q?q.enabled=!b:"legacyMode"in q&&(q.legacyMode=b)),ub(z,{outputEncoding:x?3e3:3001,toneMapping:_?Uf:G$}),N.legacy!==b&&N.set(()=>({legacy:b})),N.linear!==x&&N.set(()=>({linear:x})),N.flat!==_&&N.set(()=>({flat:_})),f&&!Vr.fun(f)&&!Dbe(f)&&!Vr.equ(f,z,fb)&&ub(z,f),m&&!N.events.handlers&&N.set({events:m(s)});const O=Dst(n,d);return Vr.equ(O,N.size,fb)||N.setSize(O.width,O.height,O.updateStyle,O.top,O.left),C&&N.viewport.dpr!==Rbe(C)&&N.setDpr(C),N.frameloop!==M&&N.setFrameloop(M),N.onPointerMissed||N.set({onPointerMissed:D}),R&&!Vr.equ(R,N.performance,fb)&&N.set(F=>({performance:{...F.performance,...R}})),a=g,l=!0,this},render(u){return l||this.configure(),pL.updateContainer(Y.createElement(Ist,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Lbe(n)}}}function Ist({store:n,children:e,onCreated:t,rootElement:r}){return Y3(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),Y.createElement(hL.Provider,{value:n},e)}function Lbe(n,e){const t=DS.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),pL.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),bst(i),DS.delete(n)}catch{}},500)})}}pL.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Y.version});function _H(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}_H.debounce=_H;var Lst=_H;const Bie=aA(Lst);function Ost(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=Y.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Y.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=Y.useRef(!1);Y.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,p,m]=Y.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:b,top:w,width:M,height:C,bottom:R,right:E,x:B,y:D}=l.current.element.getBoundingClientRect(),N={left:b,top:w,width:M,height:C,bottom:R,right:E,x:B,y:D};l.current.element instanceof HTMLElement&&i&&(N.height=l.current.element.offsetHeight,N.width=l.current.element.offsetWidth),Object.freeze(N),f.current&&!zst(l.current.lastBounds,N)&&a(l.current.lastBounds=N)};return[_,u?Bie(_,u):_,c?Bie(_,c):_]},[a,i,c,u]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",m,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(m),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",m,{capture:!0,passive:!0})))}const x=_=>{!_||_===l.current.element||(g(),l.current.element=_,l.current.scrollContainers=Obe(_),y())};return Nst(m,!!t),Fst(p),Y.useEffect(()=>{g(),y()},[t,m,p]),Y.useEffect(()=>g,[]),[x,o,d]}function Fst(n){Y.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Nst(n,e){Y.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Obe(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Obe(n.parentElement)]}const Ust=["x","y","top","bottom","left","right","width","height"],zst=(n,e)=>Ust.every(t=>n[t]===e[t]);var Gst=Object.defineProperty,Hst=Object.defineProperties,Vst=Object.getOwnPropertyDescriptors,Die=Object.getOwnPropertySymbols,jst=Object.prototype.hasOwnProperty,Wst=Object.prototype.propertyIsEnumerable,kie=(n,e,t)=>e in n?Gst(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Iie=(n,e)=>{for(var t in e||(e={}))jst.call(e,t)&&kie(n,t,e[t]);if(Die)for(var t of Die(e))Wst.call(e,t)&&kie(n,t,e[t]);return n},$st=(n,e)=>Hst(n,Vst(e)),Lie,Oie;typeof window<"u"&&((Lie=window.document)!=null&&Lie.createElement||((Oie=window.navigator)==null?void 0:Oie.product)==="ReactNative")?Y.useLayoutEffect:Y.useEffect;function Fbe(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=Fbe(r,e,t);if(i)return i;r=r.sibling}}function Nbe(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Fie=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=Fie;return}return Fie.apply(this,arguments)};const AX=Nbe(Y.createContext(null));class Ube extends Y.Component{render(){return Y.createElement(AX.Provider,{value:this._reactInternals},this.props.children)}}function Xst(){const n=Y.useContext(AX);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Y.useId();return Y.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=Fbe(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function Jst(){const n=Xst(),[e]=Y.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==AX&&!e.has(i)&&e.set(i,Y.useContext(Nbe(i)))}t=t.return}return e}function Yst(){const n=Jst();return Y.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>Y.createElement(e,null,Y.createElement(t.Provider,$st(Iie({},r),{value:n.get(t)}))),e=>Y.createElement(Ube,Iie({},e))),[n])}const q5={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Kst(n){const{handlePointer:e}=Mst(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(q5).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=q5[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=q5[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const qst=Y.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=Kst,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:m,dpr:g,performance:y,raycaster:x,camera:_,onPointerMissed:b,onCreated:w,...M},C){Y.useMemo(()=>Sbe(sst),[]);const R=Yst(),[E,B]=Ost({scroll:!0,debounce:{scroll:50,resize:0},...r}),D=Y.useRef(null),N=Y.useRef(null);Y.useImperativeHandle(C,()=>D.current);const z=Ebe(b),[H,U]=Y.useState(!1),[W,X]=Y.useState(!1);if(H)throw H;if(W)throw W;const q=Y.useRef(null);Y3(()=>{const I=D.current;B.width>0&&B.height>0&&I&&(q.current||(q.current=kst(I)),q.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:m,dpr:g,performance:y,raycaster:x,camera:_,size:B,onPointerMissed:(...O)=>z.current==null?void 0:z.current(...O),onCreated:O=>{O.events.connect==null||O.events.connect(a?vst(a)?a.current:a:N.current),l&&O.setEvents({compute:(F,j)=>{const te=F[l+"X"],re=F[l+"Y"];j.pointer.set(te/j.size.width*2-1,-(re/j.size.height)*2+1),j.raycaster.setFromCamera(j.pointer,j.camera)}}),w==null||w(O)}}),q.current.render(Y.createElement(R,null,Y.createElement(Cbe,{set:X},Y.createElement(Y.Suspense,{fallback:Y.createElement(yst,{set:U})},e)))))}),Y.useEffect(()=>{const I=D.current;if(I)return()=>Lbe(I)},[]);const L=a?"none":"auto";return Y.createElement("div",$a({ref:N,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:L,...i}},M),Y.createElement("div",{ref:E,style:{width:"100%",height:"100%"}},Y.createElement("canvas",{ref:D,style:{display:"block"}},t)))}),Qst=Y.forwardRef(function(e,t){return Y.createElement(Ube,null,Y.createElement(qst,$a({},e,{ref:t})))});function MX(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function jE(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bH(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Zst(n,e){if(n){if(typeof n=="string")return bH(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bH(n,e)}}function eot(n){if(Array.isArray(n))return bH(n)}function tot(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function not(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rot(n){return eot(n)||tot(n)||Zst(n)||not()}new nt;new nt;function iot(n,e,t){return Math.max(e,Math.min(t,n))}function sot(n,e){return iot(n-Math.floor(n/e)*e,0,e)}function oot(n,e){var t=sot(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function zbe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var nu=function n(e,t,r){var i=this;zbe(this,n),jE(this,"dot2",function(s,o){return i.x*s+i.y*o}),jE(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},aot=[new nu(1,1,0),new nu(-1,1,0),new nu(1,-1,0),new nu(-1,-1,0),new nu(1,0,1),new nu(-1,0,1),new nu(1,0,-1),new nu(-1,0,-1),new nu(0,1,1),new nu(0,-1,1),new nu(0,1,-1),new nu(0,-1,-1)],Nie=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Uie=new Array(512),zie=new Array(512),lot=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=Nie[t]^e&255:r=Nie[t]^e>>8&255,Uie[t]=Uie[t+256]=r,zie[t]=zie[t+256]=aot[r%12]}};lot(0);function cot(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function Gie(n){var e=cot(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var uot=function n(e){var t=this;zbe(this,n),jE(this,"seed",0),jE(this,"init",function(r){t.seed=r,t.value=Gie(r)}),jE(this,"value",Gie(this.seed)),this.init(e)};new uot(Math.random());var fot=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*i)/t)},Gbe=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function Ws(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Gbe,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-t)<=a)return n[e]=t,!1;r=Math.max(1e-4,r);var c=2/r,u=o(c*i),f=n[e]-t,d=t,p=s*r;f=Math.min(Math.max(f,-p),p),t=n[e]-f;var m=(n.__damp[l]+c*f)*i;n.__damp[l]=(n.__damp[l]-c*m)*u;var g=t+(f+m)*u;return d-n[e]>0==g>d&&(g=d,n.__damp[l]=(g-d)/i),n[e]=g,!0}function zw(n,e,t,r,i,s,o,a){return Ws(n,e,n[e]+oot(n[e],t),r,i,s,o,a)}var _2=new nt,Hie,Vie;function dot(n,e,t,r,i,s,o){return typeof e=="number"?_2.setScalar(e):Array.isArray(e)?_2.set(e[0],e[1]):_2.copy(e),Hie=Ws(n,"x",_2.x,t,r,i,s,o),Vie=Ws(n,"y",_2.y,t,r,i,s,o),Hie||Vie}var db=new me,jie,Wie,$ie;function wH(n,e,t,r,i,s,o){return typeof e=="number"?db.setScalar(e):Array.isArray(e)?db.set(e[0],e[1],e[2]):db.copy(e),jie=Ws(n,"x",db.x,t,r,i,s,o),Wie=Ws(n,"y",db.y,t,r,i,s,o),$ie=Ws(n,"z",db.z,t,r,i,s,o),jie||Wie||$ie}var ly=new Sn,Xie,Jie,Yie,Kie;function hot(n,e,t,r,i,s,o){return typeof e=="number"?ly.setScalar(e):Array.isArray(e)?ly.set(e[0],e[1],e[2],e[3]):ly.copy(e),Xie=Ws(n,"x",ly.x,t,r,i,s,o),Jie=Ws(n,"y",ly.y,t,r,i,s,o),Yie=Ws(n,"z",ly.z,t,r,i,s,o),Kie=Ws(n,"w",ly.w,t,r,i,s,o),Xie||Jie||Yie||Kie}var b2=new fc,qie,Qie,Zie;function pot(n,e,t,r,i,s,o){return Array.isArray(e)?b2.set(e[0],e[1],e[2],e[3]):b2.copy(e),qie=zw(n,"x",b2.x,t,r,i,s,o),Qie=zw(n,"y",b2.y,t,r,i,s,o),Zie=zw(n,"z",b2.z,t,r,i,s,o),qie||Qie||Zie}var hb=new dt,ese,tse,nse;function mot(n,e,t,r,i,s,o){return e instanceof dt?hb.copy(e):Array.isArray(e)?hb.setRGB(e[0],e[1],e[2]):hb.set(e),ese=Ws(n,"r",hb.r,t,r,i,s,o),tse=Ws(n,"g",hb.g,t,r,i,s,o),nse=Ws(n,"b",hb.b,t,r,i,s,o),ese||tse||nse}var yf=new Mi,qh=new Sn,rse=new Sn,w2=new Sn,ise,sse,ose,ase;function Hbe(n,e,t,r,i,s,o){var a=n;Array.isArray(e)?yf.set(e[0],e[1],e[2],e[3]):yf.copy(e);var l=n.dot(yf)>0?1:-1;return yf.x*=l,yf.y*=l,yf.z*=l,yf.w*=l,ise=Ws(n,"x",yf.x,t,r,i,s,o),sse=Ws(n,"y",yf.y,t,r,i,s,o),ose=Ws(n,"z",yf.z,t,r,i,s,o),ase=Ws(n,"w",yf.w,t,r,i,s,o),qh.set(n.x,n.y,n.z,n.w).normalize(),rse.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),w2.copy(qh).multiplyScalar(rse.dot(qh)/qh.dot(qh)),a.__damp.velocity_x-=w2.x,a.__damp.velocity_y-=w2.y,a.__damp.velocity_z-=w2.z,a.__damp.velocity_w-=w2.w,n.set(qh.x,qh.y,qh.z,qh.w),ise||sse||ose||ase}var S2=new pbe,lse,cse,use;function got(n,e,t,r,i,s,o){return Array.isArray(e)?S2.set(e[0],e[1],e[2]):S2.copy(e),lse=Ws(n,"radius",S2.radius,t,r,i,s,o),cse=zw(n,"phi",S2.phi,t,r,i,s,o),use=zw(n,"theta",S2.theta,t,r,i,s,o),lse||cse||use}var rD=new Bt,fse=new me,dse=new Mi,hse=new me,pse,mse,gse;function vot(n,e,t,r,i,s,o){var a=n;return a.__damp===void 0&&(a.__damp={position:new me,rotation:new Mi,scale:new me},n.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?rD.set.apply(rD,rot(e)):rD.copy(e),rD.decompose(fse,dse,hse),pse=wH(a.__damp.position,fse,t,r,i,s,o),mse=Hbe(a.__damp.rotation,dse,t,r,i,s,o),gse=wH(a.__damp.scale,hse,t,r,i,s,o),n.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),pse||mse||gse}var vse=Object.freeze({__proto__:null,rsqw:fot,exp:Gbe,damp:Ws,dampAngle:zw,damp2:dot,damp3:wH,damp4:hot,dampE:pot,dampC:mot,dampQ:Hbe,dampS:got,dampM:vot});const EX=Y.createContext(null);function K3(){return Y.useContext(EX)}function yot({eps:n=1e-5,enabled:e=!0,infinite:t,horizontal:r,pages:i=1,distance:s=1,damping:o=.25,maxSpeed:a=1/0,style:l={},children:c}){const{get:u,setEvents:f,gl:d,size:p,invalidate:m,events:g}=av(),[y]=Y.useState(()=>document.createElement("div")),[x]=Y.useState(()=>document.createElement("div")),[_]=Y.useState(()=>document.createElement("div")),b=d.domElement.parentNode,w=Y.useRef(0),M=Y.useMemo(()=>({el:y,eps:n,fill:x,fixed:_,horizontal:r,damping:o,offset:0,delta:0,scroll:w,pages:i,range(E,B,D=0){const N=E-D,z=N+B+D*2;return this.offset<N?0:this.offset>z?1:(this.offset-N)/(z-N)},curve(E,B,D=0){return Math.sin(this.range(E,B,D)*Math.PI)},visible(E,B,D=0){const N=E-D,z=N+B+D*2;return this.offset>=N&&this.offset<=z}}),[n,o,r,i]);Y.useEffect(()=>{y.style.position="absolute",y.style.width="100%",y.style.height="100%",y.style[r?"overflowX":"overflowY"]="auto",y.style[r?"overflowY":"overflowX"]="hidden",y.style.top="0px",y.style.left="0px";for(const B in l)y.style[B]=l[B];_.style.position="sticky",_.style.top="0px",_.style.left="0px",_.style.width="100%",_.style.height="100%",_.style.overflow="hidden",y.appendChild(_),x.style.height=r?"100%":`${i*s*100}%`,x.style.width=r?`${i*s*100}%`:"100%",x.style.pointerEvents="none",y.appendChild(x),b.appendChild(y),y[r?"scrollLeft":"scrollTop"]=1;const R=g.connected||d.domElement;requestAnimationFrame(()=>g.connect==null?void 0:g.connect(y));const E=u().events.compute;return f({compute(B,D){const{left:N,top:z}=b.getBoundingClientRect(),H=B.clientX-N,U=B.clientY-z;D.pointer.set(H/D.size.width*2-1,-(U/D.size.height)*2+1),D.raycaster.setFromCamera(D.pointer,D.camera)}}),()=>{b.removeChild(y),f({compute:E}),g.connect==null||g.connect(R)}},[i,s,r,y,x,_,b]),Y.useEffect(()=>{if(g.connected===y){const R=p[r?"width":"height"],E=y[r?"scrollWidth":"scrollHeight"],B=E-R;let D=0,N=!0,z=!0;const H=()=>{if(!(!e||z)&&(m(),D=y[r?"scrollLeft":"scrollTop"],w.current=D/B,t)){if(!N){if(D>=B){const W=1-M.offset;y[r?"scrollLeft":"scrollTop"]=1,w.current=M.offset=-W,N=!0}else if(D<=0){const W=1+M.offset;y[r?"scrollLeft":"scrollTop"]=E,w.current=M.offset=W,N=!0}}N&&setTimeout(()=>N=!1,40)}};y.addEventListener("scroll",H,{passive:!0}),requestAnimationFrame(()=>z=!1);const U=W=>y.scrollLeft+=W.deltaY/2;return r&&y.addEventListener("wheel",U,{passive:!0}),()=>{y.removeEventListener("scroll",H),r&&y.removeEventListener("wheel",U)}}},[y,g,p,t,M,m,r,e]);let C=0;return Ic((R,E)=>{C=M.offset,vse.damp(M,"offset",w.current,o,E,a,void 0,n),vse.damp(M,"delta",Math.abs(C-M.offset),o,E,a,void 0,n),M.delta>n&&m()}),Y.createElement(EX.Provider,{value:M},c)}const xot=Y.forwardRef(({children:n},e)=>{const t=Y.useRef(null),r=K3(),{width:i,height:s}=av(o=>o.viewport);return Ic(()=>{t.current.position.x=r.horizontal?-i*(r.pages-1)*r.offset:0,t.current.position.y=r.horizontal?0:s*(r.pages-1)*r.offset}),Y.createElement("group",{ref:MX([e,t])},n)}),_ot=Y.forwardRef(({children:n,style:e,...t},r)=>{const i=K3(),s=Y.useRef(null),{width:o,height:a}=av(u=>u.size),l=Y.useContext(hL),c=Y.useMemo(()=>Sxe(i.fixed),[i.fixed]);return Ic(()=>{i.delta>i.eps&&(s.current.style.transform=`translate3d(${i.horizontal?-o*(i.pages-1)*i.offset:0}px,${i.horizontal?0:a*(i.pages-1)*-i.offset}px,0)`)}),c.render(Y.createElement("div",$a({ref:MX([r,s]),style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},t),Y.createElement(EX.Provider,{value:i},Y.createElement(hL.Provider,{value:l},n)))),null}),yse=Y.forwardRef(({html:n,...e},t)=>{const r=n?_ot:xot;return Y.createElement(r,$a({ref:t},e))});function bot(n,e,t){return Math.max(e,Math.min(n,t))}const la={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function xse(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function _se(n,e,t,r=.15){return r===0?bot(n,e,t):n<e?-xse(e-n,t-e,r)+e:n>t?+xse(n-t,t-e,r)+t:n}function wot(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[_se(e,s,o,r),_se(t,a,l,i)]}function Sot(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Aot(n){var e=Sot(n,"string");return typeof e=="symbol"?e:String(e)}function il(n,e,t){return e=Aot(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bse(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ei(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bse(Object(t),!0).forEach(function(r){il(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bse(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Vbe={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function wse(n){return n?n[0].toUpperCase()+n.slice(1):""}const Mot=["enter","leave"];function Eot(n=!1,e){return n&&!Mot.includes(e)}function Cot(n,e="",t=!1){const r=Vbe[n],i=r&&r[e]||e;return"on"+wse(n)+wse(i)+(Eot(t,i)?"Capture":"")}const Tot=["gotpointercapture","lostpointercapture"];function Rot(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=Tot.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function Pot(n,e=""){const t=Vbe[n],r=t&&t[e]||e;return n+r}function GF(n){return"touches"in n}function jbe(n){return GF(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function Bot(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function Dot(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function Wbe(n){return GF(n)?Dot(n)[0]:n}function kot(n){return Bot(n).map(e=>e.identifier)}function Q5(n){const e=Wbe(n);return GF(n)?e.identifier:e.pointerId}function Sse(n){const e=Wbe(n);return[e.clientX,e.clientY]}function Iot(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function mL(n,...e){return typeof n=="function"?n(...e):n}function Lot(){}function Oot(...n){return n.length===0?Lot:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function Ase(n,e){return Object.assign({},e,n||{})}const Fot=32;class Not{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?mL(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,Iot(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const C=t._delta.map(Math.abs);la.addTo(t._distance,C)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:u,values:f}=t;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[C,R]=f;d[0]=u[0]!==!1?C-u[0]:0,d[1]=u[1]!==!1?R-u[1]:0}else d[0]=u[0]!==!1?o-u[0]:0,d[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const p=t.offset,m=t._active&&!t._blocked||t.active;m&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=mL(r.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[g,y]=t.offset,[[x,_],[b,w]]=t._bounds;t.overflow=[g<x?-1:g>_?1:0,y<b?-1:y>w?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const M=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=wot(t._bounds,t.offset,M),t.delta=la.sub(t.offset,p),this.computeMovement(),m&&(!t.last||s>Fot)){t.delta=la.sub(t.offset,p);const C=t.delta.map(Math.abs);la.addTo(t.distance,C),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[C[0]/s,C[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Ei(Ei(Ei({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Uot([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class zot extends Not{constructor(...e){super(...e),il(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=la.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=la.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[jbe(e)]:r.axisThreshold;t.axis=Uot(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Got=n=>n,Mse=.15,$be={enabled(n=!0){return n},eventOptions(n,e,t){return Ei(Ei({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[Mse,Mse];case!1:return[0,0];default:return la.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return la.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||Got},threshold(n){return la.toVector(n,0)}},Hot=0,q3=Ei(Ei({},$be),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=Hot){return n},bounds(n={}){if(typeof n=="function")return s=>q3.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),Ese={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class Vot extends zot{constructor(...e){super(...e),il(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=q3.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=Q5(e),r._pointerActive=!0,this.computeValues(Sse(e)),this.computeInitial(),t.preventScrollAxis&&jbe(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=Q5(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=Sse(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=la.sub(s,t._values),this.computeValues(s)),la.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=Q5(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,u]=t._movement,[f,d]=r.swipe.velocity,[p,m]=r.swipe.distance,g=r.swipe.duration;if(t.elapsedTime<g){const y=Math.abs(a/t.timeDelta),x=Math.abs(l/t.timeDelta);y>f&&Math.abs(c)>p&&(t.swipe[0]=Math.sign(a)),x>d&&Math.abs(u)>m&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,jot(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=Ese[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,la.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Ese&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function jot(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Q3=typeof window<"u"&&window.document&&window.document.createElement;function Xbe(){return Q3&&"ontouchstart"in window}function Wot(){return Xbe()||Q3&&window.navigator.maxTouchPoints>1}function $ot(){return Q3&&"onpointerdown"in window}function Xot(){return Q3&&"exitPointerLock"in window.document}function Jot(){try{return"constructor"in GestureEvent}catch{return!1}}const bu={isBrowser:Q3,gesture:Jot(),touch:Xbe(),touchscreen:Wot(),pointer:$ot(),pointerLock:Xot()},Yot=250,Kot=180,qot=.5,Qot=50,Zot=250,eat=10,Cse={mouse:0,touch:0,pen:8},tat=Ei(Ei({},q3),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&bu.pointerLock,bu.touch&&t?"touch":this.pointerLock?"mouse":bu.pointer&&!i?"pointer":bu.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?Yot:void 0,!(!bu.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=la.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=qot,distance:e=Qot,duration:t=Zot}={}){return{velocity:this.transform(la.toVector(n)),distance:this.transform(la.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return Kot;case!1:return 0;default:return n}},axisThreshold(n){return n?Ei(Ei({},Cse),n):Cse},keyboardDisplacement(n=eat){return n}});Ei(Ei({},$be),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!bu.touch&&bu.gesture)return"gesture";if(bu.touch&&r)return"touch";if(bu.touchscreen){if(bu.pointer)return"pointer";if(bu.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=Ase(mL(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=Ase(mL(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",la.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Ei(Ei({},q3),{},{mouseOnly:(n=!0)=>n});Ei(Ei({},q3),{},{mouseOnly:(n=!0)=>n});const Jbe=new Map,SH=new Map;function nat(n){Jbe.set(n.key,n.engine),SH.set(n.key,n.resolver)}const rat={key:"drag",engine:Vot,resolver:tat};function iat(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function sat(n,e){if(n==null)return{};var t=iat(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const oat={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=bu.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},aat=["target","eventOptions","window","enabled","transform"];function bk(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=bk(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function lat(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=sat(r,aat);if(t.shared=bk({target:i,eventOptions:s,window:o,enabled:a,transform:l},oat),e){const u=SH.get(e);t[e]=bk(Ei({shared:t.shared},c),u)}else for(const u in c){const f=SH.get(u);f&&(t[u]=bk(Ei({shared:t.shared},c[u]),f))}return t}class Ybe{constructor(e,t){il(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=Pot(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Ei(Ei({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class cat{constructor(){il(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class uat{constructor(e){il(this,"gestures",new Set),il(this,"_targetEventStore",new Ybe(this)),il(this,"gestureEventStores",{}),il(this,"gestureTimeoutStores",{}),il(this,"handlers",{}),il(this,"config",{}),il(this,"pointerIds",new Set),il(this,"touchIds",new Set),il(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),fat(this,e)}setEventIds(e){if(GF(e))return this.touchIds=new Set(kot(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=lat(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=Tse(r,a.eventOptions,!!i);if(a.enabled){const c=Jbe.get(o);new c(this,e,o).bind(l)}}const s=Tse(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Ei(Ei({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=Oot(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=Rot(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function pb(n,e){n.gestures.add(e),n.gestureEventStores[e]=new Ybe(n,e),n.gestureTimeoutStores[e]=new cat}function fat(n,e){e.drag&&pb(n,"drag"),e.wheel&&pb(n,"wheel"),e.scroll&&pb(n,"scroll"),e.move&&pb(n,"move"),e.pinch&&pb(n,"pinch"),e.hover&&pb(n,"hover")}const Tse=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(c=o.passive)!==null&&c!==void 0?c:e.passive;let d=a?r:Cot(r,i,u);t&&f&&(d+="Passive"),n[d]=n[d]||[],n[d].push(s)};function dat(n,e={},t,r){const i=De.useMemo(()=>new uat(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),De.useEffect(i.effect.bind(i)),De.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function hat(n,e){return nat(rat),dat({drag:n},e||{},"drag")}const pat=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());c=d=>{const p=o(d);if(!u(f,p)){const m=f;a(f=p,m)}},l!=null&&l.fireImmediately&&a(f,f)}return i(c)},n(e,t,r)},Kbe=parseInt(P3.replace(/\D+/g,"")),mat=Kbe>=125?"uv1":"uv2";function Rse(n,e){if(e===g_e)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===cL||e===j$){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===cL)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var Mu=Uint8Array,Fg=Uint16Array,AH=Uint32Array,qbe=new Mu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Qbe=new Mu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gat=new Mu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zbe=function(n,e){for(var t=new Fg(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new AH(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},ewe=Zbe(qbe,2),twe=ewe[0],vat=ewe[1];twe[28]=258,vat[258]=28;var yat=Zbe(Qbe,0),xat=yat[0],MH=new Fg(32768);for(var Xr=0;Xr<32768;++Xr){var og=(Xr&43690)>>>1|(Xr&21845)<<1;og=(og&52428)>>>2|(og&13107)<<2,og=(og&61680)>>>4|(og&3855)<<4,MH[Xr]=((og&65280)>>>8|(og&255)<<8)>>>1}var WE=function(n,e,t){for(var r=n.length,i=0,s=new Fg(e);i<r;++i)++s[n[i]-1];var o=new Fg(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new Fg(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],f=o[n[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)a[MH[f]>>>l]=c}else for(a=new Fg(r),i=0;i<r;++i)n[i]&&(a[i]=MH[o[n[i]-1]++]>>>15-n[i]);return a},Z3=new Mu(288);for(var Xr=0;Xr<144;++Xr)Z3[Xr]=8;for(var Xr=144;Xr<256;++Xr)Z3[Xr]=9;for(var Xr=256;Xr<280;++Xr)Z3[Xr]=7;for(var Xr=280;Xr<288;++Xr)Z3[Xr]=8;var nwe=new Mu(32);for(var Xr=0;Xr<32;++Xr)nwe[Xr]=5;var _at=WE(Z3,9,1),bat=WE(nwe,5,1),Z5=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},xf=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},ez=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},wat=function(n){return(n/8|0)+(n&7&&1)},Sat=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof Fg?Fg:n instanceof AH?AH:Mu)(t-e);return r.set(n.subarray(e,t)),r},Aat=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Mu(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new Mu(r*3));var o=function(K){var le=e.length;if(K>le){var he=new Mu(Math.max(le*2,K));he.set(e),e=he}},a=t.f||0,l=t.p||0,c=t.b||0,u=t.l,f=t.d,d=t.m,p=t.n,m=r*8;do{if(!u){t.f=a=xf(n,l,1);var g=xf(n,l+1,3);if(l+=3,g)if(g==1)u=_at,f=bat,d=9,p=5;else if(g==2){var b=xf(n,l,31)+257,w=xf(n,l+10,15)+4,M=b+xf(n,l+5,31)+1;l+=14;for(var C=new Mu(M),R=new Mu(19),E=0;E<w;++E)R[gat[E]]=xf(n,l+E*3,7);l+=w*3;for(var B=Z5(R),D=(1<<B)-1,N=WE(R,B,1),E=0;E<M;){var z=N[xf(n,l,D)];l+=z&15;var y=z>>>4;if(y<16)C[E++]=y;else{var H=0,U=0;for(y==16?(U=3+xf(n,l,3),l+=2,H=C[E-1]):y==17?(U=3+xf(n,l,7),l+=3):y==18&&(U=11+xf(n,l,127),l+=7);U--;)C[E++]=H}}var W=C.subarray(0,b),X=C.subarray(b);d=Z5(W),p=Z5(X),u=WE(W,d,1),f=WE(X,p,1)}else throw"invalid block type";else{var y=wat(l)+4,x=n[y-4]|n[y-3]<<8,_=y+x;if(_>r){if(s)throw"unexpected EOF";break}i&&o(c+x),e.set(n.subarray(y,_),c),t.b=c+=x,t.p=l=_*8;continue}if(l>m){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var q=(1<<d)-1,L=(1<<p)-1,I=l;;I=l){var H=u[ez(n,l)&q],O=H>>>4;if(l+=H&15,l>m){if(s)throw"unexpected EOF";break}if(!H)throw"invalid length/literal";if(O<256)e[c++]=O;else if(O==256){I=l,u=null;break}else{var F=O-254;if(O>264){var E=O-257,j=qbe[E];F=xf(n,l,(1<<j)-1)+twe[E],l+=j}var te=f[ez(n,l)&L],re=te>>>4;if(!te)throw"invalid distance";l+=te&15;var X=xat[re];if(re>3){var j=Qbe[re];X+=ez(n,l)&(1<<j)-1,l+=j}if(l>m){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var se=c+F;c<se;c+=4)e[c]=e[c-X],e[c+1]=e[c+1-X],e[c+2]=e[c+2-X],e[c+3]=e[c+3-X];c=se}}t.l=u,t.p=I,t.b=c,u&&(a=1,t.m=d,t.d=f,t.n=p)}while(!a);return c==e.length?e:Sat(e,0,c)},Mat=new Mu(0),Eat=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Cat(n,e){return Aat((Eat(n),n.subarray(2,-4)),e)}var Tat=typeof TextDecoder<"u"&&new TextDecoder,Rat=0;try{Tat.decode(Mat,{stream:!0}),Rat=1}catch{}function kS(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Zy="srgb",Ip="srgb-linear",Pse=3001,Pat=3e3;class CX extends va{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Lat(t)}),this.register(function(t){return new Oat(t)}),this.register(function(t){return new Wat(t)}),this.register(function(t){return new $at(t)}),this.register(function(t){return new Xat(t)}),this.register(function(t){return new Nat(t)}),this.register(function(t){return new Uat(t)}),this.register(function(t){return new zat(t)}),this.register(function(t){return new Gat(t)}),this.register(function(t){return new Iat(t)}),this.register(function(t){return new Hat(t)}),this.register(function(t){return new Fat(t)}),this.register(function(t){return new jat(t)}),this.register(function(t){return new Vat(t)}),this.register(function(t){return new Dat(t)}),this.register(function(t){return new Jat(t)}),this.register(function(t){return new Yat(t)})}load(e,t,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=kp.extractUrlBase(e);o=kp.resolveURL(c,this.path)}else o=kp.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new kl(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(kS(new Uint8Array(e.slice(0,4)))===rwe){try{o[On.KHR_BINARY_GLTF]=new Kat(e)}catch(u){i&&i(u);return}s=JSON.parse(o[On.KHR_BINARY_GLTF].content)}else s=JSON.parse(kS(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new clt(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case On.KHR_MATERIALS_UNLIT:o[u]=new kat;break;case On.KHR_DRACO_MESH_COMPRESSION:o[u]=new qat(s,this.dracoLoader);break;case On.KHR_TEXTURE_TRANSFORM:o[u]=new Qat;break;case On.KHR_MESH_QUANTIZATION:o[u]=new Zat;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function Bat(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const On={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Dat{constructor(e){this.parser=e,this.name=On.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new dt(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],Ip);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new NF(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new PT(u),c.distance=f;break;case"spot":c=new FF(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,rp(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class kat{constructor(){this.name=On.KHR_MATERIALS_UNLIT}getMaterialType(){return ml}extendParams(e,t,r){const i=[];e.color=new dt(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Ip),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Zy))}return Promise.all(i)}}class Iat{constructor(e){this.parser=e,this.name=On.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Lat{constructor(e){this.parser=e,this.name=On.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new nt(a,a)}return Promise.all(s)}}class Oat{constructor(e){this.parser=e,this.name=On.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kc}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Fat{constructor(e){this.parser=e,this.name=On.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Nat{constructor(e){this.parser=e,this.name=On.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new dt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Ip)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Zy)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Uat{constructor(e){this.parser=e,this.name=On.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class zat{constructor(e){this.parser=e,this.name=On.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new dt().setRGB(a[0],a[1],a[2],Ip),Promise.all(s)}}class Gat{constructor(e){this.parser=e,this.name=On.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kc}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Hat{constructor(e){this.parser=e,this.name=On.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new dt().setRGB(a[0],a[1],a[2],Ip),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Zy)),Promise.all(s)}}class Vat{constructor(e){this.parser=e,this.name=On.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class jat{constructor(e){this.parser=e,this.name=On.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kc}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Wat{constructor(e){this.parser=e,this.name=On.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class $at{constructor(e){this.parser=e,this.name=On.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Xat{constructor(e){this.parser=e,this.name=On.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Jat{constructor(e){this.name=On.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,d=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,d,i.mode,i.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(p),u,f,d,i.mode,i.filter),p})})}else return null}}class Yat{constructor(e){this.name=On.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==fu.TRIANGLES&&c.mode!==fu.TRIANGLE_STRIP&&c.mode!==fu.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],d=c[0].count,p=[];for(const m of f){const g=new Bt,y=new me,x=new Mi,_=new me(1,1,1),b=new Q$(m.geometry,m.material,d);for(let w=0;w<d;w++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,w),l.SCALE&&_.fromBufferAttribute(l.SCALE,w),b.setMatrixAt(w,g.compose(y,x,_));for(const w in l)if(w==="_COLOR_0"){const M=l[w];b.instanceColor=new I0(M.array,M.itemSize,M.normalized)}else w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&m.geometry.setAttribute(w,l[w]);Pn.prototype.copy.call(b,m),this.parser.assignFinalMaterial(b),p.push(b)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}}const rwe="glTF",A2=12,Bse={JSON:1313821514,BIN:5130562};class Kat{constructor(e){this.name=On.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,A2);if(this.header={magic:kS(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==rwe)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-A2,i=new DataView(e,A2);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===Bse.JSON){const l=new Uint8Array(e,A2+s,o);this.content=kS(l)}else if(a===Bse.BIN){const l=A2+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class qat{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=On.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=EH[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=EH[u]||u.toLowerCase();if(o[u]!==void 0){const d=r.accessors[e.attributes[u]],p=Gw[d.componentType];c[f]=p.name,l[f]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f,d){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const g=p.attributes[m],y=l[m];y!==void 0&&(g.normalized=y)}f(p)},a,c,Ip,d)})})}}class Qat{constructor(){this.name=On.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Zat{constructor(){this.name=On.KHR_MESH_QUANTIZATION}}class iwe extends vA{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,d=f*f,p=d*f,m=e*c,g=m-c,y=-2*p+3*d,x=p-d,_=1-y,b=x-d+f;for(let w=0;w!==a;w++){const M=o[g+w+a],C=o[g+w+l]*u,R=o[m+w+a],E=o[m+w]*u;s[w]=_*M+b*C+y*R+x*E}return s}}const elt=new Mi;class tlt extends iwe{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return elt.fromArray(s).normalize().toArray(s),s}}const fu={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Gw={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Dse={9728:ss,9729:Wr,9984:xT,9985:bF,9986:_T,9987:mm},kse={33071:Gs,33648:CS,10497:oh},tz={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},EH={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Kbe>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ag={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},nlt={CUBICSPLINE:void 0,LINEAR:nx,STEP:RS},nz={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function rlt(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new L0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Zp})),n.DefaultMaterial}function cy(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function rp(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function ilt(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const d=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(d)}if(i){const d=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(d)}if(s){const d=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],d=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=d),n.morphTargetsRelative=!0,n})}function slt(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function olt(n){let e;const t=n.extensions&&n.extensions[On.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+rz(t.attributes):e=n.indices+":"+rz(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+rz(n.targets[r]);return e}function rz(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function CH(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function alt(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const llt=new Bt;class clt{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Bat,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new yA(this.options.manager):this.textureLoader=new cbe(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new kl(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return cy(s,a,i),rp(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[On.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(kp.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=tz[i.type],a=Gw[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new Qn(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=tz[i.type],c=Gw[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,d=i.byteOffset||0,p=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,m=i.normalized===!0;let g,y;if(p&&p!==f){const x=Math.floor(d/p),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let b=t.cache.get(_);b||(g=new c(a,x*p,i.count*p/u),b=new O3(g,p/u),t.cache.add(_,b)),y=new k0(b,l,d%p/u,m)}else a===null?g=new c(i.count*l):g=new c(a,d,i.count*l),y=new Qn(g,l,m);if(i.sparse!==void 0){const x=tz.SCALAR,_=Gw[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,w=i.sparse.values.byteOffset||0,M=new _(o[1],b,i.sparse.count*x),C=new c(o[2],w,i.sparse.count*l);a!==null&&(y=new Qn(y.array.slice(),y.itemSize,y.normalized));for(let R=0,E=M.length;R<E;R++){const B=M[R];if(y.setX(B,C[R*l]),l>=2&&y.setY(B,C[R*l+1]),l>=3&&y.setZ(B,C[R*l+2]),l>=4&&y.setW(B,C[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return u.magFilter=Dse[d.magFilter]||Wr,u.minFilter=Dse[d.minFilter]||mm,u.wrapS=kse[d.wrapS]||oh,u.wrapT=kse[d.wrapT]||oh,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const d=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(d,p){let m=d;t.isImageBitmapLoader===!0&&(m=function(g){const y=new qr(g);y.needsUpdate=!0,d(y)}),t.load(kp.resolveURL(f,s.path),m,void 0,p)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),rp(f,o),f.userData.mimeType=o.mimeType||alt(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[On.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[On.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[On.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===Pse?Zy:Ip),"colorSpace"in o?o.colorSpace=i:o.encoding=i===Zy?Pse:Pat),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new kF,Rs.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new jo,Rs.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return L0}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[On.KHR_MATERIALS_UNLIT]){const f=i[On.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new dt(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.setRGB(d[0],d[1],d[2],Ip),a.opacity=d[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,Zy)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Du);const u=s.alphaMode||nz.OPAQUE;if(u===nz.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===nz.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==ml&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new nt(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&o!==ml&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==ml){const f=s.emissiveFactor;a.emissive=new dt().setRGB(f[0],f[1],f[2],Ip)}return s.emissiveTexture!==void 0&&o!==ml&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Zy)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),rp(f,s),t.associations.set(f,{materials:e}),s.extensions&&cy(i,f,s),f})}createUniqueName(e){const t=Tn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[On.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return Ise(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=olt(c),f=i[u];if(f)o.push(f.promise);else{let d;c.extensions&&c.extensions[On.KHR_DRACO_MESH_COMPRESSION]?d=s(c):d=Ise(new un,c,t),i[u]={primitive:c,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?rlt(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let p=0,m=u.length;p<m;p++){const g=u[p],y=o[p];let x;const _=c[p];if(y.mode===fu.TRIANGLES||y.mode===fu.TRIANGLE_STRIP||y.mode===fu.TRIANGLE_FAN||y.mode===void 0)x=s.isSkinnedMesh===!0?new DF(g,_):new Ui(g,_),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),y.mode===fu.TRIANGLE_STRIP?x.geometry=Rse(x.geometry,j$):y.mode===fu.TRIANGLE_FAN&&(x.geometry=Rse(x.geometry,cL));else if(y.mode===fu.LINES)x=new nd(g,_);else if(y.mode===fu.LINE_STRIP)x=new ah(g,_);else if(y.mode===fu.LINE_LOOP)x=new Z$(g,_);else if(y.mode===fu.POINTS)x=new eX(g,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(x.geometry.morphAttributes).length>0&&slt(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),rp(x,s),y.extensions&&cy(i,x,y),t.assignFinalMaterial(x),f.push(x)}for(let p=0,m=f.length;p<m;p++)t.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return s.extensions&&cy(i,f[0],s),f[0];const d=new Bf;s.extensions&&cy(i,d,s),t.associations.set(d,{meshes:e});for(let p=0,m=f.length;p<m;p++)d.add(f[p]);return d})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Ms(ul.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Ex(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),rp(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const d=new Bt;s!==null&&d.fromArray(s.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new hA(a,l)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let f=0,d=i.channels.length;f<d;f++){const p=i.channels[f],m=i.samplers[p.sampler],g=p.target,y=g.node,x=i.parameters!==void 0?i.parameters[m.input]:m.input,_=i.parameters!==void 0?i.parameters[m.output]:m.output;g.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",x)),l.push(this.getDependency("accessor",_)),c.push(m),u.push(g))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(f){const d=f[0],p=f[1],m=f[2],g=f[3],y=f[4],x=[];for(let _=0,b=d.length;_<b;_++){const w=d[_],M=p[_],C=m[_],R=g[_],E=y[_];if(w===void 0)continue;w.updateMatrix&&w.updateMatrix();const B=r._createAnimationTracks(w,M,C,R,E);if(B)for(let D=0;D<B.length;D++)x.push(B[D])}return new ix(s,void 0,x)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],d=c[2];d!==null&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(d,llt)});for(let p=0,m=f.length;p<m;p++)u.add(f[p]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new BS:c.length>1?u=new Bf:c.length===1?u=c[0]:u=new Pn,u!==c[0])for(let f=0,d=c.length;f<d;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),rp(u,s),s.extensions&&cy(r,u,s),s.matrix!==void 0){const f=new Bt;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Bf;r.name&&(s.name=i.createUniqueName(r.name)),rp(s,r),r.extensions&&cy(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[d,p]of i.associations)(d instanceof Rs||d instanceof qr)&&f.set(d,p);return u.traverse(d=>{const p=i.associations.get(d);p!=null&&f.set(d,p)}),f};return i.associations=c(s),s})}_createAnimationTracks(e,t,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];ag[s.path]===ag.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(a);let c;switch(ag[s.path]){case ag.weights:c=O0;break;case ag.rotation:c=tm;break;case ag.position:case ag.scale:c=F0;break;default:switch(r.itemSize){case 1:c=O0;break;case 2:case 3:default:c=F0;break}break}const u=i.interpolation!==void 0?nlt[i.interpolation]:nx,f=this._getArrayFromAccessor(r);for(let d=0,p=l.length;d<p;d++){const m=new c(l[d]+"."+ag[s.path],t.array,f,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(m),o.push(m)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=CH(t.constructor),i=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=t[s]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof tm?tlt:iwe;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function ult(n,e,t){const r=e.attributes,i=new vm;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new me(l[0],l[1],l[2]),new me(c[0],c[1],c[2])),a.normalized){const u=CH(Gw[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new me,l=new me;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const d=t.json.accessors[f.POSITION],p=d.min,m=d.max;if(p!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(m[2]))),d.normalized){const g=CH(Gw[d.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new ym;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function Ise(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=EH[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return rp(n,e),ult(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?ilt(n,e.targets,t):n})}function swe(n,e,t){const r=t.length-n-1;if(e>=t[r])return r-1;if(e<=t[n])return n;let i=n,s=r,o=Math.floor((i+s)/2);for(;e<t[o]||e>=t[o+1];)e<t[o]?s=o:i=o,o=Math.floor((i+s)/2);return o}function flt(n,e,t,r){const i=[],s=[],o=[];i[0]=1;for(let a=1;a<=t;++a){s[a]=e-r[n+1-a],o[a]=r[n+a]-e;let l=0;for(let c=0;c<a;++c){const u=o[c+1],f=s[a-c],d=i[c]/(u+f);i[c]=l+u*d,l=f*d}i[a]=l}return i}function dlt(n,e,t,r){const i=swe(n,r,e),s=flt(i,r,n,e),o=new Sn(0,0,0,0);for(let a=0;a<=n;++a){const l=t[i-n+a],c=s[a],u=l.w*c;o.x+=l.x*u,o.y+=l.y*u,o.z+=l.z*u,o.w+=l.w*c}return o}function hlt(n,e,t,r,i){const s=[];for(let f=0;f<=t;++f)s[f]=0;const o=[];for(let f=0;f<=r;++f)o[f]=s.slice(0);const a=[];for(let f=0;f<=t;++f)a[f]=s.slice(0);a[0][0]=1;const l=s.slice(0),c=s.slice(0);for(let f=1;f<=t;++f){l[f]=e-i[n+1-f],c[f]=i[n+f]-e;let d=0;for(let p=0;p<f;++p){const m=c[p+1],g=l[f-p];a[f][p]=m+g;const y=a[p][f-1]/a[f][p];a[p][f]=d+m*y,d=g*y}a[f][f]=d}for(let f=0;f<=t;++f)o[0][f]=a[f][t];for(let f=0;f<=t;++f){let d=0,p=1;const m=[];for(let g=0;g<=t;++g)m[g]=s.slice(0);m[0][0]=1;for(let g=1;g<=r;++g){let y=0;const x=f-g,_=t-g;f>=g&&(m[p][0]=m[d][0]/a[_+1][x],y=m[p][0]*a[x][_]);const b=x>=-1?1:-x,w=f-1<=_?g-1:t-f;for(let C=b;C<=w;++C)m[p][C]=(m[d][C]-m[d][C-1])/a[_+1][x+C],y+=m[p][C]*a[x+C][_];f<=_&&(m[p][g]=-m[d][g-1]/a[_+1][f],y+=m[p][g]*a[f][_]),o[g][f]=y;const M=d;d=p,p=M}}let u=t;for(let f=1;f<=r;++f){for(let d=0;d<=t;++d)o[f][d]*=u;u*=t-f}return o}function plt(n,e,t,r,i){const s=i<n?i:n,o=[],a=swe(n,r,e),l=hlt(a,r,n,s,e),c=[];for(let u=0;u<t.length;++u){const f=t[u].clone(),d=f.w;f.x*=d,f.y*=d,f.z*=d,c[u]=f}for(let u=0;u<=s;++u){const f=c[a-n].clone().multiplyScalar(l[u][0]);for(let d=1;d<=n;++d)f.add(c[a-n+d].clone().multiplyScalar(l[u][d]));o[u]=f}for(let u=s+1;u<=i+1;++u)o[u]=new Sn(0,0,0);return o}function mlt(n,e){let t=1;for(let i=2;i<=n;++i)t*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=n-e;++i)r*=i;return t/r}function glt(n){const e=n.length,t=[],r=[];for(let s=0;s<e;++s){const o=n[s];t[s]=new me(o.x,o.y,o.z),r[s]=o.w}const i=[];for(let s=0;s<e;++s){const o=t[s].clone();for(let a=1;a<=s;++a)o.sub(i[s-a].clone().multiplyScalar(mlt(s,a)*r[a]));i[s]=o.divideScalar(r[0])}return i}function vlt(n,e,t,r,i){const s=plt(n,e,t,r,i);return glt(s)}class Lse extends Ju{constructor(e,t,r,i,s){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=s||this.knots.length-1;for(let o=0;o<r.length;++o){const a=r[o];this.controlPoints[o]=new Sn(a.x,a.y,a.z,a.w)}}getPoint(e,t){const r=t||new me,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=dlt(this.degree,this.knots,this.controlPoints,i);return s.w!=1&&s.divideScalar(s.w),r.set(s.x,s.y,s.z)}getTangent(e,t){const r=t||new me,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=vlt(this.degree,this.knots,this.controlPoints,i,1);return r.copy(s[1]).normalize(),r}}let In,Qi,nl;class TX extends va{constructor(e){super(e)}load(e,t,r,i){const s=this,o=s.path===""?kp.extractUrlBase(e):s.path,a=new kl(this.manager);a.setPath(s.path),a.setResponseType("arraybuffer"),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(l,o))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e,t){if(Slt(e))In=new wlt().parse(e);else{const i=cwe(e);if(!Alt(i))throw new Error("THREE.FBXLoader: Unknown format.");if(Fse(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+Fse(i));In=new blt().parse(i)}const r=new yA(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new ylt(r,this.manager).parse(In)}}class ylt{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){Qi=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),i=this.parseDeformers(),s=new xlt().parse(i);return this.parseScene(i,s,r),nl}parseConnections(){const e=new Map;return"Connections"in In&&In.Connections.connections.forEach(function(r){const i=r[0],s=r[1],o=r[2];e.has(i)||e.set(i,{parents:[],children:[]});const a={ID:s,relationship:o};e.get(i).parents.push(a),e.has(s)||e.set(s,{parents:[],children:[]});const l={ID:i,relationship:o};e.get(s).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in In.Objects){const r=In.Objects.Video;for(const i in r){const s=r[i],o=parseInt(i);if(e[o]=s.RelativeFilename||s.Filename,"Content"in s){const a=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,l=typeof s.Content=="string"&&s.Content!=="";if(a||l){const c=this.parseImage(r[i]);t[s.RelativeFilename||s.Filename]=c}}}}for(const r in e){const i=e[r];t[i]!==void 0?e[r]=t[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const t=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let s;switch(i){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),s="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof t=="string")return"data:"+s+";base64,"+t;{const o=new Uint8Array(t);return window.URL.createObjectURL(new Blob([o],{type:s}))}}parseTextures(e){const t=new Map;if("Texture"in In.Objects){const r=In.Objects.Texture;for(const i in r){const s=this.parseTexture(r[i],e);t.set(parseInt(i),s)}}return t}parseTexture(e,t){const r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,s=e.WrapModeV,o=i!==void 0?i.value:0,a=s!==void 0?s.value:0;if(r.wrapS=o===0?oh:Gs,r.wrapT=a===0?oh:Gs,"Scaling"in e){const l=e.Scaling.value;r.repeat.x=l[0],r.repeat.y=l[1]}return r}loadTexture(e,t){let r;const i=this.textureLoader.path,s=Qi.get(e.id).children;s!==void 0&&s.length>0&&t[s[0].ID]!==void 0&&(r=t[s[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let o;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new qr):(l.setPath(this.textureLoader.path),o=l.load(r))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new qr):o=this.textureLoader.load(r);return this.textureLoader.setPath(i),o}parseMaterials(e){const t=new Map;if("Material"in In.Objects){const r=In.Objects.Material;for(const i in r){const s=this.parseMaterial(r[i],e);s!==null&&t.set(parseInt(i),s)}}return t}parseMaterial(e,t){const r=e.id,i=e.attrName;let s=e.ShadingModel;if(typeof s=="object"&&(s=s.value),!Qi.has(r))return null;const o=this.parseParameters(e,t,r);let a;switch(s.toLowerCase()){case"phong":a=new VE;break;case"lambert":a=new lX;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),a=new VE;break}return a.setValues(o),a.name=i,a}parseParameters(e,t,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new dt().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new dt().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new dt().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new dt().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new dt().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new dt().fromArray(e.SpecularColor.value));const s=this;return Qi.get(r).children.forEach(function(o){const a=o.relationship;switch(a){case"Bump":i.bumpMap=s.getTexture(t,o.ID);break;case"Maya|TEX_ao_map":i.aoMap=s.getTexture(t,o.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=s.getTexture(t,o.ID),i.map!==void 0&&("colorSpace"in i.map?i.map.colorSpace="srgb":i.map.encoding=3001);break;case"DisplacementColor":i.displacementMap=s.getTexture(t,o.ID);break;case"EmissiveColor":i.emissiveMap=s.getTexture(t,o.ID),i.emissiveMap!==void 0&&("colorSpace"in i.emissiveMap?i.emissiveMap.colorSpace="srgb":i.emissiveMap.encoding=3001);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=s.getTexture(t,o.ID);break;case"ReflectionColor":i.envMap=s.getTexture(t,o.ID),i.envMap!==void 0&&(i.envMap.mapping=ES,"colorSpace"in i.envMap?i.envMap.colorSpace="srgb":i.envMap.encoding=3001);break;case"SpecularColor":i.specularMap=s.getTexture(t,o.ID),i.specularMap!==void 0&&("colorSpace"in i.specularMap?i.specularMap.colorSpace="srgb":i.specularMap.encoding=3001);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=s.getTexture(t,o.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),i}getTexture(e,t){return"LayeredTexture"in In.Objects&&t in In.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=Qi.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in In.Objects){const r=In.Objects.Deformer;for(const i in r){const s=r[i],o=Qi.get(parseInt(i));if(s.attrType==="Skin"){const a=this.parseSkeleton(o,r);a.ID=i,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=o.parents[0].ID,e[i]=a}else if(s.attrType==="BlendShape"){const a={id:i};a.rawTargets=this.parseMorphTargets(o,r),a.id=i,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach(function(i){const s=t[i.ID];if(s.attrType!=="Cluster")return;const o={ID:i.ID,indices:[],weights:[],transformLink:new Bt().fromArray(s.TransformLink.a)};"Indexes"in s&&(o.indices=s.Indexes.a,o.weights=s.Weights.a),r.push(o)}),{rawBones:r,bones:[]}}parseMorphTargets(e,t){const r=[];for(let i=0;i<e.children.length;i++){const s=e.children[i],o=t[s.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(o.attrType!=="BlendShapeChannel")return;a.geoID=Qi.get(parseInt(s.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,r.push(a)}return r}parseScene(e,t,r){nl=new Bf;const i=this.parseModels(e.skeletons,t,r),s=In.Objects.Model,o=this;i.forEach(function(l){const c=s[l.ID];o.setLookAtProperties(l,c),Qi.get(l.ID).parents.forEach(function(f){const d=i.get(f.ID);d!==void 0&&d.add(l)}),l.parent===null&&nl.add(l)}),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),nl.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=awe(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const a=new _lt().parse();nl.children.length===1&&nl.children[0].isGroup&&(nl.children[0].animations=a,nl=nl.children[0]),nl.animations=a}parseModels(e,t,r){const i=new Map,s=In.Objects.Model;for(const o in s){const a=parseInt(o),l=s[o],c=Qi.get(a);let u=this.buildSkeleton(c,e,a,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,r);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new BS;break;case"Null":default:u=new Bf;break}u.name=l.attrName?Tn.sanitizeNodeName(l.attrName):"",u.ID=a}this.getTransformData(u,l),i.set(a,u)}return i}buildSkeleton(e,t,r,i){let s=null;return e.parents.forEach(function(o){for(const a in t){const l=t[a];l.rawBones.forEach(function(c,u){if(c.ID===o.ID){const f=s;s=new BS,s.matrixWorld.copy(c.transformLink),s.name=i?Tn.sanitizeNodeName(i):"",s.ID=r,l.bones[u]=s,f!==null&&s.add(f)}})}}),s}createCamera(e){let t,r;if(e.children.forEach(function(i){const s=In.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new Pn;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let s=1;r.NearPlane!==void 0&&(s=r.NearPlane.value/1e3);let o=1e3;r.FarPlane!==void 0&&(o=r.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(a=r.AspectWidth.value,l=r.AspectHeight.value);const c=a/l;let u=45;r.FieldOfView!==void 0&&(u=r.FieldOfView.value);const f=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:t=new Ms(u,c,s,o),f!==null&&t.setFocalLength(f);break;case 1:t=new Ex(-a/2,a/2,l/2,-l/2,s,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),t=new Pn;break}}return t}createLight(e){let t,r;if(e.children.forEach(function(i){const s=In.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new Pn;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let s=16777215;r.Color!==void 0&&(s=new dt().fromArray(r.Color.value));let o=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(o=0);let a=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?a=0:a=r.FarAttenuationEnd.value);const l=1;switch(i){case 0:t=new PT(s,o,a,l);break;case 1:t=new NF(s,o);break;case 2:let c=Math.PI/3;r.InnerAngle!==void 0&&(c=ul.degToRad(r.InnerAngle.value));let u=0;r.OuterAngle!==void 0&&(u=ul.degToRad(r.OuterAngle.value),u=Math.max(u,1)),t=new FF(s,o,a,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new PT(s,o);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,r){let i,s=null,o=null;const a=[];return e.children.forEach(function(l){t.has(l.ID)&&(s=t.get(l.ID)),r.has(l.ID)&&a.push(r.get(l.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new VE({color:13421772}),a.push(o)),"color"in s.attributes&&a.forEach(function(l){l.vertexColors=!0}),s.FBX_Deformer?(i=new DF(s,o),i.normalizeSkinWeights()):i=new Ui(s,o),i}createCurve(e,t){const r=e.children.reduce(function(s,o){return t.has(o.ID)&&(s=t.get(o.ID)),s},null),i=new jo({color:3342591,linewidth:1});return new ah(r,i)}getTransformData(e,t){const r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?r.eulerOrder=lwe(t.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){"LookAtProperty"in t&&Qi.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const s=In.Objects.Model[i.ID];if("Lcl_Translation"in s){const o=s.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(o),nl.add(e.target)):e.lookAt(new me().fromArray(o))}}})}bindSkeleton(e,t,r){const i=this.parsePoseNodes();for(const s in e){const o=e[s];Qi.get(parseInt(o.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;Qi.get(c).parents.forEach(function(f){r.has(f.ID)&&r.get(f.ID).bind(new hA(o.bones),i[f.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in In.Objects){const t=In.Objects.Pose;for(const r in t)if(t[r].attrType==="BindPose"&&t[r].NbPoseNodes>0){const i=t[r].PoseNode;Array.isArray(i)?i.forEach(function(s){e[s.Node]=new Bt().fromArray(s.Matrix.a)}):e[i.Node]=new Bt().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in In&&"AmbientColor"in In.GlobalSettings){const e=In.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],i=e[2];if(t!==0||r!==0||i!==0){const s=new dt(t,r,i);nl.add(new mX(s,1))}}}}class xlt{parse(e){const t=new Map;if("Geometry"in In.Objects){const r=In.Objects.Geometry;for(const i in r){const s=Qi.get(parseInt(i)),o=this.parseGeometry(s,r[i],e);t.set(parseInt(i),o)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const i=r.skeletons,s=[],o=e.parents.map(function(f){return In.Objects.Model[f.ID]});if(o.length===0)return;const a=e.children.reduce(function(f,d){return i[d.ID]!==void 0&&(f=i[d.ID]),f},null);e.children.forEach(function(f){r.morphTargets[f.ID]!==void 0&&s.push(r.morphTargets[f.ID])});const l=o[0],c={};"RotationOrder"in l&&(c.eulerOrder=lwe(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=awe(c);return this.genGeometry(t,a,s,u)}genGeometry(e,t,r,i){const s=new un;e.attrName&&(s.name=e.attrName);const o=this.parseGeoNode(e,t),a=this.genBuffers(o),l=new Lt(a.vertex,3);if(l.applyMatrix4(i),s.setAttribute("position",l),a.colors.length>0&&s.setAttribute("color",new Lt(a.colors,3)),t&&(s.setAttribute("skinIndex",new AF(a.weightsIndices,4)),s.setAttribute("skinWeight",new Lt(a.vertexWeights,4)),s.FBX_Deformer=t),a.normal.length>0){const c=new aa().getNormalMatrix(i),u=new Lt(a.normal,3);u.applyNormalMatrix(c),s.setAttribute("normal",u)}if(a.uvs.forEach(function(c,u){mat==="uv2"&&u++;const f=u===0?"uv":`uv${u}`;s.setAttribute(f,new Lt(a.uvs[u],2))}),o.material&&o.material.mappingType!=="AllSame"){let c=a.materialIndex[0],u=0;if(a.materialIndex.forEach(function(f,d){f!==c&&(s.addGroup(u,d-u,c),c=f,u=d)}),s.groups.length>0){const f=s.groups[s.groups.length-1],d=f.start+f.count;d!==a.materialIndex.length&&s.addGroup(d,a.materialIndex.length-d,c)}s.groups.length===0&&s.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(s,e,r,i),s}parseGeoNode(e,t){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},t!==null&&(r.skeleton=t,t.rawBones.forEach(function(i,s){i.indices.forEach(function(o,a){r.weightTable[o]===void 0&&(r.weightTable[o]=[]),r.weightTable[o].push({id:s,weight:i.weights[a]})})})),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,s=!1,o=[],a=[],l=[],c=[],u=[],f=[];const d=this;return e.vertexIndices.forEach(function(p,m){let g,y=!1;p<0&&(p=p^-1,y=!0);let x=[],_=[];if(o.push(p*3,p*3+1,p*3+2),e.color){const b=iD(m,r,p,e.color);l.push(b[0],b[1],b[2])}if(e.skeleton){if(e.weightTable[p]!==void 0&&e.weightTable[p].forEach(function(b){_.push(b.weight),x.push(b.id)}),_.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const b=[0,0,0,0],w=[0,0,0,0];_.forEach(function(M,C){let R=M,E=x[C];w.forEach(function(B,D,N){if(R>B){N[D]=R,R=B;const z=b[D];b[D]=E,E=z}})}),x=b,_=w}for(;_.length<4;)_.push(0),x.push(0);for(let b=0;b<4;++b)u.push(_[b]),f.push(x[b])}if(e.normal){const b=iD(m,r,p,e.normal);a.push(b[0],b[1],b[2])}e.material&&e.material.mappingType!=="AllSame"&&(g=iD(m,r,p,e.material)[0]),e.uv&&e.uv.forEach(function(b,w){const M=iD(m,r,p,b);c[w]===void 0&&(c[w]=[]),c[w].push(M[0]),c[w].push(M[1])}),i++,y&&(d.genFace(t,e,o,g,a,l,c,u,f,i),r++,i=0,o=[],a=[],l=[],c=[],u=[],f=[])}),t}genFace(e,t,r,i,s,o,a,l,c,u){for(let f=2;f<u;f++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[(f-1)*3]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+1]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+2]]),e.vertex.push(t.vertexPositions[r[f*3]]),e.vertex.push(t.vertexPositions[r[f*3+1]]),e.vertex.push(t.vertexPositions[r[f*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(f-1)*4]),e.vertexWeights.push(l[(f-1)*4+1]),e.vertexWeights.push(l[(f-1)*4+2]),e.vertexWeights.push(l[(f-1)*4+3]),e.vertexWeights.push(l[f*4]),e.vertexWeights.push(l[f*4+1]),e.vertexWeights.push(l[f*4+2]),e.vertexWeights.push(l[f*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(f-1)*4]),e.weightsIndices.push(c[(f-1)*4+1]),e.weightsIndices.push(c[(f-1)*4+2]),e.weightsIndices.push(c[(f-1)*4+3]),e.weightsIndices.push(c[f*4]),e.weightsIndices.push(c[f*4+1]),e.weightsIndices.push(c[f*4+2]),e.weightsIndices.push(c[f*4+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[(f-1)*3]),e.colors.push(o[(f-1)*3+1]),e.colors.push(o[(f-1)*3+2]),e.colors.push(o[f*3]),e.colors.push(o[f*3+1]),e.colors.push(o[f*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(s[0]),e.normal.push(s[1]),e.normal.push(s[2]),e.normal.push(s[(f-1)*3]),e.normal.push(s[(f-1)*3+1]),e.normal.push(s[(f-1)*3+2]),e.normal.push(s[f*3]),e.normal.push(s[f*3+1]),e.normal.push(s[f*3+2])),t.uv&&t.uv.forEach(function(d,p){e.uvs[p]===void 0&&(e.uvs[p]=[]),e.uvs[p].push(a[p][0]),e.uvs[p].push(a[p][1]),e.uvs[p].push(a[p][(f-1)*2]),e.uvs[p].push(a[p][(f-1)*2+1]),e.uvs[p].push(a[p][f*2]),e.uvs[p].push(a[p][f*2+1])})}addMorphTargets(e,t,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;r.forEach(function(o){o.rawTargets.forEach(function(a){const l=In.Objects.Geometry[a.geoID];l!==void 0&&s.genMorphGeometry(e,t,l,i,a.name)})})}genMorphGeometry(e,t,r,i,s){const o=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],a=r.Vertices!==void 0?r.Vertices.a:[],l=r.Indexes!==void 0?r.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let m=0;m<l.length;m++){const g=l[m]*3;u[g]=a[m*3],u[g+1]=a[m*3+1],u[g+2]=a[m*3+2]}const f={vertexIndices:o,vertexPositions:u},d=this.genBuffers(f),p=new Lt(d.vertex,3);p.name=s||r.attrName,p.applyMatrix4(i),e.morphAttributes.position.push(p)}parseNormals(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let s=[];return r==="IndexToDirect"&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:s,mappingType:t,referenceType:r}}parseUVs(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let s=[];return r==="IndexToDirect"&&(s=e.UVIndex.a),{dataSize:2,buffer:i,indices:s,mappingType:t,referenceType:r}}parseVertexColors(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let s=[];return r==="IndexToDirect"&&(s=e.ColorIndex.a),{dataSize:4,buffer:i,indices:s,mappingType:t,referenceType:r}}parseMaterialIndices(e){const t=e.MappingInformationType,r=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,s=[];for(let o=0;o<i.length;++o)s.push(o);return{dataSize:1,buffer:i,indices:s,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(Lse===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new un;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new un;const r=t-1,i=e.KnotVector.a,s=[],o=e.Points.a;for(let f=0,d=o.length;f<d;f+=4)s.push(new Sn().fromArray(o,f));let a,l;if(e.Form==="Closed")s.push(s[0]);else if(e.Form==="Periodic"){a=r,l=i.length-1-a;for(let f=0;f<r;++f)s.push(s[f])}const u=new Lse(r,i,s,a,l).getPoints(s.length*12);return new un().setFromPoints(u)}}class _lt{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const r in t){const i=t[r],s=this.addClip(i);e.push(s)}return e}parseClips(){if(In.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=In.Objects.AnimationCurveNode,t=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const s={id:i.id,attr:i.attrName,curves:{}};t.set(s.id,s)}}return t}parseAnimationCurves(e){const t=In.Objects.AnimationCurve;for(const r in t){const i={id:t[r].id,times:t[r].KeyTime.a.map(Mlt),values:t[r].KeyValueFloat.a},s=Qi.get(i.id);if(s!==void 0){const o=s.parents[0].ID,a=s.parents[0].relationship;a.match(/X/)?e.get(o).curves.x=i:a.match(/Y/)?e.get(o).curves.y=i:a.match(/Z/)?e.get(o).curves.z=i:a.match(/d|DeformPercent/)&&e.has(o)&&(e.get(o).curves.morph=i)}}}parseAnimationLayers(e){const t=In.Objects.AnimationLayer,r=new Map;for(const i in t){const s=[],o=Qi.get(parseInt(i));o!==void 0&&(o.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(s[c]===void 0){const f=Qi.get(l.ID).parents.filter(function(d){return d.relationship!==void 0})[0].ID;if(f!==void 0){const d=In.Objects.Model[f.toString()];if(d===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const p={modelName:d.attrName?Tn.sanitizeNodeName(d.attrName):"",ID:d.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};nl.traverse(function(m){m.ID===d.id&&(p.transform=m.matrix,m.userData.transformData&&(p.eulerOrder=m.userData.transformData.eulerOrder))}),p.transform||(p.transform=new Bt),"PreRotation"in d&&(p.preRotation=d.PreRotation.value),"PostRotation"in d&&(p.postRotation=d.PostRotation.value),s[c]=p}}s[c]&&(s[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(s[c]===void 0){const f=Qi.get(l.ID).parents.filter(function(x){return x.relationship!==void 0})[0].ID,d=Qi.get(f).parents[0].ID,p=Qi.get(d).parents[0].ID,m=Qi.get(p).parents[0].ID,g=In.Objects.Model[m],y={modelName:g.attrName?Tn.sanitizeNodeName(g.attrName):"",morphName:In.Objects.Deformer[f].attrName};s[c]=y}s[c][u.attr]=u}}}),r.set(parseInt(i),s))}return r}parseAnimStacks(e){const t=In.Objects.AnimationStack,r={};for(const i in t){const s=Qi.get(parseInt(i)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(s[0].ID);r[i]={name:t[i].attrName,layer:o}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach(function(i){t=t.concat(r.generateTracks(i))}),new ix(e.name,-1,t)}generateTracks(e){const t=[];let r=new me,i=new Mi,s=new me;if(e.transform&&e.transform.decompose(r,i,s),r=r.toArray(),i=new fc().setFromQuaternion(i,e.eulerOrder).toArray(),s=s.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");o!==void 0&&t.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&t.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,s,"scale");o!==void 0&&t.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&t.push(o)}return t}generateVectorTrack(e,t,r,i){const s=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(s,t,r);return new F0(e+"."+i,s,o)}generateRotationTrack(e,t,r,i,s,o){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(ul.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(ul.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(ul.degToRad));const a=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(a,t,r);i!==void 0&&(i=i.map(ul.degToRad),i.push(o),i=new fc().fromArray(i),i=new Mi().setFromEuler(i)),s!==void 0&&(s=s.map(ul.degToRad),s.push(o),s=new fc().fromArray(s),s=new Mi().setFromEuler(s).invert());const c=new Mi,u=new fc,f=[];for(let d=0;d<l.length;d+=3)u.set(l[d],l[d+1],l[d+2],o),c.setFromEuler(u),i!==void 0&&c.premultiply(i),s!==void 0&&c.multiply(s),c.toArray(f,d/3*4);return new tm(e+".quaternion",a,f)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,r=t.values.map(function(s){return s/100}),i=nl.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new O0(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(r,i){return r-i}),t.length>1){let r=1,i=t[0];for(let s=1;s<t.length;s++){const o=t[s];o!==i&&(t[r]=o,i=o,r++)}t=t.slice(0,r)}return t}getKeyframeTrackValues(e,t,r){const i=r,s=[];let o=-1,a=-1,l=-1;return e.forEach(function(c){if(t.x&&(o=t.x.times.indexOf(c)),t.y&&(a=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),o!==-1){const u=t.x.values[o];s.push(u),i[0]=u}else s.push(i[0]);if(a!==-1){const u=t.y.values[a];s.push(u),i[1]=u}else s.push(i[1]);if(l!==-1){const u=t.z.values[l];s.push(u),i[2]=u}else s.push(i[2])}),s}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const r=e.values[t-1],i=e.values[t]-r,s=Math.abs(i);if(s>=180){const o=s/180,a=i/o;let l=r+a;const c=e.times[t-1],f=(e.times[t]-c)/o;let d=c+f;const p=[],m=[];for(;d<e.times[t];)p.push(d),d+=f,m.push(l),l+=a;e.times=Nse(e.times,t,p),e.values=Nse(e.values,t,m)}}}}class blt{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new owe,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,s){const o=i.match(/^[\s\t]*;/),a=i.match(/^[\s\t]*$/);if(o||a)return;const l=i.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=i.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=i.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(i,l):c?t.parseNodeProperty(i,c,r[++s]):u?t.popStack():i.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,t){const r=t[1].trim().replace(/^"/,"").replace(/"$/,""),i=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:r},o=this.parseNodeAttr(i),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,s):r in a?(r==="PoseNode"?a.PoseNode.push(s):a[r].id!==void 0&&(a[r]={},a[r][a[r].id]=a[r]),o.id!==""&&(a[r][o.id]=s)):typeof o.id=="number"?(a[r]={},a[r][o.id]=s):r!=="Properties70"&&(r==="PoseNode"?a[r]=[s]:a[r]=s),typeof o.id=="number"&&(s.id=o.id),o.name!==""&&(s.attrName=o.name),o.type!==""&&(s.attrType=o.type),this.pushStack(s)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:t,name:r,type:i}}parseNodeProperty(e,t,r){let i=t[1].replace(/^"/,"").replace(/"$/,"").trim(),s=t[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&s===","&&(s=r.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if(o.name==="Properties70"){this.parseNodeSpecialProperty(e,i,s);return}if(i==="C"){const l=s.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let f=s.split(",").slice(3);f=f.map(function(d){return d.trim().replace(/^"/,"")}),i="connections",s=[c,u],Clt(s,f),o[i]===void 0&&(o[i]=[])}i==="Node"&&(o.id=s),i in o&&Array.isArray(o[i])?o[i].push(s):i!=="a"?o[i]=s:o.a=s,this.setCurrentProp(o,i),i==="a"&&s.slice(-1)!==","&&(o.a=sz(s))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=sz(t.a))}parseNodeSpecialProperty(e,t,r){const i=r.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=i[0],o=i[1],a=i[2],l=i[3];let c=i[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=sz(c);break}this.getPrevNode()[s]={type:o,type2:a,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),s)}}class wlt{parse(e){const t=new Ose(e);t.skip(23);const r=t.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new owe;for(;!this.endOfContent(t);){const s=this.parseNode(t,r);s!==null&&i.add(s.name,s)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const r={},i=t>=7500?e.getUint64():e.getUint32(),s=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(i===0)return null;const l=[];for(let d=0;d<s;d++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",f=l.length>2?l[2]:"";for(r.singleProperty=s===1&&e.getOffset()===i;i>e.getOffset();){const d=this.parseNode(e,t);d!==null&&this.parseSubNode(a,r,d)}return r.propertyList=l,typeof c=="number"&&(r.id=c),u!==""&&(r.attrName=u),f!==""&&(r.attrType=f),a!==""&&(r.name=a),r}parseSubNode(e,t,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(t[r.name]=r,r.a=i):t[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(s,o){o!==0&&i.push(s)}),t.connections===void 0&&(t.connections=[]),t.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(s){t[s]=r[s]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],s=r.propertyList[1];const o=r.propertyList[2],a=r.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),s==="Color"||s==="ColorRGB"||s==="Vector"||s==="Vector3D"||s.indexOf("Lcl_")===0?l=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:l=r.propertyList[4],t[i]={type:s,type2:o,flag:a,value:l}}else t[r.name]===void 0?typeof r.id=="number"?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:r.name==="PoseNode"?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):t[r.name][r.id]===void 0&&(t[r.name][r.id]=r)}parseProperty(e){const t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),s=e.getUint32(),o=e.getUint32();if(s===0)switch(t){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}const a=Cat(new Uint8Array(e.getArrayBuffer(o))),l=new Ose(a.buffer);switch(t){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class Ose{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let i=0;i<e;i++)t[i]=this.getUint8();const r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),kS(new Uint8Array(t))}}class owe{add(e,t){this[e]=t}}function Slt(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===cwe(n,0,e.length)}function Alt(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function r(i){const s=n[i-1];return n=n.slice(t+i),t++,s}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function Fse(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function Mlt(n){return n/46186158e3}const Elt=[];function iD(n,e,t,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=n;break;case"ByPolygon":i=e;break;case"ByVertice":i=t;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const s=i*r.dataSize,o=s+r.dataSize;return Tlt(Elt,r.buffer,s,o)}const iz=new fc,mb=new me;function awe(n){const e=new Bt,t=new Bt,r=new Bt,i=new Bt,s=new Bt,o=new Bt,a=new Bt,l=new Bt,c=new Bt,u=new Bt,f=new Bt,d=new Bt,p=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(mb.fromArray(n.translation)),n.preRotation){const D=n.preRotation.map(ul.degToRad);D.push(n.eulerOrder),t.makeRotationFromEuler(iz.fromArray(D))}if(n.rotation){const D=n.rotation.map(ul.degToRad);D.push(n.eulerOrder),r.makeRotationFromEuler(iz.fromArray(D))}if(n.postRotation){const D=n.postRotation.map(ul.degToRad);D.push(n.eulerOrder),i.makeRotationFromEuler(iz.fromArray(D)),i.invert()}n.scale&&s.scale(mb.fromArray(n.scale)),n.scalingOffset&&a.setPosition(mb.fromArray(n.scalingOffset)),n.scalingPivot&&o.setPosition(mb.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(mb.fromArray(n.rotationOffset)),n.rotationPivot&&c.setPosition(mb.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(f.copy(n.parentMatrix),u.copy(n.parentMatrixWorld));const m=t.clone().multiply(r).multiply(i),g=new Bt;g.extractRotation(u);const y=new Bt;y.copyPosition(u);const x=y.clone().invert().multiply(u),_=g.clone().invert().multiply(x),b=s,w=new Bt;if(p===0)w.copy(g).multiply(m).multiply(_).multiply(b);else if(p===1)w.copy(g).multiply(_).multiply(m).multiply(b);else{const N=new Bt().scale(new me().setFromMatrixScale(f)).clone().invert(),z=_.clone().multiply(N);w.copy(g).multiply(m).multiply(z).multiply(b)}const M=c.clone().invert(),C=o.clone().invert();let R=e.clone().multiply(l).multiply(c).multiply(t).multiply(r).multiply(i).multiply(M).multiply(a).multiply(o).multiply(s).multiply(C);const E=new Bt().copyPosition(R),B=u.clone().multiply(E);return d.copyPosition(B),R=d.clone().multiply(w),R.premultiply(u.invert()),R}function lwe(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function sz(n){return n.split(",").map(function(t){return parseFloat(t)})}function cwe(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),kS(new Uint8Array(n,e,t))}function Clt(n,e){for(let t=0,r=n.length,i=e.length;t<i;t++,r++)n[r]=e[t]}function Tlt(n,e,t,r){for(let i=t,s=0;i<r;i++,s++)n[s]=e[i];return n}function Nse(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}const oz=new WeakMap;class Rlt extends va{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new kl(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(oz.has(e)){const l=oz.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),oz.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new un;e.index&&t.setIndex(new Qn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Qn(o,a))}return t}_loadLibrary(e,t){const r=new kl(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=Plt.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Plt(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,d=new f.Decoder,p=new f.DecoderBuffer;p.Init(new Int8Array(l),l.byteLength);try{const m=t(f,d,p,c),g=m.attributes.map(y=>y.array.buffer);m.index&&g.push(m.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:m},g)}catch(m){console.error(m),self.postMessage({type:"error",id:a.id,error:m.message})}finally{f.destroy(p),f.destroy(d)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let d,p;const m=a.GetEncodedGeometryType(l);if(m===o.TRIANGULAR_MESH)d=new o.Mesh,p=a.DecodeBufferToMesh(l,d);else if(m===o.POINT_CLOUD)d=new o.PointCloud,p=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const g={index:null,attributes:[]};for(const y in u){const x=self[f[y]];let _,b;if(c.useUniqueIDs)b=u[y],_=a.GetAttributeByUniqueId(d,b);else{if(b=a.GetAttributeId(d,o[u[y]]),b===-1)continue;_=a.GetAttribute(d,b)}g.attributes.push(i(o,a,d,y,x,_))}return m===o.TRIANGULAR_MESH&&(g.index=r(o,a,d)),o.destroy(d),g}function r(o,a,l){const u=l.num_faces()*3,f=u*4,d=o._malloc(f);a.GetTrianglesUInt32Array(l,f,d);const p=new Uint32Array(o.HEAPF32.buffer,d,u).slice();return o._free(d),{array:p,itemSize:1}}function i(o,a,l,c,u,f){const d=f.num_components(),m=l.num_points()*d,g=m*u.BYTES_PER_ELEMENT,y=s(o,u),x=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,f,y,g,x);const _=new u(o.HEAPF32.buffer,x,m).slice();return o._free(x),{name:c,array:_,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let sD;const az=()=>{if(sD)return sD;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const d=new Uint8Array(f.length);for(let m=0;m<f.length;++m){const g=f.charCodeAt(m);d[m]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let p=0;for(let m=0;m<f.length;++m)d[p++]=d[m]<60?r[d[m]]:(d[m]-60)*64+d[++m];return d.buffer.slice(0,p)}function l(f,d,p,m,g,y){const x=s.exports.sbrk,_=p+3&-4,b=x(_*m),w=x(g.length),M=new Uint8Array(s.exports.memory.buffer);M.set(g,w);const C=f(b,p,m,w,g.length);if(C===0&&y&&y(b,_,m),d.set(M.subarray(b,b+p*m)),x(b-x(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return sD={ready:o,supported:!0,decodeVertexBuffer(f,d,p,m,g){l(s.exports.meshopt_decodeVertexBuffer,f,d,p,m,s.exports[c[g]])},decodeIndexBuffer(f,d,p,m){l(s.exports.meshopt_decodeIndexBuffer,f,d,p,m)},decodeIndexSequence(f,d,p,m){l(s.exports.meshopt_decodeIndexSequence,f,d,p,m)},decodeGltfBuffer(f,d,p,m,g,y){l(s.exports[u[g]],f,d,p,m,s.exports[c[y]])}},sD};function HF(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}function Blt(){var n=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(p){if(p instanceof Error)throw p}),d=n[d.id].value),d}),c=r("<"+a+">.init",c),u&&(u=r("<"+a+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:f,getTransferables:u},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function t(i,s){var o,a=i.id,l=i.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(f){return s(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){s(f)}function u(f){try{var d=n[a].getTransferables&&n[a].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(p){console.error(p),s(p)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function Dlt(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(t).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var uwe=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return uwe=function(){return n},n},klt=0,Ilt=0,lz=!1,$E=Object.create(null),XE=Object.create(null),TH=Object.create(null);function eR(n){if((!n||typeof n.init!="function")&&!lz)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId;if(!uwe())return Dlt(n);i==null&&(i="#default");var s="workerModule"+ ++klt,o=n.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(lz=!0,c=eR({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+wk(c)+`
)}`}),lz=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=Use(i,"registerModule",l.workerModuleData);var f=function(){a=null,XE[i].delete(f)};(XE[i]||(XE[i]=new Set)).add(f)}return a.then(function(d){var p=d.isCallable;if(p)return Use(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:wk(t),getTransferables:r&&wk(r)},l}function Llt(n){XE[n]&&XE[n].forEach(function(e){e()}),$E[n]&&($E[n].terminate(),delete $E[n])}function wk(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Olt(n){var e=$E[n];if(!e){var t=wk(Blt);e=$E[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=TH[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete TH[s],o(i)}}return e}function Use(n,e,t){return new Promise(function(r,i){var s=++Ilt;TH[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},Olt(n).postMessage({messageId:s,action:e,data:t})})}function fwe(){var n=function(e){function t(I,O,F,j,te,re,se,K){var le=1-se;K.x=le*le*I+2*le*se*F+se*se*te,K.y=le*le*O+2*le*se*j+se*se*re}function r(I,O,F,j,te,re,se,K,le,he){var we=1-le;he.x=we*we*we*I+3*we*we*le*F+3*we*le*le*te+le*le*le*se,he.y=we*we*we*O+3*we*we*le*j+3*we*le*le*re+le*le*le*K}function i(I,O){for(var F=/([MLQCZ])([^MLQCZ]*)/g,j,te,re,se,K;j=F.exec(I);){var le=j[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(he){return parseFloat(he)});switch(j[1]){case"M":se=te=le[0],K=re=le[1];break;case"L":(le[0]!==se||le[1]!==K)&&O("L",se,K,se=le[0],K=le[1]);break;case"Q":{O("Q",se,K,se=le[2],K=le[3],le[0],le[1]);break}case"C":{O("C",se,K,se=le[4],K=le[5],le[0],le[1],le[2],le[3]);break}case"Z":(se!==te||K!==re)&&O("L",se,K,te,re);break}}}function s(I,O,F){F===void 0&&(F=16);var j={x:0,y:0};i(I,function(te,re,se,K,le,he,we,ve,fe){switch(te){case"L":O(re,se,K,le);break;case"Q":{for(var ne=re,oe=se,Te=1;Te<F;Te++)t(re,se,he,we,K,le,Te/(F-1),j),O(ne,oe,j.x,j.y),ne=j.x,oe=j.y;break}case"C":{for(var be=re,Ce=se,We=1;We<F;We++)r(re,se,he,we,ve,fe,K,le,We/(F-1),j),O(be,Ce,j.x,j.y),be=j.x,Ce=j.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(I,O){var F=I.getContext?I.getContext("webgl",c):I,j=l.get(F);if(!j){let be=function(Ee){var V=re[Ee];if(!V&&(V=re[Ee]=F.getExtension(Ee),!V))throw new Error(Ee+" not supported");return V},Ce=function(Ee,V){var k=F.createShader(V);return F.shaderSource(k,Ee),F.compileShader(k),k},We=function(Ee,V,k,Q){if(!se[Ee]){var ce={},Me={},Re=F.createProgram();F.attachShader(Re,Ce(V,F.VERTEX_SHADER)),F.attachShader(Re,Ce(k,F.FRAGMENT_SHADER)),F.linkProgram(Re),se[Ee]={program:Re,transaction:function(Pe){F.useProgram(Re),Pe({setUniform:function(Xe,Ge){for(var je=[],He=arguments.length-2;He-- >0;)je[He]=arguments[He+2];var Oe=Me[Ge]||(Me[Ge]=F.getUniformLocation(Re,Ge));F["uniform"+Xe].apply(F,[Oe].concat(je))},setAttribute:function(Xe,Ge,je,He,Oe){var qe=ce[Xe];qe||(qe=ce[Xe]={buf:F.createBuffer(),loc:F.getAttribLocation(Re,Xe),data:null}),F.bindBuffer(F.ARRAY_BUFFER,qe.buf),F.vertexAttribPointer(qe.loc,Ge,F.FLOAT,!1,0,0),F.enableVertexAttribArray(qe.loc),te?F.vertexAttribDivisor(qe.loc,He):be("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(qe.loc,He),Oe!==qe.data&&(F.bufferData(F.ARRAY_BUFFER,Oe,je),qe.data=Oe)}})}}}se[Ee].transaction(Q)},Se=function(Ee,V){le++;try{F.activeTexture(F.TEXTURE0+le);var k=K[Ee];k||(k=K[Ee]=F.createTexture(),F.bindTexture(F.TEXTURE_2D,k),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.NEAREST),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.NEAREST)),F.bindTexture(F.TEXTURE_2D,k),V(k,le)}finally{le--}},ke=function(Ee,V,k){var Q=F.createFramebuffer();he.push(Q),F.bindFramebuffer(F.FRAMEBUFFER,Q),F.activeTexture(F.TEXTURE0+V),F.bindTexture(F.TEXTURE_2D,Ee),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,Ee,0);try{k(Q)}finally{F.deleteFramebuffer(Q),F.bindFramebuffer(F.FRAMEBUFFER,he[--he.length-1]||null)}},Ve=function(){re={},se={},K={},le=-1,he.length=0};var we=be,ve=Ce,fe=We,ne=Se,oe=ke,Te=Ve,te=typeof WebGL2RenderingContext<"u"&&F instanceof WebGL2RenderingContext,re={},se={},K={},le=-1,he=[];F.canvas.addEventListener("webglcontextlost",function(Ee){Ve(),Ee.preventDefault()},!1),l.set(F,j={gl:F,isWebGL2:te,getExtension:be,withProgram:We,withTexture:Se,withTextureFramebuffer:ke,handleContextLoss:Ve})}O(j)}function f(I,O,F,j,te,re,se,K){se===void 0&&(se=15),K===void 0&&(K=null),u(I,function(le){var he=le.gl,we=le.withProgram,ve=le.withTexture;ve("copy",function(fe,ne){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,te,re,0,he.RGBA,he.UNSIGNED_BYTE,O),we("copy",o,a,function(oe){var Te=oe.setUniform,be=oe.setAttribute;be("aUV",2,he.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Te("1i","image",ne),he.bindFramebuffer(he.FRAMEBUFFER,K||null),he.disable(he.BLEND),he.colorMask(se&8,se&4,se&2,se&1),he.viewport(F,j,te,re),he.scissor(F,j,te,re),he.drawArrays(he.TRIANGLES,0,3)})})})}function d(I,O,F){var j=I.width,te=I.height;u(I,function(re){var se=re.gl,K=new Uint8Array(j*te*4);se.readPixels(0,0,j,te,se.RGBA,se.UNSIGNED_BYTE,K),I.width=O,I.height=F,f(se,K,0,0,j,te)})}var p=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function m(I,O,F,j,te,re){re===void 0&&(re=1);var se=new Uint8Array(I*O),K=j[2]-j[0],le=j[3]-j[1],he=[];s(F,function(be,Ce,We,Se){he.push({x1:be,y1:Ce,x2:We,y2:Se,minX:Math.min(be,We),minY:Math.min(Ce,Se),maxX:Math.max(be,We),maxY:Math.max(Ce,Se)})}),he.sort(function(be,Ce){return be.maxX-Ce.maxX});for(var we=0;we<I;we++)for(var ve=0;ve<O;ve++){var fe=oe(j[0]+K*(we+.5)/I,j[1]+le*(ve+.5)/O),ne=Math.pow(1-Math.abs(fe)/te,re)/2;fe<0&&(ne=1-ne),ne=Math.max(0,Math.min(255,Math.round(ne*255))),se[ve*I+we]=ne}return se;function oe(be,Ce){for(var We=1/0,Se=1/0,ke=he.length;ke--;){var Ve=he[ke];if(Ve.maxX+Se<=be)break;if(be+Se>Ve.minX&&Ce-Se<Ve.maxY&&Ce+Se>Ve.minY){var Ee=x(be,Ce,Ve.x1,Ve.y1,Ve.x2,Ve.y2);Ee<We&&(We=Ee,Se=Math.sqrt(We))}}return Te(be,Ce)&&(Se=-Se),Se}function Te(be,Ce){for(var We=0,Se=he.length;Se--;){var ke=he[Se];if(ke.maxX<=be)break;var Ve=ke.y1>Ce!=ke.y2>Ce&&be<(ke.x2-ke.x1)*(Ce-ke.y1)/(ke.y2-ke.y1)+ke.x1;Ve&&(We+=ke.y1<ke.y2?1:-1)}return We!==0}}function g(I,O,F,j,te,re,se,K,le,he){re===void 0&&(re=1),K===void 0&&(K=0),le===void 0&&(le=0),he===void 0&&(he=0),y(I,O,F,j,te,re,se,null,K,le,he)}function y(I,O,F,j,te,re,se,K,le,he,we){re===void 0&&(re=1),le===void 0&&(le=0),he===void 0&&(he=0),we===void 0&&(we=0);for(var ve=m(I,O,F,j,te,re),fe=new Uint8Array(ve.length*4),ne=0;ne<ve.length;ne++)fe[ne*4+we]=ve[ne];f(se,fe,le,he,I,O,1<<3-we,K)}function x(I,O,F,j,te,re){var se=te-F,K=re-j,le=se*se+K*K,he=le?Math.max(0,Math.min(1,((I-F)*se+(O-j)*K)/le)):0,we=I-(F+he*se),ve=O-(j+he*K);return we*we+ve*ve}var _=Object.freeze({__proto__:null,generate:m,generateIntoCanvas:g,generateIntoFramebuffer:y}),b="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",w="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",M="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",C=new Float32Array([0,0,2,0,0,2]),R=null,E=!1,B={},D=new WeakMap;function N(I){if(!E&&!W(I))throw new Error("WebGL generation not supported")}function z(I,O,F,j,te,re,se){if(re===void 0&&(re=1),se===void 0&&(se=null),!se&&(se=R,!se)){var K=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!K)throw new Error("OffscreenCanvas or DOM canvas not supported");se=R=K.getContext("webgl",{depth:!1})}N(se);var le=new Uint8Array(I*O*4);u(se,function(fe){var ne=fe.gl,oe=fe.withTexture,Te=fe.withTextureFramebuffer;oe("readable",function(be,Ce){ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,I,O,0,ne.RGBA,ne.UNSIGNED_BYTE,null),Te(be,Ce,function(We){U(I,O,F,j,te,re,ne,We,0,0,0),ne.readPixels(0,0,I,O,ne.RGBA,ne.UNSIGNED_BYTE,le)})})});for(var he=new Uint8Array(I*O),we=0,ve=0;we<le.length;we+=4)he[ve++]=le[we];return he}function H(I,O,F,j,te,re,se,K,le,he){re===void 0&&(re=1),K===void 0&&(K=0),le===void 0&&(le=0),he===void 0&&(he=0),U(I,O,F,j,te,re,se,null,K,le,he)}function U(I,O,F,j,te,re,se,K,le,he,we){re===void 0&&(re=1),le===void 0&&(le=0),he===void 0&&(he=0),we===void 0&&(we=0),N(se);var ve=[];s(F,function(fe,ne,oe,Te){ve.push(fe,ne,oe,Te)}),ve=new Float32Array(ve),u(se,function(fe){var ne=fe.gl,oe=fe.isWebGL2,Te=fe.getExtension,be=fe.withProgram,Ce=fe.withTexture,We=fe.withTextureFramebuffer,Se=fe.handleContextLoss;if(Ce("rawDistances",function(ke,Ve){(I!==ke._lastWidth||O!==ke._lastHeight)&&ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,ke._lastWidth=I,ke._lastHeight=O,0,ne.RGBA,ne.UNSIGNED_BYTE,null),be("main",b,w,function(Ee){var V=Ee.setAttribute,k=Ee.setUniform,Q=!oe&&Te("ANGLE_instanced_arrays"),ce=!oe&&Te("EXT_blend_minmax");V("aUV",2,ne.STATIC_DRAW,0,C),V("aLineSegment",4,ne.DYNAMIC_DRAW,1,ve),k.apply(void 0,["4f","uGlyphBounds"].concat(j)),k("1f","uMaxDistance",te),k("1f","uExponent",re),We(ke,Ve,function(Me){ne.enable(ne.BLEND),ne.colorMask(!0,!0,!0,!0),ne.viewport(0,0,I,O),ne.scissor(0,0,I,O),ne.blendFunc(ne.ONE,ne.ONE),ne.blendEquationSeparate(ne.FUNC_ADD,oe?ne.MAX:ce.MAX_EXT),ne.clear(ne.COLOR_BUFFER_BIT),oe?ne.drawArraysInstanced(ne.TRIANGLES,0,3,ve.length/4):Q.drawArraysInstancedANGLE(ne.TRIANGLES,0,3,ve.length/4)})}),be("post",o,M,function(Ee){Ee.setAttribute("aUV",2,ne.STATIC_DRAW,0,C),Ee.setUniform("1i","tex",Ve),ne.bindFramebuffer(ne.FRAMEBUFFER,K),ne.disable(ne.BLEND),ne.colorMask(we===0,we===1,we===2,we===3),ne.viewport(le,he,I,O),ne.scissor(le,he,I,O),ne.drawArrays(ne.TRIANGLES,0,3)})}),ne.isContextLost())throw Se(),new Error("webgl context lost")})}function W(I){var O=!I||I===R?B:I.canvas||I,F=D.get(O);if(F===void 0){E=!0;var j=null;try{var te=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],re=z(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,I);F=re&&te.length===re.length&&re.every(function(se,K){return se===te[K]}),F||(j="bad trial run results",console.info(te,re))}catch(se){F=!1,j=se.message}j&&console.warn("WebGL SDF generation not supported:",j),E=!1,D.set(O,F)}return F}var X=Object.freeze({__proto__:null,generate:z,generateIntoCanvas:H,generateIntoFramebuffer:U,isSupported:W});function q(I,O,F,j,te,re){te===void 0&&(te=Math.max(j[2]-j[0],j[3]-j[1])/2),re===void 0&&(re=1);try{return z.apply(X,arguments)}catch(se){return console.info("WebGL SDF generation failed, falling back to JS",se),m.apply(_,arguments)}}function L(I,O,F,j,te,re,se,K,le,he){te===void 0&&(te=Math.max(j[2]-j[0],j[3]-j[1])/2),re===void 0&&(re=1),K===void 0&&(K=0),le===void 0&&(le=0),he===void 0&&(he=0);try{return H.apply(X,arguments)}catch(we){return console.info("WebGL SDF generation failed, falling back to JS",we),g.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=q,e.generateIntoCanvas=L,e.javascript=_,e.pathToLineSegments=s,e.webgl=X,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function Flt(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(Se,ke){r[Se]=1<<ke+1,i[r[Se]]=Se}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function f(){if(!u){u=new Map;var Se=function(Ve){if(t.hasOwnProperty(Ve)){var Ee=0;t[Ve].split(",").forEach(function(V){var k=V.split("+"),Q=k[0],ce=k[1];Q=parseInt(Q,36),ce=ce?parseInt(ce,36):0,u.set(Ee+=Q,r[Ve]);for(var Me=0;Me<ce;Me++)u.set(++Ee,r[Ve])})}};for(var ke in t)Se(ke)}}function d(Se){return f(),u.get(Se.codePointAt(0))||r.L}function p(Se){return i[d(Se)]}var m={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function g(Se,ke){var Ve=36,Ee=0,V=new Map,k=ke&&new Map,Q;return Se.split(",").forEach(function ce(Me){if(Me.indexOf("+")!==-1)for(var Re=+Me;Re--;)ce(Q);else{Q=Me;var Ue=Me.split(">"),Pe=Ue[0],xe=Ue[1];Pe=String.fromCodePoint(Ee+=parseInt(Pe,Ve)),xe=String.fromCodePoint(Ee+=parseInt(xe,Ve)),V.set(Pe,xe),ke&&k.set(xe,Pe)}}),{map:V,reverseMap:k}}var y,x,_;function b(){if(!y){var Se=g(m.pairs,!0),ke=Se.map,Ve=Se.reverseMap;y=ke,x=Ve,_=g(m.canonical,!1).map}}function w(Se){return b(),y.get(Se)||null}function M(Se){return b(),x.get(Se)||null}function C(Se){return b(),_.get(Se)||null}var R=r.L,E=r.R,B=r.EN,D=r.ES,N=r.ET,z=r.AN,H=r.CS,U=r.B,W=r.S,X=r.ON,q=r.BN,L=r.NSM,I=r.AL,O=r.LRO,F=r.RLO,j=r.LRE,te=r.RLE,re=r.PDF,se=r.LRI,K=r.RLI,le=r.FSI,he=r.PDI;function we(Se,ke){for(var Ve=125,Ee=new Uint32Array(Se.length),V=0;V<Se.length;V++)Ee[V]=d(Se[V]);var k=new Map;function Q(Dn,$n){var nn=Ee[Dn];Ee[Dn]=$n,k.set(nn,k.get(nn)-1),nn&a&&k.set(a,k.get(a)-1),k.set($n,(k.get($n)||0)+1),$n&a&&k.set(a,(k.get(a)||0)+1)}for(var ce=new Uint8Array(Se.length),Me=new Map,Re=[],Ue=null,Pe=0;Pe<Se.length;Pe++)Ue||Re.push(Ue={start:Pe,end:Se.length-1,level:ke==="rtl"?1:ke==="ltr"?0:zc(Pe,!1)}),Ee[Pe]&U&&(Ue.end=Pe,Ue=null);for(var xe=te|j|F|O|s|he|re|U,Xe=function(Dn){return Dn+(Dn&1?1:2)},Ge=function(Dn){return Dn+(Dn&1?2:1)},je=0;je<Re.length;je++){Ue=Re[je];var He=[{_level:Ue.level,_override:0,_isolate:0}],Oe=void 0,qe=0,tt=0,pt=0;k.clear();for(var ee=Ue.start;ee<=Ue.end;ee++){var ye=Ee[ee];if(Oe=He[He.length-1],k.set(ye,(k.get(ye)||0)+1),ye&a&&k.set(a,(k.get(a)||0)+1),ye&xe)if(ye&(te|j)){ce[ee]=Oe._level;var Ie=(ye===te?Ge:Xe)(Oe._level);Ie<=Ve&&!qe&&!tt?He.push({_level:Ie,_override:0,_isolate:0}):qe||tt++}else if(ye&(F|O)){ce[ee]=Oe._level;var Je=(ye===F?Ge:Xe)(Oe._level);Je<=Ve&&!qe&&!tt?He.push({_level:Je,_override:ye&F?E:R,_isolate:0}):qe||tt++}else if(ye&s){ye&le&&(ye=zc(ee+1,!0)===1?K:se),ce[ee]=Oe._level,Oe._override&&Q(ee,Oe._override);var et=(ye===K?Ge:Xe)(Oe._level);et<=Ve&&qe===0&&tt===0?(pt++,He.push({_level:et,_override:0,_isolate:1,_isolInitIndex:ee})):qe++}else if(ye&he){if(qe>0)qe--;else if(pt>0){for(tt=0;!He[He.length-1]._isolate;)He.pop();var mt=He[He.length-1]._isolInitIndex;mt!=null&&(Me.set(mt,ee),Me.set(ee,mt)),He.pop(),pt--}Oe=He[He.length-1],ce[ee]=Oe._level,Oe._override&&Q(ee,Oe._override)}else ye&re?(qe===0&&(tt>0?tt--:!Oe._isolate&&He.length>1&&(He.pop(),Oe=He[He.length-1])),ce[ee]=Oe._level):ye&U&&(ce[ee]=Ue.level);else ce[ee]=Oe._level,Oe._override&&ye!==q&&Q(ee,Oe._override)}for(var Dt=[],Nt=null,Ot=Ue.start;Ot<=Ue.end;Ot++){var Ft=Ee[Ot];if(!(Ft&l)){var kt=ce[Ot],Tt=Ft&s,Xn=Ft===he;Nt&&kt===Nt._level?(Nt._end=Ot,Nt._endsWithIsolInit=Tt):Dt.push(Nt={_start:Ot,_end:Ot,_level:kt,_startsWithPDI:Xn,_endsWithIsolInit:Tt})}}for(var Un=[],Ut=0;Ut<Dt.length;Ut++){var dn=Dt[Ut];if(!dn._startsWithPDI||dn._startsWithPDI&&!Me.has(dn._start)){for(var $=[Nt=dn],ae=void 0;Nt&&Nt._endsWithIsolInit&&(ae=Me.get(Nt._end))!=null;)for(var _e=Ut+1;_e<Dt.length;_e++)if(Dt[_e]._start===ae){$.push(Nt=Dt[_e]);break}for(var ie=[],Ae=0;Ae<$.length;Ae++)for(var Qe=$[Ae],st=Qe._start;st<=Qe._end;st++)ie.push(st);for(var gt=ce[ie[0]],ht=Ue.level,Pt=ie[0]-1;Pt>=0;Pt--)if(!(Ee[Pt]&l)){ht=ce[Pt];break}var xt=ie[ie.length-1],At=ce[xt],Qt=Ue.level;if(!(Ee[xt]&s)){for(var tr=xt+1;tr<=Ue.end;tr++)if(!(Ee[tr]&l)){Qt=ce[tr];break}}Un.push({_seqIndices:ie,_sosType:Math.max(ht,gt)%2?E:R,_eosType:Math.max(Qt,At)%2?E:R})}}for(var kr=0;kr<Un.length;kr++){var hr=Un[kr],Ke=hr._seqIndices,_t=hr._sosType,Ir=hr._eosType,fn=ce[Ke[0]]&1?E:R;if(k.get(L))for(var pn=0;pn<Ke.length;pn++){var Wn=Ke[pn];if(Ee[Wn]&L){for(var Gn=_t,Yt=pn-1;Yt>=0;Yt--)if(!(Ee[Ke[Yt]]&l)){Gn=Ee[Ke[Yt]];break}Q(Wn,Gn&(s|he)?X:Gn)}}if(k.get(B))for(var lt=0;lt<Ke.length;lt++){var Jt=Ke[lt];if(Ee[Jt]&B)for(var hn=lt-1;hn>=-1;hn--){var Vt=hn===-1?_t:Ee[Ke[hn]];if(Vt&o){Vt===I&&Q(Jt,z);break}}}if(k.get(I))for(var An=0;An<Ke.length;An++){var Qr=Ke[An];Ee[Qr]&I&&Q(Qr,E)}if(k.get(D)||k.get(H))for(var _n=1;_n<Ke.length-1;_n++){var pr=Ke[_n];if(Ee[pr]&(D|H)){for(var ji=0,Ll=0,xa=_n-1;xa>=0&&(ji=Ee[Ke[xa]],!!(ji&l));xa--);for(var _a=_n+1;_a<Ke.length&&(Ll=Ee[Ke[_a]],!!(Ll&l));_a++);ji===Ll&&(Ee[pr]===D?ji===B:ji&(B|z))&&Q(pr,ji)}}if(k.get(B))for(var zn=0;zn<Ke.length;zn++){var wo=Ke[zn];if(Ee[wo]&B){for(var Ol=zn-1;Ol>=0&&Ee[Ke[Ol]]&(N|l);Ol--)Q(Ke[Ol],B);for(zn++;zn<Ke.length&&Ee[Ke[zn]]&(N|l|B);zn++)Ee[Ke[zn]]!==B&&Q(Ke[zn],B)}}if(k.get(N)||k.get(D)||k.get(H))for(var ba=0;ba<Ke.length;ba++){var Lc=Ke[ba];if(Ee[Lc]&(N|D|H)){Q(Lc,X);for(var Ps=ba-1;Ps>=0&&Ee[Ke[Ps]]&l;Ps--)Q(Ke[Ps],X);for(var cs=ba+1;cs<Ke.length&&Ee[Ke[cs]]&l;cs++)Q(Ke[cs],X)}}if(k.get(B))for(var Ks=0,Oc=_t;Ks<Ke.length;Ks++){var dh=Ke[Ks],Fl=Ee[dh];Fl&B?Oc===R&&Q(dh,R):Fl&o&&(Oc=Fl)}if(k.get(a)){var Bs=E|B|z,wa=Bs|R,So=[];{for(var Ds=[],tn=0;tn<Ke.length;tn++)if(Ee[Ke[tn]]&a){var ln=Se[Ke[tn]],Fc=void 0;if(w(ln)!==null)if(Ds.length<63)Ds.push({char:ln,seqIndex:tn});else break;else if((Fc=M(ln))!==null)for(var qs=Ds.length-1;qs>=0;qs--){var Nc=Ds[qs].char;if(Nc===Fc||Nc===M(C(ln))||w(C(Nc))===ln){So.push([Ds[qs].seqIndex,tn]),Ds.length=qs;break}}}So.sort(function(Dn,$n){return Dn[0]-$n[0]})}for(var Ku=0;Ku<So.length;Ku++){for(var br=So[Ku],Kn=br[0],Nl=br[1],qu=!1,nr=0,qa=Kn+1;qa<Nl;qa++){var Wi=Ke[qa];if(Ee[Wi]&wa){qu=!0;var Qs=Ee[Wi]&Bs?E:R;if(Qs===fn){nr=Qs;break}}}if(qu&&!nr){nr=_t;for(var Qu=Kn-1;Qu>=0;Qu--){var Zs=Ke[Qu];if(Ee[Zs]&wa){var wr=Ee[Zs]&Bs?E:R;wr!==fn?nr=wr:nr=fn;break}}}if(nr){if(Ee[Ke[Kn]]=Ee[Ke[Nl]]=nr,nr!==fn){for(var Sr=Kn+1;Sr<Ke.length;Sr++)if(!(Ee[Ke[Sr]]&l)){d(Se[Ke[Sr]])&L&&(Ee[Ke[Sr]]=nr);break}}if(nr!==fn){for(var us=Nl+1;us<Ke.length;us++)if(!(Ee[Ke[us]]&l)){d(Se[Ke[us]])&L&&(Ee[Ke[us]]=nr);break}}}}for(var Zr=0;Zr<Ke.length;Zr++)if(Ee[Ke[Zr]]&a){for(var od=Zr,fs=Zr,ds=_t,eo=Zr-1;eo>=0;eo--)if(Ee[Ke[eo]]&l)od=eo;else{ds=Ee[Ke[eo]]&Bs?E:R;break}for(var Uc=Ir,Lr=Zr+1;Lr<Ke.length;Lr++)if(Ee[Ke[Lr]]&(a|l))fs=Lr;else{Uc=Ee[Ke[Lr]]&Bs?E:R;break}for(var ei=od;ei<=fs;ei++)Ee[Ke[ei]]=ds===Uc?ds:fn;Zr=fs}}}for(var Bn=Ue.start;Bn<=Ue.end;Bn++){var Sa=ce[Bn],hs=Ee[Bn];if(Sa&1?hs&(R|B|z)&&ce[Bn]++:hs&E?ce[Bn]++:hs&(z|B)&&(ce[Bn]+=2),hs&l&&(ce[Bn]=Bn===0?Ue.level:ce[Bn-1]),Bn===Ue.end||d(Se[Bn])&(W|U))for(var Ao=Bn;Ao>=0&&d(Se[Ao])&c;Ao--)ce[Ao]=Ue.level}}return{levels:ce,paragraphs:Re};function zc(Dn,$n){for(var nn=Dn;nn<Se.length;nn++){var mn=Ee[nn];if(mn&(E|I))return 1;if(mn&(U|R)||$n&&mn===he)return 0;if(mn&s){var Or=ad(nn);nn=Or===-1?Se.length:Or}}return 0}function ad(Dn){for(var $n=1,nn=Dn+1;nn<Se.length;nn++){var mn=Ee[nn];if(mn&U)break;if(mn&he){if(--$n===0)return nn}else mn&s&&$n++}return-1}}var ve="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",fe;function ne(){if(!fe){var Se=g(ve,!0),ke=Se.map,Ve=Se.reverseMap;Ve.forEach(function(Ee,V){ke.set(V,Ee)}),fe=ke}}function oe(Se){return ne(),fe.get(Se)||null}function Te(Se,ke,Ve,Ee){var V=Se.length;Ve=Math.max(0,Ve==null?0:+Ve),Ee=Math.min(V-1,Ee==null?V-1:+Ee);for(var k=new Map,Q=Ve;Q<=Ee;Q++)if(ke[Q]&1){var ce=oe(Se[Q]);ce!==null&&k.set(Q,ce)}return k}function be(Se,ke,Ve,Ee){var V=Se.length;Ve=Math.max(0,Ve==null?0:+Ve),Ee=Math.min(V-1,Ee==null?V-1:+Ee);var k=[];return ke.paragraphs.forEach(function(Q){var ce=Math.max(Ve,Q.start),Me=Math.min(Ee,Q.end);if(ce<Me){for(var Re=ke.levels.slice(ce,Me+1),Ue=Me;Ue>=ce&&d(Se[Ue])&c;Ue--)Re[Ue]=Q.level;for(var Pe=Q.level,xe=1/0,Xe=0;Xe<Re.length;Xe++){var Ge=Re[Xe];Ge>Pe&&(Pe=Ge),Ge<xe&&(xe=Ge|1)}for(var je=Pe;je>=xe;je--)for(var He=0;He<Re.length;He++)if(Re[He]>=je){for(var Oe=He;He+1<Re.length&&Re[He+1]>=je;)He++;He>Oe&&k.push([Oe+ce,He+ce])}}}),k}function Ce(Se,ke,Ve,Ee){var V=We(Se,ke,Ve,Ee),k=[].concat(Se);return V.forEach(function(Q,ce){k[ce]=(ke.levels[Q]&1?oe(Se[Q]):null)||Se[Q]}),k.join("")}function We(Se,ke,Ve,Ee){for(var V=be(Se,ke,Ve,Ee),k=[],Q=0;Q<Se.length;Q++)k[Q]=Q;return V.forEach(function(ce){for(var Me=ce[0],Re=ce[1],Ue=k.slice(Me,Re+1),Pe=Ue.length;Pe--;)k[Re-Pe]=Ue[Pe]}),k}return e.closingToOpeningBracket=M,e.getBidiCharType=d,e.getBidiCharTypeName=p,e.getCanonicalBracket=C,e.getEmbeddingLevels=we,e.getMirroredCharacter=oe,e.getMirroredCharactersMap=Te,e.getReorderSegments=be,e.getReorderedIndices=We,e.getReorderedString=Ce,e.openingToClosingBracket=w,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const dwe=/\bvoid\s+main\s*\(\s*\)\s*{/g;function RH(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let s=xn[i];return s?RH(s):r}return n.replace(e,t)}const Oo=[];for(let n=0;n<256;n++)Oo[n]=(n<16?"0":"")+n.toString(16);function Nlt(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Oo[n&255]+Oo[n>>8&255]+Oo[n>>16&255]+Oo[n>>24&255]+"-"+Oo[e&255]+Oo[e>>8&255]+"-"+Oo[e>>16&15|64]+Oo[e>>24&255]+"-"+Oo[t&63|128]+Oo[t>>8&255]+"-"+Oo[t>>16&255]+Oo[t>>24&255]+Oo[r&255]+Oo[r>>8&255]+Oo[r>>16&255]+Oo[r>>24&255]).toUpperCase()}const uy=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Ult=Date.now(),zse=new WeakMap,Gse=new Map;let zlt=1e10;function PH(n,e){const t=jlt(e);let r=zse.get(n);if(r||zse.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,s=function(c,u){n.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=Gse[f];if(!d){const p=Glt(this,c,e,t);d=Gse[f]=p}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,uy(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-Ult}}),this[i]&&this[i](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:zlt++}),u.uuid=Nlt(),u.uniforms=uy({},c.uniforms,e.uniforms),u.defines=uy({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=uy({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(uy(this.extensions,c.extensions),uy(this.defines,c.defines),uy(this.uniforms,MF.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=PH(n.isDerivedMaterial?n.getDepthMaterial():new TF({depthPacking:W$}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=PH(n.isDerivedMaterial?n.getDistanceMaterial():new RF,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return r[t]=o,new o}function Glt(n,{vertexShader:e,fragmentShader:t},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:p,timeUniform:m}=r;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",f=f||"",(l||p)&&(e=RH(e)),(d||p)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=RH(t)),p){let g=p({vertexShader:e,fragmentShader:t});e=g.vertexShader,t=g.fragmentShader}if(d){let g=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(g.push(y),"")),f=`${d}
${g.join(`
`)}
${f}`}if(m){const g=`
uniform float ${m};
`;s=g+s,c=g+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(g,y,x,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,x))?y:`troika_${y}_${i}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=Hse(e,i,s,o,a),t=Hse(t,i,c,u,f),{vertexShader:e,fragmentShader:t}}function Hse(n,e,t,r,i){return(r||i||t)&&(n=n.replace(dwe,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function Hlt(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Vlt=0;const Vse=new Map;function jlt(n){const e=JSON.stringify(n,Hlt);let t=Vse.get(e);return t==null&&Vse.set(e,t=++Vlt),t}function Wlt(n,e,t){const{defaultFontURL:r}=t,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c(_,b){function w(){const M=C=>{console.error(`Failure loading font ${_}${_===r?"":"; trying fallback"}`,C),_!==r&&(_=r,w())};try{const C=new XMLHttpRequest;C.open("get",_,!0),C.responseType="arraybuffer",C.onload=function(){if(C.status>=400)M(new Error(C.statusText));else if(C.status>0)try{const R=n(C.response);b(R)}catch(R){M(R)}},C.onerror=M,C.send()}catch(C){M(C)}}w()}function u(_,b){_||(_=r);let w=i[_];w?w.pending?w.pending.push(b):b(w):(i[_]={pending:[b]},c(_,M=>{let C=i[_].pending;i[_]=M,C.forEach(R=>R(M))}))}function f({text:_="",font:b=r,sdfGlyphSize:w=64,fontSize:M=1,letterSpacing:C=0,lineHeight:R="normal",maxWidth:E=s,direction:B,textAlign:D="left",textIndent:N=0,whiteSpace:z="normal",overflowWrap:H="normal",anchorX:U=0,anchorY:W=0,includeCaretPositions:X=!1,chunkedBoundsSize:q=8192,colorRanges:L=null},I,O=!1){const F=g(),j={fontLoad:0,typesetting:0};_.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),_=_.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),M=+M,C=+C,E=+E,R=R||"normal",N=+N,u(b,te=>{const re=isFinite(E);let se=null,K=null,le=null,he=null,we=null,ve=null,fe=null,ne=0,oe=0,Te=z!=="nowrap";const{ascender:be,descender:Ce,unitsPerEm:We,lineGap:Se,capHeight:ke,xHeight:Ve}=te;j.fontLoad=g()-F;const Ee=g(),V=M/We;R==="normal"&&(R=(be-Ce+Se)/We),R=R*M;const k=(R-(be-Ce)*V)/2,Q=-(be*V+k),ce=Math.min(R,(be-Ce)*V),Me=(be+Ce)/2*V-ce/2;let Re=N,Ue=new y;const Pe=[Ue];te.forEachGlyph(_,M,C,(Ge,je,He)=>{const Oe=_.charAt(He),qe=Ge.advanceWidth*V,tt=Ue.count;let pt;if("isEmpty"in Ge||(Ge.isWhitespace=!!Oe&&new RegExp(a).test(Oe),Ge.canBreakAfter=!!Oe&&l.test(Oe),Ge.isEmpty=Ge.xMin===Ge.xMax||Ge.yMin===Ge.yMax||o.test(Oe)),!Ge.isWhitespace&&!Ge.isEmpty&&oe++,Te&&re&&!Ge.isWhitespace&&je+qe+Re>E&&tt){if(Ue.glyphAt(tt-1).glyphObj.canBreakAfter)pt=new y,Re=-je;else for(let ye=tt;ye--;)if(ye===0&&H==="break-word"){pt=new y,Re=-je;break}else if(Ue.glyphAt(ye).glyphObj.canBreakAfter){pt=Ue.splitAt(ye+1);const Ie=pt.glyphAt(0).x;Re-=Ie;for(let Je=pt.count;Je--;)pt.glyphAt(Je).x-=Ie;break}pt&&(Ue.isSoftWrapped=!0,Ue=pt,Pe.push(Ue),ne=E)}let ee=Ue.glyphAt(Ue.count);ee.glyphObj=Ge,ee.x=je+Re,ee.width=qe,ee.charIndex=He,Oe===`
`&&(Ue=new y,Pe.push(Ue),Re=-(je+qe+C*M)+N)}),Pe.forEach(Ge=>{for(let je=Ge.count;je--;){let{glyphObj:He,x:Oe,width:qe}=Ge.glyphAt(je);if(!He.isWhitespace){Ge.width=Oe+qe,Ge.width>ne&&(ne=Ge.width);return}}});let xe=0,Xe=0;if(U&&(typeof U=="number"?xe=-U:typeof U=="string"&&(xe=-ne*(U==="left"?0:U==="center"?.5:U==="right"?1:p(U)))),W){if(typeof W=="number")Xe=-W;else if(typeof W=="string"){let Ge=Pe.length*R;Xe=W==="top"?0:W==="top-baseline"?-Q:W==="top-cap"?-Q-ke*V:W==="top-ex"?-Q-Ve*V:W==="middle"?Ge/2:W==="bottom"?Ge:W==="bottom-baseline"?Ge-k+Ce*V:p(W)*Ge}}if(!O){const Ge=e.getEmbeddingLevels(_,B);se=new Uint16Array(oe),K=new Float32Array(oe*2),le={},ve=[s,s,-s,-s],fe=[];let je=Q;X&&(we=new Float32Array(_.length*3)),L&&(he=new Uint8Array(oe*3));let He=0,Oe=-1,qe=-1,tt,pt;if(Pe.forEach((ee,ye)=>{let{count:Ie,width:Je}=ee;if(Ie>0){let et=0;for(let kt=Ie;kt--&&ee.glyphAt(kt).glyphObj.isWhitespace;)et++;let mt=0,Dt=0;if(D==="center")mt=(ne-Je)/2;else if(D==="right")mt=ne-Je;else if(D==="justify"&&ee.isSoftWrapped){let kt=0;for(let Tt=Ie-et;Tt--;)ee.glyphAt(Tt).glyphObj.isWhitespace&&kt++;Dt=(ne-Je)/kt}if(Dt||mt){let kt=0;for(let Tt=0;Tt<Ie;Tt++){let Xn=ee.glyphAt(Tt);const Un=Xn.glyphObj;Xn.x+=mt+kt,Dt!==0&&Un.isWhitespace&&Tt<Ie-et&&(kt+=Dt,Xn.width+=Dt)}}const Nt=e.getReorderSegments(_,Ge,ee.glyphAt(0).charIndex,ee.glyphAt(ee.count-1).charIndex);for(let kt=0;kt<Nt.length;kt++){const[Tt,Xn]=Nt[kt];let Un=1/0,Ut=-1/0;for(let dn=0;dn<Ie;dn++)if(ee.glyphAt(dn).charIndex>=Tt){let $=dn,ae=dn;for(;ae<Ie;ae++){let _e=ee.glyphAt(ae);if(_e.charIndex>Xn)break;ae<Ie-et&&(Un=Math.min(Un,_e.x),Ut=Math.max(Ut,_e.x+_e.width))}for(let _e=$;_e<ae;_e++){const ie=ee.glyphAt(_e);ie.x=Ut-(ie.x+ie.width-Un)}break}}let Ot;const Ft=kt=>Ot=kt;for(let kt=0;kt<Ie;kt++){let Tt=ee.glyphAt(kt);Ot=Tt.glyphObj;const Xn=Ot.index,Un=Ge.levels[Tt.charIndex]&1;if(Un){const Ut=e.getMirroredCharacter(_[Tt.charIndex]);Ut&&te.forEachGlyph(Ut,0,0,Ft)}if(X){const{charIndex:Ut}=Tt,dn=Tt.x+xe,$=Tt.x+Tt.width+xe;we[Ut*3]=Un?$:dn,we[Ut*3+1]=Un?dn:$,we[Ut*3+2]=je+Me+Xe;const ae=Ut-Oe;ae>1&&m(we,Oe,ae),Oe=Ut}if(L){const{charIndex:Ut}=Tt;for(;Ut>qe;)qe++,L.hasOwnProperty(qe)&&(pt=L[qe])}if(!Ot.isWhitespace&&!Ot.isEmpty){const Ut=He++;le[Xn]||(le[Xn]={path:Ot.path,pathBounds:[Ot.xMin,Ot.yMin,Ot.xMax,Ot.yMax]});const dn=Tt.x+xe,$=je+Xe;K[Ut*2]=dn,K[Ut*2+1]=$;const ae=dn+Ot.xMin*V,_e=$+Ot.yMin*V,ie=dn+Ot.xMax*V,Ae=$+Ot.yMax*V;ae<ve[0]&&(ve[0]=ae),_e<ve[1]&&(ve[1]=_e),ie>ve[2]&&(ve[2]=ie),Ae>ve[3]&&(ve[3]=Ae),Ut%q===0&&(tt={start:Ut,end:Ut,rect:[s,s,-s,-s]},fe.push(tt)),tt.end++;const Qe=tt.rect;if(ae<Qe[0]&&(Qe[0]=ae),_e<Qe[1]&&(Qe[1]=_e),ie>Qe[2]&&(Qe[2]=ie),Ae>Qe[3]&&(Qe[3]=Ae),se[Ut]=Xn,L){const st=Ut*3;he[st]=pt>>16&255,he[st+1]=pt>>8&255,he[st+2]=pt&255}}}}je-=R}),we){const ee=_.length-Oe;ee>1&&m(we,Oe,ee)}}j.typesetting=g()-Ee,I({glyphIds:se,glyphPositions:K,glyphData:le,caretPositions:we,caretHeight:ce,glyphColors:he,chunkedBounds:fe,fontSize:M,unitsPerEm:We,ascender:be*V,descender:Ce*V,capHeight:ke*V,xHeight:Ve*V,lineHeight:R,topBaseline:Q,blockBounds:[xe,Xe-Pe.length*R,xe+ne,Xe],visibleBounds:ve,timings:j})})}function d(_,b){f(_,w=>{const[M,C,R,E]=w.blockBounds;b({width:R-M,height:E-C})},{metricsOnly:!0})}function p(_){let b=_.match(/^([\d.]+)%$/),w=b?parseFloat(b[1]):NaN;return isNaN(w)?0:w/100}function m(_,b,w){const M=_[b*3],C=_[b*3+1],R=_[b*3+2],E=(C-M)/w;for(let B=0;B<w;B++){const D=(b+B)*3;_[D]=M+E*B,_[D+1]=M+E*(B+1),_[D+2]=R}}function g(){return(self.performance||Date).now()}function y(){this.data=[]}const x=["glyphObj","x","width","charIndex"];return y.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/x.length)},glyphAt(_){let b=y.flyweight;return b.data=this.data,b.index=_,b},splitAt(_){let b=new y;return b.data=this.data.splice(_*x.length),b}},y.flyweight=x.reduce((_,b,w,M)=>(Object.defineProperty(_,b,{get(){return this.data[this.index*x.length+w]},set(C){this.data[this.index*x.length+w]=C}}),_),{data:null,index:0}),{typeset:f,measure:d,loadFont:u}}const C1=()=>(self.performance||Date).now(),VF=fwe();let jse;function $lt(n,e,t,r,i,s,o,a,l,c,u=!0){return u?Jlt(n,e,t,r,i,s,o,a,l,c).then(null,f=>(jse||(console.warn("WebGL SDF generation failed, falling back to JS",f),jse=!0),$se(n,e,t,r,i,s,o,a,l,c))):$se(n,e,t,r,i,s,o,a,l,c)}const Sk=[],Xlt=5;let BH=0;function hwe(){const n=C1();for(;Sk.length&&C1()-n<Xlt;)Sk.shift()();BH=Sk.length?setTimeout(hwe,0):0}const Jlt=(...n)=>new Promise((e,t)=>{Sk.push(()=>{const r=C1();try{VF.webgl.generateIntoCanvas(...n),e({timing:C1()-r})}catch(i){t(i)}}),BH||(BH=setTimeout(hwe,0))}),Ylt=4,Klt=2e3,Wse={};let qlt=0;function $se(n,e,t,r,i,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+qlt++%Ylt;let f=Wse[u];return f||(f=Wse[u]={workerModule:eR({name:u,workerId:u,dependencies:[fwe,C1],init(d,p){const m=d().javascript.generate;return function(...g){const y=p();return{textureData:m(...g),timing:p()-y}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(n,e,t,r,i,s).then(({textureData:d,timing:p})=>{const m=C1(),g=new Uint8Array(d.length*4);for(let y=0;y<d.length;y++)g[y*4+c]=d[y];return VF.webglUtils.renderImageData(o,g,a,l,n,e,1<<3-c),p+=C1()-m,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Llt(u)},Klt)),{timing:p}})}function Qlt(n){n._warm||(VF.webgl.isSupported(n),n._warm=!0)}const Zlt=VF.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function ect(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var f=s.readUint(o,a);a+=4,c.push(e._readFont(o,f))}return c}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:i,_offset:a},f={},d=0;d<l;d++){var p=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var m=o.readUint(i,s);s+=4;var g=o.readUint(i,s);s+=4,f[p]={offset:m,length:g}}for(d=0;d<c.length;d++){var y=c[d];f[y]&&(u[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,u))}return u},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),c=o+12,u=0;u<l;u++){var f=a.readASCII(i,c,4);c+=4,a.readUint(i,c),c+=4;var d=a.readUint(i,c);if(c+=4,a.readUint(i,c),c+=4,f==s)return d}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var c=i[s++]<<8|i[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var c=e._bin,u={},f=s;c.readFixed(i,s),s+=4;var d=c.readUshort(i,s);s+=2;var p=c.readUshort(i,s);s+=2;var m=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,f+d),u.featureList=e._lctf.readFeatureList(i,f+p),u.lookupList=e._lctf.readLookupList(i,f+m,l),u},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=a.readUshort(i,s);s+=2;var p=e._lctf.readLookupTable(i,l+d,o);c.push(p)}return c},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(i,s),s+=2,c.flag=a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;for(var f=c.ltype,d=0;d<u;d++){var p=a.readUshort(i,s);s+=2;var m=o(i,f,l+p,c);c.tabs.push(m)}return c},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var c=o.readUshort(i,s);s+=2;var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++)a.push(c+f),a.push(c+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var d=o.readUshort(i,s);for(s+=2,f=0;f<d;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2;var p=e._lctf.readFeatureTable(i,a+d);p.tag=f.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+d)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+c);var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(i,a+p)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(i,s+f[u],s+f[u+1]));s+=f[f.length-1];var p=d[0],m=[];s=e.CFF.readIndex(i,s,m);var g=[];for(u=0;u<m.length-1;u++)g.push(a.readASCII(i,s+m[u],m[u+1]-m[u]));if(s+=m[m.length-1],e.CFF.readSubrs(i,s,p),p.CharStrings){s=p.CharStrings,m=[],s=e.CFF.readIndex(i,s,m);var y=[];for(u=0;u<m.length-1;u++)y.push(a.readBytes(i,s+m[u],m[u+1]-m[u]));p.CharStrings=y}if(p.ROS){s=p.FDArray;var x=[];for(s=e.CFF.readIndex(i,s,x),p.FDArray=[],u=0;u<x.length-1;u++){var _=e.CFF.readDict(i,s+x[u],s+x[u+1]);e.CFF._readFDict(i,_,g),p.FDArray.push(_)}s+=x[x.length-1],s=p.FDSelect,p.FDSelect=[];var b=i[s];if(s++,b!=3)throw b;var w=a.readUshort(i,s);for(s+=2,u=0;u<w+1;u++)p.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(i,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(i,p.charset,p.CharStrings.length)),e.CFF._readFDict(i,p,g),p},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)a.push(i[s+u]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<o;u++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var d=0;for(c==1?(d=i[s],s++):(d=a.readUshort(i,s),s+=2),u=0;u<=d;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,f=null,d=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(d=a.readShort(i,s+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=a.readInt(i,s+1)/65535,u=5),o.val=d??"o"+f,o.size=u},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,m=null;u<=20&&(p=u,d=1),u==12&&(p=100*u+f,d=2),u!=19&&u!=20||(p=u,d=2),21<=u&&u<=27&&(p=u,d=1),u==28&&(m=l.readShort(i,s+1),d=3),29<=u&&u<=31&&(p=u,d=1),32<=u&&u<=246&&(m=u-139,d=1),247<=u&&u<=250&&(m=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(m=256*-(u-251)-f-108,d=2),u==255&&(m=l.readInt(i,s+1)/65535,d=5),c.push(m??"o"+p),s+=d}return c},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,m=null;if(u==28&&(m=a.readShort(i,s+1),d=3),u==29&&(m=a.readInt(i,s+1),d=5),32<=u&&u<=246&&(m=u-139,d=1),247<=u&&u<=250&&(m=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(m=256*-(u-251)-f-108,d=2),u==255)throw m=a.readInt(i,s+1)/65535,d=5,"unknown number";if(u==30){var g=[];for(d=1;;){var y=i[s+d];d++;var x=y>>4,_=15&y;if(x!=15&&g.push(x),_!=15&&g.push(_),_==15)break}for(var b="",w=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],M=0;M<g.length;M++)b+=w[g[M]];m=parseFloat(b)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),p!=null?(l[p]=c.length==1?c[0]:c,c=[]):c.push(m),s+=d}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var d=a.readUshort(i,s);s+=2;var p=a.readUshort(i,s);s+=2;var m=a.readUint(i,s);s+=4;var g="p"+d+"e"+p,y=u.indexOf(m);if(y==-1){var x;y=l.tables.length,u.push(m);var _=a.readUshort(i,m);_==0?x=e.cmap.parse0(i,m):_==4?x=e.cmap.parse4(i,m):_==6?x=e.cmap.parse6(i,m):_==12?x=e.cmap.parse12(i,m):console.debug("unknown format: "+_,d,p,m),l.tables.push(x)}if(l[g]!=null)throw"multiple tables for one platform+encoding";l[g]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(i[s+c]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;var f=u/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,f=o.readUint(i,u+0),d=o.readUint(i,u+4),p=o.readUint(i,u+8);a.groups.push([f,d,p])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;c.instructions=o.readBytes(a,l,f),l+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var p=a[l];if(l++,c.flags.push(p),(8&p)!=0){var m=a[l];l++;for(var g=0;g<m;g++)c.flags.push(p),u++}}for(c.xs=[],u=0;u<d;u++){var y=(2&c.flags[u])!=0,x=(16&c.flags[u])!=0;y?(c.xs.push(x?a[l]:-a[l]),l++):x?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)y=(4&c.flags[u])!=0,x=(32&c.flags[u])!=0,y?(c.ys.push(x?a[l]:-a[l]),l++):x?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var _=0,b=0;for(u=0;u<d;u++)_+=c.xs[u],b+=c.ys[u],c.xs[u]=_,c.ys[u]=b}else{var w;c.parts=[];do{w=o.readUshort(a,l),l+=2;var M={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(M),M.glyphIndex=o.readUshort(a,l),l+=2,1&w){var C=o.readShort(a,l);l+=2;var R=o.readShort(a,l);l+=2}else C=o.readInt8(a,l),l++,R=o.readInt8(a,l),l++;2&w?(M.m.tx=C,M.m.ty=R):(M.p1=C,M.p2=R),8&w?(M.m.a=M.m.d=o.readF2dot14(a,l),l+=2):64&w?(M.m.a=o.readF2dot14(a,l),l+=2,M.m.d=o.readF2dot14(a,l),l+=2):128&w&&(M.m.a=o.readF2dot14(a,l),l+=2,M.m.b=o.readF2dot14(a,l),l+=2,M.m.c=o.readF2dot14(a,l),l+=2,M.m.d=o.readF2dot14(a,l),l+=2)}while(32&w);if(256&w){var E=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<E;u++)c.instr.push(a[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(s==1&&u.fmt==1){var d=l.readUshort(i,o);o+=2;var p=e._lctf.numOfOnes(d);d!=0&&(u.pos=e.GPOS.readValueRecord(i,o,d))}else if(s==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(i,o),o+=2;var m=l.readUshort(i,o);o+=2,p=e._lctf.numOfOnes(d);var g=e._lctf.numOfOnes(m);if(u.fmt==1){u.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var x=0;x<y;x++){var _=c+l.readUshort(i,o);o+=2;var b=l.readUshort(i,_);_+=2;for(var w=[],M=0;M<b;M++){var C=l.readUshort(i,_);_+=2,d!=0&&(z=e.GPOS.readValueRecord(i,_,d),_+=2*p),m!=0&&(H=e.GPOS.readValueRecord(i,_,m),_+=2*g),w.push({gid2:C,val1:z,val2:H})}u.pairsets.push(w)}}if(u.fmt==2){var R=l.readUshort(i,o);o+=2;var E=l.readUshort(i,o);o+=2;var B=l.readUshort(i,o);o+=2;var D=l.readUshort(i,o);for(o+=2,u.classDef1=e._lctf.readClassDef(i,c+R),u.classDef2=e._lctf.readClassDef(i,c+E),u.matrix=[],x=0;x<B;x++){var N=[];for(M=0;M<D;M++){var z=null,H=null;d!=0&&(z=e.GPOS.readValueRecord(i,o,d),o+=2*p),m!=0&&(H=e.GPOS.readValueRecord(i,o,m),o+=2*g),N.push({val1:z,val2:H})}u.matrix.push(N)}}}else{if(s==9&&u.fmt==1){var U=l.readUshort(i,o);o+=2;var W=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=U;else if(a.ltype!=U)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,c+W)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,o),o+=2;else if(u.fmt==2){var d=l.readUshort(i,o);o+=2,u.newg=l.readUshorts(i,o,d),o+=2*u.newg.length}}else if(s==4){u.vals=[],d=l.readUshort(i,o),o+=2;for(var p=0;p<d;p++){var m=l.readUshort(i,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+m))}}else if(s==5&&u.fmt==2){if(u.fmt==2){var g=l.readUshort(i,o);o+=2,u.cDef=e._lctf.readClassDef(i,c+g),u.scset=[];var y=l.readUshort(i,o);for(o+=2,p=0;p<y;p++){var x=l.readUshort(i,o);o+=2,u.scset.push(x==0?null:e.GSUB.readSubClassSet(i,c+x))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){d=l.readUshort(i,o),o+=2;for(var _=[],b=0;b<d;b++)_.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*b)));o+=2*d,p==0&&(u.backCvg=_),p==1&&(u.inptCvg=_),p==2&&(u.ahedCvg=_)}d=l.readUshort(i,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,o,d)}}else{if(s==7&&u.fmt==1){var w=l.readUshort(i,o);o+=2;var M=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=w;else if(a.ltype!=w)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,c+M)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],c=o(i,s);s+=2;for(var u=0;u<c;u++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),c=o(i,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(i,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(i,s,u),s+=2*a[l[c]].length}return u=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,o,a);var u=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){s+=2,o=l.readUshort(i,s),s+=2;var p=l.readUshort(i,s);s+=2;var m=p>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,s),s+=4;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var p=d>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;var p=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var m=o.rval[o.rval.length-1];m.glyph2.push(d),m.vals.push(p),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(l.readUshort(i,s+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(l.readUint(i,s+(d<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},c=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,p=0;p<c;p++){var m=a.readUshort(i,s);s+=2;var g=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var b=a.readUshort(i,s);s+=2;var w,M=f[x],C=d+12*c+b;if(m==0)w=a.readUnicode(i,C,_/2);else if(m==3&&g==0)w=a.readUnicode(i,C,_/2);else if(g==0)w=a.readASCII(i,C,_);else if(g==1)w=a.readUnicode(i,C,_/2);else if(g==3)w=a.readUnicode(i,C,_/2);else{if(m!=1)throw"unknown encoding "+g+", platformID: "+m;w=a.readASCII(i,C,_),console.debug("reading unknown MAC encoding "+g+" as ASCII")}var R="p"+m+","+y.toString(16);l[R]==null&&(l[R]={}),l[R][M!==void 0?M:x]=w,l[R]._lang=y}for(var E in l)if(l[E].postScriptName!=null&&l[E]._lang==1033)return l[E];for(var E in l)if(l[E].postScriptName!=null&&l[E]._lang==0)return l[E];for(var E in l)if(l[E].postScriptName!=null&&l[E]._lang==3084)return l[E];for(var E in l)if(l[E].postScriptName!=null)return l[E];for(var E in l){u=E;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=s;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,f=c==l?a:c+1,d=1&i.flags[c],p=1&i.flags[u],m=1&i.flags[f],g=i.xs[c],y=i.ys[c];if(c==a)if(d){if(!p){e.U.P.moveTo(s,g,y);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else p?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+g)/2,(i.ys[u]+y)/2);d?p&&e.U.P.lineTo(s,g,y):m?e.U.P.qcurveTo(s,g,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,g,y,(g+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},c=i.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],p=l.crds[f+1];o.crds.push(d*u.a+p*u.b+u.tx),o.crds.push(d*u.c+p*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,c=l.lookupList,u=l.featureList,f=[],d=0;d<u.length;d++){var p=u[d];if(p.tag=="kern"){a=!0;for(var m=0;m<p.tab.length;m++)if(!f[p.tab[m]]){f[p.tab[m]]=!0;for(var g=c[p.tab[m]],y=0;y<g.tabs.length;y++)if(g.tabs[y]!=null){var x,_=g.tabs[y];if((!_.coverage||(x=e._lctf.coverageIndex(_.coverage,s))!=-1)&&g.ltype!=1){if(g.ltype==2){var b=null;if(_.fmt==1){var w=_.pairsets[x];for(d=0;d<w.length;d++)w[d].gid2==o&&(b=w[d])}else if(_.fmt==2){var M=e.U._getGlyphClass(s,_.classDef1),C=e.U._getGlyphClass(o,_.classDef2);b=_.matrix[M][C]}if(b){var R=0;return b.val1&&b.val1[2]&&(R+=b.val1[2]),b.val2&&b.val2[0]&&(R+=b.val2[0]),R}}}}}}}if(i.kern&&!a){var E=i.kern.glyph1.indexOf(s);if(E!=-1){var B=i.kern.rval[E].glyph2.indexOf(o);if(B!=-1)return i.kern.rval[E].vals[B]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,f=o.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[u];else if(o.ltype==4)for(var d=f.vals[u],p=0;p<d.length;p++){var m=d[p],g=m.chain.length;if(!(g>l)){for(var y=!0,x=0,_=0;_<g;_++){for(;i[s+x+(1+_)]==-1;)x++;m.chain[_]!=i[s+x+(1+_)]&&(y=!1)}if(y){for(i[s]=m.nglyph,_=0;_<g+x;_++)i[s+_+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var b=e._lctf.getInterval(f.cDef,i[s]),w=f.cDef[b+2],M=f.scset[w],C=0;C<M.length;C++){var R=M[C],E=R.input;if(!(E.length>l)){for(y=!0,_=0;_<E.length;_++){var B=e._lctf.getInterval(f.cDef,i[s+1+_]);if(b==-1&&f.cDef[B+2]!=E[_]){y=!1;break}}if(y){var D=R.substLookupRecords;for(p=0;p<D.length;p+=2)D[p],D[p+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var N=f.lookupRec;for(C=0;C<N.length;C+=2){b=N[C];var z=a[N[C+1]];e.U._applySubs(i,s+b,z,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var f=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,d=e.U.glyphToPath(i,u),p=0;p<d.crds.length;p+=2)a.crds.push(d.crds[p]+l),a.crds.push(d.crds[p+1]);for(o&&a.cmds.push(o),p=0;p<d.cmds.length;p++)a.cmds.push(d.cmds[p]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,c,u){i.cmds.push("C"),i.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var c=s.stack,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open,m=0,g=s.x,y=s.y,x=0,_=0,b=0,w=0,M=0,C=0,R=0,E=0,B=0,D=0,N={val:0,size:0};m<i.length;){e.CFF.getCharString(i,m,N);var z=N.val;if(m+=N.size,z=="o1"||z=="o18")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(z=="o3"||z=="o23")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(z=="o4")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),p&&e.U.P.closePath(l),y+=c.pop(),e.U.P.moveTo(l,g,y),p=!0;else if(z=="o5")for(;c.length>0;)g+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,g,y);else if(z=="o6"||z=="o7")for(var H=c.length,U=z=="o6",W=0;W<H;W++){var X=c.shift();U?g+=X:y+=X,U=!U,e.U.P.lineTo(l,g,y)}else if(z=="o8"||z=="o24"){H=c.length;for(var q=0;q+6<=H;)x=g+c.shift(),_=y+c.shift(),b=x+c.shift(),w=_+c.shift(),g=b+c.shift(),y=w+c.shift(),e.U.P.curveTo(l,x,_,b,w,g,y),q+=6;z=="o24"&&(g+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,g,y))}else{if(z=="o11")break;if(z=="o1234"||z=="o1235"||z=="o1236"||z=="o1237")z=="o1234"&&(_=y,b=(x=g+c.shift())+c.shift(),D=w=_+c.shift(),C=w,E=y,g=(R=(M=(B=b+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,x,_,b,w,B,D),e.U.P.curveTo(l,M,C,R,E,g,y)),z=="o1235"&&(x=g+c.shift(),_=y+c.shift(),b=x+c.shift(),w=_+c.shift(),B=b+c.shift(),D=w+c.shift(),M=B+c.shift(),C=D+c.shift(),R=M+c.shift(),E=C+c.shift(),g=R+c.shift(),y=E+c.shift(),c.shift(),e.U.P.curveTo(l,x,_,b,w,B,D),e.U.P.curveTo(l,M,C,R,E,g,y)),z=="o1236"&&(x=g+c.shift(),_=y+c.shift(),b=x+c.shift(),D=w=_+c.shift(),C=w,R=(M=(B=b+c.shift())+c.shift())+c.shift(),E=C+c.shift(),g=R+c.shift(),e.U.P.curveTo(l,x,_,b,w,B,D),e.U.P.curveTo(l,M,C,R,E,g,y)),z=="o1237"&&(x=g+c.shift(),_=y+c.shift(),b=x+c.shift(),w=_+c.shift(),B=b+c.shift(),D=w+c.shift(),M=B+c.shift(),C=D+c.shift(),R=M+c.shift(),E=C+c.shift(),Math.abs(R-g)>Math.abs(E-y)?g=R+c.shift():y=E+c.shift(),e.U.P.curveTo(l,x,_,b,w,B,D),e.U.P.curveTo(l,M,C,R,E,g,y));else if(z=="o14"){if(c.length>0&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),c.length==4){var L=c.shift(),I=c.shift(),O=c.shift(),F=c.shift(),j=e.CFF.glyphBySE(o,O),te=e.CFF.glyphBySE(o,F);e.U._drawCFF(o.CharStrings[j],s,o,a,l),s.x=L,s.y=I,e.U._drawCFF(o.CharStrings[te],s,o,a,l)}p&&(e.U.P.closePath(l),p=!1)}else if(z=="o19"||z=="o20")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,m+=u+7>>3;else if(z=="o21")c.length>2&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),y+=c.pop(),g+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,g,y),p=!0;else if(z=="o22")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),g+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,g,y),p=!0;else if(z=="o25"){for(;c.length>6;)g+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,g,y);x=g+c.shift(),_=y+c.shift(),b=x+c.shift(),w=_+c.shift(),g=b+c.shift(),y=w+c.shift(),e.U.P.curveTo(l,x,_,b,w,g,y)}else if(z=="o26")for(c.length%2&&(g+=c.shift());c.length>0;)x=g,_=y+c.shift(),g=b=x+c.shift(),y=(w=_+c.shift())+c.shift(),e.U.P.curveTo(l,x,_,b,w,g,y);else if(z=="o27")for(c.length%2&&(y+=c.shift());c.length>0;)_=y,b=(x=g+c.shift())+c.shift(),w=_+c.shift(),g=b+c.shift(),y=w,e.U.P.curveTo(l,x,_,b,w,g,y);else if(z=="o10"||z=="o29"){var re=z=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var se=c.pop(),K=re.Subrs[se+re.Bias];s.x=g,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p,e.U._drawCFF(K,s,o,a,l),g=s.x,y=s.y,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open}}else if(z=="o30"||z=="o31"){var le=c.length,he=(q=0,z=="o31");for(q+=le-(H=-3&le);q<H;)he?(_=y,b=(x=g+c.shift())+c.shift(),y=(w=_+c.shift())+c.shift(),H-q==5?(g=b+c.shift(),q++):g=b,he=!1):(x=g,_=y+c.shift(),b=x+c.shift(),w=_+c.shift(),g=b+c.shift(),H-q==5?(y=w+c.shift(),q++):y=w,he=!0),e.U.P.curveTo(l,x,_,b,w,g,y),q+=4}else{if((z+"").charAt(0)=="o")throw console.debug("Unknown operation: "+z,i),z;c.push(z)}}}s.x=g,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function tct(){return function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(z,H){for(var U=new t(31),W=0;W<31;++W)U[W]=H+=1<<z[W-1];var X=new r(U[30]);for(W=1;W<30;++W)for(var q=U[W];q<U[W+1];++q)X[q]=q-U[W]<<5|W;return[U,X]},l=a(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=a(s,0)[0],d=new t(32768),p=0;p<32768;++p){var m=(43690&p)>>>1|(21845&p)<<1;m=(61680&(m=(52428&m)>>>2|(13107&m)<<2))>>>4|(3855&m)<<4,d[p]=((65280&m)>>>8|(255&m)<<8)>>>1}var g=function(z,H,U){for(var W=z.length,X=0,q=new t(H);X<W;++X)++q[z[X]-1];var L,I=new t(H);for(X=0;X<H;++X)I[X]=I[X-1]+q[X-1]<<1;{L=new t(1<<H);var O=15-H;for(X=0;X<W;++X)if(z[X])for(var F=X<<4|z[X],j=H-z[X],te=I[z[X]-1]++<<j,re=te|(1<<j)-1;te<=re;++te)L[d[te]>>>O]=F}return L},y=new e(288);for(p=0;p<144;++p)y[p]=8;for(p=144;p<256;++p)y[p]=9;for(p=256;p<280;++p)y[p]=7;for(p=280;p<288;++p)y[p]=8;var x=new e(32);for(p=0;p<32;++p)x[p]=5;var _=g(y,9),b=g(x,5),w=function(z){for(var H=z[0],U=1;U<z.length;++U)z[U]>H&&(H=z[U]);return H},M=function(z,H,U){var W=H/8|0;return(z[W]|z[W+1]<<8)>>(7&H)&U},C=function(z,H){var U=H/8|0;return(z[U]|z[U+1]<<8|z[U+2]<<16)>>(7&H)},R=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(z,H,U){var W=new Error(H||R[z]);if(W.code=z,Error.captureStackTrace&&Error.captureStackTrace(W,E),!U)throw W;return W},B=function(z,H,U){var W=z.length;if(!W||U&&!U.l&&W<5)return H||new e(0);var X=!H||U,q=!U||U.i;U||(U={}),H||(H=new e(3*W));var L,I=function(Oe){var qe=H.length;if(Oe>qe){var tt=new e(Math.max(2*qe,Oe));tt.set(H),H=tt}},O=U.f||0,F=U.p||0,j=U.b||0,te=U.l,re=U.d,se=U.m,K=U.n,le=8*W;do{if(!te){U.f=O=M(z,F,1);var he=M(z,F+1,3);if(F+=3,!he){var we=z[(Ve=((L=F)/8|0)+(7&L&&1)+4)-4]|z[Ve-3]<<8,ve=Ve+we;if(ve>W){q&&E(0);break}X&&I(j+we),H.set(z.subarray(Ve,ve),j),U.b=j+=we,U.p=F=8*ve;continue}if(he==1)te=_,re=b,se=9,K=5;else if(he==2){var fe=M(z,F,31)+257,ne=M(z,F+10,15)+4,oe=fe+M(z,F+5,31)+1;F+=14;for(var Te=new e(oe),be=new e(19),Ce=0;Ce<ne;++Ce)be[o[Ce]]=M(z,F+3*Ce,7);F+=3*ne;var We=w(be),Se=(1<<We)-1,ke=g(be,We);for(Ce=0;Ce<oe;){var Ve,Ee=ke[M(z,F,Se)];if(F+=15&Ee,(Ve=Ee>>>4)<16)Te[Ce++]=Ve;else{var V=0,k=0;for(Ve==16?(k=3+M(z,F,3),F+=2,V=Te[Ce-1]):Ve==17?(k=3+M(z,F,7),F+=3):Ve==18&&(k=11+M(z,F,127),F+=7);k--;)Te[Ce++]=V}}var Q=Te.subarray(0,fe),ce=Te.subarray(fe);se=w(Q),K=w(ce),te=g(Q,se),re=g(ce,K)}else E(1);if(F>le){q&&E(0);break}}X&&I(j+131072);for(var Me=(1<<se)-1,Re=(1<<K)-1,Ue=F;;Ue=F){var Pe=(V=te[C(z,F)&Me])>>>4;if((F+=15&V)>le){q&&E(0);break}if(V||E(2),Pe<256)H[j++]=Pe;else{if(Pe==256){Ue=F,te=null;break}var xe=Pe-254;if(Pe>264){var Xe=i[Ce=Pe-257];xe=M(z,F,(1<<Xe)-1)+c[Ce],F+=Xe}var Ge=re[C(z,F)&Re],je=Ge>>>4;if(Ge||E(3),F+=15&Ge,ce=f[je],je>3&&(Xe=s[je],ce+=C(z,F)&(1<<Xe)-1,F+=Xe),F>le){q&&E(0);break}X&&I(j+131072);for(var He=j+xe;j<He;j+=4)H[j]=H[j-ce],H[j+1]=H[j+1-ce],H[j+2]=H[j+2-ce],H[j+3]=H[j+3-ce];j=He}}U.l=te,U.p=Ue,U.b=j,te&&(O=1,U.m=se,U.d=re,U.n=K)}while(!O);return j==H.length?H:function(Oe,qe,tt){(tt==null||tt>Oe.length)&&(tt=Oe.length);var pt=new(Oe instanceof t?t:Oe instanceof r?r:e)(tt-qe);return pt.set(Oe.subarray(qe,tt)),pt}(H,0,j)},D=new e(0),N=typeof TextDecoder<"u"&&new TextDecoder;try{N.decode(D,{stream:!0})}catch{}return n.convert_streams=function(z){var H=new DataView(z),U=0;function W(){var fe=H.getUint16(U);return U+=2,fe}function X(){var fe=H.getUint32(U);return U+=4,fe}function q(fe){we.setUint16(ve,fe),ve+=2}function L(fe){we.setUint32(ve,fe),ve+=4}for(var I={signature:X(),flavor:X(),length:X(),numTables:W(),reserved:W(),totalSfntSize:X(),majorVersion:W(),minorVersion:W(),metaOffset:X(),metaLength:X(),metaOrigLength:X(),privOffset:X(),privLength:X()},O=0;Math.pow(2,O)<=I.numTables;)O++;O--;for(var F=16*Math.pow(2,O),j=16*I.numTables-F,te=12,re=[],se=0;se<I.numTables;se++)re.push({tag:X(),offset:X(),compLength:X(),origLength:X(),origChecksum:X()}),te+=16;var K,le=new Uint8Array(12+16*re.length+re.reduce(function(fe,ne){return fe+ne.origLength+4},0)),he=le.buffer,we=new DataView(he),ve=0;return L(I.flavor),q(I.numTables),q(F),q(O),q(j),re.forEach(function(fe){L(fe.tag),L(fe.origChecksum),L(te),L(fe.origLength),fe.outOffset=te,(te+=fe.origLength)%4!=0&&(te+=4-te%4)}),re.forEach(function(fe){var ne,oe=z.slice(fe.offset,fe.offset+fe.compLength);if(fe.compLength!=fe.origLength){var Te=new Uint8Array(fe.origLength);ne=new Uint8Array(oe,2),B(ne,Te)}else Te=new Uint8Array(oe);le.set(Te,fe.outOffset);var be=0;(te=fe.outOffset+fe.origLength)%4!=0&&(be=4-te%4),le.set(new Uint8Array(be).buffer,fe.outOffset+fe.origLength),K=te+be}),he.slice(0,K)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function nct(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,c=32;let u;function f(M){if(!u){const C={R:s,L:i,D:o,C:l,U:c,T:a};u=new Map;for(let R in r){let E=0;r[R].split(",").forEach(B=>{let[D,N]=B.split("+");D=parseInt(D,36),N=N?parseInt(N,36):0,u.set(E+=D,C[R]);for(let z=N;z--;)u.set(++E,C[R])})}}return u.get(M)||c}const d=1,p=2,m=3,g=4,y=[null,"isol","init","fina","medi"];function x(M){const C=new Uint8Array(M.length);let R=c,E=d,B=-1;for(let D=0;D<M.length;D++){const N=M.codePointAt(D);let z=f(N)|0,H=d;z&a||(R&(i|o|l)?z&(s|o|l)?(H=m,(E===d||E===m)&&C[B]++):z&(i|c)&&(E===p||E===g)&&C[B]--:R&(s|c)&&(E===p||E===g)&&C[B]--,E=C[D]=H,R=z,B=D,N>65535&&D++)}return C}function _(M,C){const R=[];for(let B=0;B<C.length;B++){const D=C.codePointAt(B);D>65535&&B++,R.push(n.U.codeToGlyph(M,D))}const E=M.GSUB;if(E){const{lookupList:B,featureList:D}=E;let N;const z=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,H=[];D.forEach(U=>{if(z.test(U.tag))for(let W=0;W<U.tab.length;W++){if(H[U.tab[W]])continue;H[U.tab[W]]=!0;const X=B[U.tab[W]],q=/^(isol|init|fina|medi)$/.test(U.tag);q&&!N&&(N=x(C));for(let L=0;L<R.length;L++)(!N||!q||y[N[L]]===U.tag)&&n.U._applySubs(R,L,X,B)}})}return R}function b(...M){for(let C=0;C<M.length;C++)if(typeof M[C]=="number")return M[C]}function w(M){const C=Object.create(null),R=M["OS/2"],E=M.hhea,B=M.head.unitsPerEm,D=b(R&&R.sTypoAscender,E&&E.ascender,B),N={unitsPerEm:B,ascender:D,descender:b(R&&R.sTypoDescender,E&&E.descender,0),capHeight:b(R&&R.sCapHeight,D),xHeight:b(R&&R.sxHeight,D),lineGap:b(R&&R.sTypoLineGap,E&&E.lineGap),forEachGlyph(z,H,U,W){let X=0;const q=1/N.unitsPerEm*H,L=_(M,z);let I=0,O=-1;return L.forEach((F,j)=>{if(F!==-1){let te=C[F];if(!te){const{cmds:re,crds:se}=n.U.glyphToPath(M,F);let K="",le=0;for(let ne=0,oe=re.length;ne<oe;ne++){const Te=t[re[ne]];K+=re[ne];for(let be=1;be<=Te;be++)K+=(be>1?",":"")+se[le++]}let he,we,ve,fe;if(se.length){he=we=1/0,ve=fe=-1/0;for(let ne=0,oe=se.length;ne<oe;ne+=2){let Te=se[ne],be=se[ne+1];Te<he&&(he=Te),be<we&&(we=be),Te>ve&&(ve=Te),be>fe&&(fe=be)}}else he=ve=we=fe=0;te=C[F]={index:F,advanceWidth:M.hmtx.aWidth[F],xMin:he,yMin:we,xMax:ve,yMax:fe,path:K,pathCommandCount:re.length}}O!==-1&&(X+=n.U.getPairAdjustment(M,O,F)*q),W.call(null,te,X,I),te.advanceWidth&&(X+=te.advanceWidth*q),U&&(X+=U*H),O=F}I+=z.codePointAt(I)>65535?2:1}),X}};return N}return function(C){const R=new Uint8Array(C,0,4),E=n._bin.readASCII(R,0,4);if(E==="wOFF")C=e(C);else if(E==="wOF2")throw new Error("woff2 fonts not supported");return w(n.parse(C)[0])}}const rct=eR({name:"Typr Font Parser",dependencies:[ect,tct,nct],init(n,e,t){const r=n(),i=e();return t(r,i)}}),fw={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},ict=new dt;function gb(){return(self.performance||Date).now()}const Xse=Object.create(null);function pwe(n,e){n=act({},n);const t=gb();if(n.font=lct(n.font||fw.defaultFontURL),n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||fw.sdfGlyphSize,n.colorRanges!=null){let f={};for(let d in n.colorRanges)if(n.colorRanges.hasOwnProperty(d)){let p=n.colorRanges[d];typeof p!="number"&&(p=ict.set(p).getHex()),f[d]=p}n.colorRanges=f}Object.freeze(n);const{textureWidth:r,sdfExponent:i}=fw,{sdfGlyphSize:s}=n,o=r/s*4;let a=Xse[s];if(!a){const f=document.createElement("canvas");f.width=r,f.height=s*256/o,a=Xse[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new qr(f,void 0,void 0,void 0,Wr,Wr),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,sct(a)}const{sdfTexture:l,sdfCanvas:c}=a;let u=a.glyphsByFont.get(n.font);u||a.glyphsByFont.set(n.font,u=new Map),uct(n).then(f=>{const{glyphIds:d,glyphPositions:p,fontSize:m,unitsPerEm:g,timings:y}=f,x=[],_=new Float32Array(d.length*4),b=m/g;let w=0,M=0;const C=gb();d.forEach((N,z)=>{let H=u.get(N);if(!H){const{path:q,pathBounds:L}=f.glyphData[N],I=Math.max(L[2]-L[0],L[3]-L[1])/s*(fw.sdfMargin*s+.5),O=a.glyphCount++,F=[L[0]-I,L[1]-I,L[2]+I,L[3]+I];u.set(N,H={path:q,atlasIndex:O,sdfViewBox:F}),x.push(H)}const{sdfViewBox:U}=H,W=p[M++],X=p[M++];_[w++]=W+U[0]*b,_[w++]=X+U[1]*b,_[w++]=W+U[2]*b,_[w++]=X+U[3]*b,d[z]=H.atlasIndex}),y.quads=(y.quads||0)+(gb()-C);const R=gb();y.sdf={};const E=c.height,B=Math.ceil(a.glyphCount/o),D=Math.pow(2,Math.ceil(Math.log2(B*s)));D>E&&(console.info(`Increasing SDF texture size ${E}->${D}`),Zlt(c,r,D),l.dispose()),Promise.all(x.map(N=>mwe(N,a,n.gpuAccelerateSDF).then(({timing:z})=>{y.sdf[N.atlasIndex]=z}))).then(()=>{x.length&&!a.contextLost&&(gwe(a),l.needsUpdate=!0),y.sdfTotal=gb()-R,y.total=gb()-t,e(Object.freeze({parameters:n,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:_,glyphAtlasIndices:d,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||Qlt(c)})}function mwe({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=fw,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),f=u%(a/r)*r,d=Math.floor(u/(a/r))*r,p=e%4;return $lt(r,r,n,t,c,l,i,f,d,p,o)}function sct(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const r=[];n.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(mwe(s,n,!0))})}),Promise.all(r).then(()=>{gwe(n),n.sdfTexture.needsUpdate=!0})})}function oct({font:n,characters:e,sdfGlyphSize:t},r){let i=Array.isArray(e)?e.join(`
`):""+e;pwe({font:n,sdfGlyphSize:t,text:i},r)}function act(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let oD;function lct(n){return oD||(oD=typeof document>"u"?{}:document.createElement("a")),oD.href=n,oD.href}function gwe(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:r,height:i}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),t.image={width:r,height:i,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const cct=eR({name:"Typesetter",dependencies:[fw,rct,Wlt,Flt],init(n,e,t,r){const{defaultFontURL:i}=n;return t(e,r(),{defaultFontURL:i})}}),uct=eR({name:"Typesetter",dependencies:[cct],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[n.glyphPositions.buffer,n.glyphIds.buffer];return n.caretPositions&&e.push(n.caretPositions.buffer),n.glyphColors&&e.push(n.glyphColors.buffer),e}}),Jse={};function fct(n){let e=Jse[n];if(!e){const t=new xm(1,1,n,n),r=t.clone(),i=t.attributes,s=r.attributes,o=new un,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new Lt([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...t.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=Jse[n]=o}return e}const dct="aTroikaGlyphBounds",Yse="aTroikaGlyphIndex",hct="aTroikaGlyphColor";class pct extends gX{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new ym,this.boundingBox=new vm}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===ja?t/2:0,e===Du?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=fct(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=t.attributes[r].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,s){cz(this,dct,e,4),cz(this,Yse,t,1),cz(this,hct,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:i,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=i/2,f=i*2,d=Math.abs(t),p=e[0]/d,m=e[2]/d,g=s((p+u)/f)!==s((m+u)/f)?-d:o(l(p)*d,l(m)*d),y=s((p-u)/f)!==s((m-u)/f)?d:a(l(p)*d,l(m)*d),x=s((p+i)/f)!==s((m+i)/f)?d*2:a(d-c(p)*d,d-c(m)*d);r.min.set(g,e[1],t<0?-x:0),r.max.set(y,e[3],t<0?0:x)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(Yse).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){t=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}}function cz(n,e,t,r){const i=n.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(n.setAttribute(e,new I0(t,r)),delete n._maxInstanceCount,n.dispose()):i&&n.deleteAttribute(e)}const mct=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,gct=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,vct=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,yct=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function xct(n){const e=PH(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new nt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Sn(0,0,0,0)},uTroikaClipRect:{value:new Sn(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new nt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new dt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new aa},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:mct,vertexTransform:gct,fragmentDefs:vct,fragmentColorTransform:yct,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(dwe,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const RX=new ml({color:16777215,side:Du,transparent:!0}),Kse=8421504,qse=new Bt,aD=new me,uz=new me,M2=[],_ct=new me,fz="+x+y";function Qse(n){return Array.isArray(n)?n[0]:n}let vwe=()=>{const n=new Ui(new xm(1,1),RX);return vwe=()=>n,n},ywe=()=>{const n=new Ui(new xm(1,1,32,1),RX);return ywe=()=>n,n};const bct={type:"syncstart"},wct={type:"synccomplete"},xwe=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Sct=xwe.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let _we=class extends Ui{constructor(){const e=new pct;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Kse,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=fz,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(bct),pwe({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(wct),e&&e()})))}onBeforeRender(e,t,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=Zp}onAfterRender(e,t,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=RX.clone());if((!e||e.baseMaterial!==t)&&(e=this._derivedMaterial=xct(t),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Qse(this.material).getDepthMaterial()}get customDistanceMaterial(){return Qse(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let c=0,u=0,f=0,d,p,m,g=0,y=0;if(t){let{outlineWidth:_,outlineOffsetX:b,outlineOffsetY:w,outlineBlur:M,outlineOpacity:C}=this;c=this._parsePercent(_)||0,u=Math.max(0,this._parsePercent(M)||0),d=C,g=this._parsePercent(b)||0,y=this._parsePercent(w)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(m=this.strokeColor,r.uTroikaStrokeColor.value.set(m??Kse),p=this.strokeOpacity,p==null&&(p=1)),d=this.fillOpacity;r.uTroikaDistanceOffset.value=c,r.uTroikaPositionOffset.value.set(g,y),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=p,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let x=this.clipRect;if(x&&Array.isArray(x)&&x.length===4)r.uTroikaClipRect.value.fromArray(x);else{const _=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new dt;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||fz;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==fz&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,d]=l;aD.set(0,0,0)[u]=c==="-"?1:-1,uz.set(0,0,0)[d]=f==="-"?-1:1,qse.lookAt(_ct,aD.cross(uz),uz),a.setFromMatrix4(qse)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new nt){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new nt){return aD.copy(e),this.localPositionToTextCoords(this.worldToLocal(aD),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?ywe():vwe(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let f=s[0]+c.getX(u)*(s[2]-s[0]);const d=s[1]+c.getY(u)*(s[3]-s[1]);let p=0;i&&(p=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(u,f,d,p)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,M2.length=0,o.raycast(e,M2);for(let u=0;u<M2.length;u++)M2[u].object=this,t.push(M2[u])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,Sct.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};xwe.forEach(n=>{const e="_private_"+n;Object.defineProperty(_we.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});const Zse=Y.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const u=av(({invalidate:m})=>m),[f]=Y.useState(()=>new _we),[d,p]=Y.useMemo(()=>{const m=[];let g="";return Y.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?g+=y:m.push(y)}),[m,g]},[s]);return wX(()=>new Promise(m=>oct({font:r,characters:o},m)),["troika-text",r,o]),Y.useLayoutEffect(()=>void f.sync(()=>{u(),a&&a(f)})),Y.useEffect(()=>()=>f.dispose(),[f]),Y.createElement("primitive",$a({object:f,ref:c,font:r,text:p,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},l),d)});function Act(n,e,t,r){const i=class extends Jf{constructor(o={}){const a=Object.entries(n);super({uniforms:a.reduce((l,[c,u])=>{const f=MF.clone({[c]:{value:u}});return{...l,...f}},{}),vertexShader:e,fragmentShader:t}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o)}};return i.key=ul.generateUUID(),i}const eoe=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function jF(n,e){const t=av(i=>i.gl),r=id(yA,eoe(n)?Object.values(n):n);if(Y.useLayoutEffect(()=>{e==null||e(r)},[e]),Y.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),eoe(n)){const i=Object.keys(n),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}jF.preload=n=>id.preload(yA,n);jF.clear=n=>id.clear(yA,n);const Mct=Act({color:new dt("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0,opacity:1},`
  varying vec2 vUv;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity), grayscale);
    
    #include <tonemapping_fragment>
    #include <encodings_fragment>
  }
`),bwe=Y.forwardRef(({children:n,color:e,segments:t=1,scale:r=1,zoom:i=1,grayscale:s=0,opacity:o=1,texture:a,toneMapped:l,transparent:c,...u},f)=>{Sbe({ImageMaterial:Mct});const d=Array.isArray(r)?[r[0],r[1]]:[r,r],p=[a.image.width,a.image.height];return Y.createElement("mesh",$a({ref:f,scale:Array.isArray(r)?[...r,1]:r},u),Y.createElement("planeGeometry",{args:[1,1,t,t]}),Y.createElement("imageMaterial",{color:e,map:a,zoom:i,grayscale:s,opacity:o,scale:d,imageBounds:p,toneMapped:l,transparent:c}),n)}),Ect=Y.forwardRef(({url:n,...e},t)=>{const r=jF(n);return Y.createElement(bwe,$a({},e,{texture:r,ref:t}))}),Cct=Y.forwardRef(({url:n,...e},t)=>Y.createElement(bwe,$a({},e,{ref:t}))),Tct=Y.forwardRef((n,e)=>{if(n.url)return Y.createElement(Ect,$a({},n,{ref:e}));if(n.texture)return Y.createElement(Cct,$a({},n,{ref:e}));throw new Error("<Image /> requires a url or texture")});let lD=null;function wwe(n,e,t){return r=>{t&&t(r),n&&(lD||(lD=new Rlt),lD.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(lD)),e&&r.setMeshoptDecoder(typeof az=="function"?az():az)}}function xA(n,e=!0,t=!0,r){return id(CX,n,wwe(e,t,r))}xA.preload=(n,e=!0,t=!0,r)=>id.preload(CX,n,wwe(e,t,r));xA.clear=n=>id.clear(CX,n);function Rct(n,e){const{unsuspend:t,start:r,crossOrigin:i,muted:s,loop:o,...a}={unsuspend:"loadedmetadata",crossOrigin:"Anonymous",muted:!0,loop:!0,start:!0,playsInline:!0,...e},l=av(u=>u.gl),c=wX(()=>new Promise((u,f)=>{const d=Object.assign(document.createElement("video"),{src:n,srcObject:n instanceof MediaStream&&n||void 0,crossOrigin:i,loop:o,muted:s,...a}),p=new F_e(d);"colorSpace"in p?p.colorSpace=l.outputColorSpace:p.encoding=l.outputEncoding,d.addEventListener(t,()=>u(p))}),[n]);return Y.useEffect(()=>void(r&&c.image.play()),[c,r]),c}function JE(n){return id(TX,n)}JE.preload=n=>id.preload(TX,n);JE.clear=n=>id.clear(TX,n);function Pct(n,e){const t=Y.useRef(),[r]=Y.useState(()=>e?e instanceof Pn?{current:e}:e:t),[i]=Y.useState(()=>new dbe(void 0));Y.useLayoutEffect(()=>void(i._root=r.current),[i,e]);const s=Y.useRef({}),[o]=Y.useState(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:n,actions:a,names:n.map(l=>l.name),mixer:i}});return Ic((a,l)=>i.update(l)),Y.useEffect(()=>{const a=r.current;return()=>{s.current={},Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[n]),Y.useEffect(()=>()=>{i.stopAllAction()},[i]),o}var Bct=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class Dct extends kc{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${Bct}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const toe=Y.forwardRef(({speed:n=1,...e},t)=>{const[r]=Y.useState(()=>new Dct);return Ic(i=>r&&(r.time=i.clock.getElapsedTime()*n)),Y.createElement("primitive",$a({object:r,ref:t,attach:"material"},e))});class kct extends L0{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._factor={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.factor=this._factor,e.vertexShader=`
      uniform float time;
      uniform float factor;
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`float theta = sin( time + position.y ) / 2.0 * factor;
        float c = cos( theta );
        float s = sin( theta );
        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );
        vec3 transformed = vec3( position ) * m;
        vNormal = vNormal * m;`)}get time(){return this._time.value}set time(e){this._time.value=e}get factor(){return this._factor.value}set factor(e){this._factor.value=e}}const Ict=Y.forwardRef(({speed:n=1,...e},t)=>{const[r]=Y.useState(()=>new kct);return Ic(i=>r&&(r.time=i.clock.getElapsedTime()*n)),Y.createElement("primitive",$a({object:r,ref:t,attach:"material"},e))});function Lct(n,e){const t=n+"Geometry";return Y.forwardRef(({args:r,children:i,...s},o)=>{const a=Y.useRef(null);return Y.useImperativeHandle(o,()=>a.current),Y.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),Y.createElement("mesh",$a({ref:a},s),Y.createElement(t,{attach:"geometry",args:r}),i)})}const Oct=Lct("sphere"),dz=Y.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=Y.useRef(null),c=Y.useRef(Math.random()*1e4);return Ic(u=>{var f,d;if(!e||t===0)return;const p=c.current+u.clock.getElapsedTime();l.current.rotation.x=Math.cos(p/4*t)/8*r,l.current.rotation.y=Math.sin(p/4*t)/8*r,l.current.rotation.z=Math.sin(p/4*t)/20*r;let m=Math.sin(p/4*t)/10;m=ul.mapLinear(m,-.1,.1,(f=s==null?void 0:s[0])!==null&&f!==void 0?f:-.1,(d=s==null?void 0:s[1])!==null&&d!==void 0?d:.1),l.current.position.y=m*i,l.current.updateMatrix()}),Y.createElement("group",o,Y.createElement("group",{ref:MX([l,a]),matrixAutoUpdate:!1},n))});var Swe={exports:{}},Fct="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nct=Fct,Uct=Nct;function Awe(){}function Mwe(){}Mwe.resetWarningCache=Awe;var zct=function(){function n(r,i,s,o,a,l){if(l!==Uct){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Mwe,resetWarningCache:Awe};return t.PropTypes=t,t};Swe.exports=zct();var Gct=Swe.exports;const Er=aA(Gct),BT=Y.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),WF=Y.createContext({}),PX=Y.createContext(null),$F=typeof document<"u",Hct=$F?Y.useLayoutEffect:Y.useEffect,Ewe=Y.createContext({strict:!1}),BX=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Vct="framerAppearId",Cwe="data-"+BX(Vct);function jct(n,e,t,r){const{visualElement:i}=Y.useContext(WF),s=Y.useContext(Ewe),o=Y.useContext(PX),a=Y.useContext(BT).reducedMotion,l=Y.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;Y.useInsertionEffect(()=>{c&&c.update(t,o)});const u=Y.useRef(!!(t[Cwe]&&!window.HandoffComplete));return Hct(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),Y.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function dw(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Wct(n,e,t){return Y.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):dw(t)&&(t.current=r))},[e])}function DT(n){return typeof n=="string"||Array.isArray(n)}function XF(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const DX=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kX=["initial",...DX];function JF(n){return XF(n.animate)||kX.some(e=>DT(n[e]))}function Twe(n){return!!(JF(n)||n.variants)}function $ct(n,e){if(JF(n)){const{initial:t,animate:r}=n;return{initial:t===!1||DT(t)?t:void 0,animate:DT(r)?r:void 0}}return n.inherit!==!1?e:{}}function Xct(n){const{initial:e,animate:t}=$ct(n,Y.useContext(WF));return Y.useMemo(()=>({initial:e,animate:t}),[noe(e),noe(t)])}function noe(n){return Array.isArray(n)?n.join(" "):n}const roe={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kT={};for(const n in roe)kT[n]={isEnabled:e=>roe[n].some(t=>!!e[t])};function Jct(n){for(const e in n)kT[e]={...kT[e],...n[e]}}const Rwe=Y.createContext({}),Pwe=Y.createContext({}),Yct=Symbol.for("motionComponentSymbol");function Bwe({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&Jct(n);function s(a,l){let c;const u={...Y.useContext(BT),...a,layoutId:Kct(a)},{isStatic:f}=u,d=Xct(a),p=r(a,f);if(!f&&$F){d.visualElement=jct(i,p,u,e);const m=Y.useContext(Pwe),g=Y.useContext(Ewe).strict;d.visualElement&&(c=d.visualElement.loadFeatures(u,g,n,m))}return Y.createElement(WF.Provider,{value:d},c&&d.visualElement?Y.createElement(c,{visualElement:d.visualElement,...u}):null,t(i,a,Wct(p,d.visualElement,l),p,f,d.visualElement))}const o=Y.forwardRef(s);return o[Yct]=i,o}function Kct({layoutId:n}){const e=Y.useContext(Rwe).id;return e&&n!==void 0?e+"-"+n:n}function qct(n){function e(r,i={}){return Bwe(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const Qct=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IX(n){return typeof n!="string"||n.includes("-")?!1:!!(Qct.indexOf(n)>-1||/[A-Z]/.test(n))}const gL={};function Zct(n){Object.assign(gL,n)}const tR=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bx=new Set(tR);function Dwe(n,{layout:e,layoutId:t}){return Bx.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!gL[n]||n==="opacity")}const zi=n=>!!(n&&n.getVelocity),eut={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tut=tR.length;function nut(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<tut;o++){const a=tR[o];if(n[a]!==void 0){const l=eut[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const kwe=n=>e=>typeof e=="string"&&e.startsWith(n),Iwe=kwe("--"),DH=kwe("var(--"),rut=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,iut=(n,e)=>e&&typeof n=="number"?e.transform(n):n,N0=(n,e,t)=>Math.min(Math.max(t,n),e),Dx={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},YE={...Dx,transform:n=>N0(0,1,n)},cD={...Dx,default:1},KE=n=>Math.round(n*1e5)/1e5,YF=/(-)?([\d]*\.?[\d])+/g,Lwe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sut=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function nR(n){return typeof n=="string"}const rR=n=>({test:e=>nR(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ug=rR("deg"),qd=rR("%"),sn=rR("px"),out=rR("vh"),aut=rR("vw"),ioe={...qd,parse:n=>qd.parse(n)/100,transform:n=>qd.transform(n*100)},soe={...Dx,transform:Math.round},Owe={borderWidth:sn,borderTopWidth:sn,borderRightWidth:sn,borderBottomWidth:sn,borderLeftWidth:sn,borderRadius:sn,radius:sn,borderTopLeftRadius:sn,borderTopRightRadius:sn,borderBottomRightRadius:sn,borderBottomLeftRadius:sn,width:sn,maxWidth:sn,height:sn,maxHeight:sn,size:sn,top:sn,right:sn,bottom:sn,left:sn,padding:sn,paddingTop:sn,paddingRight:sn,paddingBottom:sn,paddingLeft:sn,margin:sn,marginTop:sn,marginRight:sn,marginBottom:sn,marginLeft:sn,rotate:ug,rotateX:ug,rotateY:ug,rotateZ:ug,scale:cD,scaleX:cD,scaleY:cD,scaleZ:cD,skew:ug,skewX:ug,skewY:ug,distance:sn,translateX:sn,translateY:sn,translateZ:sn,x:sn,y:sn,z:sn,perspective:sn,transformPerspective:sn,opacity:YE,originX:ioe,originY:ioe,originZ:sn,zIndex:soe,fillOpacity:YE,strokeOpacity:YE,numOctaves:soe};function LX(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const f in e){const d=e[f];if(Iwe(f)){s[f]=d;continue}const p=Owe[f],m=iut(d,p);if(Bx.has(f)){if(l=!0,o[f]=m,!u)continue;d!==(p.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=m):i[f]=m}if(e.transform||(l||r?i.transform=nut(n.transform,t,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:p=0}=a;i.transformOrigin=`${f} ${d} ${p}`}}const OX=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fwe(n,e,t){for(const r in e)!zi(e[r])&&!Dwe(r,t)&&(n[r]=e[r])}function lut({transformTemplate:n},e,t){return Y.useMemo(()=>{const r=OX();return LX(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function cut(n,e,t){const r=n.style||{},i={};return Fwe(i,r,n),Object.assign(i,lut(n,e,t)),n.transformValues?n.transformValues(i):i}function uut(n,e,t){const r={},i=cut(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const fut=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vL(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||fut.has(n)}let Nwe=n=>!vL(n);function Uwe(n){n&&(Nwe=e=>e.startsWith("on")?!vL(e):n(e))}try{Uwe(require("@emotion/is-prop-valid").default)}catch{}function zwe(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(Nwe(i)||t===!0&&vL(i)||!e&&!vL(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function ooe(n,e,t){return typeof n=="string"?n:sn.transform(e+t*n)}function dut(n,e,t){const r=ooe(e,n.x,n.width),i=ooe(t,n.y,n.height);return`${r} ${i}`}const hut={offset:"stroke-dashoffset",array:"stroke-dasharray"},put={offset:"strokeDashoffset",array:"strokeDasharray"};function mut(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?hut:put;n[s.offset]=sn.transform(-r);const o=sn.transform(e),a=sn.transform(t);n[s.array]=`${o} ${a}`}function FX(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f,d){if(LX(n,c,u,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:g}=n;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=dut(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),r!==void 0&&(p.scale=r),o!==void 0&&mut(p,o,a,l,!1)}const Gwe=()=>({...OX(),attrs:{}}),NX=n=>typeof n=="string"&&n.toLowerCase()==="svg";function gut(n,e,t,r){const i=Y.useMemo(()=>{const s=Gwe();return FX(s,e,{enableHardwareAcceleration:!1},NX(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Fwe(s,n.style,n),i.style={...s,...i.style}}return i}function vut(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(IX(t)?gut:uut)(r,s,o,t),u={...zwe(r,typeof t=="string",n),...l,ref:i},{children:f}=r,d=Y.useMemo(()=>zi(f)?f.get():f,[f]);return Y.createElement(t,{...u,children:d})}}function Hwe(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const Vwe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jwe(n,e,t,r){Hwe(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(Vwe.has(i)?i:BX(i),e.attrs[i])}function UX(n,e){const{style:t}=n,r={};for(const i in t)(zi(t[i])||e.style&&zi(e.style[i])||Dwe(i,n))&&(r[i]=t[i]);return r}function Wwe(n,e){const t=UX(n,e);for(const r in n)if(zi(n[r])||zi(e[r])){const i=tR.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function zX(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function GX(n){const e=Y.useRef(null);return e.current===null&&(e.current=n()),e.current}const yL=n=>Array.isArray(n),yut=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),xut=n=>yL(n)?n[n.length-1]||0:n;function qE(n){const e=zi(n)?n.get():n;return yut(e)?e.toValue():e}function _ut({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:but(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const HX=n=>(e,t)=>{const r=Y.useContext(WF),i=Y.useContext(PX),s=()=>_ut(n,e,r,i);return t?s():GX(s)};function but(n,e,t,r){const i={},s=r(n,{});for(const d in s)i[d]=qE(s[d]);let{initial:o,animate:a}=n;const l=JF(n),c=Twe(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const f=u?a:o;return f&&typeof f!="boolean"&&!XF(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=zX(n,p);if(!m)return;const{transitionEnd:g,transition:y,...x}=m;for(const _ in x){let b=x[_];if(Array.isArray(b)){const w=u?b.length-1:0;b=b[w]}b!==null&&(i[_]=b)}for(const _ in g)i[_]=g[_]}),i}const ls=n=>n;class aoe{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function wut(n){let e=new aoe,t=new aoe,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,d=f?e:t;return c&&o.add(l),d.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const uD=["prepare","read","update","preRender","render","postRender"],Sut=40;function Aut(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=uD.reduce((f,d)=>(f[d]=wut(()=>t=!0),f),{}),o=f=>s[f].process(i),a=()=>{const f=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Sut),1),i.timestamp=f,i.isProcessing=!0,uD.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:uD.reduce((f,d)=>{const p=s[d];return f[d]=(m,g=!1,y=!1)=>(t||l(),p.schedule(m,g,y)),f},{}),cancel:f=>uD.forEach(d=>s[d].cancel(f)),state:i,steps:s}}const{schedule:Dr,cancel:lh,state:ea,steps:hz}=Aut(typeof requestAnimationFrame<"u"?requestAnimationFrame:ls,!0),Mut={useVisualState:HX({scrapeMotionValuesFromProps:Wwe,createRenderState:Gwe,onMount:(n,e,{renderState:t,latestValues:r})=>{Dr.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Dr.render(()=>{FX(t,r,{enableHardwareAcceleration:!1},NX(e.tagName),n.transformTemplate),jwe(e,t)})}})},Eut={useVisualState:HX({scrapeMotionValuesFromProps:UX,createRenderState:OX})};function Cut(n,{forwardMotionProps:e=!1},t,r){return{...IX(n)?Mut:Eut,preloadedFeatures:t,useRender:vut(e),createVisualElement:r,Component:n}}function Ap(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const $we=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function KF(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const Xwe=n=>e=>$we(e)&&n(e,KF(e));function zf(n,e,t,r){return Ap(n,e,Xwe(t),r)}const Tut=(n,e)=>t=>e(n(t)),Lp=(...n)=>n.reduce(Tut);function Jwe(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const loe=Jwe("dragHorizontal"),coe=Jwe("dragVertical");function Ywe(n){let e=!1;if(n==="y")e=coe();else if(n==="x")e=loe();else{const t=loe(),r=coe();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function VX(){const n=Ywe(!0);return n?(n(),!1):!0}class lv{constructor(e){this.isMounted=!1,this.node=e}update(){}}function uoe(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||VX())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&Dr.update(()=>a[r](s,o))};return zf(n.current,t,i,{passive:!n.getProps()[r]})}class Rut extends lv{mount(){this.unmount=Lp(uoe(this.node,!0),uoe(this.node,!1))}unmount(){}}class Put extends lv{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lp(Ap(this.node.current,"focus",()=>this.onFocus()),Ap(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Kwe=(n,e)=>e?n===e?!0:Kwe(n,e.parentElement):!1;function pz(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,KF(t))}class But extends lv{constructor(){super(...arguments),this.removeStartListeners=ls,this.removeEndListeners=ls,this.removeAccessibleListeners=ls,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=zf(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Dr.update(()=>{!f&&!Kwe(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=zf(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Lp(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||pz("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Dr.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Ap(this.node.current,"keyup",o),pz("down",(a,l)=>{this.startPress(a,l)})},t=Ap(this.node.current,"keydown",e),r=()=>{this.isPressing&&pz("cancel",(s,o)=>this.cancelPress(s,o))},i=Ap(this.node.current,"blur",r);this.removeAccessibleListeners=Lp(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Dr.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!VX()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Dr.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=zf(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ap(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Lp(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kH=new WeakMap,mz=new WeakMap,Dut=n=>{const e=kH.get(n.target);e&&e(n)},kut=n=>{n.forEach(Dut)};function Iut({root:n,...e}){const t=n||document;mz.has(t)||mz.set(t,{});const r=mz.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(kut,{root:n,...e})),r[i]}function Lut(n,e,t){const r=Iut(e);return kH.set(n,t),r.observe(n),()=>{kH.delete(n),r.unobserve(n)}}const Out={some:0,all:1};class Fut extends lv{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Out[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return Lut(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Nut(e,t))&&this.startObserver()}unmount(){}}function Nut({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Uut={inView:{Feature:Fut},tap:{Feature:But},focus:{Feature:Put},hover:{Feature:Rut}};function qwe(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function zut(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function Gut(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function qF(n,e,t){const r=n.getProps();return zX(r,e,t!==void 0?t:r.custom,zut(n),Gut(n))}let xL=ls;const l0=n=>n*1e3,Qd=n=>n/1e3,Hut={current:!1},Qwe=n=>Array.isArray(n)&&typeof n[0]=="number";function Zwe(n){return!!(!n||typeof n=="string"&&eSe[n]||Qwe(n)||Array.isArray(n)&&n.every(Zwe))}const J2=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,eSe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:J2([0,.65,.55,1]),circOut:J2([.55,0,1,.45]),backIn:J2([.31,.01,.66,-.59]),backOut:J2([.33,1.53,.69,.99])};function tSe(n){if(n)return Qwe(n)?J2(n):Array.isArray(n)?n.map(tSe):eSe[n]}function Vut(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=tSe(a);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function jut(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const nSe=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Wut=1e-7,$ut=12;function Xut(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=nSe(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>Wut&&++a<$ut);return o}function iR(n,e,t,r){if(n===e&&t===r)return ls;const i=s=>Xut(s,0,1,n,t);return s=>s===0||s===1?s:nSe(i(s),e,r)}const Jut=iR(.42,0,1,1),Yut=iR(0,0,.58,1),rSe=iR(.42,0,.58,1),iSe=n=>Array.isArray(n)&&typeof n[0]!="number",sSe=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,oSe=n=>e=>1-n(1-e),jX=n=>1-Math.sin(Math.acos(n)),aSe=oSe(jX),Kut=sSe(jX),lSe=iR(.33,1.53,.69,.99),WX=oSe(lSe),qut=sSe(WX),Qut=n=>(n*=2)<1?.5*WX(n):.5*(2-Math.pow(2,-10*(n-1))),foe={linear:ls,easeIn:Jut,easeInOut:rSe,easeOut:Yut,circIn:jX,circInOut:Kut,circOut:aSe,backIn:WX,backInOut:qut,backOut:lSe,anticipate:Qut},doe=n=>{if(Array.isArray(n)){xL(n.length===4);const[e,t,r,i]=n;return iR(e,t,r,i)}else if(typeof n=="string")return xL(foe[n]!==void 0),foe[n];return n},$X=(n,e)=>t=>!!(nR(t)&&sut.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),cSe=(n,e,t)=>r=>{if(!nR(r))return r;const[i,s,o,a]=r.match(YF);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Zut=n=>N0(0,255,n),gz={...Dx,transform:n=>Math.round(Zut(n))},e1={test:$X("rgb","red"),parse:cSe("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+gz.transform(n)+", "+gz.transform(e)+", "+gz.transform(t)+", "+KE(YE.transform(r))+")"};function eft(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const IH={test:$X("#"),parse:eft,transform:e1.transform},hw={test:$X("hsl","hue"),parse:cSe("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+qd.transform(KE(e))+", "+qd.transform(KE(t))+", "+KE(YE.transform(r))+")"},Da={test:n=>e1.test(n)||IH.test(n)||hw.test(n),parse:n=>e1.test(n)?e1.parse(n):hw.test(n)?hw.parse(n):IH.parse(n),transform:n=>nR(n)?n:n.hasOwnProperty("red")?e1.transform(n):hw.transform(n)},ci=(n,e,t)=>-t*n+t*e+n;function vz(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function tft({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=vz(l,a,n+1/3),s=vz(l,a,n),o=vz(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const yz=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},nft=[IH,e1,hw],rft=n=>nft.find(e=>e.test(n));function hoe(n){const e=rft(n);let t=e.parse(n);return e===hw&&(t=tft(t)),t}const uSe=(n,e)=>{const t=hoe(n),r=hoe(e),i={...t};return s=>(i.red=yz(t.red,r.red,s),i.green=yz(t.green,r.green,s),i.blue=yz(t.blue,r.blue,s),i.alpha=ci(t.alpha,r.alpha,s),e1.transform(i))};function ift(n){var e,t;return isNaN(n)&&nR(n)&&(((e=n.match(YF))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(Lwe))===null||t===void 0?void 0:t.length)||0)>0}const fSe={regex:rut,countKey:"Vars",token:"${v}",parse:ls},dSe={regex:Lwe,countKey:"Colors",token:"${c}",parse:Da.parse},hSe={regex:YF,countKey:"Numbers",token:"${n}",parse:Dx.parse};function xz(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function _L(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&xz(t,fSe),xz(t,dSe),xz(t,hSe),t}function pSe(n){return _L(n).values}function mSe(n){const{values:e,numColors:t,numVars:r,tokenised:i}=_L(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(fSe.token,o[l]):l<r+t?a=a.replace(dSe.token,Da.transform(o[l])):a=a.replace(hSe.token,KE(o[l]));return a}}const sft=n=>typeof n=="number"?0:n;function oft(n){const e=pSe(n);return mSe(n)(e.map(sft))}const U0={test:ift,parse:pSe,createTransformer:mSe,getAnimatableNone:oft},gSe=(n,e)=>t=>`${t>0?e:n}`;function vSe(n,e){return typeof n=="number"?t=>ci(n,e,t):Da.test(n)?uSe(n,e):n.startsWith("var(")?gSe(n,e):xSe(n,e)}const ySe=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>vSe(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},aft=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=vSe(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},xSe=(n,e)=>{const t=U0.createTransformer(e),r=_L(n),i=_L(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Lp(ySe(r.values,i.values),t):gSe(n,e)},IS=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},poe=(n,e)=>t=>ci(n,e,t);function lft(n){return typeof n=="number"?poe:typeof n=="string"?Da.test(n)?uSe:xSe:Array.isArray(n)?ySe:typeof n=="object"?aft:poe}function cft(n,e,t){const r=[],i=t||lft(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||ls:e;a=Lp(l,a)}r.push(a)}return r}function _Se(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(xL(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=cft(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const f=IS(n[u],n[u+1],c);return o[u](f)};return t?c=>l(N0(n[0],n[s-1],c)):l}function bSe(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=IS(0,e,r);n.push(ci(t,1,i))}}function wSe(n){const e=[0];return bSe(e,n.length-1),e}function uft(n,e){return n.map(t=>t*e)}function fft(n,e){return n.map(()=>e||rSe).splice(0,n.length-1)}function bL({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=iSe(r)?r.map(doe):doe(r),s={done:!1,value:e[0]},o=uft(t&&t.length===e.length?t:wSe(e),n),a=_Se(o,e,{ease:Array.isArray(i)?i:fft(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function SSe(n,e){return e?n*(1e3/e):0}const dft=5;function ASe(n,e,t){const r=Math.max(e-dft,0);return SSe(t-n(r),e-r)}const _z=.001,hft=.01,pft=10,mft=.05,gft=1;function vft({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s,o=1-e;o=N0(mft,gft,o),n=N0(hft,pft,Qd(n)),o<1?(i=c=>{const u=c*o,f=u*n,d=u-t,p=LH(c,o),m=Math.exp(-f);return _z-d/p*m},s=c=>{const f=c*o*n,d=f*t+t,p=Math.pow(o,2)*Math.pow(c,2)*n,m=Math.exp(-f),g=LH(Math.pow(c,2),o);return(-i(c)+_z>0?-1:1)*((d-p)*m)/g}):(i=c=>{const u=Math.exp(-c*n),f=(c-t)*n+1;return-_z+u*f},s=c=>{const u=Math.exp(-c*n),f=(t-c)*(n*n);return u*f});const a=5/n,l=xft(i,s,a);if(n=l0(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const yft=12;function xft(n,e,t){let r=t;for(let i=1;i<yft;i++)r=r-n(r)/e(r);return r}function LH(n,e){return n*Math.sqrt(1-e*e)}const _ft=["duration","bounce"],bft=["stiffness","damping","mass"];function moe(n,e){return e.some(t=>n[t]!==void 0)}function wft(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!moe(n,bft)&&moe(n,_ft)){const t=vft(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function XX({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:d}=wft({...r,velocity:-Qd(r.velocity||0)}),p=f||0,m=l/(2*Math.sqrt(a*c)),g=s-i,y=Qd(Math.sqrt(a/c)),x=Math.abs(g)<5;t||(t=x?.01:2),e||(e=x?.005:.5);let _;if(m<1){const b=LH(y,m);_=w=>{const M=Math.exp(-m*y*w);return s-M*((p+m*y*g)/b*Math.sin(b*w)+g*Math.cos(b*w))}}else if(m===1)_=b=>s-Math.exp(-y*b)*(g+(p+y*g)*b);else{const b=y*Math.sqrt(m*m-1);_=w=>{const M=Math.exp(-m*y*w),C=Math.min(b*w,300);return s-M*((p+m*y*g)*Math.sinh(C)+b*g*Math.cosh(C))/b}}return{calculatedDuration:d&&u||null,next:b=>{const w=_(b);if(d)o.done=b>=u;else{let M=p;b!==0&&(m<1?M=ASe(_,b,w):M=0);const C=Math.abs(M)<=t,R=Math.abs(s-w)<=e;o.done=C&&R}return o.value=o.done?s:w,o}}}function goe({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=n[0],d={done:!1,value:f},p=E=>a!==void 0&&E<a||l!==void 0&&E>l,m=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let g=t*e;const y=f+g,x=o===void 0?y:o(y);x!==y&&(g=x-f);const _=E=>-g*Math.exp(-E/r),b=E=>x+_(E),w=E=>{const B=_(E),D=b(E);d.done=Math.abs(B)<=c,d.value=d.done?x:D};let M,C;const R=E=>{p(d.value)&&(M=E,C=XX({keyframes:[d.value,m(d.value)],velocity:ASe(b,E,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:E=>{let B=!1;return!C&&M===void 0&&(B=!0,w(E),R(E)),M!==void 0&&E>M?C.next(E-M):(!B&&w(E),d)}}}const Sft=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Dr.update(e,!0),stop:()=>lh(e),now:()=>ea.isProcessing?ea.timestamp:performance.now()}},OH=2e4;function FH(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<OH;)e+=t,r=n.next(e);return e>=OH?1/0:e}const Aft={decay:goe,inertia:goe,tween:bL,keyframes:bL,spring:XX};function wL({autoplay:n=!0,delay:e=0,driver:t=Sft,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...d}){let p=1,m=!1,g,y;const x=()=>{y=new Promise(F=>{g=F})};x();let _;const b=Aft[i]||bL;let w;b!==bL&&typeof r[0]!="number"&&(w=_Se([0,100],r,{clamp:!1}),r=[0,100]);const M=b({...d,keyframes:r});let C;a==="mirror"&&(C=b({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let R="idle",E=null,B=null,D=null;M.calculatedDuration===null&&s&&(M.calculatedDuration=FH(M));const{calculatedDuration:N}=M;let z=1/0,H=1/0;N!==null&&(z=N+o,H=z*(s+1)-o);let U=0;const W=F=>{if(B===null)return;p>0&&(B=Math.min(B,F)),p<0&&(B=Math.min(F-H/p,B)),E!==null?U=E:U=Math.round(F-B)*p;const j=U-e*(p>=0?1:-1),te=p>=0?j<0:j>H;U=Math.max(j,0),R==="finished"&&E===null&&(U=H);let re=U,se=M;if(s){const we=Math.min(U,H)/z;let ve=Math.floor(we),fe=we%1;!fe&&we>=1&&(fe=1),fe===1&&ve--,ve=Math.min(ve,s+1),!!(ve%2)&&(a==="reverse"?(fe=1-fe,o&&(fe-=o/z)):a==="mirror"&&(se=C)),re=N0(0,1,fe)*z}const K=te?{done:!1,value:r[0]}:se.next(re);w&&(K.value=w(K.value));let{done:le}=K;!te&&N!==null&&(le=p>=0?U>=H:U<=0);const he=E===null&&(R==="finished"||R==="running"&&le);return f&&f(K.value),he&&L(),K},X=()=>{_&&_.stop(),_=void 0},q=()=>{R="idle",X(),g(),x(),B=D=null},L=()=>{R="finished",u&&u(),X(),g()},I=()=>{if(m)return;_||(_=t(W));const F=_.now();l&&l(),E!==null?B=F-E:(!B||R==="finished")&&(B=F),R==="finished"&&x(),D=B,E=null,R="running",_.start()};n&&I();const O={then(F,j){return y.then(F,j)},get time(){return Qd(U)},set time(F){F=l0(F),U=F,E!==null||!_||p===0?E=F:B=_.now()-F/p},get duration(){const F=M.calculatedDuration===null?FH(M):M.calculatedDuration;return Qd(F)},get speed(){return p},set speed(F){F===p||!_||(p=F,O.time=Qd(U))},get state(){return R},play:I,pause:()=>{R="paused",E=U},stop:()=>{m=!0,R!=="idle"&&(R="idle",c&&c(),q())},cancel:()=>{D!==null&&W(D),q()},complete:()=>{R="finished"},sample:F=>(B=0,W(F))};return O}function MSe(n){let e;return()=>(e===void 0&&(e=n()),e)}const Mft=MSe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Eft=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),fD=10,Cft=2e4,Tft=(n,e)=>e.type==="spring"||n==="backgroundColor"||!Zwe(e.ease);function Rft(n,e,{onUpdate:t,onComplete:r,...i}){if(!(Mft()&&Eft.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(b=>{a=b})};u();let{keyframes:f,duration:d=300,ease:p,times:m}=i;if(Tft(e,i)){const b=wL({...i,repeat:0,delay:0});let w={done:!1,value:f[0]};const M=[];let C=0;for(;!w.done&&C<Cft;)w=b.sample(C),M.push(w.value),C+=fD;m=void 0,f=M,d=C-fD,p="linear"}const g=Vut(n.owner.current,e,f,{...i,duration:d,ease:p,times:m}),y=()=>{c=!1,g.cancel()},x=()=>{c=!0,Dr.update(y),a(),u()};return g.onfinish=()=>{c||(n.set(jut(f,i)),r&&r(),x())},{then(b,w){return l.then(b,w)},attachTimeline(b){return g.timeline=b,g.onfinish=null,ls},get time(){return Qd(g.currentTime||0)},set time(b){g.currentTime=l0(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return Qd(d)},play:()=>{o||(g.play(),lh(y))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const w=wL({...i,autoplay:!1});n.setWithVelocity(w.sample(b-fD).value,w.sample(b).value,fD)}x()},complete:()=>{c||g.finish()},cancel:x}}function Pft({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ls,pause:ls,stop:ls,then:s=>(s(),Promise.resolve()),cancel:ls,complete:ls});return e?wL({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const Bft={type:"spring",stiffness:500,damping:25,restSpeed:10},Dft=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),kft={type:"keyframes",duration:.8},Ift={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lft=(n,{keyframes:e})=>e.length>2?kft:Bx.has(n)?n.startsWith("scale")?Dft(e[1]):Bft:Ift,NH=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(U0.test(e)||e==="0")&&!e.startsWith("url(")),Oft=new Set(["brightness","contrast","saturate","opacity"]);function Fft(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(YF)||[];if(!r)return n;const i=t.replace(r,"");let s=Oft.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const Nft=/([a-z-]*)\(.*?\)/g,UH={...U0,getAnimatableNone:n=>{const e=n.match(Nft);return e?e.map(Fft).join(" "):n}},Uft={...Owe,color:Da,backgroundColor:Da,outlineColor:Da,fill:Da,stroke:Da,borderColor:Da,borderTopColor:Da,borderRightColor:Da,borderBottomColor:Da,borderLeftColor:Da,filter:UH,WebkitFilter:UH},JX=n=>Uft[n];function ESe(n,e){let t=JX(n);return t!==UH&&(t=U0),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const CSe=n=>/^0[^.\s]+$/.test(n);function zft(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||CSe(n)}function Gft(n,e,t,r){const i=NH(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),zft(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=ESe(e,a)}return s}function Hft({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function YX(n,e){return n[e]||n.default||n}const Vft={skipAnimations:!1},KX=(n,e,t,r={})=>i=>{const s=YX(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-l0(o);const l=Gft(e,n,t,s),c=l[0],u=l[l.length-1],f=NH(n,c),d=NH(n,u);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Hft(s)||(p={...p,...Lft(n,p)}),p.duration&&(p.duration=l0(p.duration)),p.repeatDelay&&(p.repeatDelay=l0(p.repeatDelay)),!f||!d||Hut.current||s.type===!1||Vft.skipAnimations)return Pft(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=Rft(e,n,p);if(m)return m}return wL(p)};function SL(n){return!!(zi(n)&&n.add)}const TSe=n=>/^\-?\d*\.?\d+$/.test(n);function qX(n,e){n.indexOf(e)===-1&&n.push(e)}function QF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class QX{constructor(){this.subscriptions=[]}add(e){return qX(this.subscriptions,e),()=>QF(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jft=n=>!isNaN(parseFloat(n));class Wft{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=ea;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Dr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Dr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=jft(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new QX);const r=this.events[e].add(t);return e==="change"?()=>{r(),Dr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?SSe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ox(n,e){return new Wft(n,e)}const RSe=n=>e=>e.test(n),$ft={test:n=>n==="auto",parse:n=>n},PSe=[Dx,sn,qd,ug,aut,out,$ft],E2=n=>PSe.find(RSe(n)),Xft=[...PSe,Da,U0],Jft=n=>Xft.find(RSe(n));function Yft(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ox(t))}function Kft(n,e){const t=qF(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=xut(s[o]);Yft(n,o,a)}}function BSe(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(TSe(u)||CSe(u))?u=parseFloat(u):!Jft(u)&&U0.test(c)&&(u=ESe(l,c)),n.addValue(l,ox(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function qft(n,e){return e?(e[n]||e.default||e).from:void 0}function Qft(n,e,t){const r={};for(const i in n){const s=qft(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function Zft({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function edt(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function ZX(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const d=n.getValue(f),p=a[f];if(!d||p===void 0||u&&Zft(u,f))continue;const m={delay:t,elapsed:0,...YX(s||{},f)};if(window.HandoffAppearAnimations){const x=n.getProps()[Cwe];if(x){const _=window.HandoffAppearAnimations(x,f,d,Dr);_!==null&&(m.elapsed=_,m.isHandoff=!0)}}let g=!m.isHandoff&&!edt(d,p);if(m.type==="spring"&&(d.getVelocity()||m.velocity)&&(g=!1),d.animation&&(g=!1),g)continue;d.start(KX(f,d,p,n.shouldReduceMotion&&Bx.has(f)?{type:!1}:m));const y=d.animation;SL(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return o&&Promise.all(c).then(()=>{o&&Kft(n,o)}),c}function zH(n,e,t={}){const r=qF(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(ZX(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return tdt(n,e,c+l,u,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function tdt(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(ndt).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(zH(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function ndt(n,e){return n.sortNodePosition(e)}function rdt(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>zH(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=zH(n,e,t);else{const i=typeof e=="function"?qF(n,e,t.custom):e;r=Promise.all(ZX(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const idt=[...DX].reverse(),sdt=DX.length;function odt(n){return e=>Promise.all(e.map(({animation:t,options:r})=>rdt(n,t,r)))}function adt(n){let e=odt(n);const t=cdt();let r=!0;const i=(l,c)=>{const u=qF(n,c);if(u){const{transition:f,transitionEnd:d,...p}=u;l={...l,...p,...d}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),f=n.getVariantContext(!0)||{},d=[],p=new Set;let m={},g=1/0;for(let x=0;x<sdt;x++){const _=idt[x],b=t[_],w=u[_]!==void 0?u[_]:f[_],M=DT(w),C=_===c?b.isActive:null;C===!1&&(g=x);let R=w===f[_]&&w!==u[_]&&M;if(R&&r&&n.manuallyAnimateOnMount&&(R=!1),b.protectedKeys={...m},!b.isActive&&C===null||!w&&!b.prevProp||XF(w)||typeof w=="boolean")continue;let B=ldt(b.prevProp,w)||_===c&&b.isActive&&!R&&M||x>g&&M,D=!1;const N=Array.isArray(w)?w:[w];let z=N.reduce(i,{});C===!1&&(z={});const{prevResolvedValues:H={}}=b,U={...H,...z},W=X=>{B=!0,p.has(X)&&(D=!0,p.delete(X)),b.needsAnimating[X]=!0};for(const X in U){const q=z[X],L=H[X];if(m.hasOwnProperty(X))continue;let I=!1;yL(q)&&yL(L)?I=!qwe(q,L):I=q!==L,I?q!==void 0?W(X):p.add(X):q!==void 0&&p.has(X)?W(X):b.protectedKeys[X]=!0}b.prevProp=w,b.prevResolvedValues=z,b.isActive&&(m={...m,...z}),r&&n.blockInitialAnimation&&(B=!1),B&&(!R||D)&&d.push(...N.map(X=>({animation:X,options:{type:_,...l}})))}if(p.size){const x={};p.forEach(_=>{const b=n.getBaseTarget(_);b!==void 0&&(x[_]=b)}),d.push({animation:x})}let y=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function a(l,c,u){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const d=o(u,l);for(const p in t)t[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function ldt(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!qwe(e,n):!1}function fy(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cdt(){return{animate:fy(!0),whileInView:fy(),whileHover:fy(),whileTap:fy(),whileDrag:fy(),whileFocus:fy(),exit:fy()}}class udt extends lv{constructor(e){super(e),e.animationState||(e.animationState=adt(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),XF(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let fdt=0;class ddt extends lv{constructor(){super(...arguments),this.id=fdt++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const DSe={animation:{Feature:udt},exit:{Feature:ddt}},voe=(n,e)=>Math.abs(n-e);function hdt(n,e){const t=voe(n.x,e.x),r=voe(n.y,e.y);return Math.sqrt(t**2+r**2)}class kSe{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=wz(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=hdt(f.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:m}=f,{timestamp:g}=ea;this.history.push({...m,timestamp:g});const{onStart:y,onMove:x}=this.handlers;d||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=bz(d,this.transformPagePoint),Dr.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=wz(f.type==="pointercancel"?this.lastMoveEventInfo:bz(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),m&&m(f,y)},!$we(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=KF(e),a=bz(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ea;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,wz(a,this.history)),this.removeListeners=Lp(zf(this.contextWindow,"pointermove",this.handlePointerMove),zf(this.contextWindow,"pointerup",this.handlePointerUp),zf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lh(this.updatePoint)}}function bz(n,e){return e?{point:e(n.point)}:n}function yoe(n,e){return{x:n.x-e.x,y:n.y-e.y}}function wz({point:n},e){return{point:n,delta:yoe(n,ISe(e)),offset:yoe(n,pdt(e)),velocity:mdt(e,.1)}}function pdt(n){return n[0]}function ISe(n){return n[n.length-1]}function mdt(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=ISe(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>l0(e)));)t--;if(!r)return{x:0,y:0};const s=Qd(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Mc(n){return n.max-n.min}function GH(n,e=0,t=.01){return Math.abs(n-e)<=t}function xoe(n,e,t,r=.5){n.origin=r,n.originPoint=ci(e.min,e.max,n.origin),n.scale=Mc(t)/Mc(e),(GH(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=ci(t.min,t.max,n.origin)-n.originPoint,(GH(n.translate)||isNaN(n.translate))&&(n.translate=0)}function QE(n,e,t,r){xoe(n.x,e.x,t.x,r?r.originX:void 0),xoe(n.y,e.y,t.y,r?r.originY:void 0)}function _oe(n,e,t){n.min=t.min+e.min,n.max=n.min+Mc(e)}function gdt(n,e,t){_oe(n.x,e.x,t.x),_oe(n.y,e.y,t.y)}function boe(n,e,t){n.min=e.min-t.min,n.max=n.min+Mc(e)}function ZE(n,e,t){boe(n.x,e.x,t.x),boe(n.y,e.y,t.y)}function vdt(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ci(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ci(t,n,r.max):Math.min(n,t)),n}function woe(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function ydt(n,{top:e,left:t,bottom:r,right:i}){return{x:woe(n.x,t,i),y:woe(n.y,e,r)}}function Soe(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function xdt(n,e){return{x:Soe(n.x,e.x),y:Soe(n.y,e.y)}}function _dt(n,e){let t=.5;const r=Mc(n),i=Mc(e);return i>r?t=IS(e.min,e.max-r,n.min):r>i&&(t=IS(n.min,n.max-i,e.min)),N0(0,1,t)}function bdt(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const HH=.35;function wdt(n=HH){return n===!1?n=0:n===!0&&(n=HH),{x:Aoe(n,"left","right"),y:Aoe(n,"top","bottom")}}function Aoe(n,e,t){return{min:Moe(n,e),max:Moe(n,t)}}function Moe(n,e){return typeof n=="number"?n:n[e]||0}const Eoe=()=>({translate:0,scale:1,origin:0,originPoint:0}),pw=()=>({x:Eoe(),y:Eoe()}),Coe=()=>({min:0,max:0}),Ki=()=>({x:Coe(),y:Coe()});function lu(n){return[n("x"),n("y")]}function LSe({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Sdt({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Adt(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Sz(n){return n===void 0||n===1}function VH({scale:n,scaleX:e,scaleY:t}){return!Sz(n)||!Sz(e)||!Sz(t)}function Ay(n){return VH(n)||OSe(n)||n.z||n.rotate||n.rotateX||n.rotateY}function OSe(n){return Toe(n.x)||Toe(n.y)}function Toe(n){return n&&n!=="0%"}function AL(n,e,t){const r=n-t,i=e*r;return t+i}function Roe(n,e,t,r,i){return i!==void 0&&(n=AL(n,i,r)),AL(n,t,r)+e}function jH(n,e=0,t=1,r,i){n.min=Roe(n.min,e,t,r,i),n.max=Roe(n.max,e,t,r,i)}function FSe(n,{x:e,y:t}){jH(n.x,e.translate,e.scale,e.originPoint),jH(n.y,t.translate,t.scale,t.originPoint)}function Mdt(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&mw(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,FSe(n,o)),r&&Ay(s.latestValues)&&mw(n,s.latestValues))}e.x=Poe(e.x),e.y=Poe(e.y)}function Poe(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function xg(n,e){n.min=n.min+e,n.max=n.max+e}function Boe(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=ci(n.min,n.max,s);jH(n,e[t],e[r],o,e.scale)}const Edt=["x","scaleX","originX"],Cdt=["y","scaleY","originY"];function mw(n,e){Boe(n.x,e,Edt),Boe(n.y,e,Cdt)}function NSe(n,e){return LSe(Adt(n.getBoundingClientRect(),e))}function Tdt(n,e,t){const r=NSe(n,t),{scroll:i}=e;return i&&(xg(r.x,i.offset.x),xg(r.y,i.offset.y)),r}const USe=({current:n})=>n?n.ownerDocument.defaultView:null,Rdt=new WeakMap;class Pdt{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ki(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(KF(u,"page").point)},s=(u,f)=>{const{drag:d,dragPropagation:p,onDragStart:m}=this.getProps();if(d&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ywe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lu(y=>{let x=this.getAxisMotionValue(y).get()||0;if(qd.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const b=_.layout.layoutBox[y];b&&(x=Mc(b)*(parseFloat(x)/100))}}this.originPoint[y]=x}),m&&Dr.update(()=>m(u,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=Bdt(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(u,f)},a=(u,f)=>this.stop(u,f),l=()=>lu(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new kSe(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:USe(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Dr.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!dD(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=vdt(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&dw(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=ydt(i.layoutBox,t):this.constraints=!1,this.elastic=wdt(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&lu(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=bdt(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!dw(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Tdt(r,i.root,this.visualElement.getTransformPagePoint());let o=xdt(i.layout.layoutBox,s);if(t){const a=t(Sdt(o));this.hasMutatedConstraints=!!a,a&&(o=LSe(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=lu(u=>{if(!dD(u,t,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(KX(e,r,0,t))}stopAnimation(){lu(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){lu(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){lu(t=>{const{drag:r}=this.getProps();if(!dD(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-ci(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!dw(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};lu(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=_dt({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),lu(o=>{if(!dD(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ci(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Rdt.set(this.visualElement,this);const e=this.visualElement.current,t=zf(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();dw(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Ap(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(lu(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=HH,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function dD(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Bdt(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Ddt extends lv{constructor(e){super(e),this.removeGroupControls=ls,this.removeListeners=ls,this.controls=new Pdt(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ls}unmount(){this.removeGroupControls(),this.removeListeners()}}const Doe=n=>(e,t)=>{n&&Dr.update(()=>n(e,t))};class kdt extends lv{constructor(){super(...arguments),this.removePointerDownListener=ls}onPointerDown(e){this.session=new kSe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:USe(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Doe(e),onStart:Doe(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Dr.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=zf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Idt(){const n=Y.useContext(PX);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=Y.useId();return Y.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const Ak={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function koe(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const C2={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(sn.test(n))n=parseFloat(n);else return n;const t=koe(n,e.target.x),r=koe(n,e.target.y);return`${t}% ${r}%`}},Ldt={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=U0.parse(n);if(i.length>5)return r;const s=U0.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ci(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class Odt extends De.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Zct(Fdt),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ak.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Dr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zSe(n){const[e,t]=Idt(),r=Y.useContext(Rwe);return De.createElement(Odt,{...n,layoutGroup:r,switchLayoutGroup:Y.useContext(Pwe),isPresent:e,safeToRemove:t})}const Fdt={borderRadius:{...C2,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:C2,borderTopRightRadius:C2,borderBottomLeftRadius:C2,borderBottomRightRadius:C2,boxShadow:Ldt},GSe=["TopLeft","TopRight","BottomLeft","BottomRight"],Ndt=GSe.length,Ioe=n=>typeof n=="string"?parseFloat(n):n,Loe=n=>typeof n=="number"||sn.test(n);function Udt(n,e,t,r,i,s){i?(n.opacity=ci(0,t.opacity!==void 0?t.opacity:1,zdt(r)),n.opacityExit=ci(e.opacity!==void 0?e.opacity:1,0,Gdt(r))):s&&(n.opacity=ci(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<Ndt;o++){const a=`border${GSe[o]}Radius`;let l=Ooe(e,a),c=Ooe(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Loe(l)===Loe(c)?(n[a]=Math.max(ci(Ioe(l),Ioe(c),r),0),(qd.test(c)||qd.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=ci(e.rotate||0,t.rotate||0,r))}function Ooe(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const zdt=HSe(0,.5,aSe),Gdt=HSe(.5,.95,ls);function HSe(n,e,t){return r=>r<n?0:r>e?1:t(IS(n,e,r))}function Foe(n,e){n.min=e.min,n.max=e.max}function ru(n,e){Foe(n.x,e.x),Foe(n.y,e.y)}function Noe(n,e,t,r,i){return n-=e,n=AL(n,1/t,r),i!==void 0&&(n=AL(n,1/i,r)),n}function Hdt(n,e=0,t=1,r=.5,i,s=n,o=n){if(qd.test(e)&&(e=parseFloat(e),e=ci(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ci(s.min,s.max,r);n===s&&(a-=e),n.min=Noe(n.min,e,t,a,i),n.max=Noe(n.max,e,t,a,i)}function Uoe(n,e,[t,r,i],s,o){Hdt(n,e[t],e[r],e[i],e.scale,s,o)}const Vdt=["x","scaleX","originX"],jdt=["y","scaleY","originY"];function zoe(n,e,t,r){Uoe(n.x,e,Vdt,t?t.x:void 0,r?r.x:void 0),Uoe(n.y,e,jdt,t?t.y:void 0,r?r.y:void 0)}function Goe(n){return n.translate===0&&n.scale===1}function VSe(n){return Goe(n.x)&&Goe(n.y)}function Wdt(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function jSe(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function Hoe(n){return Mc(n.x)/Mc(n.y)}class $dt{constructor(){this.members=[]}add(e){qX(this.members,e),e.scheduleRender()}remove(e){if(QF(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Voe(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Xdt=(n,e)=>n.depth-e.depth;class Jdt{constructor(){this.children=[],this.isDirty=!1}add(e){qX(this.children,e),this.isDirty=!0}remove(e){QF(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xdt),this.isDirty=!1,this.children.forEach(e)}}function Ydt(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(lh(r),n(s-e))};return Dr.read(r,!0),()=>lh(r)}function Kdt(n){window.MotionDebug&&window.MotionDebug.record(n)}function WSe(n){return n instanceof SVGElement&&n.tagName!=="svg"}function eJ(n,e,t){const r=zi(n)?n:ox(n);return r.start(KX("",r,e,t)),r.animation}const joe=["","X","Y","Z"],qdt={visibility:"hidden"},Woe=1e3;let Qdt=0;const My={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function $Se({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Qdt++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,My.totalNodes=My.resolvedTargetDeltas=My.recalculatedProjection=0,this.nodes.forEach(tht),this.nodes.forEach(oht),this.nodes.forEach(aht),this.nodes.forEach(nht),Kdt(My)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jdt)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new QX),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=WSe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const d=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Ydt(d,250),Ak.hasAnimatedSinceResize&&(Ak.hasAnimatedSinceResize=!1,this.nodes.forEach(Xoe))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||dht,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=u.getProps(),_=!this.targetLayout||!jSe(this.targetLayout,m)||p,b=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const w={...YX(g,"layout"),onPlay:y,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else d||Xoe(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,lh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lht),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($oe);return}this.isUpdating||this.nodes.forEach(iht),this.isUpdating=!1,this.nodes.forEach(sht),this.nodes.forEach(Zdt),this.nodes.forEach(eht),this.clearAllSnapshots();const a=performance.now();ea.delta=N0(0,1e3/60,a-ea.timestamp),ea.timestamp=a,ea.isProcessing=!0,hz.update.process(ea),hz.preRender.process(ea),hz.render.process(ea),ea.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(rht),this.sharedNodes.forEach(cht)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ki(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!VSe(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Ay(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),hht(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ki();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(xg(a.x,l.offset.x),xg(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ki();ru(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){ru(a,o);const{scroll:d}=this.root;d&&(xg(a.x,-d.offset.x),xg(a.y,-d.offset.y))}xg(a.x,u.offset.x),xg(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Ki();ru(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&mw(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ay(u.latestValues)&&mw(l,u.latestValues)}return Ay(this.latestValues)&&mw(l,this.latestValues),l}removeTransform(o){const a=Ki();ru(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ay(c.latestValues))continue;VH(c.latestValues)&&c.updateSnapshot();const u=Ki(),f=c.measurePageBox();ru(u,f),zoe(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ay(this.latestValues)&&zoe(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ea.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=ea.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ki(),this.relativeTargetOrigin=Ki(),ZE(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ru(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ki(),this.targetWithTransforms=Ki()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gdt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ru(this.target,this.layout.layoutBox),FSe(this.target,this.targetDelta)):ru(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ki(),this.relativeTargetOrigin=Ki(),ZE(this.relativeTargetOrigin,this.target,p.target),ru(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}My.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||VH(this.parent.latestValues)||OSe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ea.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ru(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;Mdt(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=pw(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=pw(),this.projectionDeltaWithTransform=pw());const g=this.projectionTransform;QE(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=Voe(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==d||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),My.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=pw();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Ki(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,y=this.getStack(),x=!y||y.members.length<=1,_=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(fht));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const M=w/1e3;Joe(f.x,o.x,M),Joe(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ZE(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uht(this.relativeTarget,this.relativeTargetOrigin,d,M),b&&Wdt(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ki()),ru(b,this.relativeTarget)),g&&(this.animationValues=u,Udt(u,c,this.latestValues,M,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(lh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dr.update(()=>{Ak.hasAnimatedSinceResize=!0,this.currentAnimation=eJ(0,Woe,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Woe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&XSe(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ki();const f=Mc(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=Mc(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}ru(a,l),mw(a,u),QE(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $dt),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<joe.length;u++){const f="rotate"+joe[u];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qdt;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=qE(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=qE(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ay(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=Voe(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in gL){if(d[g]===void 0)continue;const{correct:y,applyTo:x}=gL[g],_=c.transform==="none"?d[g]:y(d[g],f);if(x){const b=x.length;for(let w=0;w<b;w++)c[x[w]]=_}else c[g]=_}return this.options.layoutId&&(c.pointerEvents=f===this?qE(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach($oe),this.root.sharedNodes.clear()}}}function Zdt(n){n.updateLayout()}function eht(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?lu(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],p=Mc(d);d.min=r[f].min,d.max=d.min+p}):XSe(s,t.layoutBox,r)&&lu(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],p=Mc(r[f]);d.max=d.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+p)});const a=pw();QE(a,r,t.layoutBox);const l=pw();o?QE(l,n.applyTransform(i,!0),t.measuredBox):QE(l,r,t.layoutBox);const c=!VSe(a);let u=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const m=Ki();ZE(m,t.layoutBox,d.layoutBox);const g=Ki();ZE(g,r,p.layoutBox),jSe(m,g)||(u=!0),f.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=m,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function tht(n){My.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function nht(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function rht(n){n.clearSnapshot()}function $oe(n){n.clearMeasurements()}function iht(n){n.isLayoutDirty=!1}function sht(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Xoe(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function oht(n){n.resolveTargetDelta()}function aht(n){n.calcProjection()}function lht(n){n.resetRotation()}function cht(n){n.removeLeadSnapshot()}function Joe(n,e,t){n.translate=ci(e.translate,0,t),n.scale=ci(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Yoe(n,e,t,r){n.min=ci(e.min,t.min,r),n.max=ci(e.max,t.max,r)}function uht(n,e,t,r){Yoe(n.x,e.x,t.x,r),Yoe(n.y,e.y,t.y,r)}function fht(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const dht={duration:.45,ease:[.4,0,.1,1]},Koe=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),qoe=Koe("applewebkit/")&&!Koe("chrome/")?Math.round:ls;function Qoe(n){n.min=qoe(n.min),n.max=qoe(n.max)}function hht(n){Qoe(n.x),Qoe(n.y)}function XSe(n,e,t){return n==="position"||n==="preserve-aspect"&&!GH(Hoe(e),Hoe(t),.2)}const pht=$Se({attachResizeListener:(n,e)=>Ap(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Az={current:void 0},JSe=$Se({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Az.current){const n=new pht({});n.mount(window),n.setOptions({layoutScroll:!0}),Az.current=n}return Az.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),mht={pan:{Feature:kdt},drag:{Feature:Ddt,ProjectionNode:JSe,MeasureLayout:zSe}},ght=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function vht(n){const e=ght.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function WH(n,e,t=1){const[r,i]=vht(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return TSe(o)?parseFloat(o):o}else return DH(i)?WH(i,e,t+1):i}function yht(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!DH(s))return;const o=WH(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!DH(s))continue;const o=WH(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const xht=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),YSe=n=>xht.has(n),_ht=n=>Object.keys(n).some(YSe),Zoe=n=>n===Dx||n===sn,eae=(n,e)=>parseFloat(n.split(", ")[e]),tae=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return eae(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?eae(s[1],n):0}},bht=new Set(["x","y","z"]),wht=tR.filter(n=>!bht.has(n));function Sht(n){const e=[];return wht.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const LS={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:tae(4,13),y:tae(5,14)};LS.translateX=LS.x;LS.translateY=LS.y;const Aht=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=LS[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=LS[c](l,s)}),n},Mht=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(YSe);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],f=E2(u);const d=e[l];let p;if(yL(d)){const m=d.length,g=d[0]===null?1:0;u=d[g],f=E2(u);for(let y=g;y<m&&d[y]!==null;y++)p?xL(E2(d[y])===p):p=E2(d[y])}else p=E2(d);if(f!==p)if(Zoe(f)&&Zoe(p)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&p===sn&&(e[l]=d.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(u===0||d===0)?u===0?c.set(p.transform(u)):e[l]=f.transform(d):(o||(s=Sht(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Aht(e,n,a);return s.length&&s.forEach(([u,f])=>{n.getValue(u).set(f)}),n.render(),$F&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Eht(n,e,t,r){return _ht(e)?Mht(n,e,t,r):{target:e,transitionEnd:r}}const Cht=(n,e,t,r)=>{const i=yht(n,e,r);return e=i.target,r=i.transitionEnd,Eht(n,e,t,r)},$H={current:null},KSe={current:!1};function Tht(){if(KSe.current=!0,!!$F)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>$H.current=n.matches;n.addListener(e),e()}else $H.current=!1}function Rht(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(zi(s))n.addValue(i,s),SL(r)&&r.add(i);else if(zi(o))n.addValue(i,ox(s,{owner:n})),SL(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,ox(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const IT=new WeakMap,qSe=Object.keys(kT),Pht=qSe.length,nae=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Bht=kX.length;class QSe{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Dr.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=JF(t),this.isVariantNode=Twe(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const f in u){const d=u[f];a[f]!==void 0&&zi(d)&&(d.set(a[f],!1),SL(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,IT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),KSe.current||Tht(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$H.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){IT.delete(this.current),this.projection&&this.projection.unmount(),lh(this.notifyUpdate),lh(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=Bx.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Dr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<Pht;l++){const c=qSe[l],{isEnabled:u,Feature:f,ProjectionNode:d,MeasureLayout:p}=kT[c];d&&(o=d),u(t)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:p}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&dw(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ki()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<nae.length;r++){const i=nae[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Rht(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<Bht;r++){const i=kX[r],s=this.props[i];(DT(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ox(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=zX(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!zi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new QX),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class ZSe extends QSe{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Qft(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){BSe(this,r,o);const a=Cht(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function Dht(n){return window.getComputedStyle(n)}class eAe extends ZSe{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Bx.has(t)){const r=JX(t);return r&&r.default||0}else{const r=Dht(e),i=(Iwe(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return NSe(e,t)}build(e,t,r,i){LX(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return UX(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){Hwe(e,t,r,i)}}class tAe extends ZSe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Bx.has(t)){const r=JX(t);return r&&r.default||0}return t=Vwe.has(t)?t:BX(t),e.getAttribute(t)}measureInstanceViewportBox(){return Ki()}scrapeMotionValuesFromProps(e,t){return Wwe(e,t)}build(e,t,r,i){FX(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){jwe(e,t,r,i)}mount(e){this.isSVGTag=NX(e.tagName),super.mount(e)}}const kht=(n,e)=>IX(n)?new tAe(e,{enableHardwareAcceleration:!1}):new eAe(e,{enableHardwareAcceleration:!0}),Iht={layout:{ProjectionNode:JSe,MeasureLayout:zSe}},Lht={...DSe,...Uut,...mht,...Iht},Mg=qct((n,e)=>Cut(n,e,Lht,kht));function Oht({children:n,isValidProp:e,...t}){e&&Uwe(e),t={...Y.useContext(BT),...t},t.isStatic=GX(()=>t.isStatic);const r=Y.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return Y.createElement(BT.Provider,{value:r},n)}function LT(n){const e=GX(()=>ox(n)),{isStatic:t}=Y.useContext(BT);if(t){const[,r]=Y.useState(n);Y.useEffect(()=>e.on("change",r),[])}return e}function nAe(n,e,t){var r;if(typeof n=="string"){let i=document;t?((r=t[n])!==null&&r!==void 0||(t[n]=i.querySelectorAll(n)),n=t[n]):n=i.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}function Fht(n,e){let t;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;t!==o&&n(o),t=o};return Dr.update(r,!0),()=>lh(r)}const Nht=MSe(()=>window.ScrollTimeline!==void 0);class rAe{constructor(e){this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e){const t=this.animations.map(r=>{if(Nht()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),Fht(i=>{r.time=r.duration*i},e)});return()=>{t.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Uht(n){return typeof n=="object"&&!Array.isArray(n)}function zht(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},t=WSe(n)?new tAe(e,{enableHardwareAcceleration:!1}):new eAe(e,{enableHardwareAcceleration:!0});t.mount(n),IT.set(n,t)}function Ght(n,e=100){const t=XX({keyframes:[0,e],...n}),r=Math.min(FH(t),OH);return{type:"keyframes",ease:i=>t.next(r*i).value/e,duration:Qd(r)}}function rae(n,e,t,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?t:(i=r.get(e))!==null&&i!==void 0?i:n}const Hht=(n,e,t)=>{const r=e-n;return((t-n)%r+r)%r+n};function Vht(n,e){return iSe(n)?n[Hht(0,n.length,e)]:n}function jht(n,e,t){for(let r=0;r<n.length;r++){const i=n[r];i.at>e&&i.at<t&&(QF(n,i),r--)}}function Wht(n,e,t,r,i,s){jht(n,i,s);for(let o=0;o<e.length;o++)n.push({value:e[o],at:ci(i,s,r[o]),easing:Vht(t,o)})}function $ht(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const Xht="easeInOut";function Jht(n,{defaultTransition:e={},...t}={},r){const i=e.duration||.3,s=new Map,o=new Map,a={},l=new Map;let c=0,u=0,f=0;for(let d=0;d<n.length;d++){const p=n[d];if(typeof p=="string"){l.set(p,u);continue}else if(!Array.isArray(p)){l.set(p.name,rae(u,p.at,c,l));continue}let[m,g,y={}]=p;y.at!==void 0&&(u=rae(u,y.at,c,l));let x=0;const _=(b,w,M,C=0,R=0)=>{const E=Yht(b),{delay:B=0,times:D=wSe(E),type:N="keyframes",...z}=w;let{ease:H=e.ease||"easeOut",duration:U}=w;const W=typeof B=="function"?B(C,R):B,X=E.length;if(X<=2&&N==="spring"){let O=100;if(X===2&&Qht(E)){const te=E[1]-E[0];O=Math.abs(te)}const F={...z};U!==void 0&&(F.duration=l0(U));const j=Ght(F,O);H=j.ease,U=j.duration}U??(U=i);const q=u+W,L=q+U;D.length===1&&D[0]===0&&(D[1]=1);const I=D.length-E.length;I>0&&bSe(D,I),E.length===1&&E.unshift(null),Wht(M,E,H,D,q,L),x=Math.max(W+U,x),f=Math.max(L,f)};if(zi(m)){const b=iae(m,o);_(g,y,sae("default",b))}else{const b=nAe(m,r,a),w=b.length;for(let M=0;M<w;M++){g=g,y=y;const C=b[M],R=iae(C,o);for(const E in g)_(g[E],Kht(y,E),sae(E,R),M,w)}}c=u,u+=x}return o.forEach((d,p)=>{for(const m in d){const g=d[m];g.sort($ht);const y=[],x=[],_=[];for(let w=0;w<g.length;w++){const{at:M,value:C,easing:R}=g[w];y.push(C),x.push(IS(0,f,M)),_.push(R||"easeOut")}x[0]!==0&&(x.unshift(0),y.unshift(y[0]),_.unshift(Xht)),x[x.length-1]!==1&&(x.push(1),y.push(null)),s.has(p)||s.set(p,{keyframes:{},transition:{}});const b=s.get(p);b.keyframes[m]=y,b.transition[m]={...e,duration:f,ease:_,times:x,...t}}}),s}function iae(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function sae(n,e){return e[n]||(e[n]=[]),e[n]}function Yht(n){return Array.isArray(n)?n:[n]}function Kht(n,e){return n[e]?{...n,...n[e]}:{...n}}const qht=n=>typeof n=="number",Qht=n=>n.every(qht);function iAe(n,e,t,r){const i=nAe(n),s=i.length,o=[];for(let a=0;a<s;a++){const l=i[a];IT.has(l)||zht(l);const c=IT.get(l),u={...t};typeof u.delay=="function"&&(u.delay=u.delay(a,s)),o.push(...ZX(c,{...e,transition:u},{}))}return new rAe(o)}const Zht=n=>Array.isArray(n)&&Array.isArray(n[0]);function ept(n,e,t){const r=[];return Jht(n,e,t).forEach(({keyframes:s,transition:o},a)=>{let l;zi(a)?l=eJ(a,s.default,o.default):l=iAe(a,s,o),r.push(l)}),new rAe(r)}const tpt=n=>{function e(t,r,i){let s;return Zht(t)?s=ept(t,r,n):Uht(r)?s=iAe(t,r,i):s=eJ(t,r,i),s}return e},OT=tpt();function npt(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function sAe(...n){return e=>n.forEach(t=>npt(t,e))}function kx(...n){return Y.useCallback(sAe(...n),n)}var oAe=Y.forwardRef((n,e)=>{const{children:t,...r}=n,i=Y.Children.toArray(t),s=i.find(rpt);if(s){const o=s.props.children,a=i.map(l=>l===s?Y.Children.count(o)>1?Y.Children.only(null):Y.isValidElement(o)?o.props.children:null:l);return Ne.jsx(XH,{...r,ref:e,children:Y.isValidElement(o)?Y.cloneElement(o,void 0,a):null})}return Ne.jsx(XH,{...r,ref:e,children:t})});oAe.displayName="Slot";var XH=Y.forwardRef((n,e)=>{const{children:t,...r}=n;if(Y.isValidElement(t)){const i=spt(t);return Y.cloneElement(t,{...ipt(r,t.props),ref:e?sAe(e,i):i})}return Y.Children.count(t)>1?Y.Children.only(null):null});XH.displayName="SlotClone";var aAe=({children:n})=>Ne.jsx(Ne.Fragment,{children:n});function rpt(n){return Y.isValidElement(n)&&n.type===aAe}function ipt(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function spt(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var opt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cv=opt.reduce((n,e)=>{const t=Y.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?oAe:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Ne.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function apt(n,e){n&&R3.flushSync(()=>n.dispatchEvent(e))}var ax=globalThis!=null&&globalThis.document?Y.useLayoutEffect:()=>{},lpt="Portal",lAe=Y.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=Y.useState(!1);ax(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?wxe.createPortal(Ne.jsx(cv.div,{...r,ref:e}),o):null});lAe.displayName=lpt;var cpt=lAe,oae=Object.prototype.hasOwnProperty;function FT(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&FT(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(oae.call(n,t)&&++r&&!oae.call(e,t)||!(t in e)||!FT(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}var ZF=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};ZF.prototype._test=function(e){var t=this.fn;try{Hw(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Hw(this.modifiers.slice(),t,this)(e)}catch{return!1}};ZF.prototype._check=function(e){try{Hw(this.modifiers.slice(),this.fn,this)(e)}catch{if(Hw(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Hw(this.modifiers.slice(),this.fn,this)(e))throw null};ZF.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){uAe(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function cAe(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Hw(n,e,t){if(n.length){var r=n.shift(),i=Hw(n,e,t);return r.perform(i,t)}else return cAe(e)}function uAe(n,e,t){if(n.length){var r=n.shift(),i=uAe(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(cAe(e,"async")(s))}}var upt=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},tJ=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),ch=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};ch.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new ZF(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};ch.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new upt(t,e.simple,e.async)),this};ch.prototype._clone=function(){return new ch(this.chain.slice(),this.nextRuleModifiers.slice())};ch.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};ch.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new tJ(r,e,i))}}),t};ch.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new tJ(t,e,r)}})};ch.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){fAe(e,t.chain.slice(),r,i)})};function fAe(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){fAe(n,e,t,r)},function(s){r(new tJ(i,n,s))})}else t(n)}var aae=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function fpt(n,e){return e===void 0&&(e=!1),{simple:function(t){return aae(t,e)||n.check(t)===void 0},async:function(t){return aae(t,e)||n.testAsync(t)}}}function gl(){return typeof Proxy<"u"?dAe(new ch):JH(new ch)}var NT={};gl.extend=function(n){Object.assign(NT,n)};gl.clearCustomRules=function(){NT={}};function dAe(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=dAe(n._clone());if(r in ML)return i._applyModifier(ML[r],r);if(r in NT)return i._applyRule(NT[r],r);if(r in YH)return i._applyRule(YH[r],r)}})}function JH(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=JH(s._clone()),u=c._applyRule(i[o],o).apply(void 0,a);return u}}),s},t=e(YH,n),r=e(NT,t);return Object.keys(ML).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=JH(r._clone());return s._applyModifier(ML[i],i)}})}),r}var ML={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return hD(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(hD(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&hD(e).every(n)}},async:function(n){return function(e){return Promise.all(hD(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return lae(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return lae(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function lae(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function hD(n){return typeof n=="string"?n.split(""):n}var YH={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||dpt;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return vb("string")},boolean:function(){return vb("boolean")},undefined:function(){return vb("undefined")},null:function(){return vb("null")},array:function(){return vb("array")},object:function(){return vb("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return hpt(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:fpt};function vb(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function dpt(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function hpt(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var ur="colors",Ta="sizes",Wt="space",ppt={gap:Wt,gridGap:Wt,columnGap:Wt,gridColumnGap:Wt,rowGap:Wt,gridRowGap:Wt,inset:Wt,insetBlock:Wt,insetBlockEnd:Wt,insetBlockStart:Wt,insetInline:Wt,insetInlineEnd:Wt,insetInlineStart:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,marginBlock:Wt,marginBlockEnd:Wt,marginBlockStart:Wt,marginInline:Wt,marginInlineEnd:Wt,marginInlineStart:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,paddingBlock:Wt,paddingBlockEnd:Wt,paddingBlockStart:Wt,paddingInline:Wt,paddingInlineEnd:Wt,paddingInlineStart:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,scrollMargin:Wt,scrollMarginTop:Wt,scrollMarginRight:Wt,scrollMarginBottom:Wt,scrollMarginLeft:Wt,scrollMarginX:Wt,scrollMarginY:Wt,scrollMarginBlock:Wt,scrollMarginBlockEnd:Wt,scrollMarginBlockStart:Wt,scrollMarginInline:Wt,scrollMarginInlineEnd:Wt,scrollMarginInlineStart:Wt,scrollPadding:Wt,scrollPaddingTop:Wt,scrollPaddingRight:Wt,scrollPaddingBottom:Wt,scrollPaddingLeft:Wt,scrollPaddingX:Wt,scrollPaddingY:Wt,scrollPaddingBlock:Wt,scrollPaddingBlockEnd:Wt,scrollPaddingBlockStart:Wt,scrollPaddingInline:Wt,scrollPaddingInlineEnd:Wt,scrollPaddingInlineStart:Wt,fontSize:"fontSizes",background:ur,backgroundColor:ur,backgroundImage:ur,borderImage:ur,border:ur,borderBlock:ur,borderBlockEnd:ur,borderBlockStart:ur,borderBottom:ur,borderBottomColor:ur,borderColor:ur,borderInline:ur,borderInlineEnd:ur,borderInlineStart:ur,borderLeft:ur,borderLeftColor:ur,borderRight:ur,borderRightColor:ur,borderTop:ur,borderTopColor:ur,caretColor:ur,color:ur,columnRuleColor:ur,fill:ur,outline:ur,outlineColor:ur,stroke:ur,textDecorationColor:ur,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Ta,minBlockSize:Ta,maxBlockSize:Ta,inlineSize:Ta,minInlineSize:Ta,maxInlineSize:Ta,width:Ta,minWidth:Ta,maxWidth:Ta,height:Ta,minHeight:Ta,maxHeight:Ta,flexBasis:Ta,gridTemplateColumns:Ta,gridTemplateRows:Ta,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},mpt=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,_A=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,mpt))(e);return i in n?n[i]:n[i]=t(e,...r)}},T1=Symbol.for("sxs.internal"),nJ=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),cae=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:gpt}=Object.prototype,KH=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),vpt=/\s+(?![^()]*\))/,yb=n=>e=>n(...typeof e=="string"?String(e).split(vpt):[e]),uae={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:yb((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:yb((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:yb((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:yb((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:yb((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:yb((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},Mz=/([\d.]+)([^]*)/,ypt=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,xpt=(n,e)=>n in _pt&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${KH(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${KH(n)}:${r}fit-content`)+s):String(e),_pt={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},nm=n=>n?n+"-":"",hAe=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?nm(e)+(a.includes("$")?"":nm(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),bpt=/\s*,\s*(?![^()]*\))/,wpt=Object.prototype.toString,gw=(n,e,t,r,i)=>{let s,o,a;const l=(c,u,f)=>{let d,p;const m=g=>{for(d in g){const _=d.charCodeAt(0)===64,b=_&&Array.isArray(g[d])?g[d]:[g[d]];for(p of b){const w=/[A-Z]/.test(x=d)?x:x.replace(/-[^]/g,C=>C[1].toUpperCase()),M=typeof p=="object"&&p&&p.toString===wpt&&(!r.utils[w]||!u.length);if(w in r.utils&&!M){const C=r.utils[w];if(C!==o){o=C,m(C(p)),o=null;continue}}else if(w in uae){const C=uae[w];if(C!==a){a=C,m(C(p)),a=null;continue}}if(_&&(y=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(C,R,E,B,D,N)=>{const z=Mz.test(R),H=.0625*(z?-1:1),[U,W]=z?[B,R]:[R,B];return"("+(E[0]==="="?"":E[0]===">"===z?"max-":"min-")+U+":"+(E[0]!=="="&&E.length===1?W.replace(Mz,(X,q,L)=>Number(q)+H*(E===">"?1:-1)+L):W)+(D?") and ("+(D[0]===">"?"min-":"max-")+U+":"+(D.length===1?N.replace(Mz,(X,q,L)=>Number(q)+H*(D===">"?-1:1)+L):N):"")+")"})),M){const C=_?f.concat(d):[...f],R=_?[...u]:ypt(u,d.split(bpt));s!==void 0&&i(fae(...s)),s=void 0,l(p,R,C)}else s===void 0&&(s=[[],u,f]),d=_||d.charCodeAt(0)!==36?d:`--${nm(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,p=M?p:typeof p=="number"?p&&w in Spt?String(p)+"px":String(p):hAe(xpt(w,p??""),r.prefix,r.themeMap[w]),s[0].push(`${_?`${d} `:`${KH(d)}:`}${p}`)}}var y,x};m(c),s!==void 0&&i(fae(...s)),s=void 0};l(n,e,t)},fae=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,Spt={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},dae=n=>String.fromCharCode(n+(n>25?39:97)),R1=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=dae(t%52)+r;return dae(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),Y2=["themed","global","styled","onevar","resonevar","allvar","inline"],Apt=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},Mpt=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(Apt(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const f=Object(c[l+1]);if(f.type!==4)continue;++l;const{cssText:d}=u;if(!d.startsWith("--sxs"))continue;const p=d.slice(14,-3).trim().split(/\s+/),m=Y2[p[0]];m&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[m]={group:f,index:l,cache:new Set(p)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,f){this.cssRules.splice(f,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=Y2.length-1;a>=0;--a){const l=Y2[a];if(!o[l]){const c=Y2[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}Ept(o[l])}};return r(),e},Ept=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},T2=Symbol(),Cpt=_A(),hae=(n,e)=>Cpt(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[T1]){r.type==null&&(r.type=i[T1].type);for(const s of i[T1].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(Tpt(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Rpt(n,r,e)}),Tpt=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${nm(i.prefix)}c-${R1(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const d in t)l[d]=String(t[d]);if(typeof n=="object"&&n)for(const d in n){u=l,f=d,gpt.call(u,f)||(l[d]="undefined");const p=n[d];for(const m in p){const g={[d]:String(m)};String(m)==="undefined"&&c.push(d);const y=p[m],x=[g,y,!cae(y)];o.push(x)}}var u,f;if(typeof e=="object"&&e)for(const d of e){let{css:p,...m}=d;p=typeof p=="object"&&p||{};for(const y in m)m[y]=String(m[y]);const g=[m,p,!cae(p)];a.push(g)}return[s,r,o,a,l,c]},Rpt=(n,e,t)=>{const[r,i,s,o]=Ppt(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function d(){for(let p=0;p<d[T2].length;p++){const[m,g]=d[T2][p];f.rules[m].apply(g)}return d[T2]=[],null}return d[T2]=[],d.rules={},Y2.forEach(p=>d.rules[p]={apply:m=>d[T2].push([p,m])}),d})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=f=>{f=typeof f=="object"&&f||Bpt;const{css:d,...p}=f,m={};for(const x in s)if(delete p[x],x in f){let _=f[x];typeof _=="object"&&_?m[x]={"@initial":s[x],..._}:(_=String(_),m[x]=_!=="undefined"||o.has(x)?_:s[x])}else m[x]=s[x];const g=new Set([...i]);for(const[x,_,b,w]of e.composers){t.rules.styled.cache.has(x)||(t.rules.styled.cache.add(x),gw(_,[`.${x}`],[],n,R=>{l.styled.apply(R)}));const M=pae(b,m,n.media),C=pae(w,m,n.media,!0);for(const R of M)if(R!==void 0)for(const[E,B,D]of R){const N=`${x}-${R1(B)}-${E}`;g.add(N);const z=(D?t.rules.resonevar:t.rules.onevar).cache,H=D?l.resonevar:l.onevar;z.has(N)||(z.add(N),gw(B,[`.${N}`],[],n,U=>{H.apply(U)}))}for(const R of C)if(R!==void 0)for(const[E,B]of R){const D=`${x}-${R1(B)}-${E}`;g.add(D),t.rules.allvar.cache.has(D)||(t.rules.allvar.cache.add(D),gw(B,[`.${D}`],[],n,N=>{l.allvar.apply(N)}))}}if(typeof d=="object"&&d){const x=`${r}-i${R1(d)}-css`;g.add(x),t.rules.inline.cache.has(x)||(t.rules.inline.cache.add(x),gw(d,[`.${x}`],[],n,_=>{l.inline.apply(_)}))}for(const x of String(f.className||"").trim().split(/\s+/))x&&g.add(x);const y=p.className=[...g].join(" ");return{type:e.type,className:y,selector:c,props:p,toString:()=>y,deferredInjector:a}};return nJ(u,{className:r,selector:c,[T1]:e,toString:()=>(t.rules.styled.cache.has(r)||u(),r)})},Ppt=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},pae=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const f=s[l];let d=e[l];if(d!==f){if(typeof d!="object"||!d)continue e;{let p,m,g=0;for(const y in d){if(f===String(d[y])){if(y!=="@initial"){const x=y.slice(1);(m=m||[]).push(x in t?t[x]:y.replace(/^@media ?/,"")),u=!0}c+=g,p=!0}++g}if(m&&m.length&&(o={["@media "+m.join(", ")]:o}),!p)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},Bpt={},Dpt=_A(),kpt=(n,e)=>Dpt(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=R1(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}gw(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return nJ(r,{toString:r})}),Ipt=_A(),Lpt=(n,e)=>Ipt(n,()=>t=>{const r=`${nm(n.prefix)}k-${R1(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];gw(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return nJ(i,{get name(){return i()},toString:i})}),Opt=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+nm(this.prefix)+nm(this.scale)+this.token}toString(){return this.computedValue}},Fpt=_A(),Npt=(n,e)=>Fpt(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${nm(n.prefix)}t-${R1(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${nm(n.prefix)}${l}-${c}`,f=hAe(String(r[l][c]),n.prefix,l);s[l][c]=new Opt(c,f,l,n.prefix),o.push(`${u}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),Upt=_A(),zpt=_A(),Gpt=n=>{const e=(t=>{let r=!1;const i=Upt(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...ppt},utils:typeof s.utils=="object"&&s.utils||{}},f=Mpt(l),d={css:hae(u,f),globalCss:kpt(u,f),keyframes:Lpt(u,f),createTheme:Npt(u,f),reset(){f.reset(),d.theme.toString()},theme:{},sheet:f,config:u,prefix:o,getCssText:f.toString,toString:f.toString};return String(d.theme=d.createTheme(c)),d});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>zpt(t,()=>{const i=hae(t,r);return(...s)=>{const o=i(...s),a=o[T1].type,l=De.forwardRef((c,u)=>{const f=c&&c.as||a,{props:d,deferredInjector:p}=o(c);return delete d.as,d.ref=u,p?De.createElement(De.Fragment,null,De.createElement(f,d),De.createElement(p,null)):De.createElement(f,d)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[T1]=o[T1],l}}))(e),e};function cp(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function pAe(n,e=[]){let t=[];function r(s,o){const a=Y.createContext(o),l=t.length;t=[...t,o];function c(f){const{scope:d,children:p,...m}=f,g=(d==null?void 0:d[n][l])||a,y=Y.useMemo(()=>m,Object.values(m));return Ne.jsx(g.Provider,{value:y,children:p})}function u(f,d){const p=(d==null?void 0:d[n][l])||a,m=Y.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>Y.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return Y.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,Hpt(i,...e)]}function Hpt(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return Y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function bA(n){const e=Y.useRef(n);return Y.useEffect(()=>{e.current=n}),Y.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Vpt(n,e=globalThis==null?void 0:globalThis.document){const t=bA(n);Y.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var jpt="DismissableLayer",qH="dismissableLayer.update",Wpt="dismissableLayer.pointerDownOutside",$pt="dismissableLayer.focusOutside",mae,mAe=Y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gAe=Y.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=Y.useContext(mAe),[u,f]=Y.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=Y.useState({}),m=kx(e,R=>f(R)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),_=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=_>=x,M=Ypt(R=>{const E=R.target,B=[...c.branches].some(D=>D.contains(E));!w||B||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},d),C=Kpt(R=>{const E=R.target;[...c.branches].some(D=>D.contains(E))||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},d);return Vpt(R=>{_===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},d),Y.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mae=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),gae(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=mae)}},[u,d,t,c]),Y.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),gae())},[u,c]),Y.useEffect(()=>{const R=()=>p({});return document.addEventListener(qH,R),()=>document.removeEventListener(qH,R)},[]),Ne.jsx(cv.div,{...l,ref:m,style:{pointerEvents:b?w?"auto":"none":void 0,...n.style},onFocusCapture:cp(n.onFocusCapture,C.onFocusCapture),onBlurCapture:cp(n.onBlurCapture,C.onBlurCapture),onPointerDownCapture:cp(n.onPointerDownCapture,M.onPointerDownCapture)})});gAe.displayName=jpt;var Xpt="DismissableLayerBranch",Jpt=Y.forwardRef((n,e)=>{const t=Y.useContext(mAe),r=Y.useRef(null),i=kx(e,r);return Y.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),Ne.jsx(cv.div,{...n,ref:i})});Jpt.displayName=Xpt;function Ypt(n,e=globalThis==null?void 0:globalThis.document){const t=bA(n),r=Y.useRef(!1),i=Y.useRef(()=>{});return Y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){vAe(Wpt,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Kpt(n,e=globalThis==null?void 0:globalThis.document){const t=bA(n),r=Y.useRef(!1);return Y.useEffect(()=>{const i=s=>{s.target&&!r.current&&vAe($pt,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gae(){const n=new CustomEvent(qH);document.dispatchEvent(n)}function vAe(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?apt(i,s):i.dispatchEvent(s)}var qpt=$Je.useId||(()=>{}),Qpt=0;function Zpt(n){const[e,t]=Y.useState(qpt());return ax(()=>{t(r=>r??String(Qpt++))},[n]),e?`radix-${e}`:""}const emt=["top","right","bottom","left"],zd=Math.min,ic=Math.max,EL=Math.round,pD=Math.floor,z0=n=>({x:n,y:n}),tmt={left:"right",right:"left",bottom:"top",top:"bottom"},nmt={start:"end",end:"start"};function QH(n,e,t){return ic(n,zd(e,t))}function rm(n,e){return typeof n=="function"?n(e):n}function im(n){return n.split("-")[0]}function wA(n){return n.split("-")[1]}function rJ(n){return n==="x"?"y":"x"}function iJ(n){return n==="y"?"height":"width"}function G0(n){return["top","bottom"].includes(im(n))?"y":"x"}function sJ(n){return rJ(G0(n))}function rmt(n,e,t){t===void 0&&(t=!1);const r=wA(n),i=sJ(n),s=iJ(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=CL(o)),[o,CL(o)]}function imt(n){const e=CL(n);return[ZH(n),e,ZH(e)]}function ZH(n){return n.replace(/start|end/g,e=>nmt[e])}function smt(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function omt(n,e,t,r){const i=wA(n);let s=smt(im(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(ZH)))),s}function CL(n){return n.replace(/left|right|bottom|top/g,e=>tmt[e])}function amt(n){return{top:0,right:0,bottom:0,left:0,...n}}function yAe(n){return typeof n!="number"?amt(n):{top:n,right:n,bottom:n,left:n}}function TL(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function vae(n,e,t){let{reference:r,floating:i}=n;const s=G0(e),o=sJ(e),a=iJ(o),l=im(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(wA(e)){case"start":p[o]-=d*(t&&c?-1:1);break;case"end":p[o]+=d*(t&&c?-1:1);break}return p}const lmt=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=vae(c,r,l),d=r,p={},m=0;for(let g=0;g<a.length;g++){const{name:y,fn:x}=a[g],{x:_,y:b,data:w,reset:M}=await x({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:n,floating:e}});u=_??u,f=b??f,p={...p,[y]:{...p[y],...w}},M&&m<=50&&(m++,typeof M=="object"&&(M.placement&&(d=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):M.rects),{x:u,y:f}=vae(c,d,l)),g=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:p}};async function UT(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=rm(e,n),m=yAe(p),y=a[d?f==="floating"?"reference":"floating":f],x=TL(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},M=TL(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:b,strategy:l}):_);return{top:(x.top-M.top+m.top)/w.y,bottom:(M.bottom-x.bottom+m.bottom)/w.y,left:(x.left-M.left+m.left)/w.x,right:(M.right-x.right+m.right)/w.x}}const cmt=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=rm(n,e)||{};if(c==null)return{};const f=yAe(u),d={x:t,y:r},p=sJ(i),m=iJ(p),g=await o.getDimensions(c),y=p==="y",x=y?"top":"left",_=y?"bottom":"right",b=y?"clientHeight":"clientWidth",w=s.reference[m]+s.reference[p]-d[p]-s.floating[m],M=d[p]-s.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=C?C[b]:0;(!R||!await(o.isElement==null?void 0:o.isElement(C)))&&(R=a.floating[b]||s.floating[m]);const E=w/2-M/2,B=R/2-g[m]/2-1,D=zd(f[x],B),N=zd(f[_],B),z=D,H=R-g[m]-N,U=R/2-g[m]/2+E,W=QH(z,U,H),X=!l.arrow&&wA(i)!=null&&U!==W&&s.reference[m]/2-(U<z?D:N)-g[m]/2<0,q=X?U<z?U-z:U-H:0;return{[p]:d[p]+q,data:{[p]:W,centerOffset:U-W-q,...X&&{alignmentOffset:q}},reset:X}}}),umt=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=rm(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=im(i),_=G0(a),b=im(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=d||(b||!g?[CL(a)]:imt(a)),C=m!=="none";!d&&C&&M.push(...omt(a,g,m,w));const R=[a,...M],E=await UT(e,y),B=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&B.push(E[x]),f){const U=rmt(i,o,w);B.push(E[U[0]],E[U[1]])}if(D=[...D,{placement:i,overflows:B}],!B.every(U=>U<=0)){var N,z;const U=(((N=s.flip)==null?void 0:N.index)||0)+1,W=R[U];if(W)return{data:{index:U,overflows:D},reset:{placement:W}};let X=(z=D.filter(q=>q.overflows[0]<=0).sort((q,L)=>q.overflows[1]-L.overflows[1])[0])==null?void 0:z.placement;if(!X)switch(p){case"bestFit":{var H;const q=(H=D.filter(L=>{if(C){const I=G0(L.placement);return I===_||I==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(I=>I>0).reduce((I,O)=>I+O,0)]).sort((L,I)=>L[1]-I[1])[0])==null?void 0:H[0];q&&(X=q);break}case"initialPlacement":X=a;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function yae(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function xae(n){return emt.some(e=>n[e]>=0)}const fmt=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=rm(n,e);switch(r){case"referenceHidden":{const s=await UT(e,{...i,elementContext:"reference"}),o=yae(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xae(o)}}}case"escaped":{const s=await UT(e,{...i,altBoundary:!0}),o=yae(s,t.floating);return{data:{escapedOffsets:o,escaped:xae(o)}}}default:return{}}}}};async function dmt(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=im(t),a=wA(t),l=G0(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=rm(e,n);let{mainAxis:d,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:d*c}:{x:d*c,y:p*u}}const hmt=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await dmt(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},pmt=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x,y:_}=y;return{x,y:_}}},...l}=rm(n,e),c={x:t,y:r},u=await UT(e,l),f=G0(im(i)),d=rJ(f);let p=c[d],m=c[f];if(s){const y=d==="y"?"top":"left",x=d==="y"?"bottom":"right",_=p+u[y],b=p-u[x];p=QH(_,p,b)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",_=m+u[y],b=m-u[x];m=QH(_,m,b)}const g=a.fn({...e,[d]:p,[f]:m});return{...g,data:{x:g.x-t,y:g.y-r}}}}},mmt=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=rm(n,e),u={x:t,y:r},f=G0(i),d=rJ(f);let p=u[d],m=u[f];const g=rm(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=d==="y"?"height":"width",w=s.reference[d]-s.floating[b]+y.mainAxis,M=s.reference[d]+s.reference[b]-y.mainAxis;p<w?p=w:p>M&&(p=M)}if(c){var x,_;const b=d==="y"?"width":"height",w=["top","left"].includes(im(i)),M=s.reference[f]-s.floating[b]+(w&&((x=o.offset)==null?void 0:x[f])||0)+(w?0:y.crossAxis),C=s.reference[f]+s.reference[b]+(w?0:((_=o.offset)==null?void 0:_[f])||0)-(w?y.crossAxis:0);m<M?m=M:m>C&&(m=C)}return{[d]:p,[f]:m}}}},gmt=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=rm(n,e),l=await UT(e,a),c=im(t),u=wA(t),f=G0(t)==="y",{width:d,height:p}=r.floating;let m,g;c==="top"||c==="bottom"?(m=c,g=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(g=c,m=u==="end"?"top":"bottom");const y=p-l.top-l.bottom,x=d-l.left-l.right,_=zd(p-l[m],y),b=zd(d-l[g],x),w=!e.middlewareData.shift;let M=_,C=b;if(f?C=u||w?zd(b,x):x:M=u||w?zd(_,y):y,w&&!u){const E=ic(l.left,0),B=ic(l.right,0),D=ic(l.top,0),N=ic(l.bottom,0);f?C=d-2*(E!==0||B!==0?E+B:ic(l.left,l.right)):M=p-2*(D!==0||N!==0?D+N:ic(l.top,l.bottom))}await o({...e,availableWidth:C,availableHeight:M});const R=await i.getDimensions(s.floating);return d!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function SA(n){return xAe(n)?(n.nodeName||"").toLowerCase():"#document"}function xc(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function bm(n){var e;return(e=(xAe(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function xAe(n){return n instanceof Node||n instanceof xc(n).Node}function Yf(n){return n instanceof Element||n instanceof xc(n).Element}function uh(n){return n instanceof HTMLElement||n instanceof xc(n).HTMLElement}function _ae(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof xc(n).ShadowRoot}function sR(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Kf(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function vmt(n){return["table","td","th"].includes(SA(n))}function e4(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function oJ(n){const e=aJ(),t=Yf(n)?Kf(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function ymt(n){let e=H0(n);for(;uh(e)&&!OS(e);){if(oJ(e))return e;if(e4(e))return null;e=H0(e)}return null}function aJ(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function OS(n){return["html","body","#document"].includes(SA(n))}function Kf(n){return xc(n).getComputedStyle(n)}function t4(n){return Yf(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function H0(n){if(SA(n)==="html")return n;const e=n.assignedSlot||n.parentNode||_ae(n)&&n.host||bm(n);return _ae(e)?e.host:e}function _Ae(n){const e=H0(n);return OS(e)?n.ownerDocument?n.ownerDocument.body:n.body:uh(e)&&sR(e)?e:_Ae(e)}function zT(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=_Ae(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=xc(i);if(s){const a=eV(o);return e.concat(o,o.visualViewport||[],sR(i)?i:[],a&&t?zT(a):[])}return e.concat(i,zT(i,[],t))}function eV(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function bAe(n){const e=Kf(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=uh(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=EL(t)!==s||EL(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function lJ(n){return Yf(n)?n:n.contextElement}function Vw(n){const e=lJ(n);if(!uh(e))return z0(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=bAe(e);let o=(s?EL(t.width):t.width)/r,a=(s?EL(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const xmt=z0(0);function wAe(n){const e=xc(n);return!aJ()||!e.visualViewport?xmt:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _mt(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==xc(n)?!1:e}function lx(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=lJ(n);let o=z0(1);e&&(r?Yf(r)&&(o=Vw(r)):o=Vw(n));const a=_mt(s,t,r)?wAe(s):z0(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const d=xc(s),p=r&&Yf(r)?xc(r):r;let m=d,g=eV(m);for(;g&&r&&p!==m;){const y=Vw(g),x=g.getBoundingClientRect(),_=Kf(g),b=x.left+(g.clientLeft+parseFloat(_.paddingLeft))*y.x,w=x.top+(g.clientTop+parseFloat(_.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,f*=y.y,l+=b,c+=w,m=xc(g),g=eV(m)}}return TL({width:u,height:f,x:l,y:c})}function bmt(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=bm(r),a=e?e4(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=z0(1);const u=z0(0),f=uh(r);if((f||!f&&!s)&&((SA(r)!=="body"||sR(o))&&(l=t4(r)),uh(r))){const d=lx(r);c=Vw(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x,y:t.y*c.y-l.scrollTop*c.y+u.y}}function wmt(n){return Array.from(n.getClientRects())}function SAe(n){return lx(bm(n)).left+t4(n).scrollLeft}function Smt(n){const e=bm(n),t=t4(n),r=n.ownerDocument.body,i=ic(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ic(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+SAe(n);const a=-t.scrollTop;return Kf(r).direction==="rtl"&&(o+=ic(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Amt(n,e){const t=xc(n),r=bm(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=aJ();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Mmt(n,e){const t=lx(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=uh(n)?Vw(n):z0(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function bae(n,e,t){let r;if(e==="viewport")r=Amt(n,t);else if(e==="document")r=Smt(bm(n));else if(Yf(e))r=Mmt(e,t);else{const i=wAe(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return TL(r)}function AAe(n,e){const t=H0(n);return t===e||!Yf(t)||OS(t)?!1:Kf(t).position==="fixed"||AAe(t,e)}function Emt(n,e){const t=e.get(n);if(t)return t;let r=zT(n,[],!1).filter(a=>Yf(a)&&SA(a)!=="body"),i=null;const s=Kf(n).position==="fixed";let o=s?H0(n):n;for(;Yf(o)&&!OS(o);){const a=Kf(o),l=oJ(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||sR(o)&&!l&&AAe(n,o))?r=r.filter(u=>u!==o):i=a,o=H0(o)}return e.set(n,r),r}function Cmt(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?e4(e)?[]:Emt(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const f=bae(e,u,i);return c.top=ic(f.top,c.top),c.right=zd(f.right,c.right),c.bottom=zd(f.bottom,c.bottom),c.left=ic(f.left,c.left),c},bae(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Tmt(n){const{width:e,height:t}=bAe(n);return{width:e,height:t}}function Rmt(n,e,t){const r=uh(e),i=bm(e),s=t==="fixed",o=lx(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=z0(0);if(r||!r&&!s)if((SA(e)!=="body"||sR(i))&&(a=t4(e)),r){const f=lx(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=SAe(i));const c=o.left+a.scrollLeft-l.x,u=o.top+a.scrollTop-l.y;return{x:c,y:u,width:o.width,height:o.height}}function Ez(n){return Kf(n).position==="static"}function wae(n,e){return!uh(n)||Kf(n).position==="fixed"?null:e?e(n):n.offsetParent}function MAe(n,e){const t=xc(n);if(e4(n))return t;if(!uh(n)){let i=H0(n);for(;i&&!OS(i);){if(Yf(i)&&!Ez(i))return i;i=H0(i)}return t}let r=wae(n,e);for(;r&&vmt(r)&&Ez(r);)r=wae(r,e);return r&&OS(r)&&Ez(r)&&!oJ(r)?t:r||ymt(n)||t}const Pmt=async function(n){const e=this.getOffsetParent||MAe,t=this.getDimensions,r=await t(n.floating);return{reference:Rmt(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Bmt(n){return Kf(n).direction==="rtl"}const Dmt={convertOffsetParentRelativeRectToViewportRelativeRect:bmt,getDocumentElement:bm,getClippingRect:Cmt,getOffsetParent:MAe,getElementRects:Pmt,getClientRects:wmt,getDimensions:Tmt,getScale:Vw,isElement:Yf,isRTL:Bmt};function kmt(n,e){let t=null,r;const i=bm(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:d}=n.getBoundingClientRect();if(a||e(),!f||!d)return;const p=pD(u),m=pD(i.clientWidth-(c+f)),g=pD(i.clientHeight-(u+d)),y=pD(c),_={rootMargin:-p+"px "+-m+"px "+-g+"px "+-y+"px",threshold:ic(0,zd(1,l))||1};let b=!0;function w(M){const C=M[0].intersectionRatio;if(C!==l){if(!b)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{t=new IntersectionObserver(w,{..._,root:i.ownerDocument})}catch{t=new IntersectionObserver(w,_)}t.observe(n)}return o(!0),s}function Imt(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=lJ(n),u=i||s?[...c?zT(c):[],...zT(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const f=c&&a?kmt(c,t):null;let d=-1,p=null;o&&(p=new ResizeObserver(x=>{let[_]=x;_&&_.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?lx(n):null;l&&y();function y(){const x=lx(n);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&t(),g=x,m=requestAnimationFrame(y)}return t(),()=>{var x;u.forEach(_=>{i&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Lmt=hmt,Omt=pmt,Fmt=umt,Nmt=gmt,Umt=fmt,Sae=cmt,zmt=mmt,Gmt=(n,e,t)=>{const r=new Map,i={platform:Dmt,...t},s={...i.platform,_c:r};return lmt(n,e,{...i,platform:s})};var Mk=typeof document<"u"?Y.useLayoutEffect:Y.useEffect;function RL(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!RL(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!RL(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function EAe(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Aae(n,e){const t=EAe(n);return Math.round(e*t)/t}function Mae(n){const e=Y.useRef(n);return Mk(()=>{e.current=n}),e}function Hmt(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,f]=Y.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=Y.useState(r);RL(d,r)||p(r);const[m,g]=Y.useState(null),[y,x]=Y.useState(null),_=Y.useCallback(q=>{q!==C.current&&(C.current=q,g(q))},[]),b=Y.useCallback(q=>{q!==R.current&&(R.current=q,x(q))},[]),w=s||m,M=o||y,C=Y.useRef(null),R=Y.useRef(null),E=Y.useRef(u),B=l!=null,D=Mae(l),N=Mae(i),z=Y.useCallback(()=>{if(!C.current||!R.current)return;const q={placement:e,strategy:t,middleware:d};N.current&&(q.platform=N.current),Gmt(C.current,R.current,q).then(L=>{const I={...L,isPositioned:!0};H.current&&!RL(E.current,I)&&(E.current=I,R3.flushSync(()=>{f(I)}))})},[d,e,t,N]);Mk(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[c]);const H=Y.useRef(!1);Mk(()=>(H.current=!0,()=>{H.current=!1}),[]),Mk(()=>{if(w&&(C.current=w),M&&(R.current=M),w&&M){if(D.current)return D.current(w,M,z);z()}},[w,M,z,D,B]);const U=Y.useMemo(()=>({reference:C,floating:R,setReference:_,setFloating:b}),[_,b]),W=Y.useMemo(()=>({reference:w,floating:M}),[w,M]),X=Y.useMemo(()=>{const q={position:t,left:0,top:0};if(!W.floating)return q;const L=Aae(W.floating,u.x),I=Aae(W.floating,u.y);return a?{...q,transform:"translate("+L+"px, "+I+"px)",...EAe(W.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:L,top:I}},[t,a,W.floating,u.x,u.y]);return Y.useMemo(()=>({...u,update:z,refs:U,elements:W,floatingStyles:X}),[u,z,U,W,X])}const Vmt=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Sae({element:r.current,padding:i}).fn(t):{}:r?Sae({element:r,padding:i}).fn(t):{}}}},jmt=(n,e)=>({...Lmt(n),options:[n,e]}),Wmt=(n,e)=>({...Omt(n),options:[n,e]}),$mt=(n,e)=>({...zmt(n),options:[n,e]}),Xmt=(n,e)=>({...Fmt(n),options:[n,e]}),Jmt=(n,e)=>({...Nmt(n),options:[n,e]}),Ymt=(n,e)=>({...Umt(n),options:[n,e]}),Kmt=(n,e)=>({...Vmt(n),options:[n,e]});var qmt="Arrow",CAe=Y.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return Ne.jsx(cv.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:Ne.jsx("polygon",{points:"0,0 30,0 15,10"})})});CAe.displayName=qmt;var Qmt=CAe;function Zmt(n){const[e,t]=Y.useState(void 0);return ax(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var cJ="Popper",[TAe,RAe]=pAe(cJ),[egt,PAe]=TAe(cJ),BAe=n=>{const{__scopePopper:e,children:t}=n,[r,i]=Y.useState(null);return Ne.jsx(egt,{scope:e,anchor:r,onAnchorChange:i,children:t})};BAe.displayName=cJ;var DAe="PopperAnchor",kAe=Y.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=PAe(DAe,t),o=Y.useRef(null),a=kx(e,o);return Y.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:Ne.jsx(cv.div,{...i,ref:a})});kAe.displayName=DAe;var uJ="PopperContent",[tgt,ngt]=TAe(uJ),IAe=Y.forwardRef((n,e)=>{var le,he,we,ve,fe,ne;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=n,y=PAe(uJ,t),[x,_]=Y.useState(null),b=kx(e,oe=>_(oe)),[w,M]=Y.useState(null),C=Zmt(w),R=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,B=r+(s!=="center"?"-"+s:""),D=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],z=N.length>0,H={padding:D,boundary:N.filter(igt),altBoundary:z},{refs:U,floatingStyles:W,placement:X,isPositioned:q,middlewareData:L}=Hmt({strategy:"fixed",placement:B,whileElementsMounted:(...oe)=>Imt(...oe,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[jmt({mainAxis:i+E,alignmentAxis:o}),l&&Wmt({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?$mt():void 0,...H}),l&&Xmt({...H}),Jmt({...H,apply:({elements:oe,rects:Te,availableWidth:be,availableHeight:Ce})=>{const{width:We,height:Se}=Te.reference,ke=oe.floating.style;ke.setProperty("--radix-popper-available-width",`${be}px`),ke.setProperty("--radix-popper-available-height",`${Ce}px`),ke.setProperty("--radix-popper-anchor-width",`${We}px`),ke.setProperty("--radix-popper-anchor-height",`${Se}px`)}}),w&&Kmt({element:w,padding:a}),sgt({arrowWidth:R,arrowHeight:E}),d&&Ymt({strategy:"referenceHidden",...H})]}),[I,O]=FAe(X),F=bA(m);ax(()=>{q&&(F==null||F())},[q,F]);const j=(le=L.arrow)==null?void 0:le.x,te=(he=L.arrow)==null?void 0:he.y,re=((we=L.arrow)==null?void 0:we.centerOffset)!==0,[se,K]=Y.useState();return ax(()=>{x&&K(window.getComputedStyle(x).zIndex)},[x]),Ne.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:q?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(ve=L.transformOrigin)==null?void 0:ve.x,(fe=L.transformOrigin)==null?void 0:fe.y].join(" "),...((ne=L.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:Ne.jsx(tgt,{scope:t,placedSide:I,onArrowChange:M,arrowX:j,arrowY:te,shouldHideArrow:re,children:Ne.jsx(cv.div,{"data-side":I,"data-align":O,...g,ref:b,style:{...g.style,animation:q?void 0:"none"}})})})});IAe.displayName=uJ;var LAe="PopperArrow",rgt={top:"bottom",right:"left",bottom:"top",left:"right"},OAe=Y.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=ngt(LAe,r),o=rgt[s.placedSide];return Ne.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:Ne.jsx(Qmt,{...i,ref:t,style:{...i.style,display:"block"}})})});OAe.displayName=LAe;function igt(n){return n!==null}var sgt=n=>({name:"transformOrigin",options:n,fn(e){var y,x,_;const{placement:t,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=FAe(t),f={start:"0%",center:"50%",end:"100%"}[u],d=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,p=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=o?f:`${d}px`,g=`${-l}px`):c==="top"?(m=o?f:`${d}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=o?f:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=o?f:`${p}px`),{data:{x:m,y:g}}}});function FAe(n){const[e,t="center"]=n.split("-");return[e,t]}var ogt=BAe,agt=kAe,lgt=IAe,cgt=OAe;function ugt(n,e){return Y.useReducer((t,r)=>e[t][r]??t,n)}var NAe=n=>{const{present:e,children:t}=n,r=fgt(e),i=typeof t=="function"?t({present:r.isPresent}):Y.Children.only(t),s=kx(r.ref,dgt(i));return typeof t=="function"||r.isPresent?Y.cloneElement(i,{ref:s}):null};NAe.displayName="Presence";function fgt(n){const[e,t]=Y.useState(),r=Y.useRef({}),i=Y.useRef(n),s=Y.useRef("none"),o=n?"mounted":"unmounted",[a,l]=ugt(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Y.useEffect(()=>{const c=mD(r.current);s.current=a==="mounted"?c:"none"},[a]),ax(()=>{const c=r.current,u=i.current;if(u!==n){const d=s.current,p=mD(c);n?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),ax(()=>{if(e){const c=f=>{const p=mD(r.current).includes(f.animationName);f.target===e&&p&&R3.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=mD(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:Y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function mD(n){return(n==null?void 0:n.animationName)||"none"}function dgt(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function hgt({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=pgt({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=bA(t),l=Y.useCallback(c=>{if(s){const f=typeof c=="function"?c(n):c;f!==n&&a(f)}else i(c)},[s,n,i,a]);return[o,l]}function pgt({defaultProp:n,onChange:e}){const t=Y.useState(n),[r]=t,i=Y.useRef(r),s=bA(e);return Y.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var mgt="VisuallyHidden",UAe=Y.forwardRef((n,e)=>Ne.jsx(cv.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));UAe.displayName=mgt;var ggt=UAe,[n4,$wt]=pAe("Tooltip",[RAe]),r4=RAe(),vgt="TooltipProvider",tV="tooltip.open",[Xwt,fJ]=n4(vgt),i4="Tooltip",[ygt,s4]=n4(i4),zAe=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=fJ(i4,n.__scopeTooltip),c=r4(e),[u,f]=Y.useState(null),d=Zpt(),p=Y.useRef(0),m=o??l.disableHoverableContent,g=a??l.delayDuration,y=Y.useRef(!1),[x=!1,_]=hgt({prop:r,defaultProp:i,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(tV))):l.onClose(),s==null||s(R)}}),b=Y.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),w=Y.useCallback(()=>{window.clearTimeout(p.current),y.current=!1,_(!0)},[_]),M=Y.useCallback(()=>{window.clearTimeout(p.current),_(!1)},[_]),C=Y.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,_(!0)},g)},[g,_]);return Y.useEffect(()=>()=>window.clearTimeout(p.current),[]),Ne.jsx(ogt,{...c,children:Ne.jsx(ygt,{scope:e,contentId:d,open:x,stateAttribute:b,trigger:u,onTriggerChange:f,onTriggerEnter:Y.useCallback(()=>{l.isOpenDelayed?C():w()},[l.isOpenDelayed,C,w]),onTriggerLeave:Y.useCallback(()=>{m?M():window.clearTimeout(p.current)},[M,m]),onOpen:w,onClose:M,disableHoverableContent:m,children:t})})};zAe.displayName=i4;var nV="TooltipTrigger",GAe=Y.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=s4(nV,t),s=fJ(nV,t),o=r4(t),a=Y.useRef(null),l=kx(e,a,i.onTriggerChange),c=Y.useRef(!1),u=Y.useRef(!1),f=Y.useCallback(()=>c.current=!1,[]);return Y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),Ne.jsx(agt,{asChild:!0,...o,children:Ne.jsx(cv.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:cp(n.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:cp(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:cp(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:cp(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:cp(n.onBlur,i.onClose),onClick:cp(n.onClick,i.onClose)})})});GAe.displayName=nV;var xgt="TooltipPortal",[Jwt,_gt]=n4(xgt,{forceMount:void 0}),FS="TooltipContent",HAe=Y.forwardRef((n,e)=>{const t=_gt(FS,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=s4(FS,n.__scopeTooltip);return Ne.jsx(NAe,{present:r||o.open,children:o.disableHoverableContent?Ne.jsx(VAe,{side:i,...s,ref:e}):Ne.jsx(bgt,{side:i,...s,ref:e})})}),bgt=Y.forwardRef((n,e)=>{const t=s4(FS,n.__scopeTooltip),r=fJ(FS,n.__scopeTooltip),i=Y.useRef(null),s=kx(e,i),[o,a]=Y.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:f}=r,d=Y.useCallback(()=>{a(null),f(!1)},[f]),p=Y.useCallback((m,g)=>{const y=m.currentTarget,x={x:m.clientX,y:m.clientY},_=Agt(x,y.getBoundingClientRect()),b=Mgt(x,_),w=Egt(g.getBoundingClientRect()),M=Tgt([...b,...w]);a(M),f(!0)},[f]);return Y.useEffect(()=>()=>d(),[d]),Y.useEffect(()=>{if(l&&u){const m=y=>p(y,u),g=y=>p(y,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,p,d]),Y.useEffect(()=>{if(o){const m=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},_=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),b=!Cgt(x,o);_?d():b&&(d(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,d]),Ne.jsx(VAe,{...n,ref:s})}),[wgt,Sgt]=n4(i4,{isInside:!1}),VAe=Y.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=s4(FS,t),c=r4(t),{onClose:u}=l;return Y.useEffect(()=>(document.addEventListener(tV,u),()=>document.removeEventListener(tV,u)),[u]),Y.useEffect(()=>{if(l.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),Ne.jsx(gAe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:Ne.jsxs(lgt,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[Ne.jsx(aAe,{children:r}),Ne.jsx(wgt,{scope:t,isInside:!0,children:Ne.jsx(ggt,{id:l.contentId,role:"tooltip",children:i||r})})]})})});HAe.displayName=FS;var jAe="TooltipArrow",WAe=Y.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=r4(t);return Sgt(jAe,t).isInside?null:Ne.jsx(cgt,{...i,...r,ref:e})});WAe.displayName=jAe;function Agt(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Mgt(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function Egt(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function Cgt(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function Tgt(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),Rgt(e)}function Rgt(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Pgt=zAe,Bgt=GAe,Dgt=HAe,kgt=WAe;function Igt(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function dr(n,e){if(n==null)return{};var t=Igt(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let pi;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(pi||(pi={}));const Lgt={[pi.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[pi.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[pi.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[pi.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[pi.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[pi.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[pi.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[pi.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[pi.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[pi.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[pi.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function $Ae(n,e,...t){const[r,...i]=Lgt[e](...t);console[n]("LEVA: "+r,...i)}const pp=$Ae.bind(null,"warn"),Ogt=$Ae.bind(null,"log"),Fgt=["value"],Ngt=["schema"],Ugt=["value"],XAe=[],cx={};function Eae(n){let{value:e}=n,t=dr(n,Fgt);for(let r of XAe){const i=r(e,t);if(i)return i}}function wm(n,e){let{schema:t}=e,r=dr(e,Ngt);if(n in cx){pp(pi.ALREADY_REGISTERED_TYPE,n);return}XAe.push((i,s)=>t(i,s)&&n),cx[n]=r}function Cz(n,e,t,r){const{normalize:i}=cx[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=dr(e,Ugt);return{value:s,settings:o}}function zgt(n,e,t,r,i,s){const{sanitize:o}=cx[n];return o?o(e,t,r,i,s):e}function Cae(n,e,t){const{format:r}=cx[n];return r?r(e,t):e}function Ggt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function an(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tae(Object(t),!0).forEach(function(r){Ggt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tae(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const V0=(n,e,t)=>n>t?t:n<e?e:n,Hgt=n=>{if(n===""||typeof n=="number")return n;try{const e=fg(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},Vgt=Math.log(10);function Rae(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/Vgt)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const PL=(n,e,t)=>t===e?0:(V0(n,e,t)-e)/(t-e),BL=(n,e,t)=>n*(t-e)+e,jgt=()=>"_"+Math.random().toString(36).substr(2,9),Pae=/\(([0-9+\-*/^ .]+)\)/,Bae=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,Dae=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,kae=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,Iae=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,Lae=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function fg(n){if(isNaN(Number(n)))if(Pae.test(n)){const e=n.replace(Pae,(t,r)=>String(fg(r)));return fg(e)}else if(Bae.test(n)){const e=n.replace(Bae,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return fg(e)}else if(Dae.test(n)){const e=n.replace(Dae,(t,r,i)=>String(Number(r)*Number(i)));return fg(e)}else if(kae.test(n)){const e=n.replace(kae,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return fg(e)}else if(Iae.test(n)){const e=n.replace(Iae,(t,r,i)=>String(Number(r)+Number(i)));return fg(e)}else if(Lae.test(n)){const e=n.replace(Lae,(t,r,i)=>String(Number(r)-Number(i)));return fg(e)}else return Number(n);return Number(n)}function Wgt(n,e){return e.reduce((t,r)=>(n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function $gt(n,e){const t=an({},n);return e.forEach(r=>r in n&&delete t[r]),t}function Xgt(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function JAe(n){return Object.prototype.toString.call(n)==="[object Object]"}const Jgt=n=>JAe(n)&&Object.keys(n).length===0;let Gf;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(Gf||(Gf={}));let qf;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(qf||(qf={}));const Ygt=["type","__customInput"],Kgt=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],qgt=["type"];function YAe(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:an({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:M,__customInput:C}=n,R=dr(n,Ygt);return YAe(C,e,R,M)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:f,onChange:d,onEditStart:p,onEditEnd:m,transient:g}=n,y=dr(n,Kgt),x=an({render:o,key:e,label:a??e,hint:f,transient:g??!!d,onEditStart:p,onEditEnd:m,disabled:u,optional:l,order:c},t);let{type:_}=y,b=dr(y,qgt);if(_=r??_,_ in Gf)return{type:_,input:b,options:x};let w;return r&&JAe(b)&&"value"in b?w=b.value:w=Jgt(b)?void 0:b,{type:_,input:w,options:an(an({},x),{},{onChange:d,optional:(i=x.optional)!==null&&i!==void 0?i:!1,disabled:(s=x.disabled)!==null&&s!==void 0?s:!1})}}function Qgt(n,e,t,r){const i=YAe(n,e),{type:s,input:o,options:a}=i;if(s)return s in Gf?i:{type:s,input:Cz(s,o,t,r),options:a};let l=Eae(o);return l?{type:l,input:Cz(l,o,t,r),options:a}:(l=Eae({value:o}),l?{type:l,input:Cz(l,{value:o},t,r),options:a}:!1)}function Oae(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=KAe({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const Zgt=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function KAe({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=zgt(n,o,t,e,i,s)}catch(l){throw new Zgt(`The value \`${r}\` did not result in a correct value.`,e,l)}return FT(a,e)?e:a}const qAe=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},QAe=n=>n.shiftKey?5:n.altKey?1/5:1;function e0t(n,e){const t=console.error;console.error=()=>{},wxe.render(n,e),console.error=t}const t0t=["value"],n0t=["min","max"],r0t=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},ZAe=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=V0(i,e,t);return r?s+r:s},i0t=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},eMe=n=>{let{value:e}=n,t=dr(n,t0t);const{min:r=-1/0,max:i=1/0}=t,s=dr(t,n0t);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=V0(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?Rae(l)*10:Rae(o);l=l||c/10;const u=Math.round(V0(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:an({initialValue:o,step:l,pad:u,min:r,max:i,suffix:a},s)}},tMe=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var nMe=Object.freeze({__proto__:null,schema:r0t,sanitize:ZAe,format:i0t,normalize:eMe,sanitizeStep:tMe});function Vi(){return Vi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Vi.apply(this,arguments)}const rMe=Y.createContext({});function ya(){return Y.useContext(rMe)}const dJ=Y.createContext(null),iMe=Y.createContext(null),sMe=Y.createContext(null);function oR(){return Y.useContext(iMe)}function s0t(){return Y.useContext(sMe)}const oMe=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function gD(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const R2={$inputStyle:()=>n=>gD(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>gD(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>gD(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>gD(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:qt,css:Ywt,createTheme:o0t,globalCss:a0t,keyframes:Kwt}=Gpt({prefix:"leva",theme:oMe(),utils:an(an({},R2),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":R2.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":R2.$focusStyle()(n)}),$hover:n=>({"&:hover":R2.$hoverStyle()(n)}),$active:n=>({"&:active":R2.$activeStyle()(n)})})}),l0t=a0t({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function c0t(n){const e=oMe();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=o0t(e);return{theme:e,className:t.className}}function Op(n,e){const{theme:t}=Y.useContext(dJ);if(!(n in t)||!(e in t[n]))return pp(pi.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const aMe=qt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),lMe=qt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${aMe}`]:{paddingLeft:0}}),u0t=qt(lMe,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),f0t=qt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),d0t=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],h0t=["onUpdate"];function hJ(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,u=dr(n,d0t);const{id:f,emitOnEditStart:d,emitOnEditEnd:p,disabled:m}=ya(),g=a||f,y=Y.useRef(null),x=c>0,_=x?"textarea":"input",b=Y.useCallback(C=>R=>{const E=R.currentTarget.value;C(E)},[]);De.useEffect(()=>{const C=y.current,R=b(E=>{r(E),p()});return C==null||C.addEventListener("blur",R),()=>C==null?void 0:C.removeEventListener("blur",R)},[b,r,p]);const w=Y.useCallback(C=>{C.key==="Enter"&&b(r)(C)},[b,r]),M=Object.assign({as:_},x?{rows:c}:{},u);return De.createElement(f0t,{textArea:x},e&&typeof e=="string"?De.createElement(lMe,null,e):e,De.createElement(aMe,Vi({levaType:o,ref:y,id:g,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:b(i),onFocus:()=>d(),onKeyPress:w,onKeyDown:s,disabled:m},M)))}function p0t(n){let{onUpdate:e}=n,t=dr(n,h0t);const r=Y.useCallback(s=>e(Hgt(s)),[e]),i=Y.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return De.createElement(hJ,Vi({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const DL=qt("div",{}),rV=qt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),m0t=qt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${rV}::after`]:{opacity:.6},[`${DL}:hover > & + ${rV}::after`]:{opacity:.6},[`${DL}:hover > & > svg`]:{opacity:1}}),cMe=qt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${DL}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),uMe=qt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${cMe} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),fMe=qt(uMe,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),g0t=qt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),v0t=qt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),iV=qt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),y0t=qt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${iV}`]:{pointerEvents:"auto"}}}}}),dMe=qt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),x0t=qt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),_0t=qt(kgt,{fill:"$toolTipBackground"});function pJ({children:n}){const{className:e}=Y.useContext(dJ);return De.createElement(cpt,{className:e},n)}const b0t=["align"];function w0t(){const{id:n,disable:e,disabled:t}=ya();return De.createElement(De.Fragment,null,De.createElement(v0t,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),De.createElement("label",{htmlFor:n+"__disable"}))}function S0t(n){const{id:e,optional:t,hint:r}=ya(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return De.createElement(De.Fragment,null,t&&De.createElement(w0t,null),r!==void 0?De.createElement(Pgt,null,De.createElement(Bgt,{asChild:!0},De.createElement(iV,Vi({},i,n))),De.createElement(Dgt,{side:"top",sideOffset:2},De.createElement(x0t,null,r,De.createElement(_0t,null)))):De.createElement(iV,Vi({},i,s,n)))}function sd(n){let{align:e}=n,t=dr(n,b0t);const{value:r,label:i,key:s,disabled:o}=ya(),{hideCopyButton:a}=s0t(),l=!a&&s!==void 0,[c,u]=Y.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{pp(pi.CLIPBOARD_ERROR,{[s]:r})}};return De.createElement(g0t,{align:e,onPointerLeave:()=>u(!1)},De.createElement(S0t,t),l&&!o&&De.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},De.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),De.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):De.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},De.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),De.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const A0t=["toggled"],M0t=qt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function mJ(n){let{toggled:e}=n,t=dr(n,A0t);return De.createElement(M0t,Vi({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),De.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const E0t=["input"];function Yu(n){let{input:e}=n,t=dr(n,E0t);return e?De.createElement(fMe,t):De.createElement(uMe,t)}function hMe({value:n,type:e,settings:t,setValue:r}){const[i,s]=Y.useState(Cae(e,n,t)),o=Y.useRef(n),a=Y.useRef(t);a.current=t;const l=Y.useCallback(u=>s(Cae(e,u,a.current)),[e]),c=Y.useCallback(u=>{try{r(u)}catch(f){const{type:d,previousValue:p}=f;if(d!=="LEVA_ERROR")throw f;l(p)}},[l,r]);return Y.useEffect(()=>{FT(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:c}}function aR(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=ya();return hat(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function C0t(n){const e=Y.useRef(null),t=Y.useRef(null),r=Y.useRef(!1);return Y.useEffect(()=>{const i=qAe(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),Y.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function pMe(){const n=Y.useRef(null),e=Y.useRef({x:0,y:0}),t=Y.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const T0t=["__refCount"],Tz=(n,e)=>{if(!n[e])return null;const t=n[e];return dr(t,T0t)};function R0t(n){const e=oR(),[t,r]=Y.useState(Tz(e.getData(),n)),i=Y.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=Y.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=Y.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=Y.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=Y.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return Y.useEffect(()=>{r(Tz(e.getData(),n));const c=e.useStore.subscribe(u=>Tz(u.data,n),r,{equalityFn:HF});return()=>c()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const P0t=qt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),mMe=qt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),sV=qt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),gMe=qt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),vMe=qt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function B0t({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=Y.useRef(null),a=Y.useRef(null),l=Y.useRef(0),c=Op("sizes","scrubberWidth"),u=aR(({event:d,first:p,xy:[m],movement:[g],memo:y})=>{if(p){const{width:_,left:b}=o.current.getBoundingClientRect();l.current=_-parseFloat(c),y=(d==null?void 0:d.target)===a.current?n:BL((m-b)/_,e,t)}const x=y+BL(g/l.current,0,t-e);return r(tMe(x,{step:i,initialValue:s})),y}),f=PL(n,e,t);return De.createElement(gMe,Vi({ref:o},u()),De.createElement(mMe,null,De.createElement(vMe,{style:{left:0,right:`${(1-f)*100}%`}})),De.createElement(sV,{ref:a,style:{left:`calc(${f} * (100% - ${c}))`}}))}const D0t=De.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=Y.useState(!1),o=aR(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*t*QAe(c)),u=0),u));return De.createElement(u0t,Vi({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function yMe({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&De.createElement(D0t,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return De.createElement(p0t,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function k0t(){const n=ya(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return De.createElement(Yu,{input:!0},De.createElement(sd,null,e),De.createElement(P0t,{hasRange:l},l&&De.createElement(B0t,Vi({value:parseFloat(t),onDrag:r},i)),De.createElement(yMe,Vi({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:I0t}=nMe,L0t=dr(nMe,["sanitizeStep"]);var O0t=an({component:k0t},L0t);const F0t=(n,e)=>gl().schema({options:gl().passesAnyOf(gl().object(),gl().array())}).test(e),N0t=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},U0t=(n,{values:e})=>e.indexOf(n),z0t=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var G0t=Object.freeze({__proto__:null,schema:F0t,sanitize:N0t,format:U0t,normalize:z0t});const H0t=qt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),oV=qt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),V0t=qt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${oV}:focus + &`]:{$focusStyle:""},[`${oV}:hover + &`]:{$hoverStyle:""}});function j0t({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=Y.useRef();return e===a[n]&&(l.current=o[n]),De.createElement(H0t,null,De.createElement(oV,{id:r,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>De.createElement("option",{key:c,value:u},c))),De.createElement(V0t,null,l.current),De.createElement(mJ,{toggled:!0}))}function W0t(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=ya();return De.createElement(Yu,{input:!0},De.createElement(sd,null,n),De.createElement(j0t,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var $0t=an({component:W0t},G0t);const X0t=n=>gl().string().test(n),J0t=n=>{if(typeof n!="string")throw Error("Invalid string");return n},Y0t=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var K0t=Object.freeze({__proto__:null,schema:X0t,sanitize:J0t,normalize:Y0t});const q0t=["displayValue","onUpdate","onChange","editable"],Q0t=qt("div",{whiteSpace:"pre-wrap"});function Z0t(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=dr(n,q0t);return i?De.createElement(hJ,Vi({value:e,onUpdate:t,onChange:r},s)):De.createElement(Q0t,null,e)}function evt(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=ya();return De.createElement(Yu,{input:!0},De.createElement(sd,null,n),De.createElement(Z0t,Vi({displayValue:t,onUpdate:r,onChange:i},e)))}var tvt=an({component:evt},K0t);const nvt=n=>gl().boolean().test(n),rvt=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var ivt=Object.freeze({__proto__:null,schema:nvt,sanitize:rvt});const svt=qt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function ovt({value:n,onUpdate:e,id:t,disabled:r}){return De.createElement(svt,null,De.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),De.createElement("label",{htmlFor:t},De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},De.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function avt(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=ya();return De.createElement(Yu,{input:!0},De.createElement(sd,null,n),De.createElement(ovt,{value:e,onUpdate:t,id:i,disabled:r}))}var lvt=an({component:avt},ivt);const cvt=["locked"];function uvt({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=Y.useRef(n[t]);o.current=n[t];const a=Y.useCallback(c=>i({[t]:KAe({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,t]),l=hMe({type:"NUMBER",value:n[t],settings:r,setValue:a});return De.createElement(yMe,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const fvt=qt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function dvt(n){let{locked:e}=n,t=dr(n,cvt);return De.createElement("svg",Vi({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?De.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):De.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function gJ({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=ya(),{lock:o,locked:a}=t;return De.createElement(fvt,{withLock:o},o&&De.createElement(dvt,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>De.createElement(uvt,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const xMe=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=eMe(an({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},hvt=["lock"],pvt=["value"];function mvt(n){const e=gl().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function gvt(n){return Array.isArray(n)?"array":"object"}function eC(n,e,t){return gvt(n)===e?n:e==="array"?Object.values(n):Xgt(n,t)}const vvt=(n,e,t)=>{const r=eC(n,"object",e.keys);for(let o in r)r[o]=ZAe(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=eC(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],u=c!==0?l/c:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*u}else s=an(an({},o),r)}return eC(s,e.format,e.keys)},yvt=(n,e)=>eC(n,"object",e.keys),xvt=n=>!!n&&("step"in n||"min"in n||"max"in n);function _vt(n,e,t=[]){const{lock:r=!1}=e,i=dr(e,hvt),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=eC(n,"object",o),l=xvt(i)?o.reduce((u,f)=>Object.assign(u,{[f]:i}),{}):i,c=xMe(a,l);return{value:s==="array"?n:a,settings:an(an({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function _Me(n){return{schema:mvt(n.length),normalize:e=>{let{value:t}=e,r=dr(e,pvt);return _vt(t,r,n)},format:(e,t)=>yvt(e,t),sanitize:(e,t,r)=>vvt(e,t,r)}}var bvt={grad:.9,turn:360,rad:360/(2*Math.PI)},Qh=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},mo=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},ku=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},bMe=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Fae=function(n){return{r:ku(n.r,0,255),g:ku(n.g,0,255),b:ku(n.b,0,255),a:ku(n.a)}},Rz=function(n){return{r:mo(n.r),g:mo(n.g),b:mo(n.b),a:mo(n.a,3)}},wvt=/^#([0-9a-f]{3,8})$/i,vD=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},wMe=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},SMe=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},Nae=function(n){return{h:bMe(n.h),s:ku(n.s,0,100),l:ku(n.l,0,100),a:ku(n.a)}},Uae=function(n){return{h:mo(n.h),s:mo(n.s),l:mo(n.l),a:mo(n.a,3)}},zae=function(n){return SMe((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},tC=function(n){return{h:(e=wMe(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},Svt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Avt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Mvt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Evt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aV={string:[[function(n){var e=wvt.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?mo(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?mo(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Mvt.exec(n)||Evt.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:Fae({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=Svt.exec(n)||Avt.exec(n);if(!e)return null;var t,r,i=Nae({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(bvt[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return zae(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return Qh(e)&&Qh(t)&&Qh(r)?Fae({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!Qh(e)||!Qh(t)||!Qh(r))return null;var o=Nae({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return zae(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!Qh(e)||!Qh(t)||!Qh(r))return null;var o=function(a){return{h:bMe(a.h),s:ku(a.s,0,100),v:ku(a.v,0,100),a:ku(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return SMe(o)},"hsv"]]},Gae=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},AMe=function(n){return typeof n=="string"?Gae(n.trim(),aV.string):typeof n=="object"&&n!==null?Gae(n,aV.object):[null,void 0]},Cvt=function(n){return AMe(n)[1]},Pz=function(n,e){var t=tC(n);return{h:t.h,s:ku(t.s+100*e,0,100),l:t.l,a:t.a}},Bz=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},Hae=function(n,e){var t=tC(n);return{h:t.h,s:t.s,l:ku(t.l+100*e,0,100),a:t.a}},lV=function(){function n(e){this.parsed=AMe(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return mo(Bz(this.rgba),2)},n.prototype.isDark=function(){return Bz(this.rgba)<.5},n.prototype.isLight=function(){return Bz(this.rgba)>=.5},n.prototype.toHex=function(){return e=Rz(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?vD(mo(255*s)):"","#"+vD(t)+vD(r)+vD(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return Rz(this.rgba)},n.prototype.toRgbString=function(){return e=Rz(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return Uae(tC(this.rgba))},n.prototype.toHslString=function(){return e=Uae(tC(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=wMe(this.rgba),{h:mo(e.h),s:mo(e.s),v:mo(e.v),a:mo(e.a,3)};var e},n.prototype.invert=function(){return Oa({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Oa(Pz(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Oa(Pz(this.rgba,-e))},n.prototype.grayscale=function(){return Oa(Pz(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Oa(Hae(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Oa(Hae(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Oa({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):mo(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=tC(this.rgba);return typeof e=="number"?Oa({h:e,s:t.s,l:t.l,a:t.a}):mo(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Oa(e).toHex()},n}(),Oa=function(n){return n instanceof lV?n:new lV(n)},Vae=[],Tvt=function(n){n.forEach(function(e){Vae.indexOf(e)<0&&(e(lV,aV),Vae.push(e))})};function Rvt(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,d="black";if(!s.length)for(var p in t)s[p]=new n(t[p]).toRgb();for(var m in t){var g=(a=u,l=s[m],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));g<f&&(f=g,d=m)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function AA(){return(AA=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function vJ(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function cV(n){var e=Y.useRef(n),t=Y.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var NS=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},nC=function(n){return"touches"in n},uV=function(n){return n&&n.ownerDocument.defaultView||self},jae=function(n,e,t){var r=n.getBoundingClientRect(),i=nC(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:NS((i.pageX-(r.left+uV(n).pageXOffset))/r.width),top:NS((i.pageY-(r.top+uV(n).pageYOffset))/r.height)}},Wae=function(n){!nC(n)&&n.preventDefault()},yJ=De.memo(function(n){var e=n.onMove,t=n.onKey,r=vJ(n,["onMove","onKey"]),i=Y.useRef(null),s=cV(e),o=cV(t),a=Y.useRef(null),l=Y.useRef(!1),c=Y.useMemo(function(){var p=function(y){Wae(y),(nC(y)?y.touches.length>0:y.buttons>0)&&i.current?s(jae(i.current,y,a.current)):g(!1)},m=function(){return g(!1)};function g(y){var x=l.current,_=uV(i.current),b=y?_.addEventListener:_.removeEventListener;b(x?"touchmove":"mousemove",p),b(x?"touchend":"mouseup",m)}return[function(y){var x=y.nativeEvent,_=i.current;if(_&&(Wae(x),!function(w,M){return M&&!nC(w)}(x,l.current)&&_)){if(nC(x)){l.current=!0;var b=x.changedTouches||[];b.length&&(a.current=b[0].identifier)}_.focus(),s(jae(_,x,a.current)),g(!0)}},function(y){var x=y.which||y.keyCode;x<37||x>40||(y.preventDefault(),o({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},g]},[o,s]),u=c[0],f=c[1],d=c[2];return Y.useEffect(function(){return d},[d]),De.createElement("div",AA({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),lR=function(n){return n.filter(Boolean).join(" ")},xJ=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=lR(["react-colorful__pointer",n.className]);return De.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},De.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},za=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},MMe=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:za(n.h),s:za(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:za(i/2),a:za(r,2)}},fV=function(n){var e=MMe(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Dz=function(n){var e=MMe(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},EMe=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:za(255*[r,a,o,o,l,r][c]),g:za(255*[l,r,r,a,o,o][c]),b:za(255*[o,o,l,r,r,a][c]),a:za(i,2)}},CMe=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:za(60*(a<0?a+6:a)),s:za(s?o/s*100:0),v:za(s/255*100),a:i}},TMe=De.memo(function(n){var e=n.hue,t=n.onChange,r=lR(["react-colorful__hue",n.className]);return De.createElement("div",{className:r},De.createElement(yJ,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:NS(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":za(e),"aria-valuemax":"360","aria-valuemin":"0"},De.createElement(xJ,{className:"react-colorful__hue-pointer",left:e/360,color:fV({h:e,s:100,v:100,a:1})})))}),RMe=De.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:fV({h:e.h,s:100,v:100,a:1})};return De.createElement("div",{className:"react-colorful__saturation",style:r},De.createElement(yJ,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:NS(e.s+100*i.left,0,100),v:NS(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+za(e.s)+"%, Brightness "+za(e.v)+"%"},De.createElement(xJ,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:fV(e)})))}),_J=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function PMe(n,e,t){var r=cV(t),i=Y.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=Y.useRef({color:e,hsva:s});Y.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),Y.useEffect(function(){var c;_J(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,n,r]);var l=Y.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var Pvt=typeof window<"u"?Y.useLayoutEffect:Y.useEffect,Bvt=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},$ae=new Map,BMe=function(n){Pvt(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!$ae.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,$ae.set(e,t);var r=Bvt();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},Dvt=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=vJ(n,["className","colorModel","color","onChange"]),a=Y.useRef(null);BMe(a);var l=PMe(t,i,s),c=l[0],u=l[1],f=lR(["react-colorful",e]);return De.createElement("div",AA({},o,{ref:a,className:f}),De.createElement(RMe,{hsva:c,onChange:u}),De.createElement(TMe,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},kvt=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+Dz(Object.assign({},t,{a:0}))+", "+Dz(Object.assign({},t,{a:1}))+")"},s=lR(["react-colorful__alpha",e]),o=za(100*t.a);return De.createElement("div",{className:s},De.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),De.createElement(yJ,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:NS(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},De.createElement(xJ,{className:"react-colorful__alpha-pointer",left:t.a,color:Dz(t)})))},Ivt=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=vJ(n,["className","colorModel","color","onChange"]),a=Y.useRef(null);BMe(a);var l=PMe(t,i,s),c=l[0],u=l[1],f=lR(["react-colorful",e]);return De.createElement("div",AA({},o,{ref:a,className:f}),De.createElement(RMe,{hsva:c,onChange:u}),De.createElement(TMe,{hue:c.h,onChange:u}),De.createElement(kvt,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},Lvt={defaultColor:{r:0,g:0,b:0,a:1},toHsva:CMe,fromHsva:EMe,equal:_J},Ovt=function(n){return De.createElement(Ivt,AA({},n,{colorModel:Lvt}))},Fvt={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return CMe({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=EMe(n)).r,g:e.g,b:e.b};var e},equal:_J},Nvt=function(n){return De.createElement(Dvt,AA({},n,{colorModel:Fvt}))};function Uvt(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function MA(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function EA(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function zvt(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Gvt(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(zvt(arguments[e]));return n}var Hvt=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function cR(n,e){var t=Vvt(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Vvt(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=Hvt.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var jvt=[".DS_Store","Thumbs.db"];function Wvt(n){return MA(this,void 0,void 0,function(){return EA(this,function(e){return kL(n)&&$vt(n)?[2,Kvt(n.dataTransfer,n.type)]:Xvt(n)?[2,Jvt(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Yvt(n)]:[2,[]]})})}function $vt(n){return kL(n.dataTransfer)}function Xvt(n){return kL(n)&&kL(n.target)}function kL(n){return typeof n=="object"&&n!==null}function Jvt(n){return dV(n.target.files).map(function(e){return cR(e)})}function Yvt(n){return MA(this,void 0,void 0,function(){var e;return EA(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return cR(r)})]}})})}function Kvt(n,e){return MA(this,void 0,void 0,function(){var t,r;return EA(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=dV(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(qvt))]):[3,2];case 1:return r=i.sent(),[2,Xae(DMe(r))];case 2:return[2,Xae(dV(n.files).map(function(s){return cR(s)}))]}})})}function Xae(n){return n.filter(function(e){return jvt.indexOf(e.name)===-1})}function dV(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function qvt(n){if(typeof n.webkitGetAsEntry!="function")return Jae(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?kMe(e):Jae(n)}function DMe(n){return n.reduce(function(e,t){return Gvt(e,Array.isArray(t)?DMe(t):[t])},[])}function Jae(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=cR(e);return Promise.resolve(t)}function Qvt(n){return MA(this,void 0,void 0,function(){return EA(this,function(e){return[2,n.isDirectory?kMe(n):Zvt(n)]})})}function kMe(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return MA(o,void 0,void 0,function(){var l,c,u;return EA(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),t(l),[3,4];case 3:return c=f.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(Qvt)),i.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function Zvt(n){return MA(this,void 0,void 0,function(){return EA(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=cR(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var eyt=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function Yae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Kae(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yae(Object(t),!0).forEach(function(r){IMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yae(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function IMe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qae(n,e){return iyt(n)||ryt(n,e)||nyt(n,e)||tyt()}function tyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nyt(n,e){if(n){if(typeof n=="string")return Qae(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qae(n,e)}}function Qae(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ryt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function iyt(n){if(Array.isArray(n))return n}var syt="file-invalid-type",oyt="file-too-large",ayt="file-too-small",lyt="too-many-files",cyt=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:syt,message:"File type must be ".concat(t)}},Zae=function(e){return{code:oyt,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ele=function(e){return{code:ayt,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},uyt={code:lyt,message:"Too many files"};function LMe(n,e){var t=n.type==="application/x-moz-file"||eyt(n,e);return[t,t?null:cyt(e)]}function OMe(n,e,t){if(P2(n.size))if(P2(e)&&P2(t)){if(n.size>t)return[!1,Zae(t)];if(n.size<e)return[!1,ele(e)]}else{if(P2(e)&&n.size<e)return[!1,ele(e)];if(P2(t)&&n.size>t)return[!1,Zae(t)]}return[!0,null]}function P2(n){return n!=null}function fyt(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=LMe(a,t),c=qae(l,1),u=c[0],f=OMe(a,r,i),d=qae(f,1),p=d[0];return u&&p})}function IL(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function yD(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function tle(n){n.preventDefault()}function dyt(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function hyt(n){return n.indexOf("Edge/")!==-1}function pyt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return dyt(n)||hyt(n)}function Cd(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!IL(r)&&a&&a.apply(void 0,[r].concat(s)),IL(r)})}}function myt(){return"showOpenFilePicker"in window}function gyt(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return Kae(Kae({},e),{},IMe({},t,[]))},{}):{}}]}function vyt(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function yyt(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var xyt=["children"],_yt=["open"],byt=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],wyt=["refKey","onChange","onClick"];function Syt(n){return Eyt(n)||Myt(n)||FMe(n)||Ayt()}function Ayt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Myt(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Eyt(n){if(Array.isArray(n))return hV(n)}function kz(n,e){return Ryt(n)||Tyt(n,e)||FMe(n,e)||Cyt()}function Cyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FMe(n,e){if(n){if(typeof n=="string")return hV(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hV(n,e)}}function hV(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Tyt(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Ryt(n){if(Array.isArray(n))return n}function nle(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function di(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nle(Object(t),!0).forEach(function(r){pV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nle(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pV(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LL(n,e){if(n==null)return{};var t=Pyt(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Pyt(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var bJ=Y.forwardRef(function(n,e){var t=n.children,r=LL(n,xyt),i=UMe(r),s=i.open,o=LL(i,_yt);return Y.useImperativeHandle(e,function(){return{open:s}},[s]),De.createElement(Y.Fragment,null,t(di(di({},o),{},{open:s})))});bJ.displayName="Dropzone";var NMe={disabled:!1,getFilesFromEvent:Wvt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};bJ.defaultProps=NMe;bJ.propTypes={children:Er.func,accept:Er.oneOfType([Er.string,Er.arrayOf(Er.string)]),multiple:Er.bool,preventDropOnDocument:Er.bool,noClick:Er.bool,noKeyboard:Er.bool,noDrag:Er.bool,noDragEventsBubbling:Er.bool,minSize:Er.number,maxSize:Er.number,maxFiles:Er.number,disabled:Er.bool,getFilesFromEvent:Er.func,onFileDialogCancel:Er.func,onFileDialogOpen:Er.func,useFsAccessApi:Er.bool,onDragEnter:Er.func,onDragLeave:Er.func,onDragOver:Er.func,onDrop:Er.func,onDropAccepted:Er.func,onDropRejected:Er.func,validator:Er.func};var mV={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function UMe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=di(di({},NMe),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,d=e.onDrop,p=e.onDropAccepted,m=e.onDropRejected,g=e.onFileDialogCancel,y=e.onFileDialogOpen,x=e.useFsAccessApi,_=e.preventDropOnDocument,b=e.noClick,w=e.noKeyboard,M=e.noDrag,C=e.noDragEventsBubbling,R=e.validator,E=Y.useMemo(function(){return typeof y=="function"?y:rle},[y]),B=Y.useMemo(function(){return typeof g=="function"?g:rle},[g]),D=Y.useRef(null),N=Y.useRef(null),z=Y.useReducer(Byt,mV),H=kz(z,2),U=H[0],W=H[1],X=U.isFocused,q=U.isFileDialogActive,L=U.draggedFiles,I=Y.useRef(typeof window<"u"&&window.isSecureContext&&x&&myt()),O=function(){!I.current&&q&&setTimeout(function(){if(N.current){var Q=N.current.files;Q.length||(W({type:"closeDialog"}),B())}},300)};Y.useEffect(function(){return window.addEventListener("focus",O,!1),function(){window.removeEventListener("focus",O,!1)}},[N,q,B,I]);var F=Y.useRef([]),j=function(Q){D.current&&D.current.contains(Q.target)||(Q.preventDefault(),F.current=[])};Y.useEffect(function(){return _&&(document.addEventListener("dragover",tle,!1),document.addEventListener("drop",j,!1)),function(){_&&(document.removeEventListener("dragover",tle),document.removeEventListener("drop",j))}},[D,_]);var te=Y.useCallback(function(k){k.preventDefault(),k.persist(),Ce(k),F.current=[].concat(Syt(F.current),[k.target]),yD(k)&&Promise.resolve(i(k)).then(function(Q){IL(k)&&!C||(W({draggedFiles:Q,isDragActive:!0,type:"setDraggedFiles"}),c&&c(k))})},[i,c,C]),re=Y.useCallback(function(k){k.preventDefault(),k.persist(),Ce(k);var Q=yD(k);if(Q&&k.dataTransfer)try{k.dataTransfer.dropEffect="copy"}catch{}return Q&&f&&f(k),!1},[f,C]),se=Y.useCallback(function(k){k.preventDefault(),k.persist(),Ce(k);var Q=F.current.filter(function(Me){return D.current&&D.current.contains(Me)}),ce=Q.indexOf(k.target);ce!==-1&&Q.splice(ce,1),F.current=Q,!(Q.length>0)&&(W({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),yD(k)&&u&&u(k))},[D,u,C]),K=Y.useCallback(function(k,Q){var ce=[],Me=[];k.forEach(function(Re){var Ue=LMe(Re,t),Pe=kz(Ue,2),xe=Pe[0],Xe=Pe[1],Ge=OMe(Re,o,s),je=kz(Ge,2),He=je[0],Oe=je[1],qe=R?R(Re):null;if(xe&&He&&!qe)ce.push(Re);else{var tt=[Xe,Oe];qe&&(tt=tt.concat(qe)),Me.push({file:Re,errors:tt.filter(function(pt){return pt})})}}),(!a&&ce.length>1||a&&l>=1&&ce.length>l)&&(ce.forEach(function(Re){Me.push({file:Re,errors:[uyt]})}),ce.splice(0)),W({acceptedFiles:ce,fileRejections:Me,type:"setFiles"}),d&&d(ce,Me,Q),Me.length>0&&m&&m(Me,Q),ce.length>0&&p&&p(ce,Q)},[W,a,t,o,s,l,d,p,m,R]),le=Y.useCallback(function(k){k.preventDefault(),k.persist(),Ce(k),F.current=[],yD(k)&&Promise.resolve(i(k)).then(function(Q){IL(k)&&!C||K(Q,k)}),W({type:"reset"})},[i,K,C]),he=Y.useCallback(function(){if(I.current){W({type:"openDialog"}),E();var k={multiple:a,types:gyt(t)};window.showOpenFilePicker(k).then(function(Q){return i(Q)}).then(function(Q){K(Q,null),W({type:"closeDialog"})}).catch(function(Q){vyt(Q)?(B(Q),W({type:"closeDialog"})):yyt(Q)&&(I.current=!1,N.current&&(N.current.value=null,N.current.click()))});return}N.current&&(W({type:"openDialog"}),E(),N.current.value=null,N.current.click())},[W,E,B,x,K,t,a]),we=Y.useCallback(function(k){!D.current||!D.current.isEqualNode(k.target)||(k.key===" "||k.key==="Enter"||k.keyCode===32||k.keyCode===13)&&(k.preventDefault(),he())},[D,he]),ve=Y.useCallback(function(){W({type:"focus"})},[]),fe=Y.useCallback(function(){W({type:"blur"})},[]),ne=Y.useCallback(function(){b||(pyt()?setTimeout(he,0):he())},[b,he]),oe=function(Q){return r?null:Q},Te=function(Q){return w?null:oe(Q)},be=function(Q){return M?null:oe(Q)},Ce=function(Q){C&&Q.stopPropagation()},We=Y.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=k.refKey,ce=Q===void 0?"ref":Q,Me=k.role,Re=k.onKeyDown,Ue=k.onFocus,Pe=k.onBlur,xe=k.onClick,Xe=k.onDragEnter,Ge=k.onDragOver,je=k.onDragLeave,He=k.onDrop,Oe=LL(k,byt);return di(di(pV({onKeyDown:Te(Cd(Re,we)),onFocus:Te(Cd(Ue,ve)),onBlur:Te(Cd(Pe,fe)),onClick:oe(Cd(xe,ne)),onDragEnter:be(Cd(Xe,te)),onDragOver:be(Cd(Ge,re)),onDragLeave:be(Cd(je,se)),onDrop:be(Cd(He,le)),role:typeof Me=="string"&&Me!==""?Me:"button"},ce,D),!r&&!w?{tabIndex:0}:{}),Oe)}},[D,we,ve,fe,ne,te,re,se,le,w,M,r]),Se=Y.useCallback(function(k){k.stopPropagation()},[]),ke=Y.useMemo(function(){return function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=k.refKey,ce=Q===void 0?"ref":Q,Me=k.onChange,Re=k.onClick,Ue=LL(k,wyt),Pe=pV({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:oe(Cd(Me,le)),onClick:oe(Cd(Re,Se)),tabIndex:-1},ce,N);return di(di({},Pe),Ue)}},[N,t,a,le,r]),Ve=L.length,Ee=Ve>0&&fyt({files:L,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),V=Ve>0&&!Ee;return di(di({},U),{},{isDragAccept:Ee,isDragReject:V,isFocused:X&&!r,getRootProps:We,getInputProps:ke,rootRef:D,inputRef:N,open:oe(he)})}function Byt(n,e){switch(e.type){case"focus":return di(di({},n),{},{isFocused:!0});case"blur":return di(di({},n),{},{isFocused:!1});case"openDialog":return di(di({},mV),{},{isFileDialogActive:!0});case"closeDialog":return di(di({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return di(di({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return di(di({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return di({},mV);default:return n}}function rle(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Dyt=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var kyt=Dyt;function ile(n){return kyt(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var zMe=function(e){var t,r;return!(ile(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,ile(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Iyt=zMe,wJ=function(e){return Iyt(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Lyt=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},Oyt=wJ,Fyt=Lyt;function GMe(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];gV(i)&&Fyt(i,Nyt,n)}return n}function Nyt(n,e){if(Uyt(e)){var t=this[e];gV(n)&&gV(t)?GMe(t,n):this[e]=n}}function gV(n){return Oyt(n)&&!Array.isArray(n)}function Uyt(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var zyt=GMe;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Gyt=function(n,e,t,r,i){if(!Hyt(n)||!e)return n;if(e=xD(e),t&&(e+="."+xD(t)),r&&(e+="."+xD(r)),i&&(e+="."+xD(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function Hyt(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function xD(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Vyt=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(r[c]=o[c])}return r},jyt=wJ,Wyt=Vyt,$yt=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");sle(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];Jyt(t)&&(t=Yyt(t)),sle(t)&&(Xyt(n,t),Wyt(n,t))}return n};function Xyt(n,e){for(var t in e)Kyt(e,t)&&(n[t]=e[t])}function Jyt(n){return n&&typeof n=="string"}function Yyt(n){var e={};for(var t in n)e[t]=n[t];return e}function sle(n){return n&&typeof n=="object"||jyt(n)}function Kyt(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var qyt=$yt,Qyt=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=qyt({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,u=n.length,f=-1,d;function p(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var m=n[f],g=n[f+1],y={val:m,idx:f,arr:l,str:n};if(o.push(y),m==="\\"){y.val=e1t(r,n,f)===!0?m+g:g,y.escaped=!0,typeof t=="function"&&t(y),l[l.length-1]+=y.val,f++;continue}if(s&&s[m]){a.push(m);var x=p(),_=f+1;if(n.indexOf(x,_+1)!==-1)for(;a.length&&_<u;){var b=n[++_];if(b==="\\"){b++;continue}if(i.indexOf(b)!==-1){_=vV(n,b,_+1);continue}if(x=p(),a.length&&n.indexOf(x,_+1)===-1)break;if(s[b]){a.push(b);continue}x===b&&a.pop()}if(d=_,d===-1){l[l.length-1]+=m;continue}m=n.slice(f,d+1),y.val=m,y.idx=f=d}if(i.indexOf(m)!==-1){if(d=vV(n,m,f+1),d===-1){l[l.length-1]+=m;continue}Zyt(m,r)===!0?m=n.slice(f,d+1):m=n.slice(f+1,d),y.val=m,y.idx=f=d}if(typeof t=="function"&&(t(y,o),m=y.val,f=y.idx),y.val===c&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function vV(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?vV(n,e,i+1):i}function Zyt(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function e1t(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var t1t=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},ole=t1t,n1t=function(e){ole(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];ole(i)&&r1t(e,i)}return e};function r1t(n,e){for(var t in e)i1t(e,t)&&(n[t]=e[t])}function i1t(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var s1t=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var o1t=Qyt,a1t=n1t,ale=zMe,lle=s1t,l1t=function(n,e,t){if(!lle(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=o1t(e,{sep:".",brackets:!0}).filter(c1t),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){lle(o[a])||(o[a]={}),o=o[a];continue}ale(o[a])&&ale(t)?o[a]=a1t({},o[a],t):o[a]=t}return n};function c1t(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var Iz=wJ,cle=zyt,u1t=Gyt,ule=l1t,f1t=function(e,t,r){if(!Iz(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return cle.apply(null,arguments);if(typeof r=="string")return ule(e,t,r),e;var i=u1t(e,t);return Iz(r)&&Iz(i)&&(r=cle({},i,r)),ule(e,t,r),e};const d1t=aA(f1t),SJ=(...n)=>n.filter(Boolean).join(".");function h1t(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function p1t(n,e){return Object.entries(Wgt(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function m1t(n,e){const t=Y.useRef();return FT(n,t.current)||(t.current=n),t.current}function HMe(n,e){return Y.useMemo(n,m1t(e))}function g1t(n){const e=Y.useRef(null),t=Y.useRef(null),r=Y.useRef(!0);return Y.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),Y.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const v1t=n=>{const[e,t]=Y.useState(n.getVisiblePaths());return Y.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:HF});return()=>r()},[n]),e};function y1t(n,e,t){return n.useStore(i=>{const s=an(an({},t),i.data);return p1t(s,e)},HF)}function VMe(n=3){const e=Y.useRef(null),t=Y.useRef(null),[r,i]=Y.useState(!1),s=Y.useCallback(()=>i(!0),[]),o=Y.useCallback(()=>i(!1),[]);return Y.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=t.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",f==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}Tvt([Rvt]);const x1t={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};gl.extend({color:()=>n=>Oa(n).isValid()});const _1t=n=>gl().color().test(n);function jMe(n,{format:e,hasAlpha:t,isString:r}){const i=x1t[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?$gt(s,["a"]):s}const WMe=(n,e)=>{const t=Oa(n);if(!t.isValid())throw Error("Invalid color");return jMe(t,e)},b1t=(n,e)=>jMe(Oa(n),an(an({},e),{},{isString:!0,format:"hex"})),w1t=({value:n})=>{const e=Cvt(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:WMe(n,i),settings:i}};var S1t=Object.freeze({__proto__:null,schema:_1t,sanitize:WMe,format:b1t,normalize:w1t});const A1t=qt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),M1t=qt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),E1t=qt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function fle(n,e){return e!=="rgb"?Oa(n).toRgb():n}function C1t({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=ya(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:u,show:f,hide:d}=VMe(),p=Y.useRef(0),[m,g]=Y.useState(()=>fle(n,o)),y=a?Ovt:Nvt,x=()=>{g(fle(n,o)),f(),i()},_=()=>{d(),s(),window.clearTimeout(p.current)},b=()=>{p.current=window.setTimeout(_,500)};return Y.useEffect(()=>()=>window.clearTimeout(p.current),[]),De.createElement(De.Fragment,null,De.createElement(A1t,{ref:l,active:u,onClick:()=>x(),style:{color:e}}),u&&De.createElement(pJ,null,De.createElement(dMe,{onPointerUp:_}),De.createElement(E1t,{ref:c,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:w=>w.buttons===0&&b()},De.createElement(y,{color:m,onChange:r}))))}function T1t(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=ya();return De.createElement(Yu,{input:!0},De.createElement(sd,null,t),De.createElement(M1t,null,De.createElement(C1t,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),De.createElement(hJ,{value:e,onChange:r,onUpdate:i})))}var R1t=an({component:T1t},S1t);function P1t(){const{label:n,displayValue:e,onUpdate:t,settings:r}=ya();return De.createElement(Yu,{input:!0},De.createElement(sd,null,n),De.createElement(gJ,{value:e,settings:r,onUpdate:t}))}var B1t=an({component:P1t},_Me(["x","y","z"]));const D1t=qt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),k1t=qt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function I1t({value:n,settings:e,onUpdate:t}){const r=Y.useRef(),i=Y.useRef(0),s=Y.useRef(0),o=Y.useRef(1),[a,l]=Y.useState(!1),[c,u]=Y.useState(!1),[f,d]=pMe(),p=Y.useRef(null),m=Y.useRef(null);Y.useLayoutEffect(()=>{if(a){const{top:z,left:H,width:U,height:W}=p.current.getBoundingClientRect();m.current.style.left=H+U/2+"px",m.current.style.top=z+W/2+"px"}},[a]);const{keys:[g,y],joystick:x}=e,_=x==="invertY"?1:-1,{[g]:{step:b},[y]:{step:w}}=e,M=Op("sizes","joystickWidth"),C=Op("sizes","joystickHeight"),R=parseFloat(M)*.8/2,E=parseFloat(C)*.8/2,B=Y.useCallback(()=>{r.current||(u(!0),i.current&&d({x:i.current*R}),s.current&&d({y:s.current*-E}),r.current=window.setInterval(()=>{t(z=>{const H=b*i.current*o.current,U=_*w*s.current*o.current;return Array.isArray(z)?{[g]:z[0]+H,[y]:z[1]+U}:{[g]:z[g]+H,[y]:z[y]+U}})},16))},[R,E,t,d,b,w,g,y,_]),D=Y.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);Y.useEffect(()=>{function z(H){o.current=QAe(H)}return window.addEventListener("keydown",z),window.addEventListener("keyup",z),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",z),window.removeEventListener("keyup",z)}},[]);const N=aR(({first:z,active:H,delta:[U,W],movement:[X,q]})=>{z&&l(!0);const L=V0(X,-R,R),I=V0(q,-E,E);i.current=Math.abs(X)>Math.abs(L)?Math.sign(X-L):0,s.current=Math.abs(q)>Math.abs(I)?Math.sign(I-q):0;let O=n[g],F=n[y];H?(i.current||(O+=U*b*o.current,d({x:L})),s.current||(F-=_*W*w*o.current,d({y:I})),i.current||s.current?B():D(),t({[g]:O,[y]:F})):(l(!1),i.current=0,s.current=0,d({x:0,y:0}),D())});return De.createElement(D1t,Vi({ref:p},N()),a&&De.createElement(pJ,null,De.createElement(k1t,{ref:m,isOutOfBounds:c},De.createElement("div",null),De.createElement("span",{ref:f}))))}const L1t=qt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function O1t(){const{label:n,displayValue:e,onUpdate:t,settings:r}=ya();return De.createElement(Yu,{input:!0},De.createElement(sd,null,n),De.createElement(L1t,{withJoystick:!!r.joystick},r.joystick&&De.createElement(I1t,{value:e,settings:r,onUpdate:t}),De.createElement(gJ,{value:e,settings:r,onUpdate:t})))}const F1t=["joystick"],$Me=_Me(["x","y"]),N1t=n=>{let{joystick:e=!0}=n,t=dr(n,F1t);const{value:r,settings:i}=$Me.normalize(t);return{value:r,settings:an(an({},i),{},{joystick:e})}};var U1t=an(an({component:O1t},$Me),{},{normalize:N1t});const z1t=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |File].")}},G1t=(n,e)=>typeof e=="object"&&"image"in e,H1t=({image:n})=>({value:n});var V1t=Object.freeze({__proto__:null,sanitize:z1t,schema:G1t,normalize:H1t});const j1t=qt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),W1t=qt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),$1t=qt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),X1t=qt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),J1t=qt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Y1t=qt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function K1t(){const{label:n,value:e,onUpdate:t,disabled:r}=ya(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=VMe(),c=Y.useCallback(m=>{m.length&&t(m[0])},[t]),u=Y.useCallback(m=>{m.stopPropagation(),t(void 0)},[t]),{getRootProps:f,getInputProps:d,isDragAccept:p}=UMe({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return De.createElement(Yu,{input:!0},De.createElement(sd,null,n),De.createElement(j1t,null,De.createElement($1t,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&De.createElement(pJ,null,De.createElement(dMe,{onPointerUp:l,style:{cursor:"pointer"}}),De.createElement(X1t,{ref:s,style:{backgroundImage:`url(${e})`}})),De.createElement(W1t,f({isDragAccept:p}),De.createElement("input",d()),De.createElement(J1t,null,p?"drop image":"click or drop")),De.createElement(Y1t,{onClick:u,disabled:!e})))}var q1t=an({component:K1t},V1t);const dle=gl().number(),Q1t=(n,e)=>gl().array().length(2).every.number().test(n)&&gl().schema({min:dle,max:dle}).test(e),OL=n=>({min:n[0],max:n[1]}),XMe=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?OL(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=an(an({},s),i);return[V0(Number(o),e,Math.max(e,a)),V0(Number(a),Math.min(t,o),t)]},Z1t=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=xMe(OL(n),{min:r,max:r}),s=[e,t],o=an(an({},i),{},{bounds:s});return{value:XMe(OL(n),o,n),settings:o}};var ext=Object.freeze({__proto__:null,schema:Q1t,format:OL,sanitize:XMe,normalize:Z1t});const txt=["value","bounds","onDrag"],nxt=["bounds"],rxt=qt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function ixt(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=dr(n,txt);const o=Y.useRef(null),a=Y.useRef(null),l=Y.useRef(null),c=Y.useRef(0),u=Op("sizes","scrubberWidth"),f=aR(({event:m,first:g,xy:[y],movement:[x],memo:_={}})=>{if(g){const{width:w,left:M}=o.current.getBoundingClientRect();c.current=w-parseFloat(u);const C=(m==null?void 0:m.target)===a.current||(m==null?void 0:m.target)===l.current;_.pos=BL((y-M)/w,t,r);const R=Math.abs(_.pos-e.min)-Math.abs(_.pos-e.max);_.key=R<0||R===0&&_.pos<=e.min?"min":"max",C&&(_.pos=e[_.key])}const b=_.pos+BL(x/c.current,0,r-t);return i({[_.key]:I0t(b,s[_.key])}),_}),d=`calc(${PL(e.min,t,r)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-PL(e.max,t,r)} * (100% - ${u} - 8px) + 4px)`;return De.createElement(gMe,Vi({ref:o},f()),De.createElement(mMe,null,De.createElement(vMe,{style:{left:d,right:p}})),De.createElement(sV,{position:"left",ref:a,style:{left:d}}),De.createElement(sV,{position:"right",ref:l,style:{right:p}}))}function sxt(){const{label:n,displayValue:e,onUpdate:t,settings:r}=ya(),i=dr(r,nxt);return De.createElement(De.Fragment,null,De.createElement(Yu,{input:!0},De.createElement(sd,null,n),De.createElement(rxt,null,De.createElement(ixt,Vi({value:e},r,{onDrag:t})),De.createElement(gJ,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var oxt=an({component:sxt},ext);const axt=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},lxt=["type","value"],cxt=["onChange","transient","onEditStart","onEditEnd"],uxt=function(){const e=vbe(pat(()=>({data:{}}))),t=axt();this.storeId=jgt(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([u,f])=>{f.render&&a.some(d=>d.indexOf(u)===0)&&!f.render(this.get)&&l.push(u+".")});const c=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&l.every(f=>u.indexOf(f)===-1)&&(!o[u].render||o[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in Gf&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{let d=c[u];if(d){const{type:p,value:m}=f,g=dr(f,lxt);p!==d.type?pp(pi.INPUT_TYPE_OVERRIDE,p):((d.__refCount===0||a)&&Object.assign(d,g),d.__refCount++)}else c[u]=an(an({},f),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const u=c.data;return Oae(u[o],a,o,this,l),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=an(an({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{try{Oae(c[u],f,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{pp(pi.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,an(an({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,an(an({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([u,f])=>{if(u==="")return pp(pi.EMPTY_KEY);let d=SJ(a,u);if(f.type===Gf.FOLDER){const p=s(f.schema,d,l);Object.assign(c,p),d in r||(r[d]=f.settings)}else if(u in l)pp(pi.DUPLICATE_KEYS,u,d,l[u].path);else{const p=Qgt(f,u,d,c);if(p){const{type:m,options:g,input:y}=p,{onChange:x,transient:_,onEditStart:b,onEditEnd:w}=g,M=dr(g,cxt);c[d]=an(an(an({type:m},M),y),{},{fromPanel:!0}),l[u]={path:d,onChange:x,transient:_,onEditStart:b,onEditEnd:w}}else pp(pi.UNKNOWN_INPUT,d,f)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},JMe=new uxt,fxt={collapsed:!1};function dxt(n,e){return{type:Gf.FOLDER,schema:n,settings:an(an({},fxt),e)}}const hle=n=>"__levaInput"in n,hxt=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=h1t(i);(!r||s.toLowerCase().indexOf(r)>-1)&&d1t(t,o,{[s]:{__levaInput:!0,path:i}})}),t},pxt=["type","label","path","valueKey","value","settings","setValue","disabled"];function mxt(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,c=dr(n,pxt);const{displayValue:u,onChange:f,onUpdate:d}=hMe({type:e,value:s,settings:o,setValue:a}),p=cx[e].component;return p?De.createElement(rMe.Provider,{value:an({key:i,path:r,id:""+r,label:t,displayValue:u,value:s,onChange:f,onUpdate:d,settings:o,setValue:a,disabled:l},c)},De.createElement(y0t,{disabled:l},De.createElement(p,null))):(pp(pi.NO_COMPONENT_FOR_TYPE,e,r),null)}const gxt=qt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function vxt({onClick:n,settings:e,label:t}){const r=oR();return De.createElement(Yu,null,De.createElement(gxt,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const yxt=qt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),xxt=qt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),_xt=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function bxt(n){const{label:e,opts:t}=_xt(n),r=oR();return De.createElement(Yu,{input:!!e},e&&De.createElement(sd,null,e),De.createElement(yxt,null,Object.entries(t).map(([i,s])=>De.createElement(xxt,{key:i,onClick:()=>s(r.get)},i))))}const wxt=qt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),YMe=100;function Sxt(n,e){n.push(e),n.length>YMe&&n.shift()}const Axt=Y.forwardRef(function({initialValue:n},e){const t=Op("colors","highlight3"),r=Op("colors","elevation2"),i=Op("colors","highlight1"),[s,o]=Y.useMemo(()=>[Oa(i).alpha(.4).toRgbString(),Oa(i).alpha(.1).toRgbString()],[i]),a=Y.useRef([n]),l=Y.useRef(n),c=Y.useRef(n),u=Y.useRef(),f=Y.useCallback((m,g)=>{if(!m)return;const{width:y,height:x}=m,_=new Path2D,b=y/YMe,w=x*.05;for(let R=0;R<a.current.length;R++){const E=PL(a.current[R],l.current,c.current),B=b*R,D=x-E*(x-w*2)-w;_.lineTo(B,D)}g.clearRect(0,0,y,x);const M=new Path2D(_);M.lineTo(b*(a.current.length+1),x),M.lineTo(0,x),M.lineTo(0,0);const C=g.createLinearGradient(0,0,0,x);C.addColorStop(0,s),C.addColorStop(1,o),g.fillStyle=C,g.fill(M),g.strokeStyle=r,g.lineJoin="round",g.lineWidth=14,g.stroke(_),g.strokeStyle=t,g.lineWidth=2,g.stroke(_)},[t,r,s,o]),[d,p]=C0t(f);return Y.useImperativeHandle(e,()=>({frame:m=>{(l.current===void 0||m<l.current)&&(l.current=m),(c.current===void 0||m>c.current)&&(c.current=m),Sxt(a.current,m),u.current=requestAnimationFrame(()=>f(d.current,p.current))}}),[d,p,f]),Y.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),De.createElement(wxt,{ref:d})}),ple=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),Mxt=Y.forwardRef(function({initialValue:n},e){const[t,r]=Y.useState(ple(n));return Y.useImperativeHandle(e,()=>({frame:i=>r(ple(i))}),[]),De.createElement("div",null,t)});function mle(n){return typeof n=="function"?n():n.current}function Ext({label:n,objectOrFn:e,settings:t}){const r=Y.useRef(),i=Y.useRef(mle(e));return Y.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(mle(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),De.createElement(Yu,{input:!0},De.createElement(sd,{align:"top"},n),t.graph?De.createElement(Axt,{ref:r,initialValue:i.current}):De.createElement(Mxt,{ref:r,initialValue:i.current}))}const Cxt=["type","label","key"],Txt={[Gf.BUTTON]:vxt,[Gf.BUTTON_GROUP]:bxt,[Gf.MONITOR]:Ext},Rxt=De.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=R0t(n);if(!e)return null;const{type:l,label:c,key:u}=e,f=dr(e,Cxt);if(l in Gf){const d=Txt[l];return De.createElement(d,Vi({label:c,path:n},f))}return l in cx?De.createElement(mxt,Vi({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:u,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(Ogt(pi.UNSUPPORTED_INPUT,l,n),null)});function Pxt({toggle:n,toggled:e,name:t}){return De.createElement(m0t,{onClick:()=>n()},De.createElement(mJ,{toggled:e}),De.createElement("div",null,t))}const Bxt=({name:n,path:e,tree:t})=>{const r=oR(),i=SJ(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=Y.useState(!s),c=Y.useRef(null),u=Op("colors","folderWidgetColor"),f=Op("colors","folderTextColor");return Y.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),De.createElement(DL,{ref:c},De.createElement(Pxt,{name:n,toggled:a,toggle:()=>l(d=>!d)}),De.createElement(KMe,{parent:i,tree:t,toggled:a}))},KMe=De.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=g1t(s),l=oR(),c=([f,d])=>{var p;return(hle(d)?(p=l.getInput(d.path))===null||p===void 0?void 0:p.order:l.getFolderSettings(SJ(r,f)).order)||0},u=Object.entries(i).sort((f,d)=>c(f)-c(d));return De.createElement(rV,{ref:o,isRoot:n,fill:e,flat:t},De.createElement(cMe,{ref:a,isRoot:n,toggled:s},u.map(([f,d])=>hle(d)?De.createElement(Rxt,{key:d.path,valueKey:d.valueKey,path:d.path}):De.createElement(Bxt,{key:f,name:f,path:r,tree:d}))))}),Dxt=qt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${fMe}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),qMe=40,FL=qt("i",{$flexCenter:"",width:qMe,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),kxt=qt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Ixt=qt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${FL}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Lxt=qt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Oxt=qt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:qMe}}}}),Fxt=De.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=Y.useState(""),s=Y.useMemo(()=>qAe(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return Y.useEffect(()=>{s(r)},[r,s]),De.createElement(De.Fragment,null,De.createElement(Lxt,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),De.createElement(FL,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},De.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Nxt({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,f]=Y.useState(!1),d=Y.useRef(null);Y.useEffect(()=>{var m,g;u?(m=d.current)===null||m===void 0||m.focus():(g=d.current)===null||g===void 0||g.blur()},[u]);const p=aR(({offset:[m,g],first:y,last:x})=>{e({x:m,y:g}),y&&t({x:m,y:g}),x&&r({x:m,y:g})},{filterTaps:!0,from:({offset:[m,g]})=>[(c==null?void 0:c.x)||m,(c==null?void 0:c.y)||g]});return Y.useEffect(()=>{const m=g=>{g.key==="L"&&g.shiftKey&&g.metaKey&&f(y=>!y)};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[]),De.createElement(De.Fragment,null,De.createElement(kxt,{mode:a?"drag":void 0},De.createElement(FL,{active:!s,onClick:()=>i()},De.createElement(mJ,{toggled:s,width:12,height:8})),De.createElement(Oxt,Vi({},a?p():{},{drag:a,filterEnabled:l}),o===void 0&&a?De.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},De.createElement("circle",{cx:"2",cy:"2",r:"2"}),De.createElement("circle",{cx:"14",cy:"2",r:"2"}),De.createElement("circle",{cx:"26",cy:"2",r:"2"}),De.createElement("circle",{cx:"2",cy:"12",r:"2"}),De.createElement("circle",{cx:"14",cy:"12",r:"2"}),De.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&De.createElement(FL,{active:u,onClick:()=>f(m=>!m)},De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},De.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),De.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),De.createElement(Ixt,{toggled:u},De.createElement(Fxt,{ref:d,setFilter:n,toggle:i})))}const Uxt=["store","hidden","theme","collapsed"];function zxt(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=dr(n,Uxt);const o=HMe(()=>c0t(r),[r]),[a,l]=Y.useState(!i),c=typeof i=="object"?!i.collapsed:a,u=Y.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:l,[i]);return!e||t?null:De.createElement(dJ.Provider,{value:o},De.createElement(Gxt,Vi({store:e},s,{toggled:c,setToggle:u,rootClass:o.className})))}const Gxt=De.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,f;const d=v1t(n),[p,m]=Y.useState(""),g=Y.useMemo(()=>hxt(d,p),[d,p]),[y,x]=pMe(),_=i||d.length>0,b=typeof o=="object"&&o.title||void 0,w=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,M=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,C=typeof o=="object"&&o.position||void 0,R=typeof o=="object"&&o.onDrag||void 0,E=typeof o=="object"&&o.onDragStart||void 0,B=typeof o=="object"&&o.onDragEnd||void 0;return De.useEffect(()=>{x({x:C==null?void 0:C.x,y:C==null?void 0:C.y})},[C,x]),l0t(),De.createElement(sMe.Provider,{value:{hideCopyButton:a}},De.createElement(Dxt,{ref:y,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:_?"block":"none"}},o&&De.createElement(Nxt,{onDrag:D=>{x(D),R==null||R(D)},onDragStart:D=>E==null?void 0:E(D),onDragEnd:D=>B==null?void 0:B(D),setFilter:m,toggle:D=>c(N=>D??!N),toggled:l,title:b,drag:w,filterEnabled:M,from:C}),_&&De.createElement(iMe.Provider,{value:n},De.createElement(KMe,{isRoot:!0,fill:t,flat:r,tree:g,toggled:l}))))}),Hxt=["isRoot"];let NL=!1,t1=null;function QMe(n){let{isRoot:e=!1}=n,t=dr(n,Hxt);return Y.useEffect(()=>(NL=!0,!e&&t1&&(t1.remove(),t1=null),()=>{e||(NL=!1)}),[e]),De.createElement(zxt,Vi({store:JMe},t))}function Vxt(n){Y.useEffect(()=>{n&&!NL&&(t1||(t1=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(t1),e0t(De.createElement(QMe,{isRoot:!0}),t1))),NL=!0)},[n])}function jxt(n,e,t,r,i){let s,o,a,l,c;return typeof n=="string"?(o=n,s=e,Array.isArray(t)&&(c=t)):(s=n,Array.isArray(e)?c=e:(l=e,c=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function Wxt(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=jxt(n,e,t),u=typeof o=="function",f=Y.useRef(!1),d=Y.useRef(!0),p=HMe(()=>{f.current=!0;const N=typeof o=="function"?o():o;return s?{[s]:dxt(N,a)}:N},c),m=!(l!=null&&l.store);Vxt(m);const[g]=Y.useState(()=>(l==null?void 0:l.store)||JMe),[y,x]=Y.useMemo(()=>g.getDataFromSchema(p),[g,p]),[_,b,w,M,C]=Y.useMemo(()=>{const N=[],z=[],H={},U={},W={};return Object.values(x).forEach(({path:X,onChange:q,onEditStart:L,onEditEnd:I,transient:O})=>{N.push(X),q?(H[X]=q,O||z.push(X)):z.push(X),L&&(U[X]=L),I&&(W[X]=I)}),[N,z,H,U,W]},[x]),R=Y.useMemo(()=>g.orderPaths(_),[_,g]),E=y1t(g,b,y),B=Y.useCallback(N=>{const z=Object.entries(N).reduce((H,[U,W])=>Object.assign(H,{[x[U].path]:W}),{});g.set(z,!1)},[g,x]),D=Y.useCallback(N=>g.get(x[N].path),[g,x]);return Y.useEffect(()=>{const N=!d.current&&f.current;return g.addData(y,N),d.current=!1,f.current=!1,()=>g.disposePaths(R)},[g,R,y]),Y.useEffect(()=>{const N=[];return Object.entries(w).forEach(([z,H])=>{H(g.get(z),z,an({initial:!0,get:g.get},g.getInput(z)));const U=g.useStore.subscribe(W=>{const X=W.data[z];return[X.disabled?void 0:X.value,X]},([W,X])=>H(W,z,an({initial:!1,get:g.get},X)),{equalityFn:HF});N.push(U)}),()=>N.forEach(z=>z())},[g,w]),Y.useEffect(()=>{const N=[];return Object.entries(M).forEach(([z,H])=>N.push(g.subscribeToEditStart(z,H))),Object.entries(C).forEach(([z,H])=>N.push(g.subscribeToEditEnd(z,H))),()=>N.forEach(z=>z())},[M,C,g]),u?[E,B,D]:E}wm(qf.SELECT,$0t);wm(qf.IMAGE,q1t);wm(qf.NUMBER,O0t);wm(qf.COLOR,R1t);wm(qf.STRING,tvt);wm(qf.BOOLEAN,lvt);wm(qf.INTERVAL,oxt);wm(qf.VECTOR3D,B1t);wm(qf.VECTOR2D,U1t);const gle=.08;let vle=0,yle=0,_D=0,bD=0;const $xt=()=>{const n=Y.useRef(),[e,t]=Y.useState(!1),r=()=>{let i=vle-_D,s=yle-bD;_D=_D+i*gle,bD=bD+s*gle,n.current.style.left=`${_D}px`,n.current.style.top=`${bD}px`,requestAnimationFrame(r)};return Y.useEffect(()=>{const i=document.addEventListener("mousemove",function(o){vle=o.pageX,yle=o.pageY}),s=requestAnimationFrame(r);return()=>{document.removeEventListener("mousemove",i),cancelAnimationFrame(s)}},[]),Y.useEffect(()=>{const i=document.addEventListener("mouseover",function(s){s.target.tagName.toLowerCase()==="button"||s.target.parentElement.tagName.toLowerCase()==="button"||s.target.tagName.toLowerCase()==="input"||s.target.tagName.toLowerCase()==="textarea"?t(!0):t(!1)});return()=>{document.removeEventListener("mouseover",i)}},[]),Ne.jsx(Ne.Fragment,{children:Ne.jsx("div",{className:`z-50 fixed -translate-x-1/2 -translate-y-1/2 rounded-full pointer-events-none transition-transform
        ${e?"bg-transparent border-2 border-indigo-900 w-5 h-5":"bg-indigo-500 w-3 h-3"}`,ref:n})})};function Xxt(n,{whileHover:e,onHoverStart:t,onHoverEnd:r,onPointerOver:i,onPointerOut:s},o){return n||!o||!(e||t||r)?{}:{onPointerOver:l=>{var c;(c=o.animationState)===null||c===void 0||c.setActive("whileHover",!0),i&&i(l)},onPointerOut:l=>{var c;(c=o.animationState)===null||c===void 0||c.setActive("whileHover",!1),s&&s(l)}}}function Jxt(n,{whileTap:e,onTapStart:t,onTap:r,onTapCancel:i,onPointerDown:s},o){const a=r||t||i||e,l=Y.useRef(!1),c=Y.useRef(null);if(n||!o||!a)return{};function u(){var m;(m=c.current)===null||m===void 0||m.call(c),c.current=null}function f(){var m;return u(),l.current=!1,(m=o.animationState)===null||m===void 0||m.setActive("whileTap",!1),!VX()}function d(m,g){f()&&(r==null||r(m,g))}function p(m,g){f()&&(i==null||i(m,g))}return{onPointerDown:Xwe((m,g)=>{var y;if(u(),l.current)return;l.current=!0;const x={passive:!(t||r||i||s)};c.current=Lp(zf(window,"pointerup",d,x),zf(window,"pointercancel",p,x)),(y=o.animationState)===null||y===void 0||y.setActive("whileTap",!0),s==null||s(m),t==null||t(m,g)})}}const Yxt=(n,e,t,r,i,s)=>{const o=Kxt(e);return Y.createElement(n,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ref:t},zwe(e,!1,!1)),o),{onUpdate:e.onInstanceUpdate}),Xxt(i,e,s)),Jxt(i,e,s)))};function Kxt(n){return Y.useMemo(()=>{const e={};for(const t in n){const r=n[t];zi(r)?e[t]=r.get():Array.isArray(r)&&r.includes(zi)&&(e[t]=r.map(qE))}return e},[])}const ZMe=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new me(e)),r[n].setComponent(t,i)},qxt=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new fc(e));const s=r[n];s[t]=i},xle=n=>(e,t)=>{e[n]===void 0&&(e[n]=new dt(t)),e[n].set(t)},Lz=ZMe("scale",1),Oz=ZMe("position",0),Fz=qxt("rotation",0),_le={x:Oz(0),y:Oz(1),z:Oz(2),scale:(n,e)=>{n.scale===void 0&&(n.scale=new me(1)),n.scale.set(e,e,e)},scaleX:Lz(0),scaleY:Lz(1),scaleZ:Lz(2),rotateX:Fz("x"),rotateY:Fz("y"),rotateZ:Fz("z"),color:xle("color"),specular:xle("specular")};function Qxt(n,e,t){_le[e]?_le[e](n,t[e]):(e==="opacity"&&!n.transparent&&(n.transparent=!0),n[e]=t[e])}const AJ=(n,e)=>t=>r=>{const i=r[n];return i?i[t]:e},Nz=AJ("position",0),wD=AJ("scale",1),Uz=AJ("rotation",0),ble={x:Nz("x"),y:Nz("y"),z:Nz("z"),scale:wD("x"),scaleX:wD("x"),scaleY:wD("y"),scaleZ:wD("z"),rotateX:Uz("x"),rotateY:Uz("y"),rotateZ:Uz("z")};function Zxt(n){if(n!==void 0)return n instanceof dt?n.getStyle():n}function e_t(n,e){return ble[e]?ble[e](n):Zxt(n[e])||0}const t_t=["x","y","z"],wle={"position-x":"x","position-y":"y","position-z":"z","rotation-x":"rotateX","rotation-y":"rotateY","rotation-z":"rotateZ","scale-x":"scaleX","scale-y":"scaleY","scale-z":"scaleZ"},e2e=(n,e)=>{const t={};for(const r in n){const i=n[r];if(zi(i)||zi(e[r]))t[wle[r]||r]=i;else if(Array.isArray(i))for(let s=0;s<i.length;s++){const o=i[s];if(zi(o)||Array.isArray(e[r])&&zi(e[r][s])){const a=wle[r+"-"+t_t[s]];t[a]=o}}}return t},n_t=()=>({});class r_t extends QSe{constructor(){super(...arguments),this.type="three"}readValueFromInstance(e,t){return e_t(e,t)}getBaseTargetFromProps(){}sortInstanceNodePosition(e,t){return e.id-t.id}makeTargetAnimatableFromInstance(e){var{transition:t,transitionEnd:r}=e,i=Uvt(e,["transition","transitionEnd"]);return BSe(this,i,{}),Object.assign(Object.assign({},i),{transition:t,transitionEnd:r})}removeValueFromRenderState(){}measureInstanceViewportBox(){return Ki()}scrapeMotionValuesFromProps(e,t){return e2e(e,t)}build(e,t){for(const r in t)e[r]=t[r]}renderInstance(e,t){for(const r in t)Qxt(e,r,t)}}const i_t=(n,e)=>new r_t(e,{}),s_t=HX({scrapeMotionValuesFromProps:e2e,createRenderState:n_t}),o_t=Object.assign({},DSe);function Sle(n){return Bwe({Component:n,preloadedFeatures:o_t,useRender:Yxt,useVisualState:s_t,createVisualElement:i_t})}const zz=new Map,mu=new Proxy(Sle,{get:(n,e)=>(!zz.has(e)&&zz.set(e,Sle(e)),zz.get(e))}),yV={type:"spring",mass:5,stiffness:500,damping:50,restDelta:1e-4};function a_t(n){const{animation:e}=n,{headFollow:t,cursorFollow:r,wireframe:i}=Wxt({headFollow:!1,cursorFollow:!1,wireframe:!1}),s=Y.useRef(),{nodes:o,materials:a}=xA("models/66c2e6c8b8d58a94a834955a.glb"),{animations:l}=JE("animations/Typing.fbx"),{animations:c}=JE("animations/Standing Idle.fbx"),{animations:u}=JE("animations/Falling Idle.fbx");l[0].name="Typing",c[0].name="Standing",u[0].name="Falling";const{actions:f}=Pct([l[0],c[0],u[0]],s);return Ic(d=>{if(t&&s.current.getObjectByName("Head").lookAt(d.camera.position),r){const p=new me(d.mouse.x,d.mouse.y,1);s.current.getObjectByName("Spine2").lookAt(p)}}),Y.useEffect(()=>(f[e].reset().fadeIn(.5).play(),()=>{f[e].reset().fadeOut(.5)}),[e]),Y.useEffect(()=>{Object.values(a).forEach(d=>{d.wireframe=i})},[i]),Ne.jsx("group",{...n,ref:s,dispose:null,children:Ne.jsxs("group",{children:[Ne.jsx("primitive",{object:o.Hips}),Ne.jsx("skinnedMesh",{geometry:o.Wolf3D_Hair.geometry,material:a.Wolf3D_Hair,skeleton:o.Wolf3D_Hair.skeleton}),Ne.jsx("skinnedMesh",{geometry:o.Wolf3D_Glasses.geometry,material:a.Wolf3D_Glasses,skeleton:o.Wolf3D_Glasses.skeleton}),Ne.jsx("skinnedMesh",{geometry:o.Wolf3D_Body.geometry,material:a.Wolf3D_Body,skeleton:o.Wolf3D_Body.skeleton}),Ne.jsx("skinnedMesh",{geometry:o.Wolf3D_Outfit_Bottom.geometry,material:a.Wolf3D_Outfit_Bottom,skeleton:o.Wolf3D_Outfit_Bottom.skeleton}),Ne.jsx("skinnedMesh",{geometry:o.Wolf3D_Outfit_Footwear.geometry,material:a.Wolf3D_Outfit_Footwear,skeleton:o.Wolf3D_Outfit_Footwear.skeleton}),Ne.jsx("skinnedMesh",{geometry:o.Wolf3D_Outfit_Top.geometry,material:a.Wolf3D_Outfit_Top,skeleton:o.Wolf3D_Outfit_Top.skeleton}),Ne.jsx("skinnedMesh",{name:"EyeLeft",geometry:o.EyeLeft.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeLeft.skeleton,morphTargetDictionary:o.EyeLeft.morphTargetDictionary,morphTargetInfluences:o.EyeLeft.morphTargetInfluences}),Ne.jsx("skinnedMesh",{name:"EyeRight",geometry:o.EyeRight.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeRight.skeleton,morphTargetDictionary:o.EyeRight.morphTargetDictionary,morphTargetInfluences:o.EyeRight.morphTargetInfluences}),Ne.jsx("skinnedMesh",{name:"Wolf3D_Head",geometry:o.Wolf3D_Head.geometry,material:a.Wolf3D_Skin,skeleton:o.Wolf3D_Head.skeleton,morphTargetDictionary:o.Wolf3D_Head.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Head.morphTargetInfluences}),Ne.jsx("skinnedMesh",{name:"Wolf3D_Teeth",geometry:o.Wolf3D_Teeth.geometry,material:a.Wolf3D_Teeth,skeleton:o.Wolf3D_Teeth.skeleton,morphTargetDictionary:o.Wolf3D_Teeth.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Teeth.morphTargetInfluences})]})})}xA.preload("models/66c2e6c8b8d58a94a834955a.glb");function ip(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function t2e(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _c={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},US={duration:.5,overwrite:!1,delay:0},MJ,fa,ai,Iu=1e8,Tr=1/Iu,xV=Math.PI*2,l_t=xV/4,c_t=0,n2e=Math.sqrt,u_t=Math.cos,f_t=Math.sin,bo=function(e){return typeof e=="string"},Gi=function(e){return typeof e=="function"},sm=function(e){return typeof e=="number"},EJ=function(e){return typeof e>"u"},fh=function(e){return typeof e=="object"},Cl=function(e){return e!==!1},CJ=function(){return typeof window<"u"},SD=function(e){return Gi(e)||bo(e)},r2e=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},da=Array.isArray,_V=/(?:-?\.?\d|\.)+/gi,i2e=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,vw=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Gz=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,s2e=/[+-]=-?[.\d]+/,o2e=/[^,'"\[\]\s]+/gi,d_t=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,yi,kd,bV,TJ,Ec={},UL={},a2e,l2e=function(e){return(UL=ux(e,Ec))&&Il},RJ=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},GT=function(e,t){return!t&&console.warn(e)},c2e=function(e,t){return e&&(Ec[e]=t)&&UL&&(UL[e]=t)||Ec},HT=function(){return 0},h_t={suppressEvents:!0,isStart:!0,kill:!1},Ek={suppressEvents:!0,kill:!1},p_t={suppressEvents:!0},PJ={},c0=[],wV={},u2e,nc={},Hz={},Ale=30,Ck=[],BJ="",DJ=function(e){var t=e[0],r,i;if(fh(t)||Gi(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Ck.length;i--&&!Ck[i].targetTest(t););r=Ck[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new I2e(e[i],r)))||e.splice(i,1);return e},P1=function(e){return e._gsap||DJ(Lu(e))[0]._gsap},f2e=function(e,t,r){return(r=e[t])&&Gi(r)?e[t]():EJ(r)&&e.getAttribute&&e.getAttribute(t)||r},Tl=function(e,t){return(e=e.split(",")).forEach(t)||e},es=function(e){return Math.round(e*1e5)/1e5||0},vo=function(e){return Math.round(e*1e7)/1e7||0},jw=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},m_t=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},zL=function(){var e=c0.length,t=c0.slice(0),r,i;for(wV={},c0.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},d2e=function(e,t,r,i){c0.length&&!fa&&zL(),e.render(t,r,fa&&t<0&&(e._initted||e._startAt)),c0.length&&!fa&&zL()},h2e=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(o2e).length<2?t:bo(e)?e.trim():e},p2e=function(e){return e},Wu=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},g_t=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},ux=function(e,t){for(var r in t)e[r]=t[r];return e},Mle=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=fh(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},GL=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},rC=function(e){var t=e.parent||yi,r=e.keyframes?g_t(da(e.keyframes)):Wu;if(Cl(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},v_t=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},m2e=function(e,t,r,i,s){var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},o4=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},j0=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},B1=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},y_t=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},SV=function(e,t,r,i){return e._startAt&&(fa?e._startAt.revert(Ek):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},x_t=function n(e){return!e||e._ts&&n(e.parent)},Ele=function(e){return e._repeat?zS(e._tTime,e=e.duration()+e._rDelay)*e:0},zS=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},HL=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},a4=function(e){return e._end=vo(e._start+(e._tDur/Math.abs(e._ts||e._rts||Tr)||0))},l4=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=vo(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),a4(e),r._dirty||B1(r,e)),e},g2e=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=HL(e.rawTime(),t),(!t._dur||uR(0,t.totalDuration(),r)-t._tTime>Tr)&&t.render(r,!0)),B1(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Tr}},Fd=function(e,t,r,i){return t.parent&&j0(t),t._start=vo((sm(r)?r:r||e!==yi?cu(e,r,t):e._time)+t._delay),t._end=vo(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),m2e(e,t,"_first","_last",e._sort?"_start":0),AV(t)||(e._recent=t),i||g2e(e,t),e._ts<0&&l4(e,e._tTime),e},v2e=function(e,t){return(Ec.ScrollTrigger||RJ("scrollTrigger",t))&&Ec.ScrollTrigger.create(t,e)},y2e=function(e,t,r,i,s){if(IJ(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!fa&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&u2e!==oc.frame)return c0.push(e),e._lazy=[s,i],1},__t=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},AV=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},b_t=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&__t(e)&&!(!e._initted&&AV(e))||(e._ts<0||e._dp._ts<0)&&!AV(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=uR(0,e._tDur,t),u=zS(l,a),e._yoyo&&u&1&&(o=1-o),u!==zS(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||fa||i||e._zTime===Tr||!t&&e._zTime){if(!e._initted&&y2e(e,t,i,r,l))return;for(f=e._zTime,e._zTime=t||(r?Tr:0),r||(r=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&SV(e,t,r,!0),e._onUpdate&&!r&&dc(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&dc(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&j0(e,1),!r&&!fa&&(dc(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},w_t=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},GS=function(e,t,r,i){var s=e._repeat,o=vo(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:vo(o*(s+1)+e._rDelay*s):o,a>0&&!i&&l4(e,e._tTime=e._tDur*a),e.parent&&a4(e),r||B1(e.parent,e),e},Cle=function(e){return e instanceof Na?B1(e):GS(e,e._dur)},S_t={_start:0,endTime:HT,totalDuration:HT},cu=function n(e,t,r){var i=e.labels,s=e._recent||S_t,o=e.duration()>=Iu?s.endTime(!1):e._dur,a,l,c;return bo(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(da(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},iC=function(e,t,r){var i=sm(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Cl(l.vars.inherit)&&l.parent;o.immediateRender=Cl(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Ss(t[0],o,t[s+1])},uv=function(e,t){return e||e===0?t(e):t},uR=function(e,t,r){return r<e?e:r>t?t:r},ia=function(e,t){return!bo(e)||!(t=d_t.exec(e))?"":t[1]},A_t=function(e,t,r){return uv(r,function(i){return uR(e,t,i)})},MV=[].slice,x2e=function(e,t){return e&&fh(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&fh(e[0]))&&!e.nodeType&&e!==kd},M_t=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return bo(i)&&!t||x2e(i,1)?(s=r).push.apply(s,Lu(i)):r.push(i)})||r},Lu=function(e,t,r){return ai&&!t&&ai.selector?ai.selector(e):bo(e)&&!r&&(bV||!HS())?MV.call((t||TJ).querySelectorAll(e),0):da(e)?M_t(e,r):x2e(e)?MV.call(e,0):e?[e]:[]},EV=function(e){return e=Lu(e)[0]||GT("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Lu(t,r.querySelectorAll?r:r===e?GT("Invalid scope")||TJ.createElement("div"):e)}},_2e=function(e){return e.sort(function(){return .5-Math.random()})},b2e=function(e){if(Gi(e))return e;var t=fh(e)?e:{each:e},r=D1(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,u=i,f=i;return bo(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],f=i[1]),function(d,p,m){var g=(m||t).length,y=o[g],x,_,b,w,M,C,R,E,B;if(!y){if(B=t.grid==="auto"?0:(t.grid||[1,Iu])[1],!B){for(R=-Iu;R<(R=m[B++].getBoundingClientRect().left)&&B<g;);B<g&&B--}for(y=o[g]=[],x=l?Math.min(B,g)*u-.5:i%B,_=B===Iu?0:l?g*f/B-.5:i/B|0,R=0,E=Iu,C=0;C<g;C++)b=C%B-x,w=_-(C/B|0),y[C]=M=c?Math.abs(c==="y"?w:b):n2e(b*b+w*w),M>R&&(R=M),M<E&&(E=M);i==="random"&&_2e(y),y.max=R-E,y.min=E,y.v=g=(parseFloat(t.amount)||parseFloat(t.each)*(B>g?g-1:c?c==="y"?g/B:B:Math.max(B,g/B))||0)*(i==="edges"?-1:1),y.b=g<0?s-g:s,y.u=ia(t.amount||t.each)||0,r=r&&g<0?B2e(r):r}return g=(y[d]-y.min)/y.max||0,vo(y.b+(r?r(g):g)*y.v)+y.u}},CV=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=vo(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(sm(r)?0:ia(r))}},w2e=function(e,t){var r=da(e),i,s;return!r&&fh(e)&&(i=r=e.radius||Iu,e.values?(e=Lu(e.values),(s=!sm(e[0]))&&(i*=i)):e=CV(e.increment)),uv(t,r?Gi(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Iu,u=0,f=e.length,d,p;f--;)s?(d=e[f].x-a,p=e[f].y-l,d=d*d+p*p):d=Math.abs(e[f]-a),d<c&&(c=d,u=f);return u=!i||c<=i?e[u]:o,s||u===o||sm(o)?u:u+ia(o)}:CV(e))},S2e=function(e,t,r,i){return uv(da(e)?!t:r===!0?!!(r=0):!i,function(){return da(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},E_t=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},C_t=function(e,t){return function(r){return e(parseFloat(r))+(t||ia(r))}},T_t=function(e,t,r){return M2e(e,t,0,1,r)},A2e=function(e,t,r){return uv(r,function(i){return e[~~t(i)]})},R_t=function n(e,t,r){var i=t-e;return da(e)?A2e(e,n(0,e.length),t):uv(r,function(s){return(i+(s-e)%i)%i+e})},P_t=function n(e,t,r){var i=t-e,s=i*2;return da(e)?A2e(e,n(0,e.length-1),t):uv(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},VT=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?o2e:_V),r+=e.substr(t,i-t)+S2e(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},M2e=function(e,t,r,i,s){var o=t-e,a=i-r;return uv(s,function(l){return r+((l-e)/o*a||0)})},B_t=function n(e,t,r,i){var s=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!s){var o=bo(e),a={},l,c,u,f,d;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(da(e)&&!da(t)){for(u=[],f=e.length,d=f-2,c=1;c<f;c++)u.push(n(e[c-1],e[c]));f--,s=function(m){m*=f;var g=Math.min(d,~~m);return u[g](m-g)},r=t}else i||(e=ux(da(e)?[]:{},e));if(!u){for(l in t)kJ.call(a,e,l,"get",t[l]);s=function(m){return FJ(m,a)||(o?e.p:e)}}}return uv(r,s)},Tle=function(e,t,r){var i=e.labels,s=Iu,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},dc=function(e,t,r){var i=e.vars,s=i[t],o=ai,a=e._ctx,l,c,u;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&c0.length&&zL(),a&&(ai=a),u=l?s.apply(c,l):s.call(c),ai=o,u},K2=function(e){return j0(e),e.scrollTrigger&&e.scrollTrigger.kill(!!fa),e.progress()<1&&dc(e,"onInterrupt"),e},yw,E2e=[],C2e=function(e){if(e)if(e=!e.name&&e.default||e,CJ()||e.headless){var t=e.name,r=Gi(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:HT,render:FJ,add:kJ,kill:X_t,modifier:$_t,rawVars:0},o={targetTest:0,get:0,getSetter:OJ,aliases:{},register:0};if(HS(),e!==i){if(nc[t])return;Wu(i,Wu(GL(e,s),o)),ux(i.prototype,ux(s,GL(e,o))),nc[i.prop=t]=i,e.targetTest&&(Ck.push(i),PJ[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}c2e(t,i),e.register&&e.register(Il,i,Rl)}else E2e.push(e)},yr=255,q2={aqua:[0,yr,yr],lime:[0,yr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,yr],navy:[0,0,128],white:[yr,yr,yr],olive:[128,128,0],yellow:[yr,yr,0],orange:[yr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[yr,0,0],pink:[yr,192,203],cyan:[0,yr,yr],transparent:[yr,yr,yr,0]},Vz=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*yr+.5|0},T2e=function(e,t,r){var i=e?sm(e)?[e>>16,e>>8&yr,e&yr]:0:q2.black,s,o,a,l,c,u,f,d,p,m;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),q2[e])i=q2[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&yr,i&yr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&yr,e&yr]}else if(e.substr(0,3)==="hsl"){if(i=m=e.match(_V),!t)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=Vz(l+1/3,s,o),i[1]=Vz(l,s,o),i[2]=Vz(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(i2e),r&&i.length<4&&(i[3]=1),i}else i=e.match(_V)||q2.transparent;i=i.map(Number)}return t&&!m&&(s=i[0]/yr,o=i[1]/yr,a=i[2]/yr,f=Math.max(s,o,a),d=Math.min(s,o,a),u=(f+d)/2,f===d?l=c=0:(p=f-d,c=u>.5?p/(2-f-d):p/(f+d),l=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},R2e=function(e){var t=[],r=[],i=-1;return e.split(u0).forEach(function(s){var o=s.match(vw)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},Rle=function(e,t,r){var i="",s=(e+i).match(u0),o=t?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(d){return(d=T2e(d,t,1))&&o+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(u=R2e(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(u0,"1").split(vw),f=c.length-1;a<f;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(u0),f=c.length-1;a<f;a++)i+=c[a]+s[a];return i+c[f]},u0=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in q2)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),D_t=/hsl[a]?\(/,P2e=function(e){var t=e.join(" "),r;if(u0.lastIndex=0,u0.test(t))return r=D_t.test(t),e[1]=Rle(e[1],r),e[0]=Rle(e[0],r,R2e(e[1])),!0},jT,oc=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,u,f,d,p,m=function g(y){var x=n()-i,_=y===!0,b,w,M,C;if((x>e||x<0)&&(r+=x-t),i+=x,M=i-r,b=M-o,(b>0||_)&&(C=++f.frame,d=M-f.time*1e3,f.time=M=M/1e3,o+=b+(b>=s?4:s-b),w=1),_||(l=c(g)),w)for(p=0;p<a.length;p++)a[p](M,d,C,y)};return f={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(y){return d/(1e3/(y||60))},wake:function(){a2e&&(!bV&&CJ()&&(kd=bV=window,TJ=kd.document||{},Ec.gsap=Il,(kd.gsapVersions||(kd.gsapVersions=[])).push(Il.version),l2e(UL||kd.GreenSockGlobals||!kd.gsap&&kd||{}),E2e.forEach(C2e)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),c=u||function(y){return setTimeout(y,o-f.time*1e3+1|0)},jT=1,m(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),jT=0,c=HT},lagSmoothing:function(y,x){e=y||1/0,t=Math.min(x||33,e)},fps:function(y){s=1e3/(y||240),o=f.time*1e3+s},add:function(y,x,_){var b=x?function(w,M,C,R){y(w,M,C,R),f.remove(b)}:y;return f.remove(y),a[_?"unshift":"push"](b),HS(),b},remove:function(y,x){~(x=a.indexOf(y))&&a.splice(x,1)&&p>=x&&p--},_listeners:a},f}(),HS=function(){return!jT&&oc.wake()},jn={},k_t=/^[\d.\-M][\d.\-,\s]/,I_t=/["']/g,L_t=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace(I_t,"").trim():+c,i=l.substr(a+1).trim();return t},O_t=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},F_t=function(e){var t=(e+"").split("("),r=jn[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[L_t(t[1])]:O_t(e).split(",").map(h2e)):jn._CE&&k_t.test(e)?jn._CE("",e):r},B2e=function(e){return function(t){return 1-e(1-t)}},D2e=function n(e,t){for(var r=e._first,i;r;)r instanceof Na?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},D1=function(e,t){return e&&(Gi(e)?e:jn[e]||F_t(e))||t},Ix=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return Tl(e,function(a){jn[a]=Ec[a]=s,jn[o=a.toLowerCase()]=r;for(var l in s)jn[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=jn[a+"."+l]=s[l]}),s},k2e=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},jz=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/xV*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*f_t((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:k2e(a);return s=xV/s,l.config=function(c,u){return n(e,c,u)},l},Wz=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:k2e(r);return i.config=function(s){return n(e,s)},i};Tl("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Ix(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});jn.Linear.easeNone=jn.none=jn.Linear.easeIn;Ix("Elastic",jz("in"),jz("out"),jz());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Ix("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Ix("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});Ix("Circ",function(n){return-(n2e(1-n*n)-1)});Ix("Sine",function(n){return n===1?1:-u_t(n*l_t)+1});Ix("Back",Wz("in"),Wz("out"),Wz());jn.SteppedEase=jn.steps=Ec.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-Tr;return function(a){return((i*uR(0,o,a)|0)+s)*r}}};US.ease=jn["quad.out"];Tl("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return BJ+=n+","+n+"Params,"});var I2e=function(e,t){this.id=c_t++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:f2e,this.set=t?t.getSetter:OJ},WT=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,GS(this,+t.duration,1,1),this.data=t.data,ai&&(this._ctx=ai,ai.data.push(this)),jT||oc.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,GS(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(HS(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(l4(this,r),!s._dp||s.parent||g2e(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Fd(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Tr||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),d2e(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Ele(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Ele(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?zS(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-Tr?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?HL(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Tr?0:this._rts,this.totalTime(uR(-Math.abs(this._delay),this._tDur,s),i!==!1),a4(this),y_t(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(HS(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Tr&&(this._tTime-=Tr)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Fd(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Cl(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?HL(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=p_t);var i=fa;return fa=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),fa=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Cle(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Cle(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(cu(this,r),Cl(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Cl(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Tr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Tr,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Tr)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Gi(r)?r:p2e,a=function(){var c=i.then;i.then=null,Gi(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){K2(this)},n}();Wu(WT.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Tr,_prom:0,_ps:!1,_rts:1});var Na=function(n){t2e(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Cl(r.sortChildren),yi&&Fd(r.parent||yi,ip(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&v2e(ip(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return iC(0,arguments,this),this},t.from=function(i,s,o){return iC(1,arguments,this),this},t.fromTo=function(i,s,o,a){return iC(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,rC(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ss(i,s,cu(this,o),1),this},t.call=function(i,s,o){return Fd(this,Ss.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Ss(i,o,cu(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,rC(o).immediateRender=Cl(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},t.staggerFromTo=function(i,s,o,a,l,c,u,f){return a.startAt=o,rC(a).immediateRender=Cl(a.immediateRender),this.staggerTo(i,s,a,l,c,u,f)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:vo(i),f=this._zTime<0!=i<0&&(this._initted||!c),d,p,m,g,y,x,_,b,w,M,C,R;if(this!==yi&&u>l&&i>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),d=u,w=this._start,b=this._ts,x=!b,f&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(C=this._yoyo,y=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,s,o);if(d=vo(u%y),u===l?(g=this._repeat,d=c):(g=~~(u/y),g&&g===u/y&&(d=c,g--),d>c&&(d=c)),M=zS(this._tTime,y),!a&&this._tTime&&M!==g&&this._tTime-M*y-this._dur<=0&&(M=g),C&&g&1&&(d=c-d,R=1),g!==M&&!this._lock){var E=C&&M&1,B=E===(C&&g&1);if(g<M&&(E=!E),a=E?0:u%c?c:u,this._lock=1,this.render(a||(R?0:vo(g*y)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&dc(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,B&&(this._lock=2,a=E?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;D2e(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=w_t(this,vo(a),vo(d)),_&&(u-=d-(d=_._start))),this._tTime=u,this._time=d,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&d&&!s&&!g&&(dc(this,"onStart"),this._tTime!==u))return this;if(d>=a&&i>=0)for(p=this._first;p;){if(m=p._next,(p._act||d>=p._start)&&p._ts&&_!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,s,o),d!==this._time||!this._ts&&!x){_=0,m&&(u+=this._zTime=-Tr);break}}p=m}else{p=this._last;for(var D=i<0?i:d;p;){if(m=p._prev,(p._act||D<=p._end)&&p._ts&&_!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(D-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(D-p._start)*p._ts,s,o||fa&&(p._initted||p._startAt)),d!==this._time||!this._ts&&!x){_=0,m&&(u+=this._zTime=D?-Tr:Tr);break}}p=m}}if(_&&!s&&(this.pause(),_.render(d>=a?0:-Tr)._zTime=d>=a?1:-1,this._ts))return this._start=w,a4(this),this.render(i,s,o);this._onUpdate&&!s&&dc(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(w===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&j0(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(dc(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(sm(s)||(s=cu(this,s,i)),!(i instanceof WT)){if(da(i))return i.forEach(function(a){return o.add(a,s)}),this;if(bo(i))return this.addLabel(i,s);if(Gi(i))i=Ss.delayedCall(0,i);else return this}return this!==i?Fd(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Iu);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Ss?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return bo(i)?this.removeLabel(i):Gi(i)?this.killTweensOf(i):(o4(this,i),i===this._recent&&(this._recent=this._last),B1(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=vo(oc.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=cu(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=Ss.delayedCall(0,s||HT,o);return a.data="isPause",this._hasPause=1,Fd(this,a,cu(this,i))},t.removePause=function(i){var s=this._first;for(i=cu(this,i);s;)s._start===i&&s.data==="isPause"&&j0(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Ng!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=Lu(i),l=this._first,c=sm(s),u;l;)l instanceof Ss?m_t(l._targets,a)&&(c?(!Ng||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=cu(o,i),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,d=l.immediateRender,p,m=Ss.to(o,Wu({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Tr,onStart:function(){if(o.pause(),!p){var y=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());m._dur!==y&&GS(m,y,0,1).render(m._time,!0,!0),p=1}u&&u.apply(m,f||[])}},s));return d?m.render(0):m},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Wu({startAt:{time:cu(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),Tle(this,cu(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),Tle(this,cu(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Tr)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return B1(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),B1(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=Iu,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Fd(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;GS(o,o===yi&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(yi._ts&&(d2e(yi,HL(i,yi)),u2e=oc.frame),oc.frame>=Ale){Ale+=_c.autoSleep||120;var s=yi._first;if((!s||!s._ts)&&_c.autoSleep&&oc._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||oc.sleep()}}},e}(WT);Wu(Na.prototype,{_lock:0,_hasPause:0,_forcing:0});var N_t=function(e,t,r,i,s,o,a){var l=new Rl(this._pt,e,t,0,1,z2e,null,s),c=0,u=0,f,d,p,m,g,y,x,_;for(l.b=r,l.e=i,r+="",i+="",(x=~i.indexOf("random("))&&(i=VT(i)),o&&(_=[r,i],o(_,e,t),r=_[0],i=_[1]),d=r.match(Gz)||[];f=Gz.exec(i);)m=f[0],g=i.substring(c,f.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),m!==d[u++]&&(y=parseFloat(d[u-1])||0,l._pt={_next:l._pt,p:g||u===1?g:",",s:y,c:m.charAt(1)==="="?jw(y,m)-y:parseFloat(m)-y,m:p&&p<4?Math.round:0},c=Gz.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(s2e.test(i)||x)&&(l.e=0),this._pt=l,l},kJ=function(e,t,r,i,s,o,a,l,c,u){Gi(i)&&(i=i(s||0,e,o));var f=e[t],d=r!=="get"?r:Gi(f)?c?e[t.indexOf("set")||!Gi(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():f,p=Gi(f)?c?V_t:N2e:LJ,m;if(bo(i)&&(~i.indexOf("random(")&&(i=VT(i)),i.charAt(1)==="="&&(m=jw(d,i)+(ia(d)||0),(m||m===0)&&(i=m))),!u||d!==i||TV)return!isNaN(d*i)&&i!==""?(m=new Rl(this._pt,e,t,+d||0,i-(d||0),typeof f=="boolean"?W_t:U2e,0,p),c&&(m.fp=c),a&&m.modifier(a,this,e),this._pt=m):(!f&&!(t in e)&&RJ(t,i),N_t.call(this,e,t,d,i,p,l||_c.stringFilter,c))},U_t=function(e,t,r,i,s){if(Gi(e)&&(e=sC(e,s,t,r,i)),!fh(e)||e.style&&e.nodeType||da(e)||r2e(e))return bo(e)?sC(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=sC(e[a],s,t,r,i);return o},L2e=function(e,t,r,i,s,o){var a,l,c,u;if(nc[e]&&(a=new nc[e]).init(s,a.rawVars?t[e]:U_t(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new Rl(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==yw))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Ng,TV,IJ=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.runBackwards,f=i.yoyoEase,d=i.keyframes,p=i.autoRevert,m=e._dur,g=e._startAt,y=e._targets,x=e.parent,_=x&&x.data==="nested"?x.vars.targets:y,b=e._overwrite==="auto"&&!MJ,w=e.timeline,M,C,R,E,B,D,N,z,H,U,W,X,q;if(w&&(!d||!s)&&(s="none"),e._ease=D1(s,US.ease),e._yEase=f?B2e(D1(f===!0?s:f,US.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!w&&!!i.runBackwards,!w||d&&!i.stagger){if(z=y[0]?P1(y[0]).harness:0,X=z&&i[z.prop],M=GL(i,PJ),g&&(g._zTime<0&&g.progress(1),t<0&&u&&a&&!p?g.render(-1,!0):g.revert(u&&m?Ek:h_t),g._lazy=0),o){if(j0(e._startAt=Ss.set(y,Wu({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!g&&Cl(l),startAt:null,delay:0,onUpdate:c&&function(){return dc(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(fa||!a&&!p)&&e._startAt.revert(Ek),a&&m&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(u&&m&&!g){if(t&&(a=!1),R=Wu({overwrite:!1,data:"isFromStart",lazy:a&&!g&&Cl(l),immediateRender:a,stagger:0,parent:x},M),X&&(R[z.prop]=X),j0(e._startAt=Ss.set(y,R)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(fa?e._startAt.revert(Ek):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,Tr,Tr);else if(!t)return}for(e._pt=e._ptCache=0,l=m&&Cl(l)||l&&!m,C=0;C<y.length;C++){if(B=y[C],N=B._gsap||DJ(y)[C]._gsap,e._ptLookup[C]=U={},wV[N.id]&&c0.length&&zL(),W=_===y?C:_.indexOf(B),z&&(H=new z).init(B,X||M,e,W,_)!==!1&&(e._pt=E=new Rl(e._pt,B,H.name,0,1,H.render,H,0,H.priority),H._props.forEach(function(L){U[L]=E}),H.priority&&(D=1)),!z||X)for(R in M)nc[R]&&(H=L2e(R,M,e,W,B,_))?H.priority&&(D=1):U[R]=E=kJ.call(e,B,R,"get",M[R],W,_,0,i.stringFilter);e._op&&e._op[C]&&e.kill(B,e._op[C]),b&&e._pt&&(Ng=e,yi.killTweensOf(B,U,e.globalTime(t)),q=!e.parent,Ng=0),e._pt&&l&&(wV[N.id]=1)}D&&G2e(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!q,d&&t<=0&&w.render(Iu,!0,!0)},z_t=function(e,t,r,i,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,f,d,p;if(!c)for(c=e._ptCache[t]=[],d=e._ptLookup,p=e._targets.length;p--;){if(u=d[p][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return TV=1,e.vars[t]="+=0",IJ(e,a),TV=0,l?GT(t+" not eligible for reset"):1;c.push(u)}for(p=c.length;p--;)f=c[p],u=f._pt||f,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=r-u.s,f.e&&(f.e=es(r)+ia(f.e)),f.b&&(f.b=u.s+ia(f.b))},G_t=function(e,t){var r=e[0]?P1(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=ux({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},H_t=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(da(t))a=r[e]||(r[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},sC=function(e,t,r,i,s){return Gi(e)?e.call(t,r,i,s):bo(e)&&~e.indexOf("random(")?VT(e):e},O2e=BJ+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",F2e={};Tl(O2e+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return F2e[n]=1});var Ss=function(n){t2e(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:rC(i))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,d=l.stagger,p=l.overwrite,m=l.keyframes,g=l.defaults,y=l.scrollTrigger,x=l.yoyoEase,_=i.parent||yi,b=(da(r)||r2e(r)?sm(r[0]):"length"in i)?[r]:Lu(r),w,M,C,R,E,B,D,N;if(a._targets=b.length?DJ(b):GT("GSAP target "+r+" not found. https://gsap.com",!_c.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,m||d||SD(c)||SD(u)){if(i=a.vars,w=a.timeline=new Na({data:"nested",defaults:g||{},targets:_&&_.data==="nested"?_.vars.targets:b}),w.kill(),w.parent=w._dp=ip(a),w._start=0,d||SD(c)||SD(u)){if(R=b.length,D=d&&b2e(d),fh(d))for(E in d)~O2e.indexOf(E)&&(N||(N={}),N[E]=d[E]);for(M=0;M<R;M++)C=GL(i,F2e),C.stagger=0,x&&(C.yoyoEase=x),N&&ux(C,N),B=b[M],C.duration=+sC(c,ip(a),M,B,b),C.delay=(+sC(u,ip(a),M,B,b)||0)-a._delay,!d&&R===1&&C.delay&&(a._delay=u=C.delay,a._start+=u,C.delay=0),w.to(B,C,D?D(M,B,b):0),w._ease=jn.none;w.duration()?c=u=0:a.timeline=0}else if(m){rC(Wu(w.vars.defaults,{ease:"none"})),w._ease=D1(m.ease||i.ease||"none");var z=0,H,U,W;if(da(m))m.forEach(function(X){return w.to(b,X,">")}),w.duration();else{C={};for(E in m)E==="ease"||E==="easeEach"||H_t(E,m[E],C,m.easeEach);for(E in C)for(H=C[E].sort(function(X,q){return X.t-q.t}),z=0,M=0;M<H.length;M++)U=H[M],W={ease:U.e,duration:(U.t-(M?H[M-1].t:0))/100*c},W[E]=U.v,w.to(b,W,z),z+=W.duration;w.duration()<c&&w.to({},{duration:c-w.duration()})}}c||a.duration(c=w.duration())}else a.timeline=0;return p===!0&&!MJ&&(Ng=ip(a),yi.killTweensOf(b),Ng=0),Fd(_,ip(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!c&&!m&&a._start===vo(_._time)&&Cl(f)&&x_t(ip(a))&&_.data!=="nested")&&(a._tTime=-Tr,a.render(Math.max(0,-u)||0)),y&&v2e(ip(a),y),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,f=i>l-Tr&&!u?l:i<Tr?0:i,d,p,m,g,y,x,_,b,w;if(!c)b_t(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=f,b=this.timeline,this._repeat){if(g=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(g*100+i,s,o);if(d=vo(f%g),f===l?(m=this._repeat,d=c):(m=~~(f/g),m&&m===vo(f/g)&&(d=c,m--),d>c&&(d=c)),x=this._yoyo&&m&1,x&&(w=this._yEase,d=c-d),y=zS(this._tTime,g),d===a&&!o&&this._initted&&m===y)return this._tTime=f,this;m!==y&&(b&&this._yEase&&D2e(b,x),this.vars.repeatRefresh&&!x&&!this._lock&&this._time!==g&&this._initted&&(this._lock=o=1,this.render(vo(g*m),!0).invalidate()._lock=0))}if(!this._initted){if(y2e(this,u?i:d,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&m!==y))return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(w||this._ease)(d/c),this._from&&(this.ratio=_=1-_),d&&!a&&!s&&!m&&(dc(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(_,p.d),p=p._next;b&&b.render(i<0?i:b._dur*b._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&SV(this,i,s,o),dc(this,"onUpdate")),this._repeat&&m!==y&&this.vars.onRepeat&&!s&&this.parent&&dc(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&SV(this,i,!0,!0),(i||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&j0(this,1),!s&&!(u&&!a)&&(f||a||x)&&(dc(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a,l){jT||oc.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||IJ(this,c),u=this._ease(c/this._dur),z_t(this,i,s,o,a,u,c,l)?this.resetTo(i,s,o,a,1):(l4(this,0),this.parent||m2e(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?K2(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Ng&&Ng.vars.overwrite!==!0)._first||K2(this),this.parent&&o!==this.timeline.totalDuration()&&GS(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Lu(i):a,c=this._ptLookup,u=this._pt,f,d,p,m,g,y,x;if((!s||s==="all")&&v_t(a,l))return s==="all"&&(this._pt=0),K2(this);for(f=this._op=this._op||[],s!=="all"&&(bo(s)&&(g={},Tl(s,function(_){return g[_]=1}),s=g),s=G_t(a,s)),x=a.length;x--;)if(~l.indexOf(a[x])){d=c[x],s==="all"?(f[x]=s,m=d,p={}):(p=f[x]=f[x]||{},m=s);for(g in m)y=d&&d[g],y&&((!("kill"in y.d)||y.d.kill(g)===!0)&&o4(this,y,"_pt"),delete d[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&u&&K2(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return iC(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return iC(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return yi.killTweensOf(i,s,o)},e}(WT);Wu(Ss.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Tl("staggerTo,staggerFrom,staggerFromTo",function(n){Ss[n]=function(){var e=new Na,t=MV.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var LJ=function(e,t,r){return e[t]=r},N2e=function(e,t,r){return e[t](r)},V_t=function(e,t,r,i){return e[t](i.fp,r)},j_t=function(e,t,r){return e.setAttribute(t,r)},OJ=function(e,t){return Gi(e[t])?N2e:EJ(e[t])&&e.setAttribute?j_t:LJ},U2e=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},W_t=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},z2e=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},FJ=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},$_t=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},X_t=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?o4(this,t,"_pt"):t.dep||(r=1),t=i;return!r},J_t=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},G2e=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},Rl=function(){function n(t,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||U2e,this.d=l||this,this.set=c||LJ,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=J_t,this.m=r,this.mt=s,this.tween=i},n}();Tl(BJ+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return PJ[n]=1});Ec.TweenMax=Ec.TweenLite=Ss;Ec.TimelineLite=Ec.TimelineMax=Na;yi=new Na({sortChildren:!1,defaults:US,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_c.stringFilter=P2e;var k1=[],Tk={},Y_t=[],Ple=0,K_t=0,$z=function(e){return(Tk[e]||Y_t).map(function(t){return t()})},RV=function(){var e=Date.now(),t=[];e-Ple>2&&($z("matchMediaInit"),k1.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=kd.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&t.push(r))}),$z("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),Ple=e,$z("matchMedia"))},H2e=function(){function n(t,r){this.selector=r&&EV(r),this.data=[],this._r=[],this.isReverted=!1,this.id=K_t++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Gi(r)&&(s=i,i=r,r=Gi);var o=this,a=function(){var c=ai,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=EV(s)),ai=o,f=i.apply(o,arguments),Gi(f)&&o._r.push(f),ai=c,o.selector=u,o.isReverted=!1,f};return o.last=a,r===Gi?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=ai;ai=null,r(this),ai=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof Ss&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,f){return f.g-u.g||-1/0}).forEach(function(u){return u.t.revert(r)}),l=s.data.length;l--;)c=s.data[l],c instanceof Na?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Ss)&&c.revert&&c.revert(r);s._r.forEach(function(u){return u(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=k1.length;o--;)k1[o].id===this.id&&k1.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),q_t=function(){function n(t){this.contexts=[],this.scope=t,ai&&ai.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){fh(r)||(r={matches:r});var o=new H2e(0,s||this.scope),a=o.conditions={},l,c,u;ai&&!o.selector&&(o.selector=ai.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=kd.matchMedia(r[c]),l&&(k1.indexOf(o)<0&&k1.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(RV):l.addEventListener("change",RV)));return u&&i(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),VL={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return C2e(i)})},timeline:function(e){return new Na(e)},getTweensOf:function(e,t){return yi.getTweensOf(e,t)},getProperty:function(e,t,r,i){bo(e)&&(e=Lu(e)[0]);var s=P1(e||{}).get,o=r?p2e:h2e;return r==="native"&&(r=""),e&&(t?o((nc[t]&&nc[t].get||s)(e,t,r,i)):function(a,l,c){return o((nc[a]&&nc[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,r){if(e=Lu(e),e.length>1){var i=e.map(function(u){return Il.quickSetter(u,t,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=nc[t],a=P1(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var f=new o;yw._pt=0,f.init(e,r?u+r:u,yw,0,[e]),f.render(1,f),yw._pt&&FJ(1,yw)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,t,r){var i,s=Il.to(e,ux((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return yi.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=D1(e.ease,US.ease)),Mle(US,e||{})},config:function(e){return Mle(_c,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!nc[a]&&!Ec[a]&&GT(t+" effect requires "+a+" plugin.")}),Hz[t]=function(a,l,c){return r(Lu(a),Wu(l||{},s),c)},o&&(Na.prototype[t]=function(a,l,c){return this.add(Hz[t](a,fh(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){jn[e]=D1(t)},parseEase:function(e,t){return arguments.length?D1(e,t):jn},getById:function(e){return yi.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Na(e),i,s;for(r.smoothChildTiming=Cl(e.smoothChildTiming),yi.remove(r),r._dp=0,r._time=r._tTime=yi._time,i=yi._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Ss&&i.vars.onComplete===i._targets[0]))&&Fd(r,i,i._start-i._delay),i=s;return Fd(yi,r,0),r},context:function(e,t){return e?new H2e(e,t):ai},matchMedia:function(e){return new q_t(e)},matchMediaRefresh:function(){return k1.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||RV()},addEventListener:function(e,t){var r=Tk[e]||(Tk[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Tk[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:R_t,wrapYoyo:P_t,distribute:b2e,random:S2e,snap:w2e,normalize:T_t,getUnit:ia,clamp:A_t,splitColor:T2e,toArray:Lu,selector:EV,mapRange:M2e,pipe:E_t,unitize:C_t,interpolate:B_t,shuffle:_2e},install:l2e,effects:Hz,ticker:oc,updateRoot:Na.updateRoot,plugins:nc,globalTimeline:yi,core:{PropTween:Rl,globals:c2e,Tween:Ss,Timeline:Na,Animation:WT,getCache:P1,_removeLinkedListItem:o4,reverting:function(){return fa},context:function(e){return e&&ai&&(ai.data.push(e),e._ctx=ai),ai},suppressOverwrites:function(e){return MJ=e}}};Tl("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return VL[n]=Ss[n]});oc.add(Na.updateRoot);yw=VL.to({},{duration:0});var Q_t=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Z_t=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Q_t(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},Xz=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(bo(s)&&(l={},Tl(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}Z_t(a,s)}}}},Il=VL.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)fa?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},Xz("roundProps",CV),Xz("modifiers"),Xz("snap",w2e))||VL;Ss.version=Na.version=Il.version="3.12.5";a2e=1;CJ()&&HS();jn.Power0;jn.Power1;jn.Power2;jn.Power3;jn.Power4;jn.Linear;jn.Quad;jn.Cubic;jn.Quart;jn.Quint;jn.Strong;jn.Elastic;jn.Back;jn.SteppedEase;jn.Bounce;jn.Sine;jn.Expo;jn.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ble,Ug,Ww,NJ,n1,Dle,UJ,ebt=function(){return typeof window<"u"},om={},Ey=180/Math.PI,$w=Math.PI/180,xb=Math.atan2,kle=1e8,zJ=/([A-Z])/g,tbt=/(left|right|width|margin|padding|x)/i,nbt=/[\s,\(]\S/,Gd={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},PV=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},rbt=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},ibt=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},sbt=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},V2e=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},j2e=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},obt=function(e,t,r){return e.style[t]=r},abt=function(e,t,r){return e.style.setProperty(t,r)},lbt=function(e,t,r){return e._gsap[t]=r},cbt=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},ubt=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},fbt=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},wi="transform",Pl=wi+"Origin",dbt=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in om&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Gd[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=up(i,a)}):this.tfm[e]=o.x?o[e]:up(i,e),e===Pl&&(this.tfm.zOrigin=o.zOrigin);else return Gd.transform.split(",").forEach(function(a){return n.call(r,a,t)});if(this.props.indexOf(wi)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Pl,t,"")),e=wi}(s||t)&&this.props.push(e,t,s[e])},W2e=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},hbt=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(zJ,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=UJ(),(!s||!s.isStart)&&!r[wi]&&(W2e(r),i.zOrigin&&r[Pl]&&(r[Pl]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},$2e=function(e,t){var r={target:e,props:[],revert:hbt,save:dbt};return e._gsap||Il.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},X2e,BV=function(e,t){var r=Ug.createElementNS?Ug.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ug.createElement(e);return r&&r.style?r:Ug.createElement(e)},Zd=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(zJ,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,VS(t)||t,1)||""},Ile="O,Moz,ms,Ms,Webkit".split(","),VS=function(e,t,r){var i=t||n1,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Ile[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Ile[o]:"")+e},DV=function(){ebt()&&window.document&&(Ble=window,Ug=Ble.document,Ww=Ug.documentElement,n1=BV("div")||{style:{}},BV("div"),wi=VS(wi),Pl=wi+"Origin",n1.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",X2e=!!VS("perspective"),UJ=Il.core.reverting,NJ=1)},Jz=function n(e){var t=BV("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Ww.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Ww.removeChild(t),this.style.cssText=s,o},Lle=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},J2e=function(e){var t;try{t=e.getBBox()}catch{t=Jz.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Jz||(t=Jz.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+Lle(e,["x","cx","x1"])||0,y:+Lle(e,["y","cy","y1"])||0,width:0,height:0}:t},Y2e=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&J2e(e))},fx=function(e,t){if(t){var r=e.style,i;t in om&&t!==Pl&&(t=wi),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(zJ,"-$1").toLowerCase())):r.removeAttribute(t)}},zg=function(e,t,r,i,s,o){var a=new Rl(e._pt,t,r,0,1,o?j2e:V2e);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},Ole={deg:1,rad:1,turn:1},pbt={grid:1,flex:1},W0=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=n1.style,l=tbt.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,d=i==="px",p=i==="%",m,g,y,x;if(i===o||!s||Ole[i]||Ole[o])return s;if(o!=="px"&&!d&&(s=n(e,t,r,"px")),x=e.getCTM&&Y2e(e),(p||o==="%")&&(om[t]||~t.indexOf("adius")))return m=x?e.getBBox()[l?"width":"height"]:e[u],es(p?s/m*f:s/100*m);if(a[l?"width":"height"]=f+(d?o:i),g=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,x&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===Ug||!g.appendChild)&&(g=Ug.body),y=g._gsap,y&&p&&y.width&&l&&y.time===oc.time&&!y.uncache)return es(s/y.width*f);if(p&&(t==="height"||t==="width")){var _=e.style[t];e.style[t]=f+i,m=e[u],_?e.style[t]=_:fx(e,t)}else(p||o==="%")&&!pbt[Zd(g,"display")]&&(a.position=Zd(e,"position")),g===e&&(a.position="static"),g.appendChild(n1),m=n1[u],g.removeChild(n1),a.position="absolute";return l&&p&&(y=P1(g),y.time=oc.time,y.width=g[u]),es(d?m*s/f:m&&s?f/m*s:0)},up=function(e,t,r,i){var s;return NJ||DV(),t in Gd&&t!=="transform"&&(t=Gd[t],~t.indexOf(",")&&(t=t.split(",")[0])),om[t]&&t!=="transform"?(s=XT(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:WL(Zd(e,Pl))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=jL[t]&&jL[t](e,t,r)||Zd(e,t)||f2e(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?W0(e,t,s,r)+r:s},mbt=function(e,t,r,i){if(!r||r==="none"){var s=VS(t,e,1),o=s&&Zd(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=Zd(e,"borderTopColor"))}var a=new Rl(this._pt,e.style,t,0,1,z2e),l=0,c=0,u,f,d,p,m,g,y,x,_,b,w,M;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(g=e.style[t],e.style[t]=i,i=Zd(e,t)||i,g?e.style[t]=g:fx(e,t)),u=[r,i],P2e(u),r=u[0],i=u[1],d=r.match(vw)||[],M=i.match(vw)||[],M.length){for(;f=vw.exec(i);)y=f[0],_=i.substring(l,f.index),m?m=(m+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(m=1),y!==(g=d[c++]||"")&&(p=parseFloat(g)||0,w=g.substr((p+"").length),y.charAt(1)==="="&&(y=jw(p,y)+w),x=parseFloat(y),b=y.substr((x+"").length),l=vw.lastIndex-b.length,b||(b=b||_c.units[t]||w,l===i.length&&(i+=b,a.e+=b)),w!==b&&(p=W0(e,t,g,b)||0),a._pt={_next:a._pt,p:_||c===1?_:",",s:p,c:x-p,m:m&&m<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?j2e:V2e;return s2e.test(i)&&(a.e=0),this._pt=a,a},Fle={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},gbt=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=Fle[r]||r,t[1]=Fle[i]||i,t.join(" ")},vbt=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],om[a]&&(l=1,a=a==="transformOrigin"?Pl:wi),fx(r,a);l&&(fx(r,wi),o&&(o.svg&&r.removeAttribute("transform"),XT(r,1),o.uncache=1,W2e(i)))}},jL={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Rl(e._pt,t,r,0,0,vbt);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},$T=[1,0,0,1,0,0],K2e={},q2e=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Nle=function(e){var t=Zd(e,wi);return q2e(t)?$T:t.substr(7).match(i2e).map(es)},GJ=function(e,t){var r=e._gsap||P1(e),i=e.style,s=Nle(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?$T:s):(s===$T&&!e.offsetParent&&e!==Ww&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Ww.appendChild(e)),s=Nle(e),l?i.display=l:fx(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Ww.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},kV=function(e,t,r,i,s,o){var a=e._gsap,l=s||GJ(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,p=l[0],m=l[1],g=l[2],y=l[3],x=l[4],_=l[5],b=t.split(" "),w=parseFloat(b[0])||0,M=parseFloat(b[1])||0,C,R,E,B;r?l!==$T&&(R=p*y-m*g)&&(E=w*(y/R)+M*(-g/R)+(g*_-y*x)/R,B=w*(-m/R)+M*(p/R)-(p*_-m*x)/R,w=E,M=B):(C=J2e(e),w=C.x+(~b[0].indexOf("%")?w/100*C.width:w),M=C.y+(~(b[1]||b[0]).indexOf("%")?M/100*C.height:M)),i||i!==!1&&a.smooth?(x=w-c,_=M-u,a.xOffset=f+(x*p+_*g)-x,a.yOffset=d+(x*m+_*y)-_):a.xOffset=a.yOffset=0,a.xOrigin=w,a.yOrigin=M,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[Pl]="0px 0px",o&&(zg(o,a,"xOrigin",c,w),zg(o,a,"yOrigin",u,M),zg(o,a,"xOffset",f,a.xOffset),zg(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",w+" "+M)},XT=function(e,t){var r=e._gsap||new I2e(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Zd(e,Pl)||"0",u,f,d,p,m,g,y,x,_,b,w,M,C,R,E,B,D,N,z,H,U,W,X,q,L,I,O,F,j,te,re,se;return u=f=d=g=y=x=_=b=w=0,p=m=1,r.svg=!!(e.getCTM&&Y2e(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[wi]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[wi]!=="none"?l[wi]:"")),i.scale=i.rotate=i.translate="none"),R=GJ(e,r.svg),r.svg&&(r.uncache?(L=e.getBBox(),c=r.xOrigin-L.x+"px "+(r.yOrigin-L.y)+"px",q=""):q=!t&&e.getAttribute("data-svg-origin"),kV(e,q||c,!!q||r.originIsAbsolute,r.smooth!==!1,R)),M=r.xOrigin||0,C=r.yOrigin||0,R!==$T&&(N=R[0],z=R[1],H=R[2],U=R[3],u=W=R[4],f=X=R[5],R.length===6?(p=Math.sqrt(N*N+z*z),m=Math.sqrt(U*U+H*H),g=N||z?xb(z,N)*Ey:0,_=H||U?xb(H,U)*Ey+g:0,_&&(m*=Math.abs(Math.cos(_*$w))),r.svg&&(u-=M-(M*N+C*H),f-=C-(M*z+C*U))):(se=R[6],te=R[7],O=R[8],F=R[9],j=R[10],re=R[11],u=R[12],f=R[13],d=R[14],E=xb(se,j),y=E*Ey,E&&(B=Math.cos(-E),D=Math.sin(-E),q=W*B+O*D,L=X*B+F*D,I=se*B+j*D,O=W*-D+O*B,F=X*-D+F*B,j=se*-D+j*B,re=te*-D+re*B,W=q,X=L,se=I),E=xb(-H,j),x=E*Ey,E&&(B=Math.cos(-E),D=Math.sin(-E),q=N*B-O*D,L=z*B-F*D,I=H*B-j*D,re=U*D+re*B,N=q,z=L,H=I),E=xb(z,N),g=E*Ey,E&&(B=Math.cos(E),D=Math.sin(E),q=N*B+z*D,L=W*B+X*D,z=z*B-N*D,X=X*B-W*D,N=q,W=L),y&&Math.abs(y)+Math.abs(g)>359.9&&(y=g=0,x=180-x),p=es(Math.sqrt(N*N+z*z+H*H)),m=es(Math.sqrt(X*X+se*se)),E=xb(W,X),_=Math.abs(E)>2e-4?E*Ey:0,w=re?1/(re<0?-re:re):0),r.svg&&(q=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!q2e(Zd(e,wi)),q&&e.setAttribute("transform",q))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(p*=-1,_+=g<=0?180:-180,g+=g<=0?180:-180):(m*=-1,_+=_<=0?180:-180)),t=t||r.uncache,r.x=u-((r.xPercent=u&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=d+o,r.scaleX=es(p),r.scaleY=es(m),r.rotation=es(g)+a,r.rotationX=es(y)+a,r.rotationY=es(x)+a,r.skewX=_+a,r.skewY=b+a,r.transformPerspective=w+o,(r.zOrigin=parseFloat(c.split(" ")[2])||!t&&r.zOrigin||0)&&(i[Pl]=WL(c)),r.xOffset=r.yOffset=0,r.force3D=_c.force3D,r.renderTransform=r.svg?xbt:X2e?Q2e:ybt,r.uncache=0,r},WL=function(e){return(e=e.split(" "))[0]+" "+e[1]},Yz=function(e,t,r){var i=ia(t);return es(parseFloat(t)+parseFloat(W0(e,"x",r+"px",i)))+i},ybt=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Q2e(e,t)},dy="0deg",B2="0px",hy=") ",Q2e=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,f=r.rotationX,d=r.skewX,p=r.skewY,m=r.scaleX,g=r.scaleY,y=r.transformPerspective,x=r.force3D,_=r.target,b=r.zOrigin,w="",M=x==="auto"&&e&&e!==1||x===!0;if(b&&(f!==dy||u!==dy)){var C=parseFloat(u)*$w,R=Math.sin(C),E=Math.cos(C),B;C=parseFloat(f)*$w,B=Math.cos(C),o=Yz(_,o,R*B*-b),a=Yz(_,a,-Math.sin(C)*-b),l=Yz(_,l,E*B*-b+b)}y!==B2&&(w+="perspective("+y+hy),(i||s)&&(w+="translate("+i+"%, "+s+"%) "),(M||o!==B2||a!==B2||l!==B2)&&(w+=l!==B2||M?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+hy),c!==dy&&(w+="rotate("+c+hy),u!==dy&&(w+="rotateY("+u+hy),f!==dy&&(w+="rotateX("+f+hy),(d!==dy||p!==dy)&&(w+="skew("+d+", "+p+hy),(m!==1||g!==1)&&(w+="scale("+m+", "+g+hy),_.style[wi]=w||"translate(0, 0)"},xbt=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,f=r.scaleX,d=r.scaleY,p=r.target,m=r.xOrigin,g=r.yOrigin,y=r.xOffset,x=r.yOffset,_=r.forceCSS,b=parseFloat(o),w=parseFloat(a),M,C,R,E,B;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=$w,c*=$w,M=Math.cos(l)*f,C=Math.sin(l)*f,R=Math.sin(l-c)*-d,E=Math.cos(l-c)*d,c&&(u*=$w,B=Math.tan(c-u),B=Math.sqrt(1+B*B),R*=B,E*=B,u&&(B=Math.tan(u),B=Math.sqrt(1+B*B),M*=B,C*=B)),M=es(M),C=es(C),R=es(R),E=es(E)):(M=f,E=d,C=R=0),(b&&!~(o+"").indexOf("px")||w&&!~(a+"").indexOf("px"))&&(b=W0(p,"x",o,"px"),w=W0(p,"y",a,"px")),(m||g||y||x)&&(b=es(b+m-(m*M+g*R)+y),w=es(w+g-(m*C+g*E)+x)),(i||s)&&(B=p.getBBox(),b=es(b+i/100*B.width),w=es(w+s/100*B.height)),B="matrix("+M+","+C+","+R+","+E+","+b+","+w+")",p.setAttribute("transform",B),_&&(p.style[wi]=B)},_bt=function(e,t,r,i,s){var o=360,a=bo(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Ey:1),c=l-i,u=i+c+"deg",f,d;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*kle)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*kle)%o-~~(c/o)*o)),e._pt=d=new Rl(e._pt,t,r,i,c,rbt),d.e=u,d.u="deg",e._props.push(r),d},Ule=function(e,t){for(var r in t)e[r]=t[r];return e},bbt=function(e,t,r){var i=Ule({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,f,d,p,m;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[wi]=t,a=XT(r,1),fx(r,wi),r.setAttribute("transform",c)):(c=getComputedStyle(r)[wi],o[wi]=t,a=XT(r,1),o[wi]=c);for(l in om)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(p=ia(c),m=ia(u),f=p!==m?W0(r,l,c,m):parseFloat(c),d=parseFloat(u),e._pt=new Rl(e._pt,a,l,f,d-f,PV),e._pt.u=m||0,e._props.push(l));Ule(a,i)};Tl("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});jL[e>1?"border"+n:n]=function(a,l,c,u,f){var d,p;if(arguments.length<4)return d=o.map(function(m){return up(a,m,c)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(u+"").split(" "),p={},o.forEach(function(m,g){return p[m]=d[g]=d[g]||d[(g-1)/2|0]}),a.init(l,p,f)}});var Z2e={name:"css",register:DV,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,f,d,p,m,g,y,x,_,b,w,M,C,R,E;NJ||DV(),this.styles=this.styles||$2e(e),E=this.styles.props,this.tween=r;for(g in t)if(g!=="autoRound"&&(u=t[g],!(nc[g]&&L2e(g,t,r,i,e,s)))){if(p=typeof u,m=jL[g],p==="function"&&(u=u.call(r,i,e,s),p=typeof u),p==="string"&&~u.indexOf("random(")&&(u=VT(u)),m)m(this,e,g,u,r)&&(R=1);else if(g.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(g)+"").trim(),u+="",u0.lastIndex=0,u0.test(c)||(y=ia(c),x=ia(u)),x?y!==x&&(c=W0(e,g,c,x)+x):y&&(u+=y),this.add(a,"setProperty",c,u,i,s,0,0,g),o.push(g),E.push(g,0,a[g]);else if(p!=="undefined"){if(l&&g in l?(c=typeof l[g]=="function"?l[g].call(r,i,e,s):l[g],bo(c)&&~c.indexOf("random(")&&(c=VT(c)),ia(c+"")||c==="auto"||(c+=_c.units[g]||ia(up(e,g))||""),(c+"").charAt(1)==="="&&(c=up(e,g))):c=up(e,g),d=parseFloat(c),_=p==="string"&&u.charAt(1)==="="&&u.substr(0,2),_&&(u=u.substr(2)),f=parseFloat(u),g in Gd&&(g==="autoAlpha"&&(d===1&&up(e,"visibility")==="hidden"&&f&&(d=0),E.push("visibility",0,a.visibility),zg(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=Gd[g],~g.indexOf(",")&&(g=g.split(",")[0]))),b=g in om,b){if(this.styles.save(g),w||(M=e._gsap,M.renderTransform&&!t.parseTransform||XT(e,t.parseTransform),C=t.smoothOrigin!==!1&&M.smooth,w=this._pt=new Rl(this._pt,a,wi,0,1,M.renderTransform,M,0,-1),w.dep=1),g==="scale")this._pt=new Rl(this._pt,M,"scaleY",M.scaleY,(_?jw(M.scaleY,_+f):f)-M.scaleY||0,PV),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){E.push(Pl,0,a[Pl]),u=gbt(u),M.svg?kV(e,u,0,C,0,this):(x=parseFloat(u.split(" ")[2])||0,x!==M.zOrigin&&zg(this,M,"zOrigin",M.zOrigin,x),zg(this,a,g,WL(c),WL(u)));continue}else if(g==="svgOrigin"){kV(e,u,1,C,0,this);continue}else if(g in K2e){_bt(this,M,g,d,_?jw(d,_+u):u);continue}else if(g==="smoothOrigin"){zg(this,M,"smooth",M.smooth,u);continue}else if(g==="force3D"){M[g]=u;continue}else if(g==="transform"){bbt(this,u,e);continue}}else g in a||(g=VS(g)||g);if(b||(f||f===0)&&(d||d===0)&&!nbt.test(u)&&g in a)y=(c+"").substr((d+"").length),f||(f=0),x=ia(u)||(g in _c.units?_c.units[g]:y),y!==x&&(d=W0(e,g,c,x)),this._pt=new Rl(this._pt,b?M:a,g,d,(_?jw(d,_+f):f)-d,!b&&(x==="px"||g==="zIndex")&&t.autoRound!==!1?sbt:PV),this._pt.u=x||0,y!==x&&x!=="%"&&(this._pt.b=c,this._pt.r=ibt);else if(g in a)mbt.call(this,e,g,c,_?_+u:u);else if(g in e)this.add(e,g,c||e[g],_?_+u:u,i,s);else if(g!=="parseTransform"){RJ(g,u);continue}b||(g in a?E.push(g,0,a[g]):E.push(g,1,c||e[g])),o.push(g)}}R&&G2e(this)},render:function(e,t){if(t.tween._time||!UJ())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:up,aliases:Gd,getSetter:function(e,t,r){var i=Gd[t];return i&&i.indexOf(",")<0&&(t=i),t in om&&t!==Pl&&(e._gsap.x||up(e,"x"))?r&&Dle===r?t==="scale"?cbt:lbt:(Dle=r||{})&&(t==="scale"?ubt:fbt):e.style&&!EJ(e.style[t])?obt:~t.indexOf("-")?abt:OJ(e,t)},core:{_removeProperty:fx,_getMatrix:GJ}};Il.utils.checkPrefix=VS;Il.core.getStyleSaver=$2e;(function(n,e,t,r){var i=Tl(n+","+e+","+t,function(s){om[s]=1});Tl(e,function(s){_c.units[s]="deg",K2e[s]=1}),Gd[i[13]]=n+","+e,Tl(r,function(s){var o=s.split(":");Gd[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Tl("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){_c.units[n]="px"});Il.registerPlugin(Z2e);var HJ=Il.registerPlugin(Z2e)||Il;HJ.core.Tween;const wbt=()=>{const n=Y.useRef(),e=Y.useRef({color:"#b9bcff"}),t=K3(),r=Y.useRef();return Ic(()=>{r.current.progress(t.scroll.current),n.current.color=new dt(e.current.color)}),Y.useEffect(()=>{r.current=HJ.timeline(),r.current.to(e.current,{color:"#212121"}),r.current.to(e.current,{color:"#7a7ca5"}),r.current.to(e.current,{color:"#9b96dd"})},[]),Ne.jsx("group",{children:Ne.jsx(Oct,{scale:[30,30,30],children:Ne.jsx("meshBasicMaterial",{ref:n,side:ja,toneMapped:!1})})})};function Sbt(n){const{section:e}=n,{nodes:t,materials:r}=xA("models/scene.gltf"),i=jF("textures/baked.jpg"),s=Rct("textures/vscode.mp4");i.flipY=!1,i.encoding=ri;const o=new L0({map:i,transparent:!0,opacity:1}),a=new L0({map:i,transparent:!0,opacity:.42}),l=LT(0),c=LT(0);return Y.useEffect(()=>{OT(l,e===0?1:0),OT(c,e===0?.42:0)},[e]),Ic(()=>{o.opacity=l.get(),a.opacity=c.get()}),Ne.jsxs("group",{...n,dispose:null,children:[Ne.jsx("mesh",{name:"Screen",geometry:t.Screen.geometry,position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:Ne.jsx("meshBasicMaterial",{map:s,toneMapped:!1})}),Ne.jsxs("group",{name:"Desk",position:[-.07,0,-1.52],rotation:[0,-Math.PI/2,0],children:[Ne.jsx("mesh",{name:"Plane001_Plane002_BlackWood001",geometry:t.Plane001_Plane002_BlackWood001.geometry,material:o}),Ne.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_1",geometry:t.Plane001_Plane002_BlackWood001_1.geometry,material:o}),Ne.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_2",geometry:t.Plane001_Plane002_BlackWood001_2.geometry,material:o}),Ne.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_3",geometry:t.Plane001_Plane002_BlackWood001_3.geometry,material:o}),Ne.jsx("mesh",{name:"Plane001_Plane002_BlackWood001_4",geometry:t.Plane001_Plane002_BlackWood001_4.geometry,material:o})]}),Ne.jsxs("group",{name:"SM_ShelfSM_Shelf1",position:[-.87,1.69,-2.04],children:[Ne.jsx("mesh",{name:"SM_ShelfSM_Shelf1_1",geometry:t.SM_ShelfSM_Shelf1_1.geometry,material:o}),Ne.jsx("mesh",{name:"SM_ShelfSM_Shelf1_1_1",geometry:t.SM_ShelfSM_Shelf1_1_1.geometry,material:o})]}),Ne.jsxs(mu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"LavaLamp",position:[-1.3,2.07,-1.99],children:[Ne.jsx("mesh",{name:"Node-Mesh001",geometry:t["Node-Mesh001"].geometry,material:o}),Ne.jsx("mesh",{name:"Node-Mesh001_1",geometry:t["Node-Mesh001_1"].geometry,material:o}),Ne.jsx("mesh",{name:"Node-Mesh001_2",geometry:t["Node-Mesh001_2"].geometry,material:o})]}),Ne.jsx(mu.mesh,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"WawaRug",geometry:t.WawaRug.geometry,material:o,position:[-.28,.01,.76]}),Ne.jsxs(mu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"salameche",position:[-.61,2.04,-1.96],rotation:[-Math.PI,.73,-Math.PI],children:[Ne.jsx("mesh",{name:"mesh434900071",geometry:t.mesh434900071.geometry,material:o}),Ne.jsx("mesh",{name:"mesh434900071_1",geometry:t.mesh434900071_1.geometry,material:o}),Ne.jsx("mesh",{name:"mesh434900071_2",geometry:t.mesh434900071_2.geometry,material:o}),Ne.jsx("mesh",{name:"mesh434900071_3",geometry:t.mesh434900071_3.geometry,material:o}),Ne.jsx("mesh",{name:"mesh434900071_4",geometry:t.mesh434900071_4.geometry,material:o}),Ne.jsx("mesh",{name:"mesh434900071_5",geometry:t.mesh434900071_5.geometry,material:o})]}),Ne.jsxs("group",{name:"keyboard",position:[.21,.98,-1.21],rotation:[0,-.22,0],scale:.63,children:[Ne.jsx("mesh",{name:"mesh425587018",geometry:t.mesh425587018.geometry,material:o}),Ne.jsx("mesh",{name:"mesh425587018_1",geometry:t.mesh425587018_1.geometry,material:o}),Ne.jsx("mesh",{name:"mesh425587018_2",geometry:t.mesh425587018_2.geometry,material:o}),Ne.jsx("mesh",{name:"mesh425587018_3",geometry:t.mesh425587018_3.geometry,material:o})]}),Ne.jsxs(mu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"iMac",position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:[Ne.jsx("mesh",{name:"iMac_1_1",geometry:t.iMac_1_1.geometry,material:o}),Ne.jsx("mesh",{name:"iMac_1_2",geometry:t.iMac_1_2.geometry,material:o})]}),Ne.jsx("mesh",{name:"Comp_Mouse",geometry:t.Comp_Mouse.geometry,material:o,position:[-.01,0,.08]}),Ne.jsxs(mu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"plant",position:[-.78,1.07,-1.61],children:[Ne.jsx("mesh",{name:"mesh24448074",geometry:t.mesh24448074.geometry,material:o}),Ne.jsx("mesh",{name:"mesh24448074_1",geometry:t.mesh24448074_1.geometry,material:o}),Ne.jsx("mesh",{name:"mesh24448074_2",geometry:t.mesh24448074_2.geometry,material:o})]}),Ne.jsxs(mu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"Houseplant_7",position:[-2.02,-.04,-1.53],rotation:[-Math.PI/2,0,0],children:[Ne.jsx("mesh",{name:"Houseplant_7_1",geometry:t.Houseplant_7_1.geometry,material:o}),Ne.jsx("mesh",{name:"Houseplant_7_2",geometry:t.Houseplant_7_2.geometry,material:o}),Ne.jsx("mesh",{name:"Houseplant_7_3",geometry:t.Houseplant_7_3.geometry,material:o})]}),Ne.jsxs(mu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"palm_tree_01",position:[2.13,-.08,-1.06],rotation:[-Math.PI,.67,-Math.PI],children:[Ne.jsx("mesh",{name:"palm_tree_01-Mesh",geometry:t["palm_tree_01-Mesh"].geometry,material:o}),Ne.jsx("mesh",{name:"palm_tree_01-Mesh_1",geometry:t["palm_tree_01-Mesh_1"].geometry,material:o}),Ne.jsx("mesh",{name:"palm_tree_01-Mesh_2",geometry:t["palm_tree_01-Mesh_2"].geometry,material:o})]}),Ne.jsxs(mu.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"Chair",position:[.09,0,-.66],rotation:[0,-.35,0],children:[Ne.jsx("mesh",{name:"Node-Mesh",geometry:t["Node-Mesh"].geometry,material:o}),Ne.jsx("mesh",{name:"Node-Mesh_1",geometry:t["Node-Mesh_1"].geometry,material:o})]}),Ne.jsx("mesh",{name:"Plane001",geometry:t.Plane001.geometry,material:o}),Ne.jsx("mesh",{name:"Plane001_1",geometry:t.Plane001_1.geometry,material:o}),Ne.jsx("mesh",{name:"Plane001_2",geometry:t.Plane001_2.geometry,material:o}),Ne.jsx("mesh",{name:"Plane001_3",geometry:t.Plane001_3.geometry,material:a})]})}xA.preload("models/scene.gltf");const Rf={BASE_URL:"/Portfolio/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};let Abt=0;function Mbt(n,e){const t=`atom${++Abt}`,r={toString(){return(Rf?"production":void 0)!=="production"&&this.debugLabel?t+":"+this.debugLabel:t}};return typeof n=="function"?r.read=n:(r.init=n,r.read=Ebt,r.write=Cbt),r}function Ebt(n){return n(this)}function Cbt(n,e,t){return e(this,typeof t=="function"?t(n(this)):t)}const zle=(n,e)=>n.unstable_is?n.unstable_is(e):e===n,Kz=n=>"init"in n,qz=n=>!!n.write,oC=Symbol((Rf?"production":void 0)!=="production"?"CONTINUE_PROMISE":""),VJ="pending",Tbt="fulfilled",Rbt="rejected",Pbt=n=>typeof n=="object"&&n!==null&&oC in n,AD=new WeakMap,Bbt=(n,e,t)=>{if(!AD.has(n)){let r;const i=new Promise((s,o)=>{let a=n;const l=u=>f=>{a===u&&(i.status=Tbt,i.value=f,s(f),t())},c=u=>f=>{a===u&&(i.status=Rbt,i.reason=f,o(f),t())};n.then(l(n),c(n)),r=(u,f)=>{u&&(AD.set(u,i),a=u,u.then(l(u),c(u)),e(),e=f)}});i.status=VJ,i[oC]=r,AD.set(n,i)}return AD.get(n)},Dbt=n=>typeof(n==null?void 0:n.then)=="function",Gle=n=>"v"in n||"e"in n,MD=n=>{if("e"in n)throw n.e;if((Rf?"production":void 0)!=="production"&&!("v"in n))throw new Error("[Bug] atom state is not initialized");return n.v},Rk=n=>{const e=n.v;return Pbt(e)&&e.status===VJ?e:null},eEe=(n,e,t)=>{t.p.has(n)||(t.p.add(n),e.then(()=>{t.p.delete(n)},()=>{t.p.delete(n)}))},Hle=(n,e,t,r,i)=>{var s;if((Rf?"production":void 0)!=="production"&&r===e)throw new Error("[Bug] atom cannot depend on itself");t.d.set(r,i.n);const o=Rk(t);o&&eEe(e,o,i),(s=i.m)==null||s.t.add(e),n&&kbt(n,r,e)},_b=()=>[new Map,new Map,new Set],Qz=(n,e,t)=>{n[0].has(e)||n[0].set(e,new Set),n[1].set(e,t)},kbt=(n,e,t)=>{const r=n[0].get(e);r&&r.add(t)},Ibt=(n,e)=>n[0].get(e),Vle=(n,e)=>{n[2].add(e)},py=n=>{for(;n[1].size||n[2].size;){n[0].clear();const e=new Set(n[1].values());n[1].clear();const t=new Set(n[2]);n[2].clear(),e.forEach(r=>{var i;return(i=r.m)==null?void 0:i.l.forEach(s=>s())}),t.forEach(r=>r())}},tEe=n=>{let e;(Rf?"production":void 0)!=="production"&&(e=new Set);const t=(g,y,x,_=()=>{},b=()=>{})=>{const w="v"in y,M=y.v,C=Rk(y);if(Dbt(x))if(C)C!==x&&(C[oC](x,_),++y.n);else{const R=Bbt(x,_,b);if(R.status===VJ)for(const E of y.d.keys())eEe(g,R,n(E,y));y.v=R,delete y.e}else C&&C[oC](Promise.resolve(x),_),y.v=x,delete y.e;(!w||!Object.is(M,y.v))&&++y.n},r=(g,y,x,_)=>{if(!(_!=null&&_(y))&&Gle(x)&&(x.m||Array.from(x.d).every(([E,B])=>r(g,E,n(E,x),_).n===B)))return x;x.d.clear();let b=!0;const w=E=>{if(zle(y,E)){const D=n(E,x);if(!Gle(D))if(Kz(E))t(E,D,E.init);else throw new Error("no atom init");return MD(D)}const B=r(g,E,n(E,x),_);if(b)Hle(g,y,x,E,B);else{const D=_b();Hle(D,y,x,E,B),c(D,y,x),py(D)}return MD(B)};let M,C;const R={get signal(){return M||(M=new AbortController),M.signal},get setSelf(){return(Rf?"production":void 0)!=="production"&&!qz(y)&&console.warn("setSelf function cannot be used with read-only atom"),!C&&qz(y)&&(C=(...E)=>{if((Rf?"production":void 0)!=="production"&&b&&console.warn("setSelf function cannot be called in sync"),!b)return l(y,...E)}),C}};try{const E=y.read(w,R);return t(y,x,E,()=>M==null?void 0:M.abort(),()=>{if(x.m){const B=_b();c(B,y,x),py(B)}}),x}catch(E){return delete x.v,x.e=E,++x.n,x}finally{b=!1}},i=g=>MD(r(void 0,g,n(g))),s=(g,y,x)=>{var _,b;const w=new Map;for(const M of((_=x.m)==null?void 0:_.t)||[])w.set(M,n(M,x));for(const M of x.p)w.set(M,n(M,x));return(b=Ibt(g,y))==null||b.forEach(M=>{w.set(M,n(M,x))}),w},o=(g,y,x)=>{const _=[],b=new Set,w=(R,E)=>{if(!b.has(R)){b.add(R);for(const[B,D]of s(g,R,E))R!==B&&w(B,D);_.push([R,E,E.n])}};w(y,x);const M=new Set([y]),C=R=>b.has(R);for(let R=_.length-1;R>=0;--R){const[E,B,D]=_[R];let N=!1;for(const z of B.d.keys())if(z!==E&&M.has(z)){N=!0;break}N&&(r(g,E,B,C),c(g,E,B),D!==B.n&&(Qz(g,E,B),M.add(E))),b.delete(E)}},a=(g,y,x,..._)=>{const b=C=>MD(r(g,C,n(C,x))),w=(C,...R)=>{const E=n(C,x);let B;if(zle(y,C)){if(!Kz(C))throw new Error("atom not writable");const D="v"in E,N=E.v,z=R[0];t(C,E,z),c(g,C,E),(!D||!Object.is(N,E.v))&&(Qz(g,C,E),o(g,C,E))}else B=a(g,C,E,...R);return py(g),B};return y.write(b,w,..._)},l=(g,...y)=>{const x=_b(),_=a(x,g,n(g),...y);return py(x),_},c=(g,y,x)=>{if(x.m&&!Rk(x)){for(const _ of x.d.keys())x.m.d.has(_)||(u(g,_,n(_,x)).t.add(y),x.m.d.add(_));for(const _ of x.m.d||[])if(!x.d.has(_)){x.m.d.delete(_);const b=f(g,_,n(_,x));b==null||b.t.delete(y)}}},u=(g,y,x)=>{if(!x.m){r(g,y,x);for(const _ of x.d.keys())u(g,_,n(_,x)).t.add(y);if(x.m={l:new Set,d:new Set(x.d.keys()),t:new Set},(Rf?"production":void 0)!=="production"&&e.add(y),qz(y)&&y.onMount){const _=x.m,{onMount:b}=y;Vle(g,()=>{const w=b((...M)=>a(g,y,x,...M));w&&(_.u=w)})}}return x.m},f=(g,y,x)=>{if(x.m&&!x.m.l.size&&!Array.from(x.m.t).some(_=>{var b;return(b=n(_,x).m)==null?void 0:b.d.has(y)})){const _=x.m.u;_&&Vle(g,_),delete x.m,(Rf?"production":void 0)!=="production"&&e.delete(y);for(const w of x.d.keys()){const M=f(g,w,n(w,x));M==null||M.t.delete(y)}const b=Rk(x);b&&b[oC](void 0,()=>{});return}return x.m},m={get:i,set:l,sub:(g,y)=>{const x=_b(),_=n(g),b=u(x,g,_);py(x);const w=b.l;return w.add(y),()=>{w.delete(y);const M=_b();f(M,g,_),py(M)}},unstable_derive:g=>tEe(...g(n))};return(Rf?"production":void 0)!=="production"&&Object.assign(m,{dev4_get_internal_weak_map:()=>({get:y=>{const x=n(y);if(x.n!==0)return x}}),dev4_get_mounted_atoms:()=>e,dev4_restore_atoms:y=>{const x=_b();for(const[_,b]of y)if(Kz(_)){const w=n(_),M="v"in w,C=w.v;t(_,w,b),c(x,_,w),(!M||!Object.is(C,w.v))&&(Qz(x,_,w),o(x,_,w))}py(x)}}),m},Lbt=()=>{const n=new WeakMap;return tEe(t=>{let r=n.get(t);return r||(r={d:new Map,p:new Set,n:0},n.set(t,r)),r})};let D2;const Obt=()=>(D2||(D2=Lbt(),(Rf?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=D2),globalThis.__JOTAI_DEFAULT_STORE__!==D2&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),D2),Fbt={BASE_URL:"/Portfolio/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Nbt=Y.createContext(void 0),nEe=n=>Y.useContext(Nbt)||Obt(),Ubt=n=>typeof(n==null?void 0:n.then)=="function",zbt=De.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(n.status="pending",n.then(e=>{n.status="fulfilled",n.value=e},e=>{n.status="rejected",n.reason=e}),n)});function Gbt(n,e){const t=nEe(),[[r,i,s],o]=Y.useReducer(c=>{const u=t.get(n);return Object.is(c[0],u)&&c[1]===t&&c[2]===n?c:[u,t,n]},void 0,()=>[t.get(n),t,n]);let a=r;return(i!==t||s!==n)&&(o(),a=t.get(n)),Y.useEffect(()=>{const c=t.sub(n,()=>{o()});return o(),c},[t,n,void 0]),Y.useDebugValue(a),Ubt(a)?zbt(a):a}function Hbt(n,e){const t=nEe();return Y.useCallback((...i)=>{if((Fbt?"production":void 0)!=="production"&&!("write"in n))throw new Error("not writable atom");return t.set(n,...i)},[t,n])}function rEe(n,e){return[Gbt(n),Hbt(n)]}const aC=[{title:"Pizza Co.",url:"https://drive.google.com/drive/folders/1WJWhbQLfe34X3wMmwHkkEnaMTiWoMyme",image:"projects/project1.png",description:"My first React project"},{title:"SIS",url:"https://drive.google.com/drive/folders/1WJWhbQLfe34X3wMmwHkkEnaMTiWoMyme",image:"projects/project2.png",description:"Student Information System I developed using ASP.NET Core"},{title:"UMS ",url:"https://drive.google.com/drive/folders/1WJWhbQLfe34X3wMmwHkkEnaMTiWoMyme",image:"projects/project3.png",description:"The User Management System project that resulted from my internship at Jotform"},{title:"Artech",url:"https://drive.google.com/drive/folders/1WJWhbQLfe34X3wMmwHkkEnaMTiWoMyme",image:"projects/project4.png",description:"The website that resulted from my internship at Artech Global Software Inc"},{title:"Shooping Therapy",url:"https://drive.google.com/drive/folders/1WJWhbQLfe34X3wMmwHkkEnaMTiWoMyme",image:"projects/project5.png",description:"My graduation project developed with React Native technology"}],Vbt=n=>{const{project:e,highlighted:t}=n,r=Y.useRef(),i=LT(.4);return Y.useEffect(()=>{OT(i,t?.7:.4)},[t]),Ic(()=>{r.current.material.opacity=i.get()}),Ne.jsxs("group",{...n,children:[Ne.jsxs("mesh",{"position-z":-.001,onClick:()=>window.open(e.url,"_blank"),ref:r,children:[Ne.jsx("planeGeometry",{args:[2.2,2]}),Ne.jsx("meshBasicMaterial",{color:"black",transparent:!0,opacity:.4})]}),Ne.jsx(Tct,{scale:[2,1.2,1],url:e.image,toneMapped:!1,"position-y":.3}),Ne.jsx(Zse,{maxWidth:2,anchorX:"left",anchorY:"top",fontSize:.2,position:[-1,-.4,0],children:e.title.toUpperCase()}),Ne.jsx(Zse,{maxWidth:2,anchorX:"left",anchorY:"top",fontSize:.1,position:[-1,-.6,0],children:e.description})]})},iEe=Mbt(Math.floor(aC.length/2)),jbt=()=>{const{viewport:n}=av(),[e]=rEe(iEe);return Ne.jsx("group",{"position-y":-n.height*2+1,children:aC.map((t,r)=>Ne.jsx(mu.group,{position:[r*2.5,0,-3],animate:{x:0+(r-e)*2.5,y:e===r?0:-.1,z:e===r?-2:-3,rotateX:e===r?0:-Math.PI/3,rotateZ:e===r?0:-.1*Math.PI},children:Ne.jsx(Vbt,{project:t,highlighted:r===e})},"project_"+r))})},Wbt=n=>{const{menuOpened:e}=n,{viewport:t}=av(),r=K3(),[i,s]=Y.useState(0),o=LT(),a=LT();Y.useEffect(()=>{OT(o,e?-5:0,{...yV}),OT(a,e?5:0,{...yV})},[e]);const l=Y.useRef(),[c,u]=Y.useState("Typing");return Y.useEffect(()=>{u("Falling"),setTimeout(()=>{u(i===0?"Typing":"Standing")},600)},[i]),Ic(f=>{let d=Math.floor(r.scroll.current*r.pages);d>3&&(d=3),d!==i&&s(d),f.camera.position.x=o.get(),f.camera.lookAt(a.get(),0,0)}),Ne.jsxs(Ne.Fragment,{children:[Ne.jsx(wbt,{}),Ne.jsx(mu.group,{position:[1.9072935059634513,.14400000000000002,2.681801948466054],rotation:[-3.141592653589793,1.2053981633974482,3.141592653589793],animate:""+i,transition:{duration:.6},variants:{0:{scaleX:.9,scaleY:.9,scaleZ:.9},1:{y:-t.height+.5,x:0,z:7,rotateX:0,rotateY:0,rotateZ:0},2:{x:-2,y:-t.height*2+.5,z:0,rotateX:0,rotateY:Math.PI/2,rotateZ:0},3:{y:-t.height*3+1,x:.3,z:8.5,rotateX:0,rotateY:-Math.PI/4,rotateZ:0}},children:Ne.jsx(a_t,{animation:c})}),Ne.jsx("ambientLight",{intensity:1}),Ne.jsxs(mu.group,{position:[1.5,2,3],scale:[.9,.9,.9],"rotation-y":-Math.PI/4,animate:{y:i===0?0:-1},children:[Ne.jsx(Sbt,{section:i}),Ne.jsx("group",{ref:l,name:"CharacterSpot",position:[.07,.16,-.57],rotation:[-Math.PI,.42,-Math.PI]})]}),Ne.jsxs(mu.group,{position:[0,-1.5,-10],animate:{z:i===1?0:-10,y:i===1?-t.height:-1.5},children:[Ne.jsx("directionalLight",{position:[-5,3,5],intensity:.4}),Ne.jsx(dz,{children:Ne.jsxs("mesh",{position:[1,-3,-15],scale:[2,2,2],children:[Ne.jsx("sphereGeometry",{}),Ne.jsx(toe,{opacity:.8,transparent:!0,distort:.4,speed:4,color:"red"})]})}),Ne.jsx(dz,{children:Ne.jsxs("mesh",{scale:[3,3,3],position:[3,1,-18],children:[Ne.jsx("sphereGeometry",{}),Ne.jsx(toe,{opacity:.8,transparent:!0,distort:1,speed:5,color:"yellow"})]})}),Ne.jsx(dz,{children:Ne.jsxs("mesh",{scale:[1.4,1.4,1.4],position:[-3,-1,-11],children:[Ne.jsx("boxGeometry",{}),Ne.jsx(Ict,{opacity:.8,transparent:!0,factor:1,speed:5,color:"blue"})]})})]}),Ne.jsx(jbt,{})]})},c4=n=>{const{children:e}=n;return Ne.jsx(Mg.section,{className:`
  h-screen w-screen p-8 max-w-screen-2xl mx-auto
  flex flex-col items-start justify-center
  `,initial:{opacity:0,y:50},whileInView:{opacity:1,y:0,transition:{duration:1,delay:.6}},children:e})},$bt=n=>{const{setSection:e}=n;return Ne.jsxs("div",{className:"flex flex-col items-center w-screen",children:[Ne.jsx(Xbt,{setSection:e}),Ne.jsx(Kbt,{}),Ne.jsx(qbt,{}),Ne.jsx(Qbt,{})]})},Xbt=n=>{const e=()=>{window.open("/public/cv/Fatma_Erciyas_CV.pdf","_blank")};return Ne.jsxs(c4,{children:[Ne.jsxs("h1",{className:"text-6xl font-extrabold leading-snug",children:["Hi, I'm",Ne.jsx("br",{}),Ne.jsx("span",{className:"bg-white px-1 italic",children:"Fatma Erciyas"})]}),Ne.jsxs(Mg.p,{className:"text-lg text-gray-600 mt-4",initial:{opacity:0,y:25},whileInView:{opacity:1,y:0},transition:{duration:1,delay:1.5},children:["As a recent graduate in computer engineering,",Ne.jsx("br",{}),"I am developing websites using",Ne.jsx("br",{})," ",Ne.jsx("b",{children:".NET"})," and ",Ne.jsx("b",{children:"React.js"})," technologies"]}),Ne.jsx(Mg.button,{onClick:e,className:`bg-indigo-600 text-white py-4 px-8 
      rounded-lg font-bold text-lg mt-16`,initial:{opacity:0,y:25},whileInView:{opacity:1,y:0},transition:{duration:1,delay:2},children:"Download Cv"})]})},Jbt=[{title:"React.js",level:80},{title:"Tailwind CSS",level:60},{title:"Asp.Net Core",level:90},{title:"Entity Framework",level:80},{title:"SQL",level:80},{title:"Javascript",level:60}],Ybt=[{title:"Turkish",level:100},{title:"English",level:60}],Kbt=()=>Ne.jsx(c4,{children:Ne.jsxs(Mg.div,{whileInView:"visible",children:[Ne.jsx("h2",{className:"text-5xl font-bold text-white",children:"Skills"}),Ne.jsx("div",{className:" mt-8 space-y-4",children:Jbt.map((n,e)=>Ne.jsxs("div",{className:"w-64",children:[Ne.jsx(Mg.h3,{className:"text-xl font-bold text-gray-100",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:1+e*.2}}},children:n.title}),Ne.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full mt-2",children:Ne.jsx(Mg.div,{className:"h-full bg-indigo-500 rounded-full ",style:{width:`${n.level}%`},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:1+e*.2}}}})})]},e))}),Ne.jsxs("div",{children:[Ne.jsx("h2",{className:"text-5xl font-bold mt-10 text-white",children:"Languages"}),Ne.jsx("div",{className:" mt-8 space-y-4",children:Ybt.map((n,e)=>Ne.jsxs("div",{className:"w-64",children:[Ne.jsx(Mg.h3,{className:"text-xl font-bold text-gray-100",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:2+e*.2}}},children:n.title}),Ne.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full mt-2",children:Ne.jsx(Mg.div,{className:"h-full bg-indigo-500 rounded-full ",style:{width:`${n.level}%`},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:2+e*.2}}}})})]},e))})]})]})}),qbt=()=>{const[n,e]=rEe(iEe),t=()=>{e((n+1)%aC.length)},r=()=>{e((n-1+aC.length)%aC.length)};return Ne.jsx(c4,{children:Ne.jsxs("div",{className:"flex w-full h-full gap-8 items-center justify-center",children:[Ne.jsx("button",{className:"hover:text-indigo-600 transition-colors",onClick:r,children:" Previous"}),Ne.jsx("h2",{className:"text-5xl font-bold",children:"Projects"}),Ne.jsx("button",{className:"hover:text-indigo-600 transition-colors",onClick:t,children:"Next "})]})})},Qbt=()=>Ne.jsxs(c4,{children:[Ne.jsx("h2",{className:"text-5xl font-bold",children:"Contact me"}),Ne.jsx("div",{className:"mt-8 p-8 rounded-md bg-white w-96 max-w-full",children:Ne.jsxs("form",{id:"contact-form",action:"https://formsubmit.co/fatmaerciyas22@gmail.com",method:"POST",children:[Ne.jsx("label",{for:"name",className:"font-medium text-gray-900 block mb-1",children:"Name"}),Ne.jsx("input",{type:"text",name:"user_name",id:"name",className:"block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3",required:!0}),Ne.jsx("label",{for:"email",className:"font-medium text-gray-900 block mb-1 mt-8",children:"Email"}),Ne.jsx("input",{type:"email",name:"user_email",id:"email",className:"block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3",required:!0}),Ne.jsx("label",{for:"message",className:"font-medium text-gray-900 block mb-1 mt-8",children:"Message"}),Ne.jsx("textarea",{name:"user_message",id:"message",className:"h-32 block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3",required:!0}),Ne.jsx("button",{type:"submit",className:"bg-indigo-600 text-white py-4 px-8 rounded-lg font-bold text-lg mt-16",children:"Submit"})]})})]}),Zbt=n=>{const{onSectionChange:e,menuOpened:t,setMenuOpened:r}=n,i=()=>{window.location.href="https://github.com/fatmaerciyas"};return Ne.jsxs(Ne.Fragment,{children:[Ne.jsxs("button",{onClick:()=>r(!t),className:"z-20 fixed top-12 right-12 p-3 bg-indigo-600 w-11 h-11 rounded-md",children:[Ne.jsx("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${t?"rotate-45  translate-y-0.5":""}`}),Ne.jsx("div",{className:`bg-white h-0.5 rounded-md w-full my-1 ${t?"hidden":""}`}),Ne.jsx("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${t?"-rotate-45":""}`})]}),Ne.jsx("div",{className:`z-10 fixed top-0 right-0 bottom-0 bg-white transition-all overflow-hidden flex flex-col
      ${t?"w-80":"w-0"}`,children:Ne.jsxs("div",{className:"flex-1 flex items-start justify-center flex-col gap-6 p-8",children:[Ne.jsx(k2,{label:"About",onClick:()=>e(0)}),Ne.jsx(k2,{label:"Skills",onClick:()=>e(1)}),Ne.jsx(k2,{label:"Projects",onClick:()=>e(2)}),Ne.jsx(k2,{label:"Contact",onClick:()=>e(3)}),Ne.jsx(k2,{label:"My Github",onClick:i})]})})]})},k2=n=>{const{label:e,onClick:t}=n;return Ne.jsx("button",{onClick:t,className:"text-2xl font-bold cursor-pointer hover:text-indigo-600 transition-colors",children:e})},ewt=n=>{const{section:e,onSectionChange:t}=n,r=K3(),i=Y.useRef(0),s=Y.useRef(!1);return r.fill.classList.add("top-0"),r.fill.classList.add("absolute"),Y.useEffect(()=>{HJ.to(r.el,{duration:1,scrollTop:e*r.el.clientHeight,onStart:()=>{s.current=!0},onComplete:()=>{s.current=!1}})},[e]),Ic(()=>{if(s.current){i.current=r.scroll.current;return}const o=Math.floor(r.scroll.current*r.pages);r.scroll.current>i.current&&o===0&&t(1),r.scroll.current<i.current&&r.scroll.current<1/(r.pages-1)&&t(0),i.current=r.scroll.current}),null};function twt(){const[n,e]=Y.useState(0),[t,r]=Y.useState(!1);return Y.useEffect(()=>{r(!1)},[n]),Ne.jsxs(Ne.Fragment,{children:[Ne.jsxs(Oht,{transition:{...yV},children:[Ne.jsxs(Qst,{shadows:!0,camera:{position:[0,3,10],fov:42},children:[Ne.jsx("color",{attach:"background",args:["#e6e7ff"]}),Ne.jsxs(yot,{pages:4,damping:.1,children:[Ne.jsx(ewt,{section:n,onSectionChange:e}),Ne.jsx(yse,{children:Ne.jsx(Wbt,{section:n,menuOpened:t})}),Ne.jsx(yse,{html:!0,children:Ne.jsx($bt,{setSection:e})})]})]}),Ne.jsx(Zbt,{onSectionChange:e,menuOpened:t,setMenuOpened:r}),Ne.jsx($xt,{})]}),Ne.jsx(QMe,{hidden:!0})]})}V9.createRoot(document.getElementById("root")).render(Ne.jsx(De.StrictMode,{children:Ne.jsx(twt,{})}));
